!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function r(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(b){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),a=new S(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return C()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var l=A(a,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=u(e,t,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(b){return{type:"throw",arg:b}}}e.wrap=c;var d={};function g(){}function h(){}function p(){}var f={};s(f,r,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(D([])));m&&m!==t&&n.call(m,r)&&(f=m);var T=p.prototype=g.prototype=Object.create(f);function I(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function Z(e,t){function i(r,o,a,l){var s=u(e[r],e,o);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){i("next",e,a,l)},function(e){i("throw",e,a,l)}):t.resolve(d).then(function(e){c.value=e,a(c)},function(e){return i("throw",e,a,l)})}l(s.arg)}var r;this._invoke=function(e,n){function o(){return new t(function(t,r){i(e,n,t,r)})}return r=r?r.then(o,o):o()}}function A(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function D(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=p,s(T,"constructor",p),s(p,"constructor",h),h.displayName=s(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},I(Z.prototype),s(Z.prototype,a,function(){return this}),e.AsyncIterator=Z,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new Z(c(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},I(T),s(T,l,"Generator"),s(T,r,function(){return this}),s(T,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=D,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;y(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}(self.webpackChunkaccoubtbook=self.webpackChunkaccoubtbook||[]).push([[6410],{75477:function(e,t,n){n.d(t,{l:function(){return r}});var i,r=((i=r||(r={})).NewRef="NewRef",i.OnAccount="OnAccount",i.Advance="Advance",i.AgainstRef="AgainstRef",r)},65178:function(e,t,n){n.d(t,{eS:function(){return o},Cg:function(){return a},lW:function(){return u}});var i,r=n(61362),o=function(e){c(n,e);var t=d(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).Ick=!1,e.isDueDateLessThanOrEqualToToday=!1,e.operationType=2,e.Index=0,e}return l(n)}(r.X),a=function(e){c(n,e);var t=d(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).operationType=2,e}return l(n)}(r.X),u=((i=u||(u={})).NewRef="NewRef",i.OnAccount="OnAccount",i.Advance="Advance",i.AgainstRef="AgainstRef",u)},18454:function(e,t,n){n.d(t,{VN:function(){return r},eK:function(){return o},qk:function(){return a},oy:function(){return u},S4:function(){return g},Hr:function(){return h}});var i=n(61362),r=function(e){c(n,e);var t=d(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).Ick=!1,e.IsFZ=!1,e.ShowChallan=!1,e.ShowReference=!1,e.IsHideVouchAddToRep=!1,e.Hide=!1,e.isHide=!1,e.IsDuplicate=!1,e.ActivateMonth=0,e.IsCRDRET=!1,e.IsItVou=!1,e.CO="India",e}return l(n)}(i.X),o=l(function e(){s(this,e),this.TaxLedgerId=0,this.TaxTotal=0,this.InventoryId=0,this.ChallanId=0,this.ReceiptDeliveryId=0,this.IsROff=!1,this.Index=0,this.TabIndex=0,this.InventoryTabIndex=0,this.CRDR="",this.TT=0,this.TTA=0,this.IsVdet=!1}),a=l(function e(){s(this,e)}),u=l(function e(){s(this,e)}),g=l(function e(){s(this,e),this.RDVId=0}),h=function(e){c(n,e);var t=d(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).ShowReceiptInventory=!1,e.billSelected=!1,e.IsUpdate=!1,e.Amt=0,e}return l(n)}(i.X)},53321:function(e,t,n){n.d(t,{i:function(){return ce}});var i=n(64762),r=n(32364),a=n(65529),c=n(69521),u=n(65978),d=n(78980),g=n(24498),h=n(27541),p=n(33018),f=n(80762),v=n(92859),m=n(89525),T=n(44667),I=n(38583),Z=n(12868),A=n(43647),x=n(3679),y=n(58679),S=n(6642),D=n(87520),C=n(21974),b=n(37919),N=n(65452),w=n(14868),M=["SearchModal"],q=["ionInfinitescroll"],L=["ionvscroll"];function V(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",29),p.TgZ(1,"form",30),p.NdJ("submit",function(){return p.CHM(n),p.oxw().FilterData()}),p.TgZ(2,"ul",31),p.TgZ(3,"li",32),p.TgZ(4,"button",33),p.NdJ("click",function(){return p.CHM(n),p.oxw().goback()}),p._UZ(5,"i",34),p.qZA(),p.qZA(),p.TgZ(6,"li",35),p.TgZ(7,"ng-select",36,21),p.NdJ("ngModelChange",function(e){return p.CHM(n),p.oxw().companyLedgerService.singleresult=e}),p.qZA(),p.qZA(),p.TgZ(9,"li",37),p.TgZ(10,"button",38),p.NdJ("click",function(){return p.CHM(n),p.oxw().FilterData()}),p._UZ(11,"span",39),p.TgZ(12,"span",40),p._uU(13,"Search"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var i=p.oxw();p.xp6(7),p.Q6J("virtualScroll",!0)("items",i.allLedgers)("ngModel",i.companyLedgerService.singleresult)("loading",i.companyLedgerService.loading)}}function _(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",41),p.TgZ(1,"form",30),p.NdJ("submit",function(){return p.CHM(n),p.oxw().FilterData()}),p.TgZ(2,"ul",31),p.TgZ(3,"li",42),p.TgZ(4,"ion-icon",43),p.NdJ("click",function(){return p.CHM(n),p.oxw().goback()}),p.qZA(),p.qZA(),p.TgZ(5,"li",42),p.TgZ(6,"ion-icon",44),p.NdJ("click",function(){return p.CHM(n),p.oxw().advSearchM()}),p.qZA(),p.qZA(),p.TgZ(7,"li",45),p.TgZ(8,"div",46),p.TgZ(9,"strong"),p._uU(10,"Ledger History"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"li",47),p.TgZ(12,"ion-icon",48),p.NdJ("click",function(e){return p.CHM(n),p.oxw().sortPopover(e)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}}function U(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",29),p.TgZ(1,"ul",31),p.TgZ(2,"li",49),p.TgZ(3,"button",33),p.NdJ("click",function(){return p.CHM(n),p.oxw().goback()}),p._UZ(4,"i",34),p.qZA(),p.qZA(),p.qZA(),p.qZA()}}function R(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",41),p.TgZ(1,"ul",31),p.TgZ(2,"li",42),p.TgZ(3,"ion-icon",43),p.NdJ("click",function(){return p.CHM(n),p.oxw().goback()}),p.qZA(),p.qZA(),p.qZA(),p.qZA()}}function k(e,t){if(1&e&&(p.TgZ(0,"div",56),p.TgZ(1,"div",57),p.TgZ(2,"div",58),p.TgZ(3,"strong"),p._uU(4,"Ledger History"),p.qZA(),p.qZA(),p.TgZ(5,"div",59),p.TgZ(6,"div",60),p._uU(7),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var n=p.oxw(2);p.xp6(7),p.Oqu(n.Ledgerhistoryservice.currentShowing)}}function J(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",66),p._uU(2,"Ledger Name"),p.qZA(),p.TgZ(3,"th",67),p._uU(4,"Voucher No"),p.qZA(),p.TgZ(5,"th",68),p._uU(6,"Voucher Type"),p.qZA(),p.TgZ(7,"th",69),p._uU(8,"Parent"),p.qZA(),p.TgZ(9,"th",70),p._uU(10,"Opening Balance"),p.qZA(),p.TgZ(11,"th",71),p._uU(12,"Voucher Date"),p.qZA(),p.TgZ(13,"th",72),p._uU(14,"Narration"),p.qZA(),p.TgZ(15,"th",73),p._uU(16,"Dr Amount"),p.qZA(),p.TgZ(17,"th",73),p._uU(18,"Cr Amount"),p.qZA(),p.TgZ(19,"th",73),p._uU(20,"File Type"),p.qZA(),p.TgZ(21,"th",73),p._uU(22,"File Url"),p.qZA(),p.TgZ(23,"th",74),p._uU(24,"Modified-By"),p.qZA(),p.TgZ(25,"th",75),p._uU(26,"Modified/ Created DateTime"),p.qZA(),p.TgZ(27,"th",73),p._uU(28,"Module"),p.qZA(),p.TgZ(29,"th",76),p._uU(30,"Action"),p.qZA(),p.qZA()),2&e){var n=p.oxw(3);p.xp6(1),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice)}}function P(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"Voucher No"),p.qZA(),p.TgZ(3,"th"),p._uU(4,"Voucher Type"),p.qZA(),p.TgZ(5,"th"),p._uU(6,"Parent"),p.qZA(),p.TgZ(7,"th"),p._uU(8,"Opening Balance"),p.qZA(),p.TgZ(9,"th"),p._uU(10,"Voucher Date"),p.qZA(),p.TgZ(11,"th"),p._uU(12,"Narration"),p.qZA(),p.TgZ(13,"th"),p._uU(14,"Dr Amount"),p.qZA(),p.TgZ(15,"th"),p._uU(16,"Cr Amount"),p.qZA(),p.TgZ(17,"th"),p._uU(18,"File Type"),p.qZA(),p.TgZ(19,"th"),p._uU(20,"File Url"),p.qZA(),p.TgZ(21,"th"),p._uU(22,"Modified By"),p.qZA(),p.TgZ(23,"th"),p._uU(24,"Modified/Created DateTime"),p.qZA(),p.TgZ(25,"th"),p._uU(26,"Module"),p.qZA(),p.TgZ(27,"th"),p._uU(28,"Action"),p.qZA(),p.qZA())}function O(e,t){if(1&e&&(p.TgZ(0,"td"),p._uU(1),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(1),p.hij(" ",n.LName," ")}}function Q(e,t){if(1&e&&(p.TgZ(0,"a",83),p._uU(1,"Pdf"),p.qZA()),2&e){var n=p.oxw().$implicit;p.s9C("href",n.FileUrl,p.LSH)}}function F(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"tr",77),p.NdJ("keydown.enter",function(){var e=p.CHM(n).$implicit;return p.oxw(3).editOnArrowEvent(e)})("keydown.arrowdown",function(){var e=p.CHM(n).index;return p.oxw(3).Ledgerhistoryservice.arrowDownEvent(e+151)})("keydown.arrowup",function(){var e=p.CHM(n).index;return p.oxw(3).Ledgerhistoryservice.arrowUpEvent(e+149)}),p.YNc(1,O,2,1,"td",5),p.TgZ(2,"td",78),p.TgZ(3,"a",79),p.NdJ("click",function(){var e=p.CHM(n).$implicit;return p.oxw(3).Editledger(e)}),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td"),p._UZ(12,"dateformatter",80),p.qZA(),p.TgZ(13,"td"),p._uU(14),p.qZA(),p.TgZ(15,"td"),p._uU(16),p.ALo(17,"indianCurrency"),p.qZA(),p.TgZ(18,"td"),p._uU(19),p.ALo(20,"indianCurrency"),p.qZA(),p.TgZ(21,"td"),p._uU(22),p.qZA(),p.TgZ(23,"td"),p.YNc(24,Q,2,1,"a",81),p.qZA(),p.TgZ(25,"td"),p._uU(26),p.qZA(),p.TgZ(27,"td"),p._UZ(28,"dateformatter",82),p.qZA(),p.TgZ(29,"td"),p._uU(30),p.qZA(),p.TgZ(31,"td"),p._uU(32),p.qZA(),p.qZA()}if(2&e){var i=t.$implicit,r=t.index,o=p.oxw(3);p.s9C("tabindex",r+150),p.xp6(1),p.Q6J("ngIf",!o.IsCallasPopup),p.xp6(3),p.hij(" ",i.VNo," "),p.xp6(2),p.hij(" ",i.VType," "),p.xp6(2),p.hij(" ",i.ParentGroupLedger," "),p.xp6(2),p.hij(" ",i.OBalance," "),p.xp6(2),p.s9C("dateValue",i.VDate),p.xp6(2),p.hij(" ",i.Narr," "),p.xp6(2),p.hij(" ",p.lcZ(17,16,i.VDrAmt)," "),p.xp6(3),p.hij(" ",p.lcZ(20,18,i.VCrAmt)," "),p.xp6(3),p.hij(" ",i.FileType," "),p.xp6(2),p.Q6J("ngIf",null!=i.FileUrl),p.xp6(2),p.hij(" ",i.UserName," "),p.xp6(2),p.s9C("dateValue",i.MD),p.xp6(2),p.hij(" ",i.ActionModule," "),p.xp6(2),p.Oqu(i.Action)}}function E(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",61),p.NdJ("scrolled",function(e){return p.CHM(n),p.oxw(2).onLedgerHistoryScroll(e)}),p.TgZ(1,"table",62),p.TgZ(2,"thead",55),p.YNc(3,J,31,15,"tr",5),p.YNc(4,P,29,0,"tr",5),p.qZA(),p.TgZ(5,"tbody",63,64),p.YNc(7,F,33,20,"tr",65),p.qZA(),p.qZA(),p.qZA()}if(2&e){var i=p.oxw(2);p.Q6J("scrollWindow",!0),p.xp6(3),p.Q6J("ngIf",!i.IsCallasPopup),p.xp6(1),p.Q6J("ngIf",i.IsCallasPopup),p.xp6(3),p.Q6J("ngForOf",i.Ledgerhistoryservice.result)}}function Y(e,t){if(1&e&&(p.TgZ(0,"div",56),p.TgZ(1,"div",57),p.TgZ(2,"div",58),p.TgZ(3,"strong"),p._uU(4,"Ledger History"),p.qZA(),p.qZA(),p.TgZ(5,"div",59),p.TgZ(6,"div",60),p._uU(7),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var n=p.oxw(2);p.xp6(7),p.Oqu(n.Ledgerhistoryservice.currentShowing)}}function G(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",66),p._uU(2," Ledger Name "),p.qZA(),p.TgZ(3,"th",67),p._uU(4," Voucher No "),p.qZA(),p.TgZ(5,"th",68),p._uU(6," Voucher Type "),p.qZA(),p.TgZ(7,"th",69),p._uU(8," Parent "),p.qZA(),p.TgZ(9,"th",70),p._uU(10," Opening Balance "),p.qZA(),p.TgZ(11,"th",71),p._uU(12," Voucher Date "),p.qZA(),p.TgZ(13,"th",72),p._uU(14," Narration "),p.qZA(),p.TgZ(15,"th",84),p._uU(16," Dr Amount "),p.qZA(),p.TgZ(17,"th",85),p._uU(18," Cr Amount "),p.qZA(),p.TgZ(19,"th",86),p._uU(20,"File Type"),p.qZA(),p.TgZ(21,"th",87),p._uU(22,"File Url"),p.qZA(),p.TgZ(23,"th",74),p._uU(24," Modified-By "),p.qZA(),p.TgZ(25,"th",75),p._uU(26," Modified/ Created DateTime "),p.qZA(),p.TgZ(27,"th",88),p._uU(28,"Module"),p.qZA(),p.TgZ(29,"th",76),p._uU(30," Action "),p.qZA(),p.qZA()),2&e){var n=p.oxw(2);p.xp6(1),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(6),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(2),p.Q6J("dirsort",n.Ledgerhistoryservice),p.xp6(4),p.Q6J("dirsort",n.Ledgerhistoryservice)}}function H(e,t){if(1&e&&(p.TgZ(0,"div",50),p.YNc(1,k,8,1,"div",51),p.YNc(2,E,8,4,"div",52),p.TgZ(3,"div",53),p.YNc(4,Y,8,1,"div",51),p.TgZ(5,"table",54),p.TgZ(6,"thead",55),p.YNc(7,G,31,12,"tr",5),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",0==(n.Ledgerhistoryservice.isMobile||n.Ledgerhistoryservice.IsMobileview)),p.xp6(1),p.Q6J("ngIf",n.Ledgerhistoryservice.result.length>0),p.xp6(2),p.Q6J("ngIf",0==(n.Ledgerhistoryservice.isMobile||n.Ledgerhistoryservice.IsMobileview)),p.xp6(3),p.Q6J("ngIf",!n.IsCallasPopup)}}function B(e,t){if(1&e&&(p.TgZ(0,"ion-col",98),p.TgZ(1,"ion-text",99),p._uU(2,"Parent:"),p.qZA(),p._UZ(3,"br"),p._uU(4),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(4),p.hij(" ",n.ParentGroupLedger," ")}}function $(e,t){if(1&e&&(p.TgZ(0,"ion-col",98),p.TgZ(1,"ion-text",99),p._uU(2,"Opening Bal:"),p.qZA(),p._UZ(3,"br"),p._uU(4),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(4),p.hij(" ",n.OBalance," ")}}function j(e,t){if(1&e&&(p.TgZ(0,"ion-col",104),p.TgZ(1,"ion-text",99),p._uU(2,"Voucher Dt:"),p.qZA(),p._UZ(3,"br"),p._UZ(4,"dateformatter",80),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(4),p.s9C("dateValue",n.VDate)}}function K(e,t){if(1&e&&(p.TgZ(0,"ion-col",100),p.TgZ(1,"ion-text",99),p._uU(2,"Dr Amt:"),p.qZA(),p._UZ(3,"br"),p._uU(4),p.ALo(5,"indianCurrency"),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(4),p.hij(" ",p.lcZ(5,1,n.VDrAmt)," ")}}function z(e,t){if(1&e&&(p.TgZ(0,"ion-col",100),p.TgZ(1,"ion-text",99),p._uU(2,"Cr Amt:"),p.qZA(),p._UZ(3,"br"),p._uU(4),p.ALo(5,"indianCurrency"),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(4),p.hij(" ",p.lcZ(5,1,n.VCrAmt)," ")}}function W(e,t){if(1&e&&(p.TgZ(0,"ion-col",98),p.TgZ(1,"ion-text",99),p._uU(2,"Modified by:"),p.qZA(),p._UZ(3,"br"),p._uU(4),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(4),p.hij(" ",n.UserName," ")}}function X(e,t){if(1&e&&(p.TgZ(0,"ion-col",100),p.TgZ(1,"ion-text",99),p._uU(2,"Module:"),p.qZA(),p._UZ(3,"br"),p._uU(4),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(4),p.hij(" ",n.ActionModule," ")}}function ee(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"ion-card"),p.TgZ(1,"ion-row"),p.TgZ(2,"ion-col",98),p.TgZ(3,"ion-text",99),p._uU(4,"Ledger Name:"),p.qZA(),p._UZ(5,"br"),p._uU(6),p.qZA(),p.TgZ(7,"ion-col",78),p.TgZ(8,"ion-text",99),p._uU(9,"Voucher No:"),p.qZA(),p._UZ(10,"br"),p.TgZ(11,"a",79),p.NdJ("click",function(){var e=p.CHM(n).$implicit;return p.oxw(2).Editledger(e)}),p._uU(12),p.qZA(),p.qZA(),p.TgZ(13,"ion-col",100),p.TgZ(14,"ion-text",99),p._uU(15,"Voucher Type:"),p.qZA(),p._UZ(16,"br"),p._uU(17),p.qZA(),p.qZA(),p.TgZ(18,"ion-row"),p.YNc(19,B,5,1,"ion-col",101),p.YNc(20,$,5,1,"ion-col",101),p.YNc(21,j,5,1,"ion-col",102),p.TgZ(22,"ion-col",100),p.TgZ(23,"ion-text",99),p._uU(24,"Action:"),p.qZA(),p._UZ(25,"br"),p._uU(26),p.qZA(),p.YNc(27,K,6,3,"ion-col",103),p.YNc(28,z,6,3,"ion-col",103),p.qZA(),p.TgZ(29,"ion-row"),p.YNc(30,W,5,1,"ion-col",101),p.TgZ(31,"ion-col",104),p.TgZ(32,"ion-text",99),p._uU(33,"Modified Dt:"),p.qZA(),p._UZ(34,"br"),p._UZ(35,"dateformatter",82),p.qZA(),p.YNc(36,X,5,1,"ion-col",103),p.qZA(),p.qZA()}if(2&e){var i=t.$implicit;p.xp6(6),p.hij(" ",i.LName," "),p.xp6(6),p.hij(" ",i.VNo," "),p.xp6(5),p.hij(" ",i.VType," "),p.xp6(2),p.Q6J("ngIf",null!=i.ParentGroupLedger),p.xp6(1),p.Q6J("ngIf",null!=i.OBalance),p.xp6(1),p.Q6J("ngIf",null!=i.VDate),p.xp6(5),p.hij(" ",i.Action," "),p.xp6(1),p.Q6J("ngIf",null!=i.VDrAmt),p.xp6(1),p.Q6J("ngIf",null!=i.VCrAmt),p.xp6(2),p.Q6J("ngIf",null!=i.UserName||""!=i.UserName),p.xp6(5),p.s9C("dateValue",i.MD),p.xp6(1),p.Q6J("ngIf",null!=i.ActionModule||""!=i.ActionModule)}}function te(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",89),p.TgZ(1,"ion-content"),p.TgZ(2,"ion-refresher",90),p.NdJ("ionRefresh",function(e){return p.CHM(n),p.oxw().doRefresh(e)}),p._UZ(3,"ion-refresher-content",91),p.qZA(),p.TgZ(4,"ion-virtual-scroll",92,93),p.YNc(6,ee,37,12,"ion-card",94),p.qZA(),p.TgZ(7,"ion-infinite-scroll",95,96),p.NdJ("ionInfinite",function(e){return p.CHM(n),p.oxw().onLedgerHistoryScroll(e)}),p._UZ(9,"ion-infinite-scroll-content",97),p.qZA(),p.qZA(),p.qZA()}if(2&e){var i=p.oxw();p.Udp("height",i.Ledgerhistoryservice.mobileContainer),p.xp6(4),p.Q6J("items",i.Ledgerhistoryservice.result),p.xp6(5),p.s9C("loadingText",i.Ledgerhistoryservice.nextloading)}}function ne(e,t){1&e&&(p.TgZ(0,"ion-card",106),p.TgZ(1,"ion-row"),p.TgZ(2,"ion-col",98),p._UZ(3,"ion-skeleton-text",107),p.qZA(),p.TgZ(4,"ion-col",78),p._UZ(5,"ion-skeleton-text",107),p.qZA(),p.TgZ(6,"ion-col",108),p._UZ(7,"ion-skeleton-text",107),p.qZA(),p.qZA(),p.TgZ(8,"ion-row"),p.TgZ(9,"ion-col",98),p._UZ(10,"ion-skeleton-text",107),p.qZA(),p.TgZ(11,"ion-col",109),p._UZ(12,"ion-skeleton-text",107),p.qZA(),p.TgZ(13,"ion-col",108),p._UZ(14,"ion-skeleton-text",107),p.qZA(),p.qZA(),p.TgZ(15,"ion-row"),p.TgZ(16,"ion-col",98),p._UZ(17,"ion-skeleton-text",107),p.qZA(),p.TgZ(18,"ion-col",110),p._UZ(19,"ion-skeleton-text",107),p.qZA(),p.TgZ(20,"ion-col",111),p._UZ(21,"ion-skeleton-text",107),p.qZA(),p.qZA(),p.TgZ(22,"ion-row"),p.TgZ(23,"ion-col",98),p._UZ(24,"ion-skeleton-text",107),p.qZA(),p.TgZ(25,"ion-col",109),p._UZ(26,"ion-skeleton-text",107),p.qZA(),p.TgZ(27,"ion-col",108),p._UZ(28,"ion-skeleton-text",107),p.qZA(),p.qZA(),p.qZA())}function ie(e,t){if(1&e&&(p.TgZ(0,"div"),p.YNc(1,ne,29,0,"ion-card",105),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngForOf",n.Ledgerhistoryservice.noImageRepeat)}}function re(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._UZ(2,"ion-skeleton-text",107),p.qZA(),p.TgZ(3,"td"),p._UZ(4,"ion-skeleton-text",107),p.qZA(),p.TgZ(5,"td"),p._UZ(6,"ion-skeleton-text",107),p.qZA(),p.TgZ(7,"td"),p._UZ(8,"ion-skeleton-text",107),p.qZA(),p.TgZ(9,"td"),p._UZ(10,"ion-skeleton-text",107),p.qZA(),p.TgZ(11,"td"),p._UZ(12,"ion-skeleton-text",107),p.qZA(),p.TgZ(13,"td"),p._UZ(14,"ion-skeleton-text",107),p.qZA(),p.TgZ(15,"td"),p._UZ(16,"ion-skeleton-text",107),p.qZA(),p.TgZ(17,"td"),p._UZ(18,"ion-skeleton-text",107),p.qZA(),p.TgZ(19,"td"),p._UZ(20,"ion-skeleton-text",107),p.qZA(),p.TgZ(21,"td"),p._UZ(22,"ion-skeleton-text",107),p.qZA(),p.TgZ(23,"td"),p._UZ(24,"ion-skeleton-text",107),p.qZA(),p.TgZ(25,"td"),p._UZ(26,"ion-skeleton-text",107),p.qZA(),p.TgZ(27,"td"),p._UZ(28,"ion-skeleton-text",107),p.qZA(),p.TgZ(29,"td"),p._UZ(30,"ion-skeleton-text",107),p.qZA(),p.qZA())}function oe(e,t){if(1&e&&(p.TgZ(0,"div"),p.TgZ(1,"table",112),p.TgZ(2,"thead"),p.TgZ(3,"tr"),p.TgZ(4,"th"),p._UZ(5,"ion-skeleton-text",107),p.qZA(),p.TgZ(6,"th"),p._UZ(7,"ion-skeleton-text",107),p.qZA(),p.TgZ(8,"th"),p._UZ(9,"ion-skeleton-text",107),p.qZA(),p.TgZ(10,"th"),p._UZ(11,"ion-skeleton-text",107),p.qZA(),p.TgZ(12,"th"),p._UZ(13,"ion-skeleton-text",107),p.qZA(),p.TgZ(14,"th"),p._UZ(15,"ion-skeleton-text",107),p.qZA(),p.TgZ(16,"th"),p._UZ(17,"ion-skeleton-text",107),p.qZA(),p.TgZ(18,"th"),p._UZ(19,"ion-skeleton-text",107),p.qZA(),p.TgZ(20,"th"),p._UZ(21,"ion-skeleton-text",107),p.qZA(),p.TgZ(22,"th"),p._UZ(23,"ion-skeleton-text",107),p.qZA(),p.TgZ(24,"th"),p._UZ(25,"ion-skeleton-text",107),p.qZA(),p.TgZ(26,"th"),p._UZ(27,"ion-skeleton-text",107),p.qZA(),p.TgZ(28,"th"),p._UZ(29,"ion-skeleton-text",107),p.qZA(),p.TgZ(30,"th"),p._UZ(31,"ion-skeleton-text",107),p.qZA(),p.TgZ(32,"th"),p._UZ(33,"ion-skeleton-text",107),p.qZA(),p.qZA(),p.qZA(),p.TgZ(34,"tbody"),p.YNc(35,re,31,0,"tr",113),p.qZA(),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(35),p.Q6J("ngForOf",n.Ledgerhistoryservice.noImageRepeat)}}function ae(e,t){1&e&&(p.TgZ(0,"div"),p._UZ(1,"div",115),p._UZ(2,"br"),p.TgZ(3,"div",109),p._uU(4,"No record found! "),p.qZA(),p.qZA())}function le(e,t){if(1&e&&(p.TgZ(0,"div",114),p._UZ(1,"br"),p._UZ(2,"br"),p.YNc(3,ae,5,0,"div",5),p._UZ(4,"br"),p._UZ(5,"br"),p.qZA()),2&e){var n=p.oxw();p.xp6(3),p.Q6J("ngIf",n.noDataImage)}}var se,ce=((se=function(){function e(t,n,i,r,o,a,l,c,d,g){s(this,e),this.reportservice=t,this.userService=n,this.companyLedgerService=i,this.popoverController=r,this.filterService=o,this.Ledgerhistoryservice=a,this.router=l,this.location=c,this.page=d,this._config=g,this.isBusy=!0,this._sgId=0,this.backPoint=!1,this.currentScrollPosition=0,this.noDataImage=!1,this._LedgerId=0,this.httpfunction=new h.r,this.IsCallasPopup=!1,this.isScrollEnabled=!0,this.filterdata=new u.Jw,this.allLedgers=[],this.isList=!0,this.sortarray=[{order:this.Ledgerhistoryservice.sortorder,column:"LedgerName",title:"By Ledger Name"},{order:this.Ledgerhistoryservice.sortorder,column:"VoucherNo",title:"By Voucher No"},{order:this.Ledgerhistoryservice.sortorder,column:"VoucherType",title:"By Voucher Type"},{order:this.Ledgerhistoryservice.sortorder,column:"ParentGroupId",title:"By Parent"},{order:this.Ledgerhistoryservice.sortorder,column:"ModifiedBy",title:"By Modified-By"},{order:this.Ledgerhistoryservice.sortorder,column:"VoucherDate",title:"By Voucher Date"},{order:this.Ledgerhistoryservice.sortorder,column:"ModifiedDate",title:"By Modified Date"},{order:this.Ledgerhistoryservice.sortorder,column:"",title:"By Module"},{order:this.Ledgerhistoryservice.sortorder,column:"ActionModule",title:"By Action"}],this.StartDate=this.Ledgerhistoryservice.getStartFinancialdate,this.EndDate=this.Ledgerhistoryservice.getEndFinancialdate,this.Ledgerhistoryservice.ExportColumn=[{title:"Module",dataKey:"Module",size:90},{title:"Modified By",dataKey:"UserName",size:90},{title:"Modified Date",format:"DD-MMM-YYYY",dataKey:"MDate",size:90}],this.Ledgerhistoryservice.ExportName="Ledger_History"}return l(e,[{key:"LedgId",get:function(){return this._LedgerId},set:function(e){this._LedgerId=e,this._LedgerId>0&&this.GetLedgerHistory(this._LedgerId)}},{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList)}},{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.Ledgerhistoryservice.arrowDownEvent(150)},500),setTimeout(function(){e.filterService.changeFilterWithbottomfilter(!0,!0,"Ledger History")},200),this.userService.GetInqUserforLedHistory(),this.filterdata.startTime=new Date(this.StartDate).toDateString(),this.filterdata.endTime=new Date(this.EndDate).toDateString(),this.filterdata.CompanyId=this.Ledgerhistoryservice.getCompanyId,this.Ledgerhistoryservice.filterArg=this.filterdata,this.Ledgerhistoryservice.isGetSubscribe=!0,this.ledgerhisSubscription=this.Ledgerhistoryservice.resultObs.subscribe(function(t){console.log(t),1==e.isBusy&&(e.isBusy=!1),0==e.Ledgerhistoryservice.result.length&&(e.noDataImage=!0)}),this.Ledgerhistoryservice.GetLedgerHistory(),this.companyLedgerService.isGetSubscribe=!0,this.Ledgerhistoryservice.refreshEvent=null,this.CompledSubscription=this.companyLedgerService.resultObs.subscribe(function(){e.allLedgers=e.companyLedgerService.result}),this.companyLedgerService.GetAllledaccount(!0),this.httpfunction.scrolltop(),this.isScrollEnabled=!0,this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this)),""!=this.httpfunction.getStorage("_filterData")?setTimeout(function(){e.dataPreserve()},150):this.FilterData()}},{key:"dataPreserve",value:function(){if(""!=this.httpfunction.getStorage("_filterData")){var e=JSON.parse(this.httpfunction.getStorage("_filterData"));if(null!=e&&null!=e){var t=e.find(function(e){return"Ledger History"==e.Module});(null!=t||null!=t)&&(null!=t.SearchFilter[0].LedgerId&&0!=t.SearchFilter[0].LedgerId&&(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(function(e){return e.UIDN==t.SearchFilter[0].LedgerId})[0]),this.FilterData())}}}},{key:"OnKeydown",value:function(e){var t=this,n=e.key||e.keyCode;("Backspace"==n&&e.altKey||"Escape"==n)&&(this.isList=!0,this.resetUrl(),setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition,t.Ledgerhistoryservice.arrowDownEvent(t.Ledgerhistoryservice.selectedRowIndex)},150))}},{key:"resetUrl",value:function(){var e=this;this.isList=!0;var t=this.router.url;this.route.params.subscribe(function(n){null!=n.id&&""!=n.id&&(t=t.replace("/"+n.id,"")),e.location.go(t)}),this._sgId=0}},{key:"goback",value:function(){this.location.back()}},{key:"doRefresh",value:function(e){this.filterService.updatedata(!0,"Ledger History"),this.Ledgerhistoryservice.refreshEvent=e.target,this.FilterData()}},{key:"ngOnDestroy",value:function(){0==this.backPoint&&this.filterService.RemoveFillLocalData("Ledger History"),null!=this.ledgerhisSubscription&&this.ledgerhisSubscription.unsubscribe(),null!=this.CompledSubscription&&this.CompledSubscription.unsubscribe()}},{key:"onLedgerHistoryScroll",value:function(e){null!=this.infiniteScroll&&(this.Ledgerhistoryservice.mobileinfinitescroll=this.infiniteScroll,this.Ledgerhistoryservice.mobilevirtualscroll=this.virtualScroll,this.Ledgerhistoryservice.refreshEvent=e.target),this.Ledgerhistoryservice.ScrollDown()}},{key:"Editledger",value:function(e){null!=e.BId||null!=e.BId?(this.backPoint=!0,this.router.navigate(["/marketing/bookingform/",e.BId])):(null==e.BId||null==e.BId)&&("Journal"==e.VType?(this.router.navigate(["/transactions/account/Journal/"+e.VId]),this.backPoint=!0):"Sales"==e.VType?(this.router.navigate(["/transactions/account/Sales/"+e.VId]),this.backPoint=!0):"Receipt"==e.VType?(this.router.navigate(["/transactions/account/Receipt/"+e.VId]),this.backPoint=!0):"Purchase"==e.VType?(this.router.navigate(["/transactions/account/Purchase/"+e.VId]),this.backPoint=!0):"Contra"==e.VType?(this.router.navigate(["/transactions/account/Contra/"+e.VId]),this.backPoint=!0):"Payment"==e.VType&&(this.router.navigate(["/transactions/account/Payment/"+e.VId]),this.backPoint=!0))}},{key:"preventpopup",value:function(e){e.stopPropagation()}},{key:"FilterData",value:function(){var e=new u.Jw;e.startTime=new Date(this.Ledgerhistoryservice.getStartFinancialdate).toDateString(),e.endTime=new Date(this.Ledgerhistoryservice.getEndFinancialdate).toDateString(),e.CompanyId=this.Ledgerhistoryservice.getCompanyId,e.SignupId=this.Ledgerhistoryservice.getSignupId,(null!=this.companyLedgerService.singleresult||null!=this.companyLedgerService.singleresult)&&(e.LedgerId=this.companyLedgerService.singleresult.UIDN),this.httpfunction.IsMobileview()||this.filterService.fillLocalData([{LedgerId:e.LedgerId}],"Ledger History"),this.Ledgerhistoryservice.filterArg=e,this.Ledgerhistoryservice.page=0}},{key:"GetLedgerHistory",value:function(e){var t=this;null!=e&&e>0&&(this.Ledgerhistoryservice.showMessage=!1,this.Ledgerhistoryservice.result=[],this.Ledgerhistoryservice.LedgerHistoryById(e.toString()).subscribe(function(e){t.Ledgerhistoryservice.result=e.data}))}},{key:"sortPopover",value:function(e){return(0,i.mG)(this,void 0,void 0,o().mark(function t(){var n,i=this;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:g.r,cssClass:"my-custom-class",event:e,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:function(e,t){var o=new r.p(e,t);i.Ledgerhistoryservice.sortdata=o,n.dismiss()}}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}))}},{key:"ClearFilter",value:function(){this.companyLedgerService.singleresult=null,this.FilterData()}},{key:"advSearchM",value:function(){this._SearchModal.show()}},{key:"editOnArrowEvent",value:function(e){this.Editledger(e)}}]),e}()).\u0275fac=function(e){return new(e||se)(p.Y36(f.r),p.Y36(a.K),p.Y36(d.Q),p.Y36(v.Dh),p.Y36(m.i),p.Y36(c.I),p.Y36(T.F0),p.Y36(I.Ye),p.Y36(Z.T3),p.Y36(r.De))},se.\u0275cmp=p.Xpm({type:se,selectors:[["app-ledgerhistory"]],viewQuery:function(e,t){var n;1&e&&(p.Gf(M,5),p.Gf(q,5),p.Gf(L,5)),2&e&&(p.iGM(n=p.CRH())&&(t._SearchModal=n.first),p.iGM(n=p.CRH())&&(t.infiniteScroll=n.first),p.iGM(n=p.CRH())&&(t.virtualScroll=n.first))},hostBindings:function(e,t){1&e&&p.NdJ("popstate",function(e){return t.onPopState(e)},!1,p.Jf7)},inputs:{LedgId:"LedgId",IsCallasPopup:"IsCallasPopup",isList:"isList"},features:[p._Bn([d.Q,c.I,a.K])],decls:37,vars:13,consts:[[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["class","ca table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainer",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade","bg-white",2,"z-index","99999"],["SearchModal","bs-modal"],[1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","form",3,"ngSubmit"],["f","ngForm"],[1,"row",2,"margin-bottom","70px"],[1,"md-form","form-group","col-md-6","col-sm-12"],["for","Ledger"],["selectOnTab","true","name","Ledger","bindLabel","LN","placeholder","Select Ledger/Group",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["Ledger","ngModel"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],[1,"customsearch"],[3,"submit"],[1,"c-header-nav"],[1,"mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mx-2"],["selectOnTab","true","appendTo","body","name","Ledger","bindLabel","LN","placeholder","Select Ledger/Group",1,"maxpanel",3,"virtualScroll","items","ngModel","loading","ngModelChange"],[1,"mr-2","mb-2"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],[1,"mx-2","mb-3"],["id","tableContainer",1,"ca","table-responsive"],["class","card-header","id","formHeader",4,"ngIf"],["infinite-scroll","","class","CardBodyheader",3,"scrollWindow","scrolled",4,"ngIf"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["id","tableContainerHead"],["id","formHeader",1,"card-header"],[1,"row"],[1,"col-md-6","col-sm-12","PageNameFsize"],[1,"col-md-6","col-sm-12"],[1,"mx-2","text-wrap","text-right","LeftLi"],["infinite-scroll","",1,"CardBodyheader",3,"scrollWindow","scrolled"],[1,"table","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerbody"],["container",""],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup",4,"ngFor","ngForOf"],["sortcolumn","LedgerName",3,"dirsort"],["sortcolumn","VoucherNo",3,"dirsort"],["sortcolumn","VoucherType",3,"dirsort"],["sortcolumn","ParentGroupId",3,"dirsort"],["sortcolumn","OpeningBalance",3,"dirsort"],["sortcolumn","VoucherDate",3,"dirsort"],["sortcolumn","Narration",3,"dirsort"],[3,"dirsort"],["sortcolumn","ModifiedBy",3,"dirsort"],["sortcolumn","ModifiedDate",3,"dirsort"],["sortcolumn","ActionModule",3,"dirsort"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],[1,"text-primary","text-center"],["target","blank",3,"click"],[3,"dateValue"],["target","blank",3,"href",4,"ngIf"],["isDate","false",3,"dateValue"],["target","blank",3,"href"],["sortcolumn","VoucherDrAmount",3,"dirsort"],["sortcolumn","VoucherCrAmount",3,"dirsort"],["sortcolumn","FileType",3,"dirsort"],["sortcolumn","FileUrl",3,"dirsort"],["sortcolumn","Module",3,"dirsort"],["id","tableContainer"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","208px",3,"items"],["ionvscroll",""],[4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],[1,"text-left"],[1,"font-weight-bold","small"],[1,"text-right"],["class","text-left",4,"ngIf"],["size","auto","class","text-left",4,"ngIf"],["class","text-right",4,"ngIf"],["size","auto",1,"text-left"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","80%"],[2,"text-align","-webkit-right"],[1,"text-center"],["size","3",1,"text-center"],["size","3",2,"text-align","-webkit-right"],[1,"table","table-bordered","table-striped","text-center",3,"fxHeader"],[4,"ngFor","ngForOf"],[1,"col-md-12","pl-0","pr-0"],[1,"mx-auto","noDataImage"]],template:function(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",0),p.YNc(1,V,14,4,"div",1),p.YNc(2,_,13,0,"div",2),p.YNc(3,U,5,0,"div",1),p.YNc(4,R,4,0,"div",2),p.YNc(5,H,8,4,"div",3),p.YNc(6,te,10,4,"div",4),p.YNc(7,ie,2,1,"div",5),p.YNc(8,oe,36,1,"div",5),p.YNc(9,le,6,1,"div",6),p.qZA(),p.TgZ(10,"div",7,8),p.TgZ(12,"div",9),p.TgZ(13,"div",10),p.TgZ(14,"div",11),p.TgZ(15,"h4",12),p._uU(16,"Advance Search "),p.qZA(),p.TgZ(17,"button",13),p.NdJ("click",function(){return t._SearchModal.hide()}),p.TgZ(18,"span",14),p._uU(19,"\xd7"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(20,"form",15,16),p.NdJ("ngSubmit",function(){return p.CHM(n),p.MAs(21).form.valid}),p.TgZ(22,"div",17),p.TgZ(23,"div",18),p.TgZ(24,"label",19),p._uU(25,"Select Ledger/Group"),p.qZA(),p.TgZ(26,"ng-select",20,21),p.NdJ("ngModelChange",function(e){return t.companyLedgerService.singleresult=e}),p.qZA(),p.qZA(),p.TgZ(28,"nav",22),p.TgZ(29,"ul",23),p.TgZ(30,"li",24),p.TgZ(31,"button",25),p.NdJ("click",function(){return t.FilterData(),t._SearchModal.hide()}),p._UZ(32,"i",26),p._uU(33,"Search "),p.qZA(),p.qZA(),p.TgZ(34,"li",27),p.TgZ(35,"button",28),p.NdJ("click",function(){return t.ClearFilter(),t._SearchModal.hide()}),p._uU(36," Clear Filter "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}2&e&&(p.xp6(1),p.Q6J("ngIf",!t.IsCallasPopup&&!t.Ledgerhistoryservice.IsMobileview),p.xp6(1),p.Q6J("ngIf",!t.IsCallasPopup&&t.Ledgerhistoryservice.IsMobileview),p.xp6(1),p.Q6J("ngIf",t.IsCallasPopup&&!t.Ledgerhistoryservice.IsMobileview),p.xp6(1),p.Q6J("ngIf",t.IsCallasPopup&&t.Ledgerhistoryservice.IsMobileview),p.xp6(1),p.Q6J("ngIf",!t.Ledgerhistoryservice.IsMobileview&&t.Ledgerhistoryservice.result.length>0),p.xp6(1),p.Q6J("ngIf",t.Ledgerhistoryservice.result.length>0&&!t.noDataImage&&t.Ledgerhistoryservice.IsMobileview),p.xp6(1),p.Q6J("ngIf",0==t.Ledgerhistoryservice.result.length&&!t.noDataImage&&t.Ledgerhistoryservice.IsMobileview),p.xp6(1),p.Q6J("ngIf",0==t.Ledgerhistoryservice.result.length&&!t.noDataImage&&!t.Ledgerhistoryservice.IsMobileview),p.xp6(1),p.Q6J("ngIf",0==t.Ledgerhistoryservice.result.length),p.xp6(17),p.Q6J("virtualScroll",!0)("items",t.allLedgers)("ngModel",t.companyLedgerService.singleresult)("loading",t.companyLedgerService.loading))},directives:[I.O5,A.oB,x._Y,x.JL,x.F,y.w9,x.JJ,x.On,S.x,v.gu,D.R,C.n,I.sg,b.n,N.a,v.W2,v.nJ,v.Wo,v.aJ,v.Rw,v.ju,v.MB,v.PM,v.Nd,v.wI,v.yW,v.CK],pipes:[w.s],styles:[""]}),se)},69521:function(e,t,n){n.d(t,{I:function(){return v}});var r,o=n(78446),a=n(32364),u=n(33018),g=n(91841),p=n(89401),f=n(86845),v=((r=function(e){c(n,e);var t=d(n);function n(e,i,r,o){var a;return s(this,n),(a=t.call(this,e,i,r,o))._config=i,a}return l(n,[{key:"GetLedgerHistory",value:function(){i(h(n.prototype),"GetAlldata",this).call(this,a.iD.LedgHisGetAll)}},{key:"LedgerHistoryById",value:function(e){return i(h(n.prototype),"changeInquirySite",this).call(this,0,"",e,a.iD.LedgerHisGetById)}}]),n}(o.a)).\u0275fac=function(e){return new(e||r)(u.LFG(g.eN),u.LFG(a.De),u.LFG(p.Rq),u.LFG(f.D))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r)},91114:function(e,t,n){n.d(t,{R:function(){return m}});var i=n(33018),r=n(39075),o=n(38583),a=n(3679),c=n(6642),u=["EmailId"];function d(e,t){1&e&&(i.TgZ(0,"div"),i._uU(1,"Email Id is required"),i.qZA())}function g(e,t){1&e&&(i.TgZ(0,"div"),i._uU(1,"Email must be a valid email address"),i.qZA())}function h(e,t){if(1&e&&(i.TgZ(0,"div",10),i.YNc(1,d,2,0,"div",11),i.YNc(2,g,2,0,"div",11),i.qZA()),2&e){i.oxw();var n=i.MAs(5);i.xp6(1),i.Q6J("ngIf",n.errors.required),i.xp6(1),i.Q6J("ngIf",n.errors.email)}}var p=function(e){return{"is-invalid":e}};function f(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"div",5),i.TgZ(2,"label",6),i._uU(3,"Enter Email Id"),i.qZA(),i.TgZ(4,"input",7,8),i.NdJ("ngModelChange",function(e){return i.CHM(n),i.oxw().emailinput=e})("change",function(){i.CHM(n);var e=i.MAs(5);return i.oxw().change(e)}),i.qZA(),i.YNc(6,h,3,2,"div",9),i.qZA(),i.qZA()}if(2&e){var r=i.MAs(5),o=i.oxw();i.xp6(4),i.Q6J("ngModel",o.emailinput)("ngClass",i.VKq(3,p,r.invalid)),i.xp6(2),i.Q6J("ngIf",r.invalid)}}var v,m=((v=function(){function e(t){s(this,e),this.sanitized=t,this.IsHideEmail=!0,this.onemailchange=new i.vpe}return l(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){null!=e.serchcontrol&&null!=e.serchcontrol&&e.serchcontrol.nativeElement.focus()},2e4)}},{key:"senitizeHtml",value:function(e){if(null!=e&&null!=e)return this.sanitized.bypassSecurityTrustHtml(e)}},{key:"change",value:function(e){this.onemailchange.emit(e.model)}}]),e}()).\u0275fac=function(e){return new(e||v)(i.Y36(r.H7))},v.\u0275cmp=i.Xpm({type:v,selectors:[["app-email"]],viewQuery:function(e,t){var n;1&e&&i.Gf(u,7,i.SBq),2&e&&i.iGM(n=i.CRH())&&(t.serchcontrol=n.first)},inputs:{emailinput:"emailinput",demandhtml:"demandhtml",IsHideEmail:"IsHideEmail"},outputs:{onemailchange:"onemailchange"},decls:5,vars:2,consts:[["class","form-group md-form col-sm-12",4,"ngIf"],[2,"border-width","initial","border-color","#eeeaea !important"],[2,"text-align","center"],[1,"preview",3,"innerHTML"],[1,"form-group","md-form","col-sm-12"],[1,"form-group","md-form","col-sm-8"],["for","EmailId",2,"margin-top","-10px"],["autofocus","","type","email","required","","name","EmailId","id","EmailId","email","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["EmailId","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&(i.YNc(0,f,7,5,"div",0),i._UZ(1,"hr",1),i.TgZ(2,"h4",2),i._uU(3,"Preview"),i.qZA(),i._UZ(4,"div",3)),2&e&&(i.Q6J("ngIf",t.IsHideEmail),i.xp6(4),i.Q6J("innerHTML",t.senitizeHtml(t.demandhtml),i.oJD))},directives:[o.O5,a.Fj,a.Q7,a.on,a.JJ,a.On,c.x,o.mk],styles:[""]}),v)},14868:function(e,t,n){n.d(t,{s:function(){return o}});var i,r=n(33018),o=((i=function(){function e(){s(this,e)}return l(e,[{key:"transform",value:function(e,t){if(null!=e&&null!=e.length&&null!=e&&isNaN(e)&&(e.includes("Dr")||e.includes("Cr"))){var n,i=e.replaceAll(",",""),r=i.indexOf("Dr"),o=i.indexOf("Cr");n=i.slice(0,r>0?r-i.length:o-i.length),e=Number(n)}if(null!==e&&!isNaN(e)){var a=this.getDecimalValue(e.toString());return Math.floor(e).toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,")+a}}},{key:"getDecimalValue",value:function(e){var t="";return t=e.indexOf(".")>0?2===(t=e.substring(e.indexOf("."),e.length)).length?t+"0":t.substring(0,3):".00"}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275pipe=r.Yjl({name:"indianCurrency",type:i,pure:!0}),i)},59843:function(e,t,n){n.d(t,{X:function(){return v}});var i=n(33018),r=n(3679),o=n(6642),a=n(38583),c=["MobileNo"];function u(e,t){1&e&&(i.TgZ(0,"div"),i._uU(1,"Mobile No is required"),i.qZA())}function d(e,t){if(1&e&&(i.TgZ(0,"div",8),i.YNc(1,u,2,0,"div",9),i.TgZ(2,"div",10),i._uU(3,"Contact Number should be of 10 digit"),i.qZA(),i.TgZ(4,"div",10),i._uU(5,"Contact Number should contain only numbers"),i.qZA(),i.qZA()),2&e){i.oxw();var n=i.MAs(4);i.xp6(1),i.Q6J("ngIf",n.errors.required),i.xp6(1),i.Q6J("hidden",!n.hasError("minlength")),i.xp6(2),i.Q6J("hidden",!n.hasError("pattern"))}}function g(e,t){1&e&&(i.TgZ(0,"div"),i._uU(1,"Description is required"),i.qZA())}function h(e,t){if(1&e&&(i.TgZ(0,"div",8),i.YNc(1,g,2,0,"div",9),i.qZA()),2&e){i.oxw();var n=i.MAs(10);i.xp6(1),i.Q6J("ngIf",n.errors.required)}}var p,f=function(e){return{"is-invalid":e}},v=((p=function(){function e(){s(this,e),this.onMobilechange=new i.vpe}return l(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.serchcontrol.nativeElement.focus()},2e4)}},{key:"change",value:function(e){this.onMobilechange.emit(e.model)}}]),e}()).\u0275fac=function(e){return new(e||p)},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-sms"]],viewQuery:function(e,t){var n;1&e&&i.Gf(c,7,i.SBq),2&e&&i.iGM(n=i.CRH())&&(t.serchcontrol=n.first)},inputs:{SMSDescription:"SMSDescription",Mobileinput:"Mobileinput"},outputs:{onMobilechange:"onMobilechange"},decls:12,vars:7,consts:[[1,"form-group","md-form","col-sm-12"],["for","MobileNo",2,"margin-top","-10px"],["autofocus","","type","text","pattern","^[- +()]*[0-9][- +()0-9]*$","minlength","10","maxlength","13","required","","name","MobileNo","id","MobileNo",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["MobileNo","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","Desc",2,"margin-top","-10px"],["readonly","","type","text","required","","name","Desc","id","Desc",1,"md-textarea","form-control",2,"overflow","auto","height","150px",3,"ngModel","ngModelChange"],["Desc","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],[3,"hidden"]],template:function(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"label",1),i._uU(2,"Enter Mobile No"),i.qZA(),i.TgZ(3,"input",2,3),i.NdJ("ngModelChange",function(e){return t.Mobileinput=e})("change",function(){i.CHM(n);var e=i.MAs(4);return t.change(e)}),i.qZA(),i.YNc(5,d,6,3,"div",4),i.qZA(),i.TgZ(6,"div",0),i.TgZ(7,"label",5),i._uU(8,"Description"),i.qZA(),i.TgZ(9,"textarea",6,7),i.NdJ("ngModelChange",function(e){return t.SMSDescription=e}),i.qZA(),i.qZA(),i.YNc(11,h,2,1,"div",4)}if(2&e){var r=i.MAs(4),o=i.MAs(10);i.xp6(3),i.Q6J("ngModel",t.Mobileinput)("ngClass",i.VKq(5,f,r.invalid)),i.xp6(2),i.Q6J("ngIf",r.invalid),i.xp6(4),i.Q6J("ngModel",t.SMSDescription),i.xp6(2),i.Q6J("ngIf",o.invalid)}},directives:[r.Fj,r.c5,r.wO,r.nD,r.Q7,r.JJ,r.On,o.x,a.mk,a.O5],styles:[""]}),p)},28879:function(e,t,n){n.d(t,{L:function(){return Ea}});var r,o=n(33018),a=n(84659),u=n(18454),g=n(78980),p=n(66203),f=n(82316),v=n(3306),m=n(54380),T=n(75477),I=n(42005),Z=n(84306),A=n(65978),x=n(32364),y=n(39302),S=n(65178),D=n(27541),C=n(65568),b=n(80762),N=n(38583),w=n(78446),M=n(91841),q=n(89401),L=n(86845),V=((r=function(e){c(n,e);var t=d(n);function n(e,i,r,o){var a;return s(this,n),(a=t.call(this,e,i,r,o))._config=i,a}return l(n,[{key:"GetTypeOfDuty",value:function(){return[{UIDN:1,Name:"GST"}]}},{key:"GetNatureOfAdjustment",value:function(){return[{UIDN:1,Name:"Decrease of Tax Liability"},{UIDN:2,Name:"Increase of Input Tax Credit"},{UIDN:3,Name:"Increase of Tax Liability"},{UIDN:4,Name:"Increase of Tax Liability & Input Tax Credit"},{UIDN:5,Name:"Opening Balance"},{UIDN:6,Name:"Refund"},{UIDN:7,Name:"Reversal of Input Tax Credit"},{UIDN:8,Name:"Reversal of Tax Liability"}]}},{key:"GetAdditionDetails",value:function(){return[{NatureOfAdjustmentId:1,UIDN:1,Name:"Adjustment Against Credit"},{NatureOfAdjustmentId:1,UIDN:2,Name:"Cancellation of Advance Payments under Reverse Charge"},{NatureOfAdjustmentId:1,UIDN:3,Name:"Cancellation of Advance Receipts"},{NatureOfAdjustmentId:1,UIDN:4,Name:"Cancellation of Advance Receipts for Exports/SEZ sales"},{NatureOfAdjustmentId:1,UIDN:5,Name:"Purchase Against Advance Payment"},{NatureOfAdjustmentId:1,UIDN:6,Name:"Sales Against Advance Receipts"},{NatureOfAdjustmentId:1,UIDN:7,Name:"Sales Against Advance Receipts for Export/SEZ Sales"},{NatureOfAdjustmentId:2,UIDN:8,Name:"Imports of Capital Goods"},{NatureOfAdjustmentId:2,UIDN:9,Name:"Import of Goods"},{NatureOfAdjustmentId:2,UIDN:10,Name:"Import of Services"},{NatureOfAdjustmentId:2,UIDN:11,Name:"ISD Transfer"},{NatureOfAdjustmentId:2,UIDN:12,Name:"Others"},{NatureOfAdjustmentId:2,UIDN:13,Name:"Purchase from SEZ"},{NatureOfAdjustmentId:2,UIDN:14,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:2,UIDN:15,Name:"Purchase under reverse charge"},{NatureOfAdjustmentId:2,UIDN:16,Name:"Re-claim of reversal ITC (on account of buyer payment)"},{NatureOfAdjustmentId:2,UIDN:17,Name:"Re-claim of reversal ITC -Rule 42 (2)(b)"},{NatureOfAdjustmentId:2,UIDN:18,Name:"TCS Adjustment"},{NatureOfAdjustmentId:2,UIDN:19,Name:"TDS Adjustment"},{NatureOfAdjustmentId:2,UIDN:20,Name:"Transitional Credit"},{NatureOfAdjustmentId:3,UIDN:21,Name:"Advance Receipts for Export/SEZ Sales"},{NatureOfAdjustmentId:3,UIDN:22,Name:"Advance Paid under Reverse Charge"},{NatureOfAdjustmentId:3,UIDN:23,Name:"Imports of Capital Goods"},{NatureOfAdjustmentId:3,UIDN:24,Name:"Import of Goods"},{NatureOfAdjustmentId:3,UIDN:25,Name:"Import of Services"},{NatureOfAdjustmentId:3,UIDN:26,Name:"Interest"},{NatureOfAdjustmentId:3,UIDN:27,Name:"Late Fees"},{NatureOfAdjustmentId:3,UIDN:28,Name:"On Account of Advance Receipt"},{NatureOfAdjustmentId:3,UIDN:29,Name:"Others"},{NatureOfAdjustmentId:3,UIDN:30,Name:"Penalty"},{NatureOfAdjustmentId:3,UIDN:31,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:3,UIDN:32,Name:"Purchase under reverse charge"},{NatureOfAdjustmentId:4,UIDN:33,Name:"Import of services"},{NatureOfAdjustmentId:4,UIDN:34,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:4,UIDN:35,Name:"Purchase under reverse charge"},{NatureOfAdjustmentId:6,UIDN:36,Name:"Not Applicable"},{NatureOfAdjustmentId:6,UIDN:37,Name:"Interest"},{NatureOfAdjustmentId:6,UIDN:38,Name:"Late Fees"},{NatureOfAdjustmentId:6,UIDN:39,Name:"Others"},{NatureOfAdjustmentId:6,UIDN:40,Name:"Penalty"},{NatureOfAdjustmentId:7,UIDN:41,Name:"Not Applicable"},{NatureOfAdjustmentId:7,UIDN:42,Name:"Capital credit due to exempted supplies -Rule 43(1)(h)"},{NatureOfAdjustmentId:7,UIDN:43,Name:"Exempt and non-business supplies -Rule 42(1)(h)"},{NatureOfAdjustmentId:7,UIDN:44,Name:"Import of services"},{NatureOfAdjustmentId:7,UIDN:45,Name:"Ineligible credit"},{NatureOfAdjustmentId:7,UIDN:46,Name:"ISD credit note-Rule 39(1)(j)(ii)"},{NatureOfAdjustmentId:7,UIDN:47,Name:"Non-payment to the Supplier -Rule 37(2)"},{NatureOfAdjustmentId:7,UIDN:48,Name:"On account of claiming more - Rule 42 (2)(a)"},{NatureOfAdjustmentId:7,UIDN:49,Name:"Others"},{NatureOfAdjustmentId:7,UIDN:50,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:7,UIDN:51,Name:"Penalty"},{NatureOfAdjustmentId:7,UIDN:52,Name:"Purchase under reverse charge"},{NatureOfAdjustmentId:8,UIDN:53,Name:"Import of services"},{NatureOfAdjustmentId:8,UIDN:54,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:8,UIDN:55,Name:"Purchase under reverse charge"}]}},{key:"GetAlldata",value:function(){i(h(n.prototype),"GetAlldata",this).call(this,x._Q.StatAjustment_GetAll)}},{key:"getById",value:function(e){return i(h(n.prototype),"getById",this).call(this,e,x._Q.StatAjustment_GetById)}},{key:"edit",value:function(e){return i(h(n.prototype),"edit",this).call(this,e,x._Q.StatAjustment_Update)}},{key:"add",value:function(e){return i(h(n.prototype),"add",this).call(this,e,x._Q.StatAjustment_Add)}},{key:"delete",value:function(e){i(h(n.prototype),"delete",this).call(this,e,x._Q.StatAjustment_Delete)}}]),n}(w.a)).\u0275fac=function(e){return new(e||r)(o.LFG(M.eN),o.LFG(x.De),o.LFG(q.Rq),o.LFG(L.D))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r),_=n(89525),U=n(34450),R=n(44667),k=n(39478),J=n(65559),P=n(82217),O=n(8746),Q=n(3679),F=n(66496),E=n(6642),Y=n(3001),G=n(43647),H=n(59843),B=n(91114),$=n(58679),j=n(92859),K=n(48429),z=n(12366),W=n(11661),X=n(25575),ee=n(85895),te=n(65452),ne=n(3359),ie=n(82929),re=n(7225),oe=n(67961),ae=n(9616),le=n(14868),se=["voucherrow"],ce=["vdate"],ue=["refTable"],de=["Inventoryrow"],ge=["EmailModel"],he=["EmailModelM"],pe=["SmsModal"],fe=["f"],ve=["fitemVou"],me=["fitemItem"],Te=["MobileReferenceForm"],Ie=["CostCenter"],Ze=["GodownMaster"],Ae=["challanModal"],xe=["challanModalM"],ye=["ReceiptDeliveryModal"],Se=["TransactionModal"],De=["chlnaddeditModal"],Ce=["StatAdjustmentModal"],be=["TaxClassificationNature"],Ne=["RecptDetails"],we=["NewTrackingModel"],Me=["ConfigurationModal"],qe=["ConfigurationModalMobile"],Le=["BankModal"],Ve=["RefModal"],_e=["RefModalM"],Ue=["BatchModal"],Re=["BatchModalM"],ke=["JournalStatAdjustmentModal"],Je=["addItemModal"],Pe=["addItemModalVoucher"],Oe=["InventoryModal"];function Qe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"li",177),o.TgZ(1,"label",178),o.TgZ(2,"input",179),o.NdJ("change",function(){o.CHM(n);var e=o.oxw(2);return e.IsItemVoucher=1!=e.IsItemVoucher,e.changeItem()}),o.qZA(),o._UZ(3,"span",153),o.qZA(),o.TgZ(4,"span",180),o._uU(5,"Item Voucher"),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(2);o.xp6(2),o.Q6J("checked",1==i.IsItemVoucher)}}function Fe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",166),o.TgZ(1,"ul",167),o.TgZ(2,"li",168),o.TgZ(3,"button",169),o.NdJ("click",function(){return o.CHM(n),o.oxw().onCancel()}),o._UZ(4,"i",170),o.qZA(),o.qZA(),o.TgZ(5,"li",171),o.TgZ(6,"strong"),o._uU(7),o.qZA(),o.qZA(),o.YNc(8,Qe,6,1,"li",172),o.TgZ(9,"li",173),o.TgZ(10,"div",174),o.NdJ("click",function(){return o.CHM(n),o.oxw().ShowConfigurationModal()}),o.TgZ(11,"a",175),o._UZ(12,"i",176),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(7),o.Oqu(i.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",!("RealEstate"!=i.accountService.getCompanyData.Type&&"Trading"!=i.accountService.getCompanyData.Type&&"Manufacturing"!=i.accountService.getCompanyData.Type||"Debit Note"!=i.accountService.singleresult.VT&&"Credit Note"!=i.accountService.singleresult.VT&&"Purchase"!=i.accountService.singleresult.VT&&"Sales"!=i.accountService.singleresult.VT))}}function Ee(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",181),o.TgZ(1,"ul",167),o.TgZ(2,"li",182),o.TgZ(3,"ion-icon",183),o.NdJ("click",function(){return o.CHM(n),o.oxw().goback()}),o.qZA(),o.qZA(),o.TgZ(4,"li",184),o.TgZ(5,"strong"),o._uU(6),o.qZA(),o.qZA(),o.TgZ(7,"li",185),o.TgZ(8,"div",174),o.NdJ("click",function(){return o.CHM(n),o.oxw().ShowConfigurationModal()}),o.TgZ(9,"a",175),o._UZ(10,"i",176),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(6),o.Oqu(i.accountService.singleresult.VT)}}function Ye(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",186),o.TgZ(1,"label",187),o._uU(2,"Item Voucher"),o.qZA(),o._UZ(3,"br"),o.TgZ(4,"label",188),o.TgZ(5,"input",179),o.NdJ("change",function(){o.CHM(n);var e=o.oxw();return e.IsItemVoucher=1!=e.IsItemVoucher,e.changeItem()}),o.qZA(),o._UZ(6,"span",153),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(5),o.Q6J("checked",1==i.IsItemVoucher)}}function Ge(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Bill No"),o.qZA())}function He(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Ref. No"),o.qZA())}function Be(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function $e(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Be,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(5);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}var je=function(e){return{"is-invalid":e}};function Ke(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",189),o.TgZ(1,"label",190),o.YNc(2,Ge,2,0,"span",32),o.YNc(3,He,2,0,"span",32),o.qZA(),o.TgZ(4,"input",191,192),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().accountService.singleresult.BNO=e}),o.qZA(),o.YNc(6,$e,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(5),r=o.oxw(),a=o.MAs(6);o.xp6(2),o.Q6J("ngIf","Purchase"==r.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf","Receipt Note"==r.accountService.singleresult.VT||"Delivery Note"==r.accountService.singleresult.VT||"SalesOrder"==r.accountService.singleresult.VT||"PurchaseOrder"==r.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngClass",o.VKq(6,je,a.submitted&&i.invalid))("required","Purchase"==r.accountService.singleresult.VT)("ngModel",r.accountService.singleresult.BNO),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function ze(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function We(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,ze,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(4);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Xe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",194),o.TgZ(1,"label",195),o._uU(2,"Due Date"),o.qZA(),o.TgZ(3,"input",196,197),o.NdJ("selected",function(e){return o.CHM(n),o.oxw().onDueDateSelect(e)}),o.qZA(),o.YNc(5,We,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(4),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("ngClass",o.VKq(3,je,a.submitted&&i.invalid))("startDate",r.accountService.singleresult.DDt),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function et(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(4);return o.oxw().openLedgerPopup(e,-1,0)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function tt(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.LN," ")}function nt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item;o.oxw();var t=o.MAs(4);return o.oxw().openLedgerPopupforedit(t,e.UIDN,-1,0)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(2);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function it(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function rt(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,it,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(5);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function ot(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",198),o.TgZ(1,"label",199),o._uU(2),o.qZA(),o.TgZ(3,"ng-select",200,201),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().companyLedgerService.singleresult=e})("keyup",function(e){o.CHM(n);var t=o.MAs(4),i=o.oxw();return i.LedgerKeyEvent(e,t,-1,0,null!=i.companyLedgerService.singleresult?i.companyLedgerService.singleresult.UIDN:0)})("change",function(){o.CHM(n);var e=o.oxw();return e.finalcalculation(),e.BindStateCountry(),e.RecptDetailsModel(2)})("keydown.Tab",function(){return o.CHM(n),o.oxw().RecptDetailsModel(2)}),o.YNc(6,et,3,0,"ng-template",136),o.YNc(7,tt,1,1,"ng-template",137),o.YNc(8,nt,4,3,"ng-template",138),o.qZA(),o.YNc(9,rt,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(5),r=o.oxw(),a=o.MAs(6);o.xp6(2),o.hij("Select ",r.AccountText,""),o.xp6(1),o.s9C("placeholder",r.AccountText),o.Q6J("tabIndex",4)("virtualScroll",!0)("items",r.FromLedger)("ngClass",o.VKq(9,je,a.submitted&&i.invalid))("ngModel",r.companyLedgerService.singleresult)("loading",r.companyLedgerService.loading),o.xp6(6),o.Q6J("ngIf",a.submitted&&i.invalid)}}function at(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(5);return o.oxw().openLedgerPopup(e,-1,0)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function lt(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.LN," ")}function st(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item;o.oxw();var t=o.MAs(5);return o.oxw().openLedgerPopupforedit(t,e.UIDN,-2,0)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(2);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function ct(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function ut(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,ct,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(6);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function dt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",198),o.TgZ(1,"div"),o.TgZ(2,"label",206),o._uU(3),o.qZA(),o.TgZ(4,"ng-select",207,208),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().PurchaseLedger=e})("change",function(){o.CHM(n);var e=o.oxw();return e.finalcalculation(),e.TransactionsModel(2)})("keydown.Tab",function(){return o.CHM(n),o.oxw().TransactionsModel(2)})("keyup",function(e){o.CHM(n);var t=o.MAs(5),i=o.oxw();return i.PurchaseLedgerKeyEvent(e,t,-1,0,null!=i.PurchaseLedger?i.PurchaseLedger.UIDN:0)}),o.YNc(7,at,3,0,"ng-template",136),o.YNc(8,lt,1,1,"ng-template",137),o.YNc(9,st,4,3,"ng-template",138),o.qZA(),o.qZA(),o.YNc(10,ut,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(6),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Oqu(r.AccountInventoryText),o.xp6(1),o.s9C("placeholder",r.AccountInventoryText),o.Q6J("tabIndex",5)("virtualScroll",!0)("items",r.ToLedger)("ngClass",o.VKq(9,je,a.submitted&&i.invalid))("ngModel",r.PurchaseLedger)("loading",r.companyLedgerService.loading),o.xp6(6),o.Q6J("ngIf",a.submitted&&i.invalid)}}function gt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",209),o.TgZ(1,"label",210),o._uU(2,"Org Invoice"),o.qZA(),o.TgZ(3,"input",211),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().accountService.singleresult.OINO=e}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("ngModel",i.accountService.singleresult.OINO)}}function ht(e,t){if(1&e&&(o.TgZ(0,"small",202),o._uU(1),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.AsE(" Loaded ",n.siteService.result.length," of ",n.siteService.totalItems," ")}}function pt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",212),o.TgZ(1,"label",213),o._uU(2,"Site/Branch"),o.qZA(),o.TgZ(3,"ng-select",214,215),o.NdJ("change",function(e){return o.CHM(n),o.oxw().getsitestructuredetail(e)})("ngModelChange",function(e){return o.CHM(n),o.oxw().siteService.singleresult=e}),o.YNc(5,ht,2,2,"ng-template",136),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("tabIndex",7)("items",i.siteService.result)("ngModel",i.siteService.singleresult)("loading",i.siteService.loading)}}function ft(e,t){if(1&e&&(o.TgZ(0,"small",202),o._uU(1),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.AsE(" Loaded ",n.filteredData.length," of ",n.filteredData.length," ")}}function vt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",216),o.TgZ(1,"label",217),o._uU(2,"Site Structure"),o.qZA(),o.TgZ(3,"ng-select",218,219),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().siteStrSingle=e}),o.YNc(5,ft,2,2,"ng-template",136),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.ekj("col-md-6",i.companyLedgerService.IsMobileview),o.xp6(3),o.Q6J("items",i.filteredData)("ngModel",i.siteStrSingle)}}function mt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(4);return o.oxw().openCostCenterPopup(e)}),o._uU(2," Add New Cost Center "),o.qZA(),o.qZA()}}function Tt(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.NA," ")}function It(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",220),o.TgZ(1,"label",221),o._uU(2,"Cost Center"),o.qZA(),o.TgZ(3,"ng-select",222,223),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().CostCategoryservice.singleresult=e}),o.YNc(5,mt,3,0,"ng-template",136),o.YNc(6,Tt,1,1,"ng-template",137),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("tabIndex",9)("items",i.CostCategoryservice.result)("ngModel",i.CostCategoryservice.singleresult)("loading",i.CostCategoryservice.loading)}}function Zt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",224),o.TgZ(1,"label",225),o._uU(2,"Select PayMode"),o.qZA(),o.TgZ(3,"ng-select",226,227),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().accountService.singleresult.PayTypeI=e})("change",function(){o.CHM(n);var e=o.oxw();return e.SelectPaymentMode(e.accountService.singleresult.PayTypeI)}),o.TgZ(5,"ng-option",228),o._uU(6,"Setupcharges"),o.qZA(),o.TgZ(7,"ng-option",229),o._uU(8,"MaintenanceCharges"),o.qZA(),o.TgZ(9,"ng-option",230),o._uU(10,"AddOnCharges"),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("tabIndex",10)("ngModel",i.accountService.singleresult.PayTypeI)}}function At(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",231),o.TgZ(1,"label",9),o._uU(2,"Enter Month"),o.qZA(),o.TgZ(3,"input",232),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().accountService.singleresult.ActivateMonth=e}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("ngModel",i.accountService.singleresult.ActivateMonth)}}function xt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",224),o.TgZ(1,"label",233),o._uU(2,"Select AddOn"),o.qZA(),o.TgZ(3,"ng-select",234,235),o.NdJ("change",function(e){return o.CHM(n),o.oxw().getaddonplanDetails(e)})("ngModelChange",function(e){return o.CHM(n),o.oxw().accountService.singleresult.AddOnId=e}),o.TgZ(5,"ng-option",228),o._uU(6,"Facebook"),o.qZA(),o.TgZ(7,"ng-option",229),o._uU(8,"Incoming Call"),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("tabIndex",13)("ngModel",i.accountService.singleresult.AddOnId)}}function yt(e,t){if(1&e&&o._uU(0),2&e){var n=t.item;o.AsE(" ",n.PlanName," -- ",n.PB," ")}}function St(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",224),o.TgZ(1,"label",236),o._uU(2,"Select Add On Plan"),o.qZA(),o.TgZ(3,"ng-select",237,238),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().addonPlanService.singleresult=e})("change",function(e){return o.CHM(n),o.oxw().calculateaddplan(e)}),o.YNc(5,yt,1,2,"ng-template",138),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("tabIndex",14)("items",i.addonPlanService.result)("ngModel",i.addonPlanService.singleresult)("loading",i.addonPlanService.loading)}}function Dt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",239),o.TgZ(1,"label",240),o._uU(2,"Country"),o.qZA(),o.TgZ(3,"app-country",241),o.NdJ("oncountrychange",function(e){return o.CHM(n),o.oxw().accountService.singleresult.CO=e}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("CountryTab",15)("isRequired",!1)("countryinput",i.accountService.singleresult.CO)}}function Ct(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",242),o.TgZ(1,"label",243),o._uU(2,"State"),o.qZA(),o.TgZ(3,"app-states",244),o.NdJ("onStateChange",function(e){return o.CHM(n),o.oxw().accountService.singleresult.STA=e}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("StateTab",16)("isRequired",!1)("StateInput",i.accountService.singleresult.STA)}}function bt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",245),o.TgZ(1,"label",246),o._uU(2,"Stat Adjustment"),o.qZA(),o.TgZ(3,"div",247),o.TgZ(4,"label",248),o.TgZ(5,"input",249),o.NdJ("change",function(){o.CHM(n);var e=o.oxw();return e.IsStatAdjust=1!=e.IsStatAdjust,e.openstatAdjustmentpopup()}),o.qZA(),o._UZ(6,"span",153),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(5),o.Q6J("checked",1==i.IsStatAdjust)}}function Nt(e,t){if(1&e&&(o.TgZ(0,"div",250),o._uU(1," Used For: "),o.TgZ(2,"b"),o._uU(3),o.qZA(),o._uU(4),o.qZA()),2&e){var n=o.oxw();o.xp6(3),o.Oqu(n.TaxAdjustment),o.xp6(1),o.hij(" - (Additional Details: ",n.GSTAdditionalDetails,") ")}}function wt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",255),o.TgZ(1,"a",256),o.NdJ("click",function(){return o.CHM(n),o.oxw(2).openChallanpopup(-1)}),o._uU(2," Select Challan(s) "),o.qZA(),o.qZA()}}function Mt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",257),o.TgZ(1,"button",258),o.NdJ("click",function(){return o.CHM(n),o.oxw(2).openReferencepopup(-1,0)}),o._uU(2," Add Reference "),o.qZA(),o.qZA()}}function qt(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1," Receipt Note"),o.qZA())}function Lt(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1," Delivery Note"),o.qZA())}function Vt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",259),o.TgZ(1,"a",260),o.NdJ("click",function(){return o.CHM(n),o.oxw(2).openReceiptDeliverypopup(-1)}),o.YNc(2,qt,2,0,"span",32),o.YNc(3,Lt,2,0,"span",32),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(2);o.xp6(2),o.Q6J("ngIf","Purchase"==i.accountService.singleresult.VT||"Debit Note"==i.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf","Sales"==i.accountService.singleresult.VT||"Credit Note"==i.accountService.singleresult.VT)}}function _t(e,t){if(1&e&&(o.TgZ(0,"div",251),o.YNc(1,wt,3,0,"div",252),o.YNc(2,Mt,3,0,"div",253),o.YNc(3,Vt,4,2,"div",254),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.Q6J("ngIf",("Purchase"==n.accountService.singleresult.VT||"Debit Note"==n.accountService.singleresult.VT)&&"RealEstate"==n.accountService.getCompanyData.Type),o.xp6(1),o.Q6J("ngIf","Purchase"==n.accountService.singleresult.VT||"Sales"==n.accountService.singleresult.VT||"Credit Note"==n.accountService.singleresult.VT||"Debit Note"==n.accountService.singleresult.VT||"Delivery Note"==n.accountService.singleresult.VT||"Receipt Note"==n.accountService.singleresult.VT||"SalesOrder"==n.accountService.singleresult.VT||"PurchaseOrder"==n.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",n.IsItemVoucher&&("Purchase"==n.accountService.singleresult.VT||"Sales"==n.accountService.singleresult.VT||"Credit Note"==n.accountService.singleresult.VT||"Debit Note"==n.accountService.singleresult.VT))}}function Ut(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",265),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(3).openChlnaddeditpopup(e.ChId)}),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3,"-- "),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(2),o.hij(" Challan :",i.ChNo," "),o.xp6(3),o.Oqu(i.Amt)}}function Rt(e,t){if(1&e&&(o.TgZ(0,"div",263),o.YNc(1,Ut,6,2,"a",264),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",n.companyLedgerService.singleresult.challan)}}function kt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",265),o.NdJ("click",function(){return o.CHM(n),o.oxw(3).openReceiptDelveiryeditpopup()}),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3,"-- "),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=o.oxw(3);o.xp6(2),o.AsE(" ",r.receiptDeliveryHeaderText," :",i.BNO," "),o.xp6(3),o.Oqu(i.VNO)}}function Jt(e,t){if(1&e&&(o.TgZ(0,"div",263),o.YNc(1,kt,6,3,"a",264),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",n.companyLedgerService.singleresult.vouchers)}}function Pt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",265),o.NdJ("click",function(){return o.CHM(n),o.oxw(4).openReferencepopup(-1,0)}),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(2),o.hij(" ",i.Ref_Type," "),o.xp6(1),o.hij("-",i.Ref_Tag,"-- "),o.xp6(2),o.AsE(" ",i.Dr>0?i.Dr:i.Cr," ",i.AmtType," , ")}}function Ot(e,t){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,Pt,6,4,"a",264),o.qZA()),2&e){var n=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",n.getreference(n.companyLedgerService.singleresult))}}function Qt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",267),o.TgZ(1,"span",268),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(4).openReferencepopup(e.Index,0)}),o._uU(2),o.qZA(),o._uU(3),o.TgZ(4,"strong",268),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(4).openReferencepopup(e.Index,0)}),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(2),o.hij(" ",i.Ref_Type," "),o.xp6(1),o.hij("-",i.Ref_Tag,"-- "),o.xp6(2),o.AsE(" ",i.Dr>0?i.Dr:i.Cr," ",i.AmtType," , ")}}function Ft(e,t){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,Qt,6,4,"a",266),o.qZA()),2&e){var n=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",n.getreference(n.companyLedgerService.singleresult))}}function Et(e,t){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,Ot,2,1,"div",32),o.YNc(2,Ft,2,1,"div",32),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!n.accountService.IsMobileview),o.xp6(1),o.Q6J("ngIf",n.accountService.IsMobileview)}}function Yt(e,t){if(1&e&&(o.TgZ(0,"div",261),o.YNc(1,Rt,2,1,"div",262),o.YNc(2,Jt,2,1,"div",262),o.YNc(3,Et,3,2,"div",32),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.Q6J("ngIf",null!=n.companyLedgerService.singleresult&&null!=n.companyLedgerService.singleresult.challan&&null!=n.companyLedgerService.singleresult.challan),o.xp6(1),o.Q6J("ngIf",null!=n.companyLedgerService.singleresult&&null!=n.companyLedgerService.singleresult.vouchers&&null!=n.companyLedgerService.singleresult.vouchers),o.xp6(1),o.Q6J("ngIf",null!=n.getreference(n.companyLedgerService.singleresult))}}function Gt(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"hr"),o.qZA())}function Ht(e,t){1&e&&(o.TgZ(0,"a",281),o._uU(1," Add Inventory Items "),o.qZA())}function Bt(e,t){1&e&&(o.TgZ(0,"a",281),o._uU(1," Add Items "),o.qZA())}function $t(e,t){if(1&e&&(o.TgZ(0,"div",292),o.TgZ(1,"h5",293),o._uU(2),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(n.LedDet.LN)}}function jt(e,t){if(1&e&&(o.TgZ(0,"a"),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3,"-- "),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=t.$implicit;o.xp6(2),o.hij(" ",n.BTNa," "),o.xp6(3),o.AsE(" ",n.Qty," -- ",n.Amt," ")}}function Kt(e,t){if(1&e&&(o.TgZ(0,"div",294),o.TgZ(1,"h5",293),o._uU(2),o.qZA(),o.YNc(3,jt,6,3,"a",277),o.qZA()),2&e){var n=o.oxw(),i=n.$implicit,r=n.index,a=o.oxw(2);o.xp6(2),o.hij(" ",i.InventoryDetails.InvN,""),o.xp6(1),o.Q6J("ngForOf",a.getgodownDetailsMobile(i.InventoryDetails,r))}}function zt(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(1),o.hij(" ",n.DrAmt,"")}}function Wt(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(1),o.hij(" ",n.DrAmt,"")}}function Xt(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(1),o.hij(" ",n.CrAmt,"")}}function en(e,t){if(1&e&&(o.TgZ(0,"div",295),o._uU(1),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(1),o.hij(" ",n.CRDR," ")}}function tn(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){var n=o.oxw(2).$implicit;o.xp6(1),o.hij("QTY: ",n.actqty,",")}}function nn(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){var n=o.oxw(2).$implicit;o.xp6(1),o.hij("Rate: ",n.rate,",")}}function rn(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){var n=o.oxw(2).$implicit;o.xp6(1),o.hij("Discount: ",n.Disc,"")}}function on(e,t){if(1&e&&(o.TgZ(0,"div",296),o.YNc(1,tn,2,1,"span",32),o.YNc(2,nn,2,1,"span",32),o.YNc(3,rn,2,1,"span",32),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",null!=n.actqty),o.xp6(1),o.Q6J("ngIf",null!=n.rate),o.xp6(1),o.Q6J("ngIf",null!=n.Disc)}}function an(e,t){if(1&e&&(o.TgZ(0,"div",299),o._uU(1),o.qZA()),2&e){var n=t.$implicit;o.xp6(1),o.hij(" Tax: ",n.LN," ")}}function ln(e,t){if(1&e&&(o.TgZ(0,"div",297),o.YNc(1,an,2,1,"div",298),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",n.TaxLedger)}}function sn(e,t){if(1&e&&(o.TgZ(0,"a",300),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=t.$implicit;o.xp6(2),o.hij(" ",n.Ref_Type," "),o.xp6(1),o.hij("--",n.Ref_Tag,"-- "),o.xp6(2),o.AsE(" ",n.Balance," - ",n.AmtType," ")}}function cn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"a",265),o.NdJ("click",function(){var e=o.CHM(n).index;return o.oxw(2).showVouchers(e)}),o.TgZ(2,"div",282),o.TgZ(3,"div",7),o.YNc(4,$t,3,1,"div",283),o.YNc(5,Kt,4,2,"div",284),o.TgZ(6,"div",285),o.YNc(7,zt,2,1,"span",32),o.YNc(8,Wt,2,1,"span",32),o.YNc(9,Xt,2,1,"span",32),o.qZA(),o.YNc(10,en,2,1,"div",286),o.qZA(),o.TgZ(11,"div",7),o.YNc(12,on,4,3,"div",287),o.qZA(),o.TgZ(13,"div",7),o.YNc(14,ln,2,1,"div",288),o.TgZ(15,"div",289),o.TgZ(16,"div",290),o.YNc(17,sn,6,4,"a",291),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=o.oxw(2);o.xp6(4),o.Q6J("ngIf",!r.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",r.IsItemVoucher&&"undefined"!=i.InventoryDetails&&null!=i.InventoryDetails),o.xp6(2),o.Q6J("ngIf",!r.IsCRDR||r.IsItemVoucher&&i.DrAmt>0),o.xp6(1),o.Q6J("ngIf",r.IsCRDR&&!r.IsItemVoucher&&i.DrAmt>0),o.xp6(1),o.Q6J("ngIf",r.IsCRDR&&!r.IsItemVoucher&&i.CrAmt>0),o.xp6(1),o.Q6J("ngIf",r.IsCRDR&&!r.IsItemVoucher),o.xp6(2),o.Q6J("ngIf",r.IsItemVoucher),o.xp6(2),o.Q6J("ngIf",!r.IsCRDR||r.IsItemVoucher),o.xp6(3),o.Q6J("ngForOf",r.getreference(i.LedDet))}}function un(e,t){if(1&e&&(o.TgZ(0,"div",301),o.TgZ(1,"div",302),o._UZ(2,"hr",303),o._uU(3),o._UZ(4,"br"),o._UZ(5,"hr",303),o._uU(6),o._UZ(7,"hr",303),o.qZA(),o.qZA()),2&e){var n=o.oxw(2);o.xp6(3),o.hij(" Total Cr: ",n.GrandCRTotal,""),o.xp6(3),o.hij(" Total Dr: ",n.GrandTotal," ")}}function dn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",7),o.TgZ(2,"div",269),o.TgZ(3,"div",270),o.TgZ(4,"div",271),o.TgZ(5,"div",272),o.TgZ(6,"h4",273),o.YNc(7,Ht,2,0,"a",274),o.YNc(8,Bt,2,0,"a",274),o.qZA(),o.qZA(),o.TgZ(9,"div",275),o.TgZ(10,"div",276),o.YNc(11,cn,18,9,"div",277),o.TgZ(12,"div",278),o.TgZ(13,"input",279),o.NdJ("click",function(){return o.CHM(n),o.oxw().adddNewTransaction()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(14,un,8,2,"div",280),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(7),o.Q6J("ngIf",i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!i.IsItemVoucher),o.xp6(3),o.Q6J("ngForOf",i.tableVouchers),o.xp6(3),o.Q6J("ngIf",i.IsCRDR&&i.tableVouchers.length>0)}}function gn(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"hr"),o.qZA())}function hn(e,t){if(1&e&&(o.TgZ(0,"div",309),o.TgZ(1,"h5",310),o._uU(2),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.hij(" ",n.LedDet.LN," ")}}function pn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"a",265),o.NdJ("click",function(){var e=o.CHM(n).index;return o.oxw(2).showItemVouchers(e)}),o.TgZ(2,"div",282),o.TgZ(3,"div",7),o.YNc(4,hn,3,1,"div",306),o.TgZ(5,"div",307),o._uU(6),o.qZA(),o.TgZ(7,"div",308),o._uU(8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=o.oxw(2);o.xp6(4),o.Q6J("ngIf","undefined"!=i.LedDet&&null!=i.LedDet&&r.IsItemVoucher&&("Cr"==i.CRDR||""==i.CRDR||null==i.CRDR||null==i.CRDR)),o.xp6(2),o.hij(" Rate:",i.rate," "),o.xp6(2),o.hij(" ",i.DrAmt," ")}}function fn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",7),o.TgZ(2,"div",269),o.TgZ(3,"div",270),o.TgZ(4,"div",271),o.TgZ(5,"div",272),o.TgZ(6,"h4",273),o.TgZ(7,"a",304),o._uU(8," Add Account Details "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",305),o.TgZ(10,"div",276),o.YNc(11,pn,9,3,"div",277),o.TgZ(12,"div"),o.TgZ(13,"input",279),o.NdJ("click",function(){return o.CHM(n),o.oxw().adddNewItemVoucherAccount()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(11),o.Q6J("ngForOf",i.tableVoucherForInvnetory)}}function vn(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"hr"),o.qZA())}function mn(e,t){1&e&&(o.TgZ(0,"th",322),o._uU(1,"Cr/Dr"),o.qZA())}function Tn(e,t){1&e&&(o.TgZ(0,"th",323),o._uU(1," Select Account"),o.qZA())}function In(e,t){1&e&&(o.TgZ(0,"th",318),o._uU(1," Select Item"),o.qZA())}function Zn(e,t){1&e&&(o.TgZ(0,"th",320),o._uU(1," Actual QTY"),o.qZA())}function An(e,t){1&e&&(o.TgZ(0,"th",320),o._uU(1," Rate"),o.qZA())}function xn(e,t){1&e&&(o.TgZ(0,"th",320),o._uU(1," Disc"),o.qZA())}function yn(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Amount"),o.qZA())}function Sn(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Debit"),o.qZA())}function Dn(e,t){1&e&&(o.TgZ(0,"th",318),o._uU(1," Credit"),o.qZA())}function Cn(e,t){1&e&&(o.TgZ(0,"th",318),o._uU(1,"Tax"),o.qZA())}function bn(e,t){1&e&&(o.TgZ(0,"th",320),o._uU(1," Reference"),o.qZA())}function Nn(e,t){1&e&&(o.TgZ(0,"th"),o._uU(1," Godown "),o.qZA())}function wn(e,t){1&e&&o._UZ(0,"th",322)}function Mn(e,t){if(1&e&&o._UZ(0,"th",326),2&e){var n=o.oxw(3);o.Q6J("ngClass",!n.IsCRDR||"Contra"!=n.accountService.singleresult.VT&&"Debit Note"!=n.accountService.singleresult.VT&&"Credit Note"!=n.accountService.singleresult.VT&&"Purchase"!=n.accountService.singleresult.VT&&"Sales"!=n.accountService.singleresult.VT?!n.IsCRDR||"Receipt"!=n.accountService.singleresult.VT&&"Journal"!=n.accountService.singleresult.VT&&"Payment"!=n.accountService.singleresult.VT?"Contra"!=n.accountService.singleresult.VT&&"Purchase"!=n.accountService.singleresult.VT&&"Sales"!=n.accountService.singleresult.VT&&"Debit Note"!=n.accountService.singleresult.VT&&"Credit Note"!=n.accountService.singleresult.VT&&"Delivery Note"!=n.accountService.singleresult.VT&&"Receipt Note"!=n.accountService.singleresult.VT&&"SalesOrder"!=n.accountService.singleresult.VT&&"PurchaseOrder"!=n.accountService.singleresult.VT?"col-5":"col-7":"col-4":"col-6")}}function qn(e,t){1&e&&o._UZ(0,"th",318)}function Ln(e,t){1&e&&o._UZ(0,"th",320)}function Vn(e,t){1&e&&o._UZ(0,"th",320)}function _n(e,t){1&e&&o._UZ(0,"th",320)}function Un(e,t){1&e&&o._UZ(0,"span")}function Rn(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){var n=o.oxw(3);o.xp6(1),o.Oqu(n.GrandTotal)}}function kn(e,t){if(1&e&&(o.TgZ(0,"th",320),o._uU(1),o.qZA()),2&e){var n=o.oxw(3);o.xp6(1),o.hij(" ",n.GrandCRTotal,"")}}function Jn(e,t){1&e&&o._UZ(0,"th",318)}function Pn(e,t){1&e&&o._UZ(0,"th",320)}function On(e,t){1&e&&o._UZ(0,"th",320)}function Qn(e,t){if(1&e&&(o.TgZ(0,"tfoot"),o.TgZ(1,"tr"),o.YNc(2,wn,1,0,"th",314),o.YNc(3,Mn,1,1,"th",324),o.YNc(4,qn,1,0,"th",316),o.YNc(5,Ln,1,0,"th",317),o.YNc(6,Vn,1,0,"th",317),o.YNc(7,_n,1,0,"th",317),o.TgZ(8,"th",320),o.YNc(9,Un,1,0,"span",32),o.YNc(10,Rn,2,1,"span",32),o.qZA(),o.YNc(11,kn,2,1,"th",317),o.YNc(12,Jn,1,0,"th",319),o.YNc(13,Pn,1,0,"th",317),o.YNc(14,On,1,0,"th",317),o._UZ(15,"th",325),o.qZA(),o.qZA()),2&e){var n=o.oxw(2);o.xp6(2),o.Q6J("ngIf",n.IsCRDR&&!n.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!n.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",n.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",n.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",n.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",n.IsItemVoucher),o.xp6(2),o.Q6J("ngIf",!n.IsCRDR||n.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",n.IsCRDR&&!n.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",n.IsCRDR&&!n.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!n.IsCRDR),o.xp6(1),o.Q6J("ngIf","Contra"!=n.accountService.singleresult.VT&&!n.IsItemVoucher&&"Purchase"!=n.accountService.singleresult.VT&&"Sales"!=n.accountService.singleresult.VT&&"Debit Note"!=n.accountService.singleresult.VT&&"Credit Note"!=n.accountService.singleresult.VT&&"Delivery Note"!=n.accountService.singleresult.VT&&"Receipt Note"!=n.accountService.singleresult.VT&&"SalesOrder"!=n.accountService.singleresult.VT&&"PurchaseOrder"!=n.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",n.IsItemVoucher)}}function Fn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",337),o.TgZ(1,"ng-select",338),o.NdJ("change",function(e){o.CHM(n);var t=o.oxw().index;return o.oxw(2).changecrdrEvent(e,t)})("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.CRDR=e}),o.TgZ(2,"ng-option",339),o._uU(3,"Cr"),o.qZA(),o.TgZ(4,"ng-option",340),o._uU(5,"Dr"),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(),r=i.$implicit,a=i.index;o.xp6(1),o.MGl("name","CrDr_",r.Index,""),o.MGl("id","CrDr_",r.Index,""),o.Q6J("tabIndex",r.TabIndex)("disabled",0==a)("ngModel",r.CRDR)}}function En(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.LN," ")}function Yn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item;o.oxw(2);var t=o.MAs(3),i=o.oxw().$implicit;return o.oxw(2).openLedgerPopupforedit(t,e.UIDN,i.Index,1)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(5);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Gn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(3),t=o.oxw().$implicit;return o.oxw(2).openLedgerPopup(e,t.Index,1)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA(),o.YNc(3,En,1,1,"ng-template",137),o.YNc(4,Yn,4,3,"ng-template",138)}}function Hn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",265),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(2).index;return o.oxw(2).openReferencepopup(e,0)}),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(2),o.hij(" ",i.Ref_Type," "),o.xp6(1),o.hij("-",i.Ref_Tag,"-- "),o.xp6(2),o.AsE(" ",i.Balance," ",i.AmtType," ")}}function Bn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",341),o.TgZ(1,"div"),o.TgZ(2,"ng-select",342,343),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.LedDet=e})("focus",function(){o.CHM(n);var e=o.oxw().$implicit;return o.oxw(2).FocusReferenceOperationType(e.LedDet)})("ngModelChange",function(){o.CHM(n);var e=o.oxw(),t=e.$implicit,i=e.index,r=o.oxw(2);return r.updateReferenceOperationType(t.Index),r.calculateBank(),r.finalcalculation(),r.JournalStatAdjustmentPopup(i)})("keyup",function(e){o.CHM(n);var t=o.MAs(3),i=o.oxw().$implicit;return o.oxw(2).LedgerKeyEvent(e,t,i.Index,1,null!=i.LedDet?i.LedDet.UIDN:0)}),o.YNc(4,Gn,5,0,"ng-template",136),o.qZA(),o.qZA(),o.TgZ(5,"div",344),o.YNc(6,Hn,6,4,"a",264),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit,r=o.oxw(2);o.xp6(2),o.MGl("name","Ledger_",i.Index,""),o.Q6J("tabIndex",i.TabIndex)("virtualScroll",!0)("items",r.ToLedger)("ngModel",i.LedDet)("loading",r.companyLedgerService.loading),o.xp6(4),o.Q6J("ngForOf",r.getreference(i.LedDet))}}function $n(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.LN," ")}function jn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item;o.oxw(2);var t=o.MAs(3),i=o.oxw().$implicit;return o.oxw(2).openLedgerPopupforedit(t,e.UIDN,i.Index,3)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(5);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Kn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(3),t=o.oxw().$implicit;return o.oxw(2).openLedgerPopup(e,t.Index,3)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA(),o.YNc(3,$n,1,1,"ng-template",137),o.YNc(4,jn,4,3,"ng-template",138)}}function zn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",265),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(2).index;return o.oxw(2).openReferencepopup(e,0)}),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(2),o.hij(" ",i.Ref_Type," "),o.xp6(1),o.hij("-",i.Ref_Tag,"-- "),o.xp6(2),o.AsE(" ",i.Balance," ",i.AmtType," ")}}function Wn(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",341),o.TgZ(1,"div"),o.TgZ(2,"ng-select",345,343),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.LedDet=e})("ngModelChange",function(){o.CHM(n);var e=o.oxw(3);return e.calculateBank(),e.finalcalculation()})("keyup",function(e){o.CHM(n);var t=o.MAs(3),i=o.oxw().$implicit;return o.oxw(2).LedgerKeyEvent(e,t,i.Index,3,null!=i.LedDet?i.LedDet.UIDN:0)}),o.YNc(4,Kn,5,0,"ng-template",136),o.qZA(),o.qZA(),o.TgZ(5,"div",344),o.YNc(6,zn,6,4,"a",264),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit,r=o.oxw(2);o.xp6(2),o.MGl("name","Ledger_",i.Index,""),o.Q6J("tabIndex",i.TabIndex)("virtualScroll",!0)("items",r.FromLedger)("items",r.FromLedger)("ngModel",i.LedDet)("loading",r.companyLedgerService.loading),o.xp6(4),o.Q6J("ngForOf",r.getreference(i.LedDet))}}function Xn(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.InvN," ")}function ei(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",349),o.NdJ("click",function(){var e=o.CHM(n).item;return o.oxw(5).openInventoryPopupforedit(e.UIDN)}),o._UZ(1,"i",205),o.qZA(),o.TgZ(2,"a"),o._uU(3),o.qZA()}if(2&e){var i=t.item,r=o.oxw(5);o.Q6J("SignupId",r.SignupId)("UserId",r.UserId),o.xp6(3),o.Oqu(i.InvN)}}function ti(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(3),t=o.oxw().$implicit;return o.oxw(2).openInventoryPopup(e,t.Index)}),o._uU(2," Add New Inventory "),o.qZA(),o.qZA(),o.YNc(3,Xn,1,1,"ng-template",137),o.YNc(4,ei,4,3,"ng-template",138)}}function ni(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",265),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(2).index;return o.oxw(2).opengodownepopup(e)}),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3,"-- "),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(2),o.hij(" ",i.BTNa," "),o.xp6(3),o.AsE(" ",i.Qty," -- ",i.Amt," ")}}function ii(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",341),o.TgZ(1,"div"),o.TgZ(2,"ng-select",346,347),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.InventoryDetails=e})("ngModelChange",function(e){o.CHM(n);var t=o.oxw().index,i=o.oxw(2);return i.calculateBank(),i.getinventorytaxledger(e,t)})("keydown.Tab",function(){return o.CHM(n),o.oxw(3).RecptDetailsModel(2)})("change",function(){return o.CHM(n),o.oxw(3).RecptDetailsModel(2)})("keyup",function(e){o.CHM(n);var t=o.MAs(3),i=o.oxw().$implicit;return o.oxw(2).InventoryKeyEvent(e,t,i.Index,null!=i.InventoryDetails?i.InventoryDetails.UIDN:0)}),o.YNc(4,ti,5,0,"ng-template",136),o.qZA(),o.qZA(),o.TgZ(5,"div",348),o.YNc(6,ni,6,3,"a",264),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(),r=i.$implicit,a=i.index,l=o.oxw(2);o.xp6(2),o.MGl("id","toInv__",r.Index,""),o.MGl("name","toInv__",r.Index,""),o.Q6J("tabIndex",r.TabIndex)("virtualScroll",!0)("items",l.ToInventory)("ngModel",r.InventoryDetails)("loading",l.inventoryService.loading),o.xp6(4),o.Q6J("ngForOf",l.getgodownDetails(r.InventoryDetails,a))}}function ri(e,t){if(1&e&&(o.TgZ(0,"div",354),o.TgZ(1,"div",355),o._uU(2),o.qZA(),o.qZA()),2&e){var n=o.oxw(2).$implicit;o.xp6(2),o.Oqu(n.UN)}}function oi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",330),o.TgZ(1,"div",350),o.TgZ(2,"input",351,352),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.actqty=e})("change",function(){o.CHM(n);var e=o.oxw().index,t=o.oxw(2);return t.BindInventoryIndex(e),t.calculateAmount(),t.finalcalculation(),t.finaltaxcalculate()}),o.qZA(),o.YNc(4,ri,3,1,"div",353),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit;o.xp6(2),o.s9C("tabindex",i.TabIndex),o.MGl("name","actqty__",i.Index,""),o.MGl("id","actqty__",i.Index,""),o.Q6J("disabled",null!=i.godownsdetails&&null!=i.godownsdetails&&i.godownsdetails.length>0)("ngModel",i.actqty),o.xp6(2),o.Q6J("ngIf",""!=i.UN&&null!=i.UN)}}function ai(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",330),o.TgZ(1,"input",356,357),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.rate=e})("change",function(){o.CHM(n);var e=o.oxw().index,t=o.oxw(2);return t.BindInventoryIndex(e),t.calculateAmount(),t.finalcalculation(),t.finaltaxcalculate()}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(),r=i.$implicit,a=i.index;o.xp6(1),o.s9C("tabindex",r.TabIndex),o.MGl("name","Vrate__",r.Index,""),o.MGl("id","Vrate__",a,""),o.Q6J("disabled",null!=r.godownsdetails&&null!=r.godownsdetails&&r.godownsdetails.length>0)("ngModel",r.rate)}}function li(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",330),o.TgZ(1,"input",358,359),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.Disc=e})("change",function(){o.CHM(n);var e=o.oxw().index,t=o.oxw(2);return t.BindInventoryIndex(e),t.calculateAmount(),t.finalcalculation(),t.finaltaxcalculate()}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit;o.xp6(1),o.s9C("tabindex",i.TabIndex),o.MGl("name","Disc__",i.Index,""),o.MGl("id","Disc__",i.Index,""),o.Q6J("ngModel",i.Disc)}}function si(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",330),o.TgZ(1,"input",360,361),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.CrAmt=e})("keydown.Tab",function(){o.CHM(n);var e=o.oxw().index;return o.oxw(2).NatureOfTransactionsModel(e)})("change",function(){return o.CHM(n),o.oxw(3).finalcalculation()}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit;o.xp6(1),o.s9C("tabindex",i.TabIndex),o.MGl("name","CrAmt__",i.Index,""),o.MGl("id","CrAmt__",i.Index,""),o.Q6J("disabled","Dr"==i.CRDR)("ngModel",i.CrAmt)}}function ci(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(2),t=o.oxw().$implicit;return o.oxw(2).openLedgerPopup(e,t.Index,2)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function ui(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item;o.oxw();var t=o.MAs(2),i=o.oxw().$implicit;return o.oxw(2).openLedgerPopupforedit(t,e.UIDN,i.Index,2)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(4);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function di(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",330),o.TgZ(1,"ng-select",362,363),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.TaxLedger=e})("change",function(){o.CHM(n);var e=o.oxw().$implicit,t=o.oxw(2);return t.setInventoryIndex(e),t.finalcalculation(),t.finaltaxcalculate()})("keyup",function(e){o.CHM(n);var t=o.MAs(2),i=o.oxw().$implicit;return o.oxw(2).LedgerKeyEvent(e,t,i.Index,2,null!=i.TaxLedger?i.TaxLedger.UIDN:0)}),o.YNc(3,ci,3,0,"ng-template",136),o.YNc(4,ui,4,3,"ng-template",138),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit,r=o.oxw(2);o.xp6(1),o.MGl("name","TaxLedger_",i.Index,""),o.Q6J("tabIndex",i.TabIndex)("multiple",!0)("items",r.TaxLedger)("ngModel",i.TaxLedger)("loading",r.companyLedgerService.loading)}}function gi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",364),o.TgZ(1,"a",365),o.NdJ("click",function(){o.CHM(n);var e=o.oxw().index;return o.oxw(2).openReferencepopup(e,0)}),o._uU(2," Reference "),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit;o.xp6(1),o.s9C("tabindex",i.TabIndex)}}function hi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",364),o.TgZ(1,"a",365),o.NdJ("click",function(){o.CHM(n);var e=o.oxw().index;return o.oxw(2).opengodownepopup(e)}),o._uU(2," Godown "),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit;o.xp6(1),o.s9C("tabindex",i.TabIndex)}}function pi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr"),o.YNc(1,Fn,6,5,"td",327),o.YNc(2,Bn,7,7,"td",328),o.YNc(3,Wn,7,8,"td",328),o.YNc(4,ii,7,8,"td",328),o.YNc(5,oi,5,6,"td",329),o.YNc(6,ai,3,5,"td",329),o.YNc(7,li,3,4,"td",329),o.TgZ(8,"td",330),o.TgZ(9,"input",331,332),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.DrAmt=e})("change",function(){return o.CHM(n),o.oxw(2).finalcalculation()})("keydown.Tab",function(){var e=o.CHM(n).index;return o.oxw(2).NatureOfTransactionsModel(e)}),o.qZA(),o.qZA(),o.YNc(11,si,3,5,"td",329),o.YNc(12,di,5,6,"td",329),o.YNc(13,gi,3,1,"td",333),o.YNc(14,hi,3,1,"td",333),o.TgZ(15,"td",334),o.TgZ(16,"a",335),o.NdJ("click",function(){var e=o.CHM(n),t=e.$implicit,i=e.index,r=o.oxw(2);return r.FocusReferenceOperationType(t.LedDet),r.updateReferenceOperationType(t.Index),r.deleteLedger(i)}),o._UZ(17,"i",336),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=o.oxw(2);o.xp6(1),o.Q6J("ngIf",r.IsCRDR&&!r.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!r.IsItemVoucher&&("Cr"==i.CRDR||""==i.CRDR||null==i.CRDR||null==i.CRDR)),o.xp6(1),o.Q6J("ngIf",!r.IsItemVoucher&&r.IsCRDR&&"Dr"==i.CRDR),o.xp6(1),o.Q6J("ngIf",r.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",r.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",r.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",r.IsItemVoucher),o.xp6(2),o.s9C("tabindex",i.TabIndex),o.MGl("name","amt__",i.Index,""),o.MGl("id","amt__",i.Index,""),o.Q6J("disabled",null!=i.godownsdetails&&null!=i.godownsdetails&&i.godownsdetails.length>0||"Cr"==i.CRDR)("ngModel",i.DrAmt),o.xp6(2),o.Q6J("ngIf",r.IsCRDR&&!r.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!r.IsCRDR||r.IsItemVoucher),o.xp6(1),o.Q6J("ngIf","Contra"!=r.accountService.singleresult.VT&&!r.IsItemVoucher&&"Purchase"!=r.accountService.singleresult.VT&&"Sales"!=r.accountService.singleresult.VT&&"Debit Note"!=r.accountService.singleresult.VT&&"Credit Note"!=r.accountService.singleresult.VT&&"Delivery Note"!=r.accountService.singleresult.VT&&"Receipt Note"!=r.accountService.singleresult.VT&&"SalesOrder"!=r.accountService.singleresult.VT&&"PurchaseOrder"!=r.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",r.IsItemVoucher),o.xp6(2),o.s9C("tabindex",i.TabIndex)}}function fi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",311),o.TgZ(1,"div",312),o.TgZ(2,"table",313),o.TgZ(3,"thead"),o.TgZ(4,"tr"),o.YNc(5,mn,2,0,"th",314),o.YNc(6,Tn,2,0,"th",315),o.YNc(7,In,2,0,"th",316),o.YNc(8,Zn,2,0,"th",317),o.YNc(9,An,2,0,"th",317),o.YNc(10,xn,2,0,"th",317),o.TgZ(11,"th",318),o.YNc(12,yn,2,0,"span",32),o.YNc(13,Sn,2,0,"span",32),o.qZA(),o.YNc(14,Dn,2,0,"th",316),o.YNc(15,Cn,2,0,"th",319),o.YNc(16,bn,2,0,"th",317),o.YNc(17,Nn,2,0,"th",32),o.TgZ(18,"th",320),o._uU(19,"Actions"),o.qZA(),o.qZA(),o.qZA(),o.YNc(20,Qn,16,12,"tfoot",32),o.TgZ(21,"tbody",null,321),o.YNc(23,pi,18,17,"tr",277),o.qZA(),o.qZA(),o.qZA(),o.TgZ(24,"div"),o.TgZ(25,"input",279),o.NdJ("click",function(){return o.CHM(n),o.oxw().adddNewTransaction()}),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(5),o.Q6J("ngIf",i.IsCRDR&&!i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",i.IsItemVoucher),o.xp6(2),o.Q6J("ngIf",!i.IsCRDR||i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",i.IsCRDR&&!i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",i.IsCRDR&&!i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!i.IsCRDR||i.IsItemVoucher),o.xp6(1),o.Q6J("ngIf","Contra"!=i.accountService.singleresult.VT&&!i.IsItemVoucher&&"Purchase"!=i.accountService.singleresult.VT&&"Sales"!=i.accountService.singleresult.VT&&"Debit Note"!=i.accountService.singleresult.VT&&"Credit Note"!=i.accountService.singleresult.VT&&"Delivery Note"!=i.accountService.singleresult.VT&&"Receipt Note"!=i.accountService.singleresult.VT&&"SalesOrder"!=i.accountService.singleresult.VT&&"PurchaseOrder"!=i.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",i.IsItemVoucher),o.xp6(3),o.Q6J("ngIf",i.IsCRDR||i.IsItemVoucher),o.xp6(3),o.Q6J("ngForOf",i.tableVouchers)}}function vi(e,t){1&e&&(o.TgZ(0,"th",318),o._uU(1," Tax "),o.qZA())}function mi(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.LN," ")}function Ti(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item,t=o.oxw(2).$implicit,i=o.MAs(3);return o.oxw(2).openLedgerPopupforedit(i,e.UIDN,t.Index,4)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(4);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Ii(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n);var e=o.oxw().$implicit,t=o.MAs(3);return o.oxw(2).openLedgerPopup(t,e.Index,4)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA(),o.YNc(3,mi,1,1,"ng-template",137),o.YNc(4,Ti,4,3,"ng-template",138)}}function Zi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(2),t=o.oxw().$implicit;return o.oxw(2).openLedgerPopup(e,t.Index,2)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function Ai(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item;o.oxw();var t=o.MAs(2),i=o.oxw().$implicit;return o.oxw(2).openLedgerPopupforedit(t,e.UIDN,i.Index,2)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(4);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function xi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td",330),o.TgZ(1,"ng-select",362,373),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.TaxLedger=e})("change",function(){return o.CHM(n),o.oxw(3).finalcalculation()})("keyup",function(e){o.CHM(n);var t=o.MAs(2),i=o.oxw().$implicit;return o.oxw(2).LedgerKeyEvent(e,t,i.Index,2,null!=i.TaxLedger?i.TaxLedger.UIDN:0)}),o.YNc(3,Zi,3,0,"ng-template",136),o.YNc(4,Ai,4,3,"ng-template",138),o.qZA(),o.qZA()}if(2&e){var i=o.oxw().$implicit,r=o.oxw(2);o.xp6(1),o.MGl("name","InTaxLedger_",i.Index,""),o.Q6J("tabIndex",i.TabIndex)("multiple",!0)("items",r.TaxLedger)("ngModel",i.TaxLedger)("loading",r.companyLedgerService.loading)}}function yi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td",323),o.TgZ(2,"ng-select",368,343),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.LedDet=e})("ngModelChange",function(){o.CHM(n);var e=o.oxw(2);return e.calculateBank(),e.finalcalculation()})("keyup",function(e){var t=o.CHM(n).$implicit,i=o.MAs(3);return o.oxw(2).LedgerKeyEvent(e,i,t.Index,4,null!=t.LedDet?t.LedDet.UIDN:0)}),o.YNc(4,Ii,5,0,"ng-template",136),o.qZA(),o.qZA(),o.TgZ(5,"td",323),o.TgZ(6,"input",369,370),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.rate=e})("change",function(){return o.CHM(n),o.oxw(2).finalcalculation()}),o.qZA(),o.qZA(),o.TgZ(8,"td",323),o.TgZ(9,"input",371,332),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.DrAmt=e})("change",function(){return o.CHM(n),o.oxw(2).finalcalculation()}),o.qZA(),o.qZA(),o.YNc(11,xi,5,6,"td",329),o.TgZ(12,"td",372),o.TgZ(13,"a",335),o.NdJ("click",function(){var e=o.CHM(n).index;return o.oxw(2).deleteInventoryLedger(e)}),o._UZ(14,"i",336),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=t.index,a=o.oxw(2);o.xp6(2),o.MGl("name","Ledger_",i.Index,""),o.Q6J("tabIndex",i.InventoryTabIndex)("virtualScroll",!0)("items",a.InventoryLedger)("ngModel",i.LedDet)("loading",a.companyLedgerService.loading),o.xp6(4),o.s9C("tabindex",i.InventoryTabIndex),o.MGl("name","rate__",i.Index,""),o.MGl("id","rate__",r,""),o.Q6J("ngModel",i.rate),o.xp6(3),o.s9C("tabindex",i.InventoryTabIndex),o.MGl("name","dramt__",i.Index,""),o.MGl("id","dramt__",i.Index,""),o.Q6J("ngModel",i.DrAmt),o.xp6(2),o.Q6J("ngIf",!a.IsCRDR||a.IsItemVoucher),o.xp6(2),o.s9C("tabindex",i.InventoryTabIndex)}}function Si(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",311),o.TgZ(1,"div",312),o.TgZ(2,"table",313),o.TgZ(3,"thead"),o.TgZ(4,"tr"),o.TgZ(5,"th",318),o._uU(6,"Select Account"),o.qZA(),o.TgZ(7,"th",320),o._uU(8,"Rate"),o.qZA(),o.TgZ(9,"th",318),o._uU(10," Amount "),o.qZA(),o.YNc(11,vi,2,0,"th",319),o.TgZ(12,"th",320),o._uU(13,"Action"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"tbody",null,366),o.YNc(16,yi,15,16,"tr",277),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div"),o.TgZ(18,"input",367),o.NdJ("click",function(){return o.CHM(n),o.oxw().adddNewLedgerTransaction()}),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(11),o.Q6J("ngIf",!i.IsCRDR||i.IsItemVoucher),o.xp6(5),o.Q6J("ngForOf",i.tableVoucherForInvnetory)}}function Di(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",374),o.TgZ(1,"label",375),o._uU(2,"Image"),o.qZA(),o.TgZ(3,"div",376),o.TgZ(4,"app-file-upload",377,378),o.NdJ("uploadStatus",function(e){return o.CHM(n),o.oxw().onImageAdd(e)}),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(4),o.Q6J("filelist",i.accountService.singleresult.UploadImages)}}function Ci(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(3);return o.oxw(2).openLedgerPopup(e,-5,2)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function bi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr",384),o.TgZ(1,"td",385),o.TgZ(2,"ng-select",386,387),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).TaxLedgercommon=e})("change",function(){return o.CHM(n),o.oxw(2).finalcalculation()}),o.YNc(4,Ci,3,0,"ng-template",136),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(2);o.xp6(2),o.Q6J("tabIndex",1003)("multiple",!0)("items",i.TaxLedger)("ngModel",i.TaxLedgercommon)("loading",i.companyLedgerService.loading)}}function Ni(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",390),o.TgZ(1,"ng-select",391,392),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(3).SelectedTCSledger=e})("change",function(){return o.CHM(n),o.oxw(3).finalcalculation()}),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(2),r=o.oxw(3),a=o.MAs(6);o.xp6(1),o.Q6J("tabIndex",1005)("virtualScroll",!0)("ngModel",r.SelectedTCSledger)("items",r.TCSLedger)("ngClass",o.VKq(6,je,a.submitted&&i.invalid))("loading",r.companyLedgerService.loading)}}function wi(e,t){if(1&e&&(o.TgZ(0,"tr"),o.TgZ(1,"td",388),o.YNc(2,Ni,3,8,"div",389),o.qZA(),o.TgZ(3,"td",383),o._uU(4),o.ALo(5,"indianCurrency"),o.qZA(),o.qZA()),2&e){var n=o.oxw(2);o.xp6(2),o.Q6J("ngIf",!n.IsCRDR||n.IsItemVoucher),o.xp6(2),o.Oqu(o.lcZ(5,2,n.TCSTotal))}}function Mi(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Please select Ledger"),o.qZA())}function qi(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Mi,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(2);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Li(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",390),o.TgZ(1,"ng-select",393,394),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(3).roundoffledger=e})("change",function(){return o.CHM(n),o.oxw(3).finalcalculation()}),o.qZA(),o.YNc(3,qi,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(2),r=o.oxw(3),a=o.MAs(6);o.xp6(1),o.Q6J("tabIndex",1004)("virtualScroll",!0)("ngModel",r.roundoffledger)("items",r.RoundLedger)("ngClass",o.VKq(7,je,a.submitted&&i.invalid))("loading",r.companyLedgerService.loading),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function Vi(e,t){if(1&e&&(o.TgZ(0,"tr"),o.TgZ(1,"td",388),o.YNc(2,Li,4,9,"div",389),o.qZA(),o.TgZ(3,"td",383),o._uU(4),o.ALo(5,"indianCurrency"),o.qZA(),o.qZA()),2&e){var n=o.oxw(2);o.xp6(2),o.Q6J("ngIf",!n.IsCRDR||n.IsItemVoucher),o.xp6(2),o.Oqu(o.lcZ(5,2,n.RoundOFFTotal))}}function _i(e,t){if(1&e&&(o.TgZ(0,"div",379),o.TgZ(1,"div",380),o.TgZ(2,"table",381),o.TgZ(3,"tbody"),o.YNc(4,bi,5,5,"tr",382),o.TgZ(5,"tr"),o.TgZ(6,"td",383),o.TgZ(7,"strong"),o._uU(8,"Total"),o.qZA(),o.qZA(),o.TgZ(9,"td",383),o._uU(10),o.ALo(11,"indianCurrency"),o.qZA(),o.qZA(),o.TgZ(12,"tr"),o.TgZ(13,"td",383),o.TgZ(14,"strong"),o._uU(15,"Tax"),o.qZA(),o.qZA(),o.TgZ(16,"td",383),o._uU(17),o.ALo(18,"indianCurrency"),o.qZA(),o.qZA(),o.YNc(19,wi,6,4,"tr",32),o.YNc(20,Vi,6,4,"tr",32),o.TgZ(21,"tr"),o.TgZ(22,"td",383),o.TgZ(23,"strong"),o._uU(24,"Grand Total"),o.qZA(),o.qZA(),o.TgZ(25,"td",383),o._uU(26),o.ALo(27,"indianCurrency"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(4),o.Q6J("ngIf",n.IsItemVoucher),o.xp6(6),o.Oqu(o.lcZ(11,6,n.Total)),o.xp6(7),o.Oqu(o.lcZ(18,8,n.TotalTax)),o.xp6(2),o.Q6J("ngIf",n.accountService.getCompanyData.IsTCSEn&&n.IsItemVoucher&&n.isTCSApplExists),o.xp6(1),o.Q6J("ngIf",n.accountService.getCompanyData.ISDA&&n.IsItemVoucher&&n.IsRoundOff),o.xp6(6),o.Oqu(o.lcZ(27,10,n.GrandTotal))}}function Ui(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",395),o.TgZ(1,"label",375),o._uU(2,"Image"),o.qZA(),o.TgZ(3,"div",376),o.TgZ(4,"app-file-upload",377,378),o.NdJ("uploadStatus",function(e){return o.CHM(n),o.oxw().onImageAdd(e)}),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(4),o.Q6J("filelist",i.accountService.singleresult.UploadImages)}}function Ri(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"hr"),o.qZA())}function ki(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td"),o.TgZ(1,"input",401,415),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.Led_Dr=e}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(),r=i.$implicit,a=i.index;o.xp6(1),o.s9C("tabindex",r.bankTabIndex),o.MGl("name","BankAmt_",a,""),o.MGl("id","BankAmt_",a,""),o.Q6J("ngModel",r.Led_Dr)}}function Ji(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td"),o.TgZ(1,"input",401,415),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.Led_Cr=e}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(),r=i.$implicit,a=i.index;o.xp6(1),o.s9C("tabindex",r.bankTabIndex),o.MGl("name","BankAmt_",a,""),o.MGl("id","BankAmt_",a,""),o.Q6J("ngModel",r.Led_Cr)}}function Pi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td"),o.TgZ(1,"input",401,415),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.Led_Dr=e}),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(),r=i.$implicit,a=i.index;o.xp6(1),o.s9C("tabindex",r.bankTabIndex),o.MGl("name","BankAmt_",a,""),o.MGl("id","BankAmt_",a,""),o.Q6J("ngModel",r.Led_Dr)}}function Oi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td",400),o._uU(2),o.qZA(),o.TgZ(3,"td",400),o._uU(4),o.qZA(),o.TgZ(5,"td"),o.TgZ(6,"input",401,402),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.BankName=e}),o.qZA(),o.qZA(),o.TgZ(8,"td"),o.TgZ(9,"ng-select",403),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.TType=e}),o.TgZ(10,"ng-option",404),o._uU(11,"Cheque/DD"),o.qZA(),o.TgZ(12,"ng-option",405),o._uU(13,"UPI"),o.qZA(),o.TgZ(14,"ng-option",406),o._uU(15,"Electronic Transfer"),o.qZA(),o.TgZ(16,"ng-option",407),o._uU(17,"E-Cheque"),o.qZA(),o.TgZ(18,"ng-option",408),o._uU(19,"Cash"),o.qZA(),o.TgZ(20,"ng-option",409),o._uU(21,"Other"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"td"),o.TgZ(23,"input",401,410),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.ChkNo=e}),o.qZA(),o.qZA(),o.TgZ(25,"td"),o.TgZ(26,"input",411,412),o.NdJ("selectedindex",function(e){return o.CHM(n),o.oxw(2).onbankchkDateSelect(e)}),o.qZA(),o.qZA(),o.YNc(28,ki,3,4,"td",32),o.YNc(29,Ji,3,4,"td",32),o.YNc(30,Pi,3,4,"td",32),o.TgZ(31,"td"),o.TgZ(32,"input",413,414),o.NdJ("selectedindex",function(e){return o.CHM(n),o.oxw(2).onbankrecoDateSelect(e)}),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=t.index,a=o.oxw(2);o.xp6(2),o.hij(" ",i.BL_Name," "),o.xp6(2),o.hij(" ",i.L_Name," "),o.xp6(2),o.s9C("tabindex",i.bankTabIndex),o.MGl("name","BankName_",r,""),o.MGl("id","BankName_",r,""),o.Q6J("ngModel",i.BankName),o.xp6(3),o.MGl("name","BankType_",r,""),o.Q6J("tabIndex",i.bankTabIndex)("ngModel",i.TType),o.xp6(14),o.s9C("tabindex",i.bankTabIndex),o.MGl("name","ChkNo_",r,""),o.MGl("id","ChkNo_",r,""),o.Q6J("ngModel",i.ChkNo),o.xp6(3),o.s9C("tabindex",i.bankTabIndex),o.MGl("name","ChkDt_",r,""),o.MGl("id","ChkDt_",r,""),o.Q6J("position",a.position)("startDate",i.ChkDt)("index",r),o.xp6(2),o.Q6J("ngIf",i.Led_Dr>0),o.xp6(1),o.Q6J("ngIf",0==i.Led_Dr),o.xp6(1),o.Q6J("ngIf",i.Led_Dr<0),o.xp6(2),o.s9C("tabindex",i.bankTabIndex),o.MGl("name","BRecoDt_",r,""),o.MGl("id","BRecoDt_",r,""),o.Q6J("startDate",i.BRecoDt)("index",r)("position",a.position)}}function Qi(e,t){if(1&e&&(o.TgZ(0,"div",7),o.TgZ(1,"div",396),o.TgZ(2,"label",397),o._uU(3,"Bank Details"),o.qZA(),o.TgZ(4,"div",398),o.TgZ(5,"table",399),o.TgZ(6,"thead"),o.TgZ(7,"tr"),o.TgZ(8,"th"),o._uU(9,"Deposit In "),o.qZA(),o.TgZ(10,"th"),o._uU(11,"Deposit From "),o.qZA(),o.TgZ(12,"th"),o._uU(13,"BankName"),o.qZA(),o.TgZ(14,"th"),o._uU(15,"TransactionType"),o.qZA(),o.TgZ(16,"th"),o._uU(17,"Instrument No."),o.qZA(),o.TgZ(18,"th"),o._uU(19,"Instrument Date"),o.qZA(),o.TgZ(20,"th"),o._uU(21,"Amount"),o.qZA(),o.TgZ(22,"th"),o._uU(23,"Rec Date"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(24,"tbody"),o.YNc(25,Oi,34,28,"tr",277),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(25),o.Q6J("ngForOf",n.bankDetails)}}function Fi(e,t){1&e&&(o.TgZ(0,"a",423),o._uU(1," Action "),o.qZA())}function Ei(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",424),o.NdJ("clickAllowed",function(){return o.CHM(n),o.oxw(2).formvalid(4)}),o._uU(1,"Share Demand"),o.qZA()}if(2&e){var i=o.oxw(2);o.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Yi(e,t){1&e&&(o.TgZ(0,"button",425,426),o._uU(2," Save "),o.qZA())}function Gi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",7),o.TgZ(1,"div",416),o.TgZ(2,"button",417),o.NdJ("click",function(){return o.CHM(n),o.oxw().onCancel()}),o._uU(3,"Cancel"),o.qZA(),o.YNc(4,Fi,2,0,"a",418),o.TgZ(5,"div",419),o.TgZ(6,"a",420),o.NdJ("clickAllowed",function(){return o.CHM(n),o.oxw().formvalid(2)}),o._uU(7,"Send Email"),o.qZA(),o.TgZ(8,"a",420),o.NdJ("clickAllowed",function(){return o.CHM(n),o.oxw().formvalid(3)}),o._uU(9,"Send SMS"),o.qZA(),o.YNc(10,Ei,2,2,"a",421),o.TgZ(11,"a",420),o.NdJ("clickAllowed",function(){return o.CHM(n),o.oxw().formvalid(5)}),o._uU(12,"Copy link"),o.qZA(),o.qZA(),o.YNc(13,Yi,3,0,"button",422),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(4),o.Q6J("ngIf",1==i.IsReceiptDemand),o.xp6(2),o.Q6J("SignupId",i.SignupId)("UserId",i.UserId),o.xp6(2),o.Q6J("SignupId",i.SignupId)("UserId",i.UserId),o.xp6(2),o.Q6J("ngIf",i.accountService.IsMobileview),o.xp6(1),o.Q6J("SignupId",i.SignupId)("UserId",i.UserId),o.xp6(2),o.Q6J("ngIf",0==i.IsReceiptDemand)}}function Hi(e,t){1&e&&(o.TgZ(0,"a",433),o._uU(1," Action "),o.qZA())}function Bi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",424),o.NdJ("clickAllowed",function(){return o.CHM(n),o.oxw(2).formvalid(4)}),o._uU(1,"Share Demand"),o.qZA()}if(2&e){var i=o.oxw(2);o.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function $i(e,t){1&e&&(o.TgZ(0,"button",425,426),o._uU(2," Save "),o.qZA())}function ji(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"nav",427),o.TgZ(1,"ul",428),o.TgZ(2,"li",429),o.YNc(3,Hi,2,0,"a",430),o.TgZ(4,"div",419),o.TgZ(5,"a",420),o.NdJ("clickAllowed",function(){return o.CHM(n),o.oxw().formvalid(2)}),o._uU(6,"Send Email"),o.qZA(),o.TgZ(7,"a",420),o.NdJ("clickAllowed",function(){return o.CHM(n),o.oxw().formvalid(3)}),o._uU(8,"Send SMS"),o.qZA(),o.YNc(9,Bi,2,2,"a",421),o.TgZ(10,"a",420),o.NdJ("clickAllowed",function(){return o.CHM(n),o.oxw().formvalid(5)}),o._uU(11,"Copy link"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"li",431),o.YNc(13,$i,3,0,"button",422),o.qZA(),o.TgZ(14,"li",63),o.TgZ(15,"button",432),o.NdJ("click",function(){return o.CHM(n),o.oxw().onCancel()}),o._uU(16,"Cancel"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("ngIf",1==i.IsReceiptDemand),o.xp6(2),o.Q6J("SignupId",i.SignupId)("UserId",i.UserId),o.xp6(2),o.Q6J("SignupId",i.SignupId)("UserId",i.UserId),o.xp6(2),o.Q6J("ngIf",i.accountService.IsMobileview),o.xp6(1),o.Q6J("SignupId",i.SignupId)("UserId",i.UserId),o.xp6(3),o.Q6J("ngIf",0==i.IsReceiptDemand)}}function Ki(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",132),o.TgZ(1,"label",133),o._uU(2,"Select"),o.qZA(),o.TgZ(3,"ng-select",434),o.NdJ("change",function(e){o.CHM(n);var t=o.oxw();return t.changecrdrEvent(e,t.modalLedgerIndex)})("ngModelChange",function(e){return o.CHM(n),o.oxw().modalCrDr=e}),o.TgZ(4,"ng-option",339),o._uU(5,"Cr"),o.qZA(),o.TgZ(6,"ng-option",340),o._uU(7,"Dr"),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("disabled",0==i.tableVouchers.length||0==i.modalLedgerIndex)("ngModel",i.modalCrDr)}}function zi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(4);return o.oxw().openLedgerPopup(e,-6,0)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function Wi(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.LN," ")}function Xi(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item;o.oxw();var t=o.MAs(4);return o.oxw().openLedgerPopupforedit(t,e.UIDN,-3,0)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(2);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function er(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Account not selected"),o.qZA())}function tr(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,er,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(5);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function nr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",132),o.TgZ(1,"label",435),o._uU(2,"Select Account"),o.qZA(),o.TgZ(3,"ng-select",436,437),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().modalLedger=e})("ngModelChange",function(){return o.CHM(n),o.oxw().finalcalculateMobile()}),o.YNc(6,zi,3,0,"ng-template",136),o.YNc(7,Wi,1,1,"ng-template",137),o.YNc(8,Xi,4,3,"ng-template",138),o.qZA(),o.YNc(9,tr,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(5),r=o.oxw(),a=o.MAs(69);o.xp6(3),o.Q6J("virtualScroll",!0)("items",r.ToLedger)("ngClass",o.VKq(6,je,a.submitted&&i.invalid))("ngModel",r.modalLedger)("loading",r.companyLedgerService.loading),o.xp6(6),o.Q6J("ngIf",a.submitted&&i.invalid)}}function ir(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.InvN," ")}function rr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",349),o.NdJ("click",function(){var e=o.CHM(n).item;return o.oxw(3).openInventoryPopupforedit(e.UIDN)}),o._UZ(1,"i",205),o.qZA(),o.TgZ(2,"a"),o._uU(3),o.qZA()}if(2&e){var i=t.item,r=o.oxw(3);o.Q6J("SignupId",r.SignupId)("UserId",r.UserId),o.xp6(3),o.Oqu(i.InvN)}}function or(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(4);return o.oxw().openInventoryPopup(e,0)}),o._uU(2," Add New Inventory "),o.qZA(),o.qZA(),o.YNc(3,ir,1,1,"ng-template",137),o.YNc(4,rr,4,3,"ng-template",138)}}function ar(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Inventory not selected"),o.qZA())}function lr(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,ar,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(5);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function sr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",132),o.TgZ(1,"label",438),o._uU(2,"Select Inventory"),o.qZA(),o.TgZ(3,"ng-select",439,440),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().modalInventory=e})("ngModelChange",function(e){o.CHM(n);var t=o.oxw();return t.calculateBank(),t.getinventorytaxledger(e,t.LedgerInventoryIndex),t.calculateAmount(),t.finalcalculateMobile()}),o.YNc(6,or,5,0,"ng-template",136),o.qZA(),o.YNc(7,lr,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(5),r=o.oxw(),a=o.MAs(69);o.xp6(3),o.Q6J("virtualScroll",!0)("items",r.ToInventory)("ngClass",o.VKq(6,je,a.submitted&&i.invalid))("ngModel",r.modalInventory)("loading",r.inventoryService.loading),o.xp6(4),o.Q6J("ngIf",a.submitted&&i.invalid)}}function cr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",267),o.TgZ(1,"span",268),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(2).opengodownepopup(e.index)}),o._uU(2),o.qZA(),o._uU(3,"-- "),o.TgZ(4,"strong",268),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(2).opengodownepopup(e.index)}),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(2),o.hij(" ",i.BTNa," "),o.xp6(3),o.AsE(" ",i.Qty," -- ",i.Amt," ")}}function ur(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",132),o.TgZ(1,"button",441),o.NdJ("click",function(){return o.CHM(n),o.oxw().opengodownepopup(-1)}),o._uU(2," Select Godown "),o.qZA(),o.YNc(3,cr,6,3,"a",266),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("ngForOf",i.getgodownDetails(i.modalInventory,i.GodownIndex))}}function dr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",132),o.TgZ(1,"label",442),o._uU(2,"Actual Qty"),o.qZA(),o.TgZ(3,"div",350),o.TgZ(4,"input",443,352),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().modalQty=e})("change",function(){o.CHM(n);var e=o.oxw();return e.BindInventoryIndex(e.LedgerInventoryIndex),e.calculateAmount(),e.finalcalculation(),e.finaltaxcalculate(),e.finalcalculateMobile()}),o.qZA(),o.TgZ(6,"div",354),o.TgZ(7,"div",355),o._uU(8),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(4),o.Q6J("ngModel",i.modalQty)("disabled",-1!=i.modalLedgerIndex&&null!=i.godownPopupDetails&&null!=i.godownPopupDetails&&i.godownPopupDetails.length>0),o.xp6(4),o.Oqu(i.modalUnit)}}function gr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",444),o.TgZ(1,"label",445),o._uU(2,"Rate"),o.qZA(),o.TgZ(3,"div",350),o.TgZ(4,"input",446,357),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().modalRate=e})("change",function(){o.CHM(n);var e=o.oxw();return e.BindInventoryIndex(e.LedgerInventoryIndex),e.calculateAmount(),e.finalcalculation(),e.finaltaxcalculate(),e.finalcalculateMobile()}),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(4),o.Q6J("disabled",-1!=i.modalLedgerIndex&&null!=i.godownPopupDetails&&null!=i.godownPopupDetails&&i.godownPopupDetails.length>0)("ngModel",i.modalRate)}}function hr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",444),o.TgZ(1,"label",447),o._uU(2,"Disc"),o.qZA(),o.TgZ(3,"div",350),o.TgZ(4,"input",448,359),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().modalDis=e})("change",function(){o.CHM(n);var e=o.oxw();return e.BindInventoryIndex(e.LedgerInventoryIndex),e.calculateAmount(),e.finalcalculation(),e.finaltaxcalculate(),e.finalcalculateMobile()}),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(4),o.Q6J("ngModel",i.modalDis)}}function pr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(4);return o.oxw().openLedgerPopup(e,-4,2)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function fr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item;o.oxw();var t=o.MAs(4);return o.oxw().openLedgerPopupforedit(t,e.UIDN,-4,0)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw(2);o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function vr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",132),o.TgZ(1,"label",449),o._uU(2,"Tax"),o.qZA(),o.TgZ(3,"ng-select",450,451),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().modalTaxLed=e})("change",function(){return o.CHM(n),o.oxw().finalcalculateMobile()}),o.YNc(5,pr,3,0,"ng-template",136),o.YNc(6,fr,4,3,"ng-template",138),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("virtualScroll",!0)("multiple",!0)("items",i.TaxLedger)("ngModel",i.modalTaxLed)("loading",i.companyLedgerService.loading)}}function mr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",267),o.TgZ(1,"span",268),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(2).openReferencepopup(e.Index,0)}),o._uU(2),o.qZA(),o._uU(3),o.TgZ(4,"strong",268),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(2).openReferencepopup(e.Index,0)}),o._uU(5),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(2),o.hij(" ",i.Ref_Type," "),o.xp6(1),o.hij("--",i.Ref_Tag,"-- "),o.xp6(2),o.AsE(" ",i.Balance," - ",i.AmtType," ")}}function Tr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",132),o.TgZ(1,"button",452),o.NdJ("click",function(){o.CHM(n);var e=o.oxw();return e.openReferencepopup(e.modalLedgerIndex,-1)}),o._uU(2," Add References "),o.qZA(),o.YNc(3,mr,6,4,"a",266),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("ngForOf",i.getreference(i.modalLedger))}}function Ir(e,t){1&e&&(o.TgZ(0,"label"),o._uU(1,"Amount"),o.qZA())}function Zr(e,t){1&e&&(o.TgZ(0,"label"),o._uU(1,"Debit"),o.qZA())}function Ar(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Amount is required"),o.qZA())}function xr(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Enter valid amount"),o.qZA())}function yr(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Ar,2,0,"div",32),o.YNc(2,xr,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(86);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("ngIf",n.errors.pattern)}}function Sr(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Amount is required"),o.qZA())}function Dr(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Enter valid amount"),o.qZA())}function Cr(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Sr,2,0,"div",32),o.YNc(2,Dr,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(5);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("ngIf",n.errors.pattern)}}function br(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",56),o.TgZ(1,"label"),o._uU(2,"Credit"),o.qZA(),o.TgZ(3,"div",376),o.TgZ(4,"input",453,454),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().modalCrAmt=e}),o.qZA(),o.YNc(6,Cr,3,2,"div",59),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(5),r=o.oxw(),a=o.MAs(69);o.xp6(4),o.Q6J("ngClass",o.VKq(4,je,a.submitted&&i.invalid))("disabled",r.IsCRDR&&"Dr"==r.modalCrDr)("ngModel",r.modalCrAmt),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function Nr(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",455),o._uU(2),o._UZ(3,"br"),o._uU(4),o._UZ(5,"br"),o._uU(6),o._UZ(7,"br"),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.hij(" Amount: ",n.MobileTotal," "),o.xp6(2),o.hij(" Tax: ",n.MobileTotalTax," "),o.xp6(2),o.hij(" Total: ",n.MobileGrandTotal," ")}}function wr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"li",63),o.TgZ(1,"a",456),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(58);return e.deleteLedger(e.modalLedgerIndex),t.hide()}),o._uU(2,"Delete"),o.qZA(),o.qZA()}}function Mr(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Ref. type is required"),o.qZA())}function qr(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Mr,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(6);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Lr(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Vr(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Lr,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(2);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function _r(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"input",484,485),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.Ref_Tag=e}),o.qZA(),o.YNc(3,Vr,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(2),r=o.oxw(),a=r.index,l=r.$implicit;o.oxw(3);var s=o.MAs(2);o.xp6(1),o.MGl("name","refTag__",a,""),o.Q6J("ngClass",o.VKq(5,je,s.submitted&&i.invalid))("disabled","AgainstRef"==l.Ref_Type||"OnAccount"==l.Ref_Type)("ngModel",l.Ref_Tag),o.xp6(2),o.Q6J("ngIf",s.submitted&&i.invalid)}}function Ur(e,t){if(1&e&&o._uU(0),2&e){var n=t.item;o.HOy(" ",n.Ref_Type,"- ",n.Ref_Tag,"- ",n.Dr>0?n.Dr:n.Cr,"",n.Dr>0?"Dr":"Cr"," ")}}function Rr(e,t){if(1&e&&(o.TgZ(0,"b"),o._uU(1),o.qZA(),o._uU(2," Balance: "),o.TgZ(3,"b"),o._uU(4),o.qZA(),o._uU(5),o.TgZ(6,"b"),o._uU(7),o.qZA(),o._uU(8)),2&e){var n=t.item,i=t.index;o.xp6(1),o.hij("",i+1,":"),o.xp6(3),o.hij("",n.OrgBalance>0?n.OrgBalance:-1*n.OrgBalance,"-"),o.xp6(1),o.lnq(" ",n.OrgBalance>0?"Dr":"Cr"," - ",n.Ref_Type,"- ",n.Ref_Tag," - "),o.xp6(2),o.Oqu(n.Dr>0?n.Dr:n.Cr),o.xp6(1),o.AsE(" ",n.Dr>0?"Dr":"Cr"," - DueDate ",n.DueDate," ")}}function kr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"ng-select",488,489),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).$implicit.Agnst_Ref_Id=e})("change",function(e){o.CHM(n);var t=o.oxw(2),i=t.$implicit,r=t.index;return o.oxw(4).onAgainstRefChange(e,i,r)}),o.YNc(2,Ur,1,4,"ng-template",137),o.YNc(3,Rr,9,8,"ng-template",138),o.qZA()}if(2&e){var i=o.oxw(2),r=i.index,a=i.$implicit,l=o.oxw(4);o.MGl("name","agReferences",r,""),o.Q6J("items",l.LedagainstRefList)("ngModel",a.Agnst_Ref_Id)}}function Jr(e,t){if(1&e&&(o.TgZ(0,"div",486),o.YNc(1,kr,4,3,"ng-select",487),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf","AgainstRef"==n.Ref_Type)}}function Pr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"input",490,491),o.NdJ("selected",function(e){return o.CHM(n),o.oxw().$implicit.DueDate=e}),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(2),r=o.oxw(),a=r.index,l=r.$implicit;o.oxw(3);var s=o.MAs(2);o.xp6(1),o.MGl("name","refdate__",a,""),o.MGl("id","refdate__",a,""),o.Q6J("disabled","AgainstRef"==l.Ref_Type||"OnAccount"==l.Ref_Type)("ngClass",o.VKq(5,je,s.submitted&&i.invalid))("startDate",l.DueDate)}}function Or(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Qr(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Or,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(30);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Fr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",7),o.TgZ(1,"div",468),o.TgZ(2,"label",469),o._uU(3,"Reference Method"),o.qZA(),o.TgZ(4,"div"),o.TgZ(5,"ng-select",470,471),o.NdJ("change",function(){var e=o.CHM(n).$implicit;return o.oxw(4).OnChangeRefMethod(e)})("ngModelChange",function(e){return o.CHM(n).$implicit.Ref_Type=e}),o.TgZ(7,"ng-option",472),o._uU(8,"New Ref"),o.qZA(),o.TgZ(9,"ng-option",473),o._uU(10,"OnAccount"),o.qZA(),o.TgZ(11,"ng-option",474),o._uU(12,"Advance"),o.qZA(),o.TgZ(13,"ng-option",475),o._uU(14,"AgainstRef"),o.qZA(),o.qZA(),o.YNc(15,qr,2,1,"div",59),o.qZA(),o.qZA(),o.TgZ(16,"div",468),o.TgZ(17,"label",476),o._uU(18,"Ref. Tag"),o.qZA(),o.YNc(19,_r,4,7,"div",32),o.YNc(20,Jr,2,1,"div",477),o.qZA(),o.TgZ(21,"div",468),o.TgZ(22,"label",478),o._uU(23,"Due Date"),o.qZA(),o.YNc(24,Pr,3,7,"div",32),o.qZA(),o.TgZ(25,"div",468),o.TgZ(26,"label",479),o._uU(27,"Amount"),o.qZA(),o.TgZ(28,"div"),o.TgZ(29,"input",480,481),o.NdJ("change",function(){var e=o.CHM(n).$implicit;return o.oxw(4).onReferenceAmountChange(e)})("ngModelChange",function(e){return o.CHM(n).$implicit.Balance=e}),o.qZA(),o.YNc(31,Qr,2,1,"div",59),o.qZA(),o.qZA(),o.TgZ(32,"div",468),o.TgZ(33,"label",482),o._uU(34,"Dr/Cr"),o.qZA(),o.TgZ(35,"div"),o.TgZ(36,"ng-select",483),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.AmtType=e}),o.TgZ(37,"ng-option",340),o._uU(38,"DR"),o.qZA(),o.TgZ(39,"ng-option",339),o._uU(40,"CR"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=t.index,a=o.MAs(6),l=o.MAs(30);o.oxw(3);var s=o.MAs(2);o.xp6(5),o.MGl("name","rafdrp",r,""),o.Q6J("disabled","AgainstRef"!=i.Ref_Type&&i.UIDN>0)("ngModel",i.Ref_Type)("ngClass",o.VKq(14,je,s.submitted&&a.invalid)),o.xp6(10),o.Q6J("ngIf",s.submitted&&a.invalid),o.xp6(4),o.Q6J("ngIf","AgainstRef"!=i.Ref_Type),o.xp6(1),o.Q6J("ngIf","AgainstRef"==i.Ref_Type),o.xp6(4),o.Q6J("ngIf","AgainstRef"!=i.Ref_Type),o.xp6(5),o.MGl("name","Refamt__",r,""),o.Q6J("ngModel",i.Balance)("ngClass",o.VKq(16,je,s.submitted&&l.invalid)),o.xp6(2),o.Q6J("ngIf",s.submitted&&l.invalid),o.xp6(5),o.MGl("name","AmtType__",r,""),o.Q6J("ngModel",i.AmtType)}}function Er(e,t){if(1&e&&(o.TgZ(0,"div",399,466),o.YNc(2,Fr,41,18,"div",467),o.qZA()),2&e){var n=o.oxw(3);o.xp6(2),o.Q6J("ngForOf",n.getreferenceforpopup())}}function Yr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"li",63),o.TgZ(1,"a",456),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(3),t=o.MAs(100);return e.RemoveReference(e.modalReferenceIndex),t.hide()}),o._uU(2,"Delete"),o.qZA(),o.qZA()}}function Gr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",462),o.YNc(1,Er,3,1,"div",463),o.TgZ(2,"nav",145),o.TgZ(3,"ul",62),o.TgZ(4,"li",63),o.TgZ(5,"button",464),o._uU(6,"Save"),o.qZA(),o.qZA(),o.YNc(7,Yr,3,0,"li",65),o.TgZ(8,"li",63),o.TgZ(9,"a",465),o.NdJ("click",function(){return o.CHM(n),o.oxw(2),o.MAs(100).hide()}),o._uU(10,"Cancel"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw(2);o.xp6(1),o.Q6J("ngIf",i.companyLedgerService.IsMobileview),o.xp6(6),o.Q6J("ngIf",i.modalReferenceIndex>0)}}function Hr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",457),o.TgZ(1,"form",113,458),o.NdJ("ngSubmit",function(){o.CHM(n);var e=o.MAs(2),t=o.oxw();return e.form.valid&&t.Savereference()}),o.TgZ(3,"div",459),o.TgZ(4,"div",91),o.TgZ(5,"h4",48),o._uU(6,"Add/Edit Reference "),o.qZA(),o.TgZ(7,"button",49),o.NdJ("click",function(){return o.CHM(n),o.oxw(),o.MAs(100).hide()}),o.TgZ(8,"span",50),o._uU(9,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",460),o.YNc(11,Gr,11,2,"div",461),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(11),o.Q6J("ngIf",i.curReference.length>0)}}function Br(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Ref. type is required"),o.qZA())}function $r(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Br,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(3);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function jr(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Kr(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,jr,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(2);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function zr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td"),o.TgZ(1,"input",484,485),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).$implicit.Ref_Tag=e}),o.qZA(),o.YNc(3,Kr,2,1,"div",59),o.qZA()}if(2&e){var i=o.MAs(2),r=o.oxw(2),a=r.index,l=r.$implicit;o.oxw(3);var s=o.MAs(2);o.xp6(1),o.MGl("name","refTag__",a,""),o.Q6J("ngClass",o.VKq(5,je,s.submitted&&i.invalid))("disabled","AgainstRef"==l.Ref_Type||"OnAccount"==l.Ref_Type)("ngModel",l.Ref_Tag),o.xp6(2),o.Q6J("ngIf",s.submitted&&i.invalid)}}function Wr(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"td"),o.TgZ(1,"input",516,491),o.NdJ("selected",function(e){return o.CHM(n),o.oxw(2).$implicit.DueDate=e}),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(2),r=o.oxw(2),a=r.index,l=r.$implicit;o.oxw(3);var s=o.MAs(2);o.xp6(1),o.MGl("name","refdate__",a,""),o.MGl("id","refdate__",a,""),o.Q6J("disabled","AgainstRef"==l.Ref_Type||"OnAccount"==l.Ref_Type)("ngClass",o.VKq(5,je,s.submitted&&i.invalid))("startDate",l.DueDate)}}function Xr(e,t){if(1&e&&o._uU(0),2&e){var n=t.item;o.HOy(" ",n.Ref_Type,"- ",n.Ref_Tag,"- ",n.Dr>0?n.Dr:n.Cr,"",n.Dr>0?"Dr":"Cr"," ")}}function eo(e,t){if(1&e&&(o.TgZ(0,"b"),o._uU(1),o.qZA(),o._uU(2," Balance: "),o.TgZ(3,"b"),o._uU(4),o.qZA(),o._uU(5),o.TgZ(6,"b"),o._uU(7),o.qZA(),o._uU(8)),2&e){var n=t.item,i=t.index;o.xp6(1),o.hij("",i+1,":"),o.xp6(3),o.hij("",n.OrgBalance>0?n.OrgBalance:-1*n.OrgBalance,"-"),o.xp6(1),o.lnq(" ",n.OrgBalance>0?"Dr":"Cr"," - ",n.Ref_Type,"- ",n.Ref_Tag," - "),o.xp6(2),o.Oqu(n.Dr>0?n.Dr:n.Cr),o.xp6(1),o.AsE(" ",n.Dr>0?"Dr":"Cr"," - DueDate ",n.DueDate," ")}}function to(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"ng-select",518,489),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(3).$implicit.Agnst_Ref_Id=e})("change",function(e){o.CHM(n);var t=o.oxw(3),i=t.$implicit,r=t.index;return o.oxw(4).onAgainstRefChange(e,i,r)}),o.YNc(2,Xr,1,4,"ng-template",137),o.YNc(3,eo,9,8,"ng-template",138),o.qZA()}if(2&e){var i=o.oxw(3),r=i.index,a=i.$implicit,l=o.oxw(4);o.MGl("name","agReferences",r,""),o.Q6J("items",l.LedagainstRefList)("ngModel",a.Agnst_Ref_Id)}}function no(e,t){if(1&e&&(o.TgZ(0,"td",486),o.YNc(1,to,4,3,"ng-select",517),o.qZA()),2&e){var n=o.oxw(2).$implicit;o.xp6(1),o.Q6J("ngIf","AgainstRef"==n.Ref_Type)}}function io(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function ro(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,io,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(18);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function oo(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr",510),o.TgZ(1,"td"),o.TgZ(2,"ng-select",511,471),o.NdJ("change",function(){o.CHM(n);var e=o.oxw().$implicit;return o.oxw(4).OnChangeRefMethod(e)})("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.Ref_Type=e}),o.TgZ(4,"ng-option",472),o._uU(5,"New Ref"),o.qZA(),o.TgZ(6,"ng-option",473),o._uU(7,"OnAccount"),o.qZA(),o.TgZ(8,"ng-option",474),o._uU(9,"Advance"),o.qZA(),o.TgZ(10,"ng-option",475),o._uU(11,"AgainstRef"),o.qZA(),o.qZA(),o.YNc(12,$r,2,1,"div",59),o.qZA(),o.YNc(13,zr,4,7,"td",32),o.YNc(14,Wr,3,7,"td",32),o.YNc(15,no,2,1,"td",477),o.TgZ(16,"td"),o.TgZ(17,"input",512,481),o.NdJ("change",function(){o.CHM(n);var e=o.oxw().$implicit;return o.oxw(4).onReferenceAmountChange(e)})("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.Balance=e}),o.qZA(),o.YNc(19,ro,2,1,"div",59),o.qZA(),o.TgZ(20,"td"),o.TgZ(21,"ng-select",513),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.AmtType=e})("change",function(){return o.CHM(n),o.oxw(5).OnReferenceTotalAmount()}),o.TgZ(22,"ng-option",340),o._uU(23,"DR"),o.qZA(),o.TgZ(24,"ng-option",339),o._uU(25,"CR"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"td",514),o.TgZ(27,"a",515),o.NdJ("click",function(){o.CHM(n);var e=o.oxw().$implicit;return o.oxw(4).RemoveReference(e.Index)}),o._UZ(28,"i",336),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(3),r=o.MAs(18),a=o.oxw(),l=a.index,s=a.$implicit;o.oxw(3);var c=o.MAs(2);o.xp6(2),o.MGl("name","rafdrp",l,""),o.Q6J("ngModel",s.Ref_Type)("ngClass",o.VKq(13,je,c.submitted&&i.invalid)),o.xp6(10),o.Q6J("ngIf",c.submitted&&i.invalid),o.xp6(1),o.Q6J("ngIf","AgainstRef"!=s.Ref_Type),o.xp6(1),o.Q6J("ngIf","AgainstRef"!=s.Ref_Type),o.xp6(1),o.Q6J("ngIf","AgainstRef"==s.Ref_Type),o.xp6(2),o.MGl("name","Refamt__",l,""),o.Q6J("ngModel",s.Balance)("ngClass",o.VKq(15,je,c.submitted&&r.invalid)),o.xp6(2),o.Q6J("ngIf",c.submitted&&r.invalid),o.xp6(2),o.MGl("name","AmtType__",l,""),o.Q6J("ngModel",s.AmtType)}}function ao(e,t){if(1&e&&(o.ynx(0),o.YNc(1,oo,29,17,"tr",509),o.BQk()),2&e){var n=t.$implicit;o.xp6(1),o.Q6J("ngIf",1!=n.operationType)}}function lo(e,t){if(1&e&&(o.TgZ(0,"table",399,466),o.TgZ(2,"thead"),o.TgZ(3,"tr"),o.TgZ(4,"th"),o._uU(5,"Ref. Method"),o.qZA(),o.TgZ(6,"th"),o._uU(7,"Ref. Tag"),o.qZA(),o.TgZ(8,"th"),o._uU(9,"Due Date"),o.qZA(),o.TgZ(10,"th"),o._uU(11,"Amount"),o.qZA(),o.TgZ(12,"th"),o._uU(13,"Dr/Cr"),o.qZA(),o.TgZ(14,"th"),o._uU(15,"Action"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"tbody"),o.YNc(17,ao,2,1,"ng-container",277),o.qZA(),o.qZA()),2&e){var n=o.oxw(3);o.xp6(17),o.Q6J("ngForOf",n.curReference)}}function so(e,t){if(1&e&&(o.TgZ(0,"div",462),o.YNc(1,lo,18,1,"table",463),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!n.companyLedgerService.IsMobileview)}}function co(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",492),o.TgZ(1,"form",113,493),o.NdJ("ngSubmit",function(){o.CHM(n);var e=o.MAs(2),t=o.oxw();return e.form.valid&&t.Savereference()}),o.TgZ(3,"div",98),o.TgZ(4,"div",91),o.TgZ(5,"h4",48),o._uU(6,"Add/Edit Reference "),o.qZA(),o.TgZ(7,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(104);return e.showReferencepopup=!1,t.hide()}),o.TgZ(8,"span",50),o._uU(9,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",7),o.TgZ(11,"div",494),o.TgZ(12,"label"),o._uU(13,"Term Type"),o.TgZ(14,"span",495),o._uU(15,"*"),o.qZA(),o.qZA(),o.TgZ(16,"div",496),o.TgZ(17,"div",497),o.TgZ(18,"input",498),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().TermType=e})("change",function(){o.CHM(n);var e=o.oxw();return e.OnRefMethod(e.TermType)}),o.qZA(),o.TgZ(19,"label",499),o._uU(20,"Agreement OCR"),o.qZA(),o.qZA(),o.TgZ(21,"div",497),o.TgZ(22,"input",500),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().TermType=e})("change",function(){o.CHM(n);var e=o.oxw();return e.OnRefMethod(e.TermType)}),o.qZA(),o.TgZ(23,"label",499),o._uU(24,"Agreement Loan"),o.qZA(),o.qZA(),o.TgZ(25,"div",497),o.TgZ(26,"input",501),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().TermType=e})("change",function(){o.CHM(n);var e=o.oxw();return e.OnRefMethod(e.TermType)}),o.qZA(),o.TgZ(27,"label",502),o._uU(28,"GST"),o.qZA(),o.qZA(),o.TgZ(29,"div",497),o.TgZ(30,"input",503),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().TermType=e})("change",function(){o.CHM(n);var e=o.oxw();return e.OnRefMethod(e.TermType)}),o.qZA(),o.TgZ(31,"label",504),o._uU(32,"OTHER Charges"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(33,"div",505),o._uU(34),o.qZA(),o.qZA(),o.TgZ(35,"div",506),o.YNc(36,so,2,1,"div",461),o.TgZ(37,"button",507),o.NdJ("click",function(){return o.CHM(n),o.oxw().addNewreference()}),o._uU(38,"Add new row"),o.qZA(),o.TgZ(39,"label",508),o._uU(40),o.qZA(),o.qZA(),o.TgZ(41,"div",121),o.TgZ(42,"button",122),o._uU(43,"Save Changes"),o.qZA(),o.TgZ(44,"button",123),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(104);return e.showReferencepopup=!1,t.hide()}),o._uU(45,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(18),o.Q6J("ngModel",i.TermType),o.xp6(4),o.Q6J("ngModel",i.TermType),o.xp6(4),o.Q6J("ngModel",i.TermType),o.xp6(4),o.Q6J("ngModel",i.TermType),o.xp6(4),o.hij(" Ledger Amount: ",i.EnterAmountVoucher," "),o.xp6(2),o.Q6J("ngIf",i.curReference.length>0),o.xp6(4),o.hij("Total Amount - ",i.TotalReferenceAmount,"")}}function uo(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(3);return o.oxw(3).openGodownMasterPopup(e)}),o._uU(2," Add New Godown "),o.qZA(),o.qZA()}}function go(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.GN," ")}function ho(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"godownType is required"),o.qZA())}function po(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,ho,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(4);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function fo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Batch Type is required"),o.qZA())}function vo(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,fo,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(10);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function mo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function To(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,mo,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(14);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Io(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Zo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Allow numeric only"),o.qZA())}function Ao(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Io,2,0,"div",32),o.YNc(2,Zo,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(21);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("ngIf",n.errors.pattern)}}function xo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function yo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Allow numeric only"),o.qZA())}function So(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,xo,2,0,"div",32),o.YNc(2,yo,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(25);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("ngIf",n.errors.pattern)}}function Do(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Co(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Allow numeric only"),o.qZA())}function bo(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Do,2,0,"div",32),o.YNc(2,Co,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(29);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("ngIf",n.errors.pattern)}}function No(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr",510),o.TgZ(1,"td"),o.TgZ(2,"ng-select",524,525),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.GodM=e})("change",function(e){var t=o.CHM(n).$implicit;return o.oxw(3).BindBatchDetails(e,t.IId)}),o.YNc(5,uo,3,0,"ng-template",136),o.YNc(6,go,1,1,"ng-template",137),o.qZA(),o.YNc(7,po,2,1,"div",59),o.qZA(),o.TgZ(8,"td"),o.TgZ(9,"ng-select",526,527),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.BTId=e})("change",function(e){var t=o.CHM(n).index;return o.oxw(3).FillBatchName(e,t)}),o.qZA(),o.YNc(11,vo,2,1,"div",59),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"input",528,529),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.BTNa=e}),o.qZA(),o.YNc(15,To,2,1,"div",59),o.qZA(),o.TgZ(16,"td"),o.TgZ(17,"input",530,491),o.NdJ("selected",function(e){return o.CHM(n).$implicit.MFGDt=e}),o.qZA(),o.qZA(),o.TgZ(19,"td"),o.TgZ(20,"input",531,532),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.Qty=e})("change",function(){var e=o.CHM(n).index;return o.oxw(3).calculateAmountGrid(e)}),o.qZA(),o.YNc(22,Ao,3,2,"div",59),o.qZA(),o.TgZ(23,"td"),o.TgZ(24,"input",531,533),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.Rt=e})("change",function(){var e=o.CHM(n).index;return o.oxw(3).calculateAmountGrid(e)}),o.qZA(),o.YNc(26,So,3,2,"div",59),o.qZA(),o.TgZ(27,"td"),o.TgZ(28,"input",534,535),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.Amt=e}),o.qZA(),o.YNc(30,bo,3,2,"div",59),o.qZA(),o.TgZ(31,"td"),o.TgZ(32,"a",515),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(3).RemovegodownDetails(e.index)}),o._UZ(33,"i",336),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=o.MAs(4),a=o.MAs(10),l=o.MAs(14),s=o.MAs(21),c=o.MAs(25),u=o.MAs(29);o.oxw(2);var d=o.MAs(2),g=o.oxw();o.xp6(2),o.MGl("name","Godown",i.index,""),o.Q6J("items",g.godownService.result)("ngModel",i.GodM)("loading",g.godownService.loading)("ngClass",o.VKq(35,je,d.submitted&&r.invalid)),o.xp6(5),o.Q6J("ngIf",d.submitted&&r.invalid),o.xp6(2),o.MGl("name","Batch_Type",i.index,""),o.Q6J("items",g.BatchMaster)("ngModel",i.BTId)("loading",g.godownService.loading)("ngClass",o.VKq(37,je,d.submitted&&a.invalid)),o.xp6(2),o.Q6J("ngIf",d.submitted&&a.invalid),o.xp6(2),o.MGl("name","batchTag__",i.index,""),o.Q6J("disabled",i.BTId>0||""==i.BTId||null==i.BTId||null==i.BTId)("ngClass",o.VKq(39,je,d.submitted&&l.invalid))("ngModel",i.BTNa),o.xp6(2),o.Q6J("ngIf",d.submitted&&l.invalid),o.xp6(2),o.MGl("name","manfdate__",i.index,""),o.MGl("id","manfdate__",i.index,""),o.Q6J("startDate",i.MFGDt),o.xp6(3),o.MGl("name","txtQty",i.index,""),o.MGl("id","txtQty",i.index,""),o.Q6J("ngClass",o.VKq(41,je,d.submitted&&s.invalid))("ngModel",i.Qty),o.xp6(2),o.Q6J("ngIf",d.submitted&&s.invalid),o.xp6(2),o.MGl("name","txtRt",i.index,""),o.MGl("id","txtRt",i.index,""),o.Q6J("ngClass",o.VKq(43,je,d.submitted&&c.invalid))("ngModel",i.Rt),o.xp6(2),o.Q6J("ngIf",d.submitted&&c.invalid),o.xp6(2),o.MGl("name","txtAmt",i.index,""),o.MGl("id","txtAmt",i.index,""),o.Q6J("ngClass",o.VKq(45,je,d.submitted&&u.invalid))("ngModel",i.Amt),o.xp6(2),o.Q6J("ngIf",d.submitted&&u.invalid)}}function wo(e,t){if(1&e&&(o.TgZ(0,"div",462),o.TgZ(1,"table",399),o.TgZ(2,"thead"),o.TgZ(3,"tr"),o.TgZ(4,"th"),o._uU(5,"Godown"),o.qZA(),o.TgZ(6,"th"),o._uU(7,"Batch"),o.qZA(),o.TgZ(8,"th"),o._uU(9,"Batch Name"),o.qZA(),o.TgZ(10,"th"),o._uU(11,"MFG Date"),o.qZA(),o.TgZ(12,"th"),o._uU(13,"Qty"),o.qZA(),o.TgZ(14,"th"),o._uU(15,"Rate"),o.qZA(),o.TgZ(16,"th"),o._uU(17,"Amount"),o.qZA(),o.TgZ(18,"th"),o._uU(19,"Action"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"tbody"),o.YNc(21,No,34,47,"tr",523),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw(2);o.Udp("max-width",n.maxpopupwidth,"px"),o.xp6(21),o.Q6J("ngForOf",n.getgodowndetailsforpopup())}}function Mo(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",519),o.TgZ(1,"form",113,520),o.NdJ("ngSubmit",function(){o.CHM(n);var e=o.MAs(2),t=o.oxw();return e.form.valid&&t.SaveinventoryGodownsDetails(t.InventorycurrentIndex)}),o.TgZ(3,"div",98),o.TgZ(4,"div",91),o.TgZ(5,"h4",48),o._uU(6,"Add/Edit Batch "),o.qZA(),o.TgZ(7,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(107);return e.showInventorypopup=!1,t.hide()}),o.TgZ(8,"span",50),o._uU(9,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",521),o.YNc(11,wo,22,3,"div",522),o.TgZ(12,"button",507),o.NdJ("click",function(){o.CHM(n);var e=o.oxw();return e.addNewgodowndetails(e.InventoryRate)}),o._uU(13,"Add new row"),o.qZA(),o.qZA(),o.TgZ(14,"div",121),o.TgZ(15,"button",122),o._uU(16,"Save Changes"),o.qZA(),o.TgZ(17,"button",123),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(107);return e.showInventorypopup=!1,t.hide()}),o._uU(18,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(11),o.Q6J("ngIf",i.curGodown.length>0)}}function qo(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(6);return o.oxw(4).openGodownMasterPopup(e)}),o._uU(2," Add New Godown "),o.qZA(),o.qZA()}}function Lo(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.GN," ")}function Vo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"godownType is required"),o.qZA())}function _o(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Vo,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(7);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Uo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Batch Type is required"),o.qZA())}function Ro(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Uo,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(16);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function ko(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Jo(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,ko,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(23);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Po(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Oo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Allow numeric only"),o.qZA())}function Qo(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Po,2,0,"div",32),o.YNc(2,Oo,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(36);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("ngIf",n.errors.pattern)}}function Fo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Eo(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Allow numeric only"),o.qZA())}function Yo(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Fo,2,0,"div",32),o.YNc(2,Eo,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(43);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("ngIf",n.errors.pattern)}}function Go(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"required"),o.qZA())}function Ho(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Allow numeric only"),o.qZA())}function Bo(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Go,2,0,"div",32),o.YNc(2,Ho,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(50);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("ngIf",n.errors.pattern)}}function $o(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",278),o.TgZ(1,"div",468),o.TgZ(2,"label",541),o._uU(3,"Godown"),o.qZA(),o.TgZ(4,"div"),o.TgZ(5,"ng-select",542,543),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.GodM=e})("change",function(e){var t=o.CHM(n).$implicit;return o.oxw(4).BindBatchDetails(e,t.IId)}),o.YNc(8,qo,3,0,"ng-template",136),o.YNc(9,Lo,1,1,"ng-template",137),o.qZA(),o.YNc(10,_o,2,1,"div",59),o.qZA(),o.qZA(),o.TgZ(11,"div",468),o.TgZ(12,"label",544),o._uU(13,"Batch"),o.qZA(),o.TgZ(14,"div"),o.TgZ(15,"ng-select",526,527),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.BTId=e})("change",function(e){var t=o.CHM(n).index;return o.oxw(4).FillBatchName(e,t)}),o.qZA(),o.YNc(17,Ro,2,1,"div",59),o.qZA(),o.qZA(),o.TgZ(18,"div",468),o.TgZ(19,"label",545),o._uU(20,"Batch Name"),o.qZA(),o.TgZ(21,"div"),o.TgZ(22,"input",546,529),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.BTNa=e}),o.qZA(),o.YNc(24,Jo,2,1,"div",59),o.qZA(),o.qZA(),o.TgZ(25,"div",468),o.TgZ(26,"label",547),o._uU(27,"MFG Date"),o.qZA(),o.TgZ(28,"div"),o.TgZ(29,"input",548,491),o.NdJ("selected",function(e){return o.CHM(n).$implicit.MFGDt=e}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"div",468),o.TgZ(32,"label",549),o._uU(33,"QTY"),o.qZA(),o.TgZ(34,"div"),o.TgZ(35,"input",550,532),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.Qty=e})("change",function(){var e=o.CHM(n).index;return o.oxw(4).calculateAmountGrid(e)}),o.qZA(),o.YNc(37,Qo,3,2,"div",59),o.qZA(),o.qZA(),o.TgZ(38,"div",468),o.TgZ(39,"label",551),o._uU(40,"Rate"),o.qZA(),o.TgZ(41,"div"),o.TgZ(42,"input",552,533),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.Rt=e})("change",function(){var e=o.CHM(n).index;return o.oxw(4).calculateAmountGrid(e)}),o.qZA(),o.YNc(44,Yo,3,2,"div",59),o.qZA(),o.qZA(),o.TgZ(45,"div",468),o.TgZ(46,"label",553),o._uU(47,"Amount"),o.qZA(),o.TgZ(48,"div"),o.TgZ(49,"input",554,535),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.Amt=e}),o.qZA(),o.YNc(51,Bo,3,2,"div",59),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=o.MAs(7),a=o.MAs(16),l=o.MAs(23),s=o.MAs(36),c=o.MAs(43),u=o.MAs(50);o.oxw(3);var d=o.MAs(2),g=o.oxw();o.xp6(5),o.MGl("name","Godown",i.index,""),o.Q6J("items",g.godownService.result)("ngModel",i.GodM)("loading",g.godownService.loading)("ngClass",o.VKq(35,je,d.submitted&&r.invalid)),o.xp6(5),o.Q6J("ngIf",d.submitted&&r.invalid),o.xp6(5),o.MGl("name","Batch_Type",i.index,""),o.Q6J("items",g.BatchMaster)("ngModel",i.BTId)("loading",g.godownService.loading)("ngClass",o.VKq(37,je,d.submitted&&a.invalid)),o.xp6(2),o.Q6J("ngIf",d.submitted&&a.invalid),o.xp6(5),o.MGl("name","batchTag__",i.index,""),o.Q6J("disabled",i.BTId>0||""==i.BTId||null==i.BTId||null==i.BTId)("ngClass",o.VKq(39,je,d.submitted&&l.invalid))("ngModel",i.BTNa),o.xp6(2),o.Q6J("ngIf",d.submitted&&l.invalid),o.xp6(5),o.MGl("name","manfdate__",i.index,""),o.MGl("id","manfdate__",i.index,""),o.Q6J("startDate",i.MFGDt),o.xp6(6),o.MGl("name","txtQty",i.index,""),o.MGl("id","txtQty",i.index,""),o.Q6J("ngClass",o.VKq(41,je,d.submitted&&s.invalid))("ngModel",i.Qty),o.xp6(2),o.Q6J("ngIf",d.submitted&&s.invalid),o.xp6(5),o.MGl("name","txtRt",i.index,""),o.MGl("id","txtRt",i.index,""),o.Q6J("ngClass",o.VKq(43,je,d.submitted&&c.invalid))("ngModel",i.Rt),o.xp6(2),o.Q6J("ngIf",d.submitted&&c.invalid),o.xp6(5),o.MGl("name","txtAmt",i.index,""),o.MGl("id","txtAmt",i.index,""),o.Q6J("ngClass",o.VKq(45,je,d.submitted&&u.invalid))("ngModel",i.Amt),o.xp6(2),o.Q6J("ngIf",d.submitted&&u.invalid)}}function jo(e,t){if(1&e&&(o.TgZ(0,"div",399),o.YNc(1,$o,52,47,"div",540),o.qZA()),2&e){var n=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",n.getgodowndetailsforpopup())}}function Ko(e,t){if(1&e&&(o.TgZ(0,"div",539),o.YNc(1,jo,2,1,"div",463),o.qZA()),2&e){var n=o.oxw(2);o.Udp("max-width",n.maxpopupwidth,"px"),o.xp6(1),o.Q6J("ngIf",n.companyLedgerService.IsMobileview)}}function zo(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",456),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(2),t=o.MAs(110);return e.RemovegodownDetails(e.InventorycurrentIndex),t.hide()}),o._uU(1,"Delete"),o.qZA()}}function Wo(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",519),o.TgZ(1,"form",113,520),o.NdJ("ngSubmit",function(){o.CHM(n);var e=o.MAs(2),t=o.oxw();return e.form.valid&&t.SaveinventoryGodownsDetails(t.InventorycurrentIndex)}),o.TgZ(3,"div",536),o.TgZ(4,"div",91),o.TgZ(5,"h4",48),o._uU(6,"Add/Edit Batch "),o.qZA(),o.TgZ(7,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(110);return e.showInventorypopup=!1,t.hide()}),o.TgZ(8,"span",50),o._uU(9,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",537),o.YNc(11,Ko,2,3,"div",538),o.qZA(),o.TgZ(12,"nav",145),o.TgZ(13,"ul",62),o.TgZ(14,"li",63),o.YNc(15,zo,2,0,"a",146),o.qZA(),o.TgZ(16,"li",63),o.TgZ(17,"button",464),o._uU(18,"Save"),o.qZA(),o.qZA(),o.TgZ(19,"li",63),o.TgZ(20,"button",95),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(110);return e.showInventorypopup=!1,t.hide()}),o._uU(21,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(11),o.Q6J("ngIf",i.curGodown.length>0),o.xp6(4),o.Q6J("ngIf",i.InventorycurrentIndex>=0)}}function Xo(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td",560),o.TgZ(2,"div"),o.TgZ(3,"label",248),o.TgZ(4,"input",152),o.NdJ("change",function(){var e=o.CHM(n).$implicit;return e.billSelected=!("1"==e.billSelected||1==e.billSelected)}),o.qZA(),o._UZ(5,"span",153),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o._UZ(9,"dateformatter",561),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"a",562),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(3).openChlnaddeditpopup(e.UIDN)}),o._uU(14),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(4),o.Q6J("checked",i.billSelected),o.xp6(3),o.Oqu(i.ChlnId),o.xp6(2),o.s9C("dateValue",i.MDt),o.xp6(2),o.Oqu(i.InvNm),o.xp6(3),o.AsE("",i.TtlAmt," ",i.CRDR,"")}}function ea(e,t){if(1&e&&(o.TgZ(0,"div",398),o.TgZ(1,"table",399),o.TgZ(2,"thead"),o.TgZ(3,"tr"),o.TgZ(4,"td"),o._uU(5,"#"),o.qZA(),o.TgZ(6,"th"),o._uU(7,"Challan No"),o.qZA(),o.TgZ(8,"th"),o._uU(9,"Date"),o.qZA(),o.TgZ(10,"th"),o._uU(11,"Inventory"),o.qZA(),o.TgZ(12,"th"),o._uU(13,"Voucher Amount"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"tbody"),o.YNc(15,Xo,15,6,"tr",277),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw(2);o.Udp("max-width",n.maxpopupwidth,"px"),o.xp6(15),o.Q6J("ngForOf",n.curChallan)}}function ta(e,t){1&e&&(o.TgZ(0,"div",563),o._uU(1," No Chalans/Bills available. Please add new challans/Bills! "),o.qZA())}function na(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"button",564),o.NdJ("click",function(){return o.CHM(n),o.oxw(2).selectChallan()}),o._uU(1," Select Challan/Bill "),o.qZA()}}function ia(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",112),o.TgZ(1,"div",536),o.TgZ(2,"div",91),o.TgZ(3,"h4",48),o._uU(4,"Select Challan"),o.qZA(),o.TgZ(5,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(113);return e.showChallanpopup=!1,t.hide()}),o.TgZ(6,"span",50),o._uU(7,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",555),o.YNc(9,ea,16,3,"div",556),o.YNc(10,ta,2,0,"div",557),o.qZA(),o.TgZ(11,"div",558),o.TgZ(12,"button",95),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(113);return e.showChallanpopup=!1,t.hide()}),o._uU(13,"Close"),o.qZA(),o.YNc(14,na,2,0,"button",559),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(9),o.Q6J("ngIf",i.curChallan.length>0),o.xp6(1),o.Q6J("ngIf",0==i.curChallan.length),o.xp6(4),o.Q6J("ngIf",i.curChallan.length>0)}}function ra(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td",560),o.TgZ(2,"div"),o.TgZ(3,"label",248),o.TgZ(4,"input",152),o.NdJ("change",function(){var e=o.CHM(n).$implicit;return e.billSelected=!("1"==e.billSelected||1==e.billSelected)}),o.qZA(),o._UZ(5,"span",153),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o._UZ(9,"dateformatter",561),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"a",562),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(3).openChlnaddeditpopup(e.UIDN)}),o._uU(14),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(4),o.Q6J("checked",i.billSelected),o.xp6(3),o.Oqu(i.ChlnId),o.xp6(2),o.s9C("dateValue",i.MDt),o.xp6(2),o.Oqu(i.InvNm),o.xp6(3),o.AsE("",i.TtlAmt," ",i.CRDR,"")}}function oa(e,t){if(1&e&&(o.TgZ(0,"div",398),o.TgZ(1,"table",399),o.TgZ(2,"thead"),o.TgZ(3,"tr"),o.TgZ(4,"td"),o._uU(5,"#"),o.qZA(),o.TgZ(6,"th"),o._uU(7,"Challan No"),o.qZA(),o.TgZ(8,"th"),o._uU(9,"Date"),o.qZA(),o.TgZ(10,"th"),o._uU(11,"Inventory"),o.qZA(),o.TgZ(12,"th"),o._uU(13,"Voucher Amount"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"tbody"),o.YNc(15,ra,15,6,"tr",277),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw(2);o.Udp("max-width",n.maxpopupwidth,"px"),o.xp6(15),o.Q6J("ngForOf",n.curChallan)}}function aa(e,t){1&e&&(o.TgZ(0,"div",563),o._uU(1," No Chalans/Bills available. Please add new challans/Bills! "),o.qZA())}function la(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"button",564),o.NdJ("click",function(){return o.CHM(n),o.oxw(2).selectChallan()}),o._uU(1," Select Challan/Bill "),o.qZA()}}function sa(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",565),o.TgZ(1,"div",98),o.TgZ(2,"div",91),o.TgZ(3,"h4",48),o._uU(4,"Select Challan"),o.qZA(),o.TgZ(5,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(117);return e.showChallanpopup=!1,t.hide()}),o.TgZ(6,"span",50),o._uU(7,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",566),o.YNc(9,oa,16,3,"div",556),o.YNc(10,aa,2,0,"div",557),o.qZA(),o.TgZ(11,"div",121),o.YNc(12,la,2,0,"button",559),o.TgZ(13,"button",95),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(117);return e.showChallanpopup=!1,t.hide()}),o._uU(14,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(9),o.Q6J("ngIf",i.curChallan.length>0),o.xp6(1),o.Q6J("ngIf",0==i.curChallan.length),o.xp6(2),o.Q6J("ngIf",i.curChallan.length>0)}}function ca(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-companyledger-addedit",567),o.NdJ("redirectAction",function(e){return o.CHM(n),o.oxw().popupAction(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("isMobilePopup",!0)("CompanyIdforReport",i.CompanyIdforReport)("redirectOnCancel",!1)}}function ua(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-companyledger-addedit",568),o.NdJ("redirectAction",function(e){return o.CHM(n),o.oxw().reportLedgerAdded(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("CompanyIdforReport",i.CompanyIdforReport)("isMobilePopup",!0)("redirectOnCancel",!1)("inputLedgerId",i.ledgerIdVal)}}function da(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-challan-addedit",569),o.NdJ("ChallanredirectAction",function(e){return o.CHM(n),o.oxw().onchlnresponse(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("CompanyIdforReport",i.CompanyIdforReport)("ChallanredirectOnCancel",!1)("ChallanId",i.ChallanId)}}function ga(e,t){1&e&&(o.TgZ(0,"h4",48),o._uU(1,"Send Email"),o.qZA())}function ha(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"button",94),o.NdJ("click",function(){return o.CHM(n),o.oxw().AddVoucher()}),o._uU(1,"Send Email"),o.qZA()}}function pa(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"button",94),o.NdJ("click",function(){return o.CHM(n),o.oxw().AddVoucher()}),o._uU(1,"Share Document"),o.qZA()}}function fa(e,t){1&e&&(o.TgZ(0,"h4",48),o._uU(1,"Send Email"),o.qZA())}function va(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"button",94),o.NdJ("click",function(){return o.CHM(n),o.oxw().AddVoucher()}),o._uU(1,"Send Email"),o.qZA()}}function ma(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"button",94),o.NdJ("click",function(){return o.CHM(n),o.oxw().AddVoucher()}),o._uU(1,"Share Document"),o.qZA()}}function Ta(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-inventory-addedit",570),o.NdJ("redirectActiononInventory",function(e){return o.CHM(n),o.oxw().InventoryAdded(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("redirectOnCancelonInventory",!1)("isMobilePopup",!0)("CompanyIdforReport",i.CompanyIdforReport)("InputInventoryId",i.InventoryIdVal)}}function Ia(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"div"),o.TgZ(3,"div",571),o.TgZ(4,"label",248),o.TgZ(5,"input",179),o.NdJ("change",function(){var e=o.CHM(n).$implicit;return e.billSelected=!("1"==e.billSelected||1==e.billSelected)}),o.qZA(),o._UZ(6,"span",153),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"td"),o.TgZ(8,"a",562),o.NdJ("click",function(){var e=o.CHM(n).$implicit;return o.oxw(3).openReceiptDeliveryeditpopup(e.UIDN,e.VT)}),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"td"),o._UZ(11,"dateformatter",561),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td"),o._uU(15),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit;o.xp6(5),o.Q6J("checked",i.billSelected),o.xp6(4),o.hij(" ",i.VNO," "),o.xp6(2),o.s9C("dateValue",i.VDt),o.xp6(2),o.Oqu(i.BNO),o.xp6(2),o.Oqu(i.Amt)}}function Za(e,t){if(1&e&&(o.TgZ(0,"div",398),o.TgZ(1,"table",399),o.TgZ(2,"thead"),o.TgZ(3,"tr"),o._UZ(4,"td"),o.TgZ(5,"th"),o._uU(6,"Voucher No"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Date"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Bill No"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"Amount"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"tbody"),o.YNc(14,Ia,16,5,"tr",277),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw(2);o.Udp("max-width",n.maxpopupwidth,"px"),o.xp6(14),o.Q6J("ngForOf",n.curReceiptDelivery)}}function Aa(e,t){if(1&e&&(o.TgZ(0,"div",563),o._uU(1),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.hij(" ",n.receiptDeliveryText," ")}}function xa(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"button",564),o.NdJ("click",function(){return o.CHM(n),o.oxw(2).selectReceiptDelivery()}),o._uU(1),o.qZA()}if(2&e){var i=o.oxw(2);o.xp6(1),o.hij(" Select ",i.receiptDeliveryHeaderText," ")}}function ya(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",112),o.TgZ(1,"div",98),o.TgZ(2,"div",91),o.TgZ(3,"h4",48),o._uU(4),o.qZA(),o.TgZ(5,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(170);return e.showReceiptDeliverynpopup=!1,t.hide()}),o.TgZ(6,"span",50),o._uU(7,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",115),o.YNc(9,Za,15,3,"div",556),o.YNc(10,Aa,2,1,"div",557),o.qZA(),o.TgZ(11,"div",121),o.YNc(12,xa,2,1,"button",559),o.TgZ(13,"button",95),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(170);return e.showReceiptDeliverynpopup=!1,t.hide()}),o._uU(14,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(4),o.hij("Select ",i.receiptDeliveryHeaderText,""),o.xp6(5),o.Q6J("ngIf",i.curReceiptDelivery.length>0),o.xp6(1),o.Q6J("ngIf",0==i.curReceiptDelivery.length),o.xp6(2),o.Q6J("ngIf",i.curReceiptDelivery.length>0)}}function Sa(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",572),o.TgZ(1,"div",573),o.TgZ(2,"div",91),o.TgZ(3,"h4",48),o._uU(4),o.qZA(),o.TgZ(5,"i",574),o.NdJ("click",function(){return o.CHM(n),o.oxw().filterService.changeFilterWithbottomfilter(!0,!0,"Account List")}),o.qZA(),o.qZA(),o.TgZ(6,"div",115),o.TgZ(7,"app-account-addedit",575),o.NdJ("TransactionredirectAction",function(e){return o.CHM(n),o.oxw().onReceiptDeliveryresponse(e)}),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(4),o.Oqu(i.ReceiptDeliveryVoucherType),o.xp6(3),o.Q6J("TransactionredirectOnCancel",!1)("IsDuplicate",!1)("VoucherType",i.ReceiptDeliveryVoucherType)("IsItemVoucher",!0)("VoucherId",i.ReceiptDeliveryVoucherId)("CompanyIdforReport",i.CompanyIdforReport)}}function Da(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-cost-category",576),o.NdJ("redirectActiononCostCenter",function(e){return o.CHM(n),o.oxw().CostCenterAdded(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("redirectOnCancelonCostCenter",!1)("isList",!1)("CompanyIdforReport",i.CompanyIdforReport)}}function Ca(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Additional Details is required"),o.qZA())}function ba(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Ca,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(24);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Na(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",112),o.TgZ(1,"form",113,114),o.NdJ("ngSubmit",function(){o.CHM(n);var e=o.MAs(2),t=o.oxw();return e.form.valid&&t.closestatAdjustmentpopup()}),o.TgZ(3,"div",98),o.TgZ(4,"div",91),o.TgZ(5,"h4",48),o._uU(6,"Stat Adjustment"),o.qZA(),o.TgZ(7,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(177);return e.showstatAdjustmentnpopup=!1,t.hide()}),o.TgZ(8,"span",50),o._uU(9,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",115),o.TgZ(11,"div",398),o.TgZ(12,"label",210),o._uU(13,"Type Of Duty/Tax"),o.qZA(),o.TgZ(14,"ng-select",577,578),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().gstlabel[0]=e}),o.qZA(),o.TgZ(16,"label",210),o._uU(17,"Nature Of Adjustment"),o.qZA(),o.TgZ(18,"ng-select",579,580),o.NdJ("change",function(e){return o.CHM(n),o.oxw().getstatAdditionDetails(e)})("ngModelChange",function(e){return o.CHM(n),o.oxw().TaxAdjustment=e}),o.qZA(),o.TgZ(21,"label",210),o._uU(22,"Additional Details"),o.qZA(),o.TgZ(23,"ng-select",581,582),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().GSTAdditionalDetails=e}),o.qZA(),o.YNc(26,ba,2,1,"div",59),o.qZA(),o.qZA(),o.TgZ(27,"div",121),o.TgZ(28,"button",95),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(177);return e.showstatAdjustmentnpopup=!1,t.hide()}),o._uU(29,"Close"),o.qZA(),o.TgZ(30,"button",564),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(177);return e.showstatAdjustmentnpopup=!1,t.hide()}),o._uU(31," Save "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(2),r=o.MAs(24),a=o.oxw();o.xp6(11),o.Udp("max-width",a.maxpopupwidth,"px"),o.xp6(3),o.Q6J("ngModel",a.gstlabel[0])("items",a.gstlabel),o.xp6(4),o.Q6J("ngModel",a.TaxAdjustment)("items",a.natureOfAdjustmentlabel),o.xp6(5),o.Q6J("items",a.additionalDetailslabel)("ngModel",a.GSTAdditionalDetails),o.xp6(3),o.Q6J("ngIf",i.submitted&&r.invalid)}}function wa(e,t){if(1&e&&(o.TgZ(0,"div",193),o.TgZ(1,"div",588),o._uU(2,"Only numbers "),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(13);o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function Ma(e,t){if(1&e&&(o.TgZ(0,"div",589),o.TgZ(1,"div",588),o._uU(2,"Only numbers "),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(18);o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function qa(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",519),o.TgZ(1,"form",113,114),o.NdJ("ngSubmit",function(){o.CHM(n);var e=o.MAs(2),t=o.oxw();return e.form.valid&&t.JournalStatAdjustmentPopupHide()}),o.TgZ(3,"div",98),o.TgZ(4,"div",91),o.TgZ(5,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(204);return e.showJournalTax=!1,t.hide()}),o.TgZ(6,"span",50),o._uU(7,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",115),o.TgZ(9,"div",398),o.TgZ(10,"label",210),o._uU(11,"Rate (%)"),o.qZA(),o.TgZ(12,"input",583,584),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().TaxRate=e}),o.qZA(),o.YNc(14,wa,3,1,"div",59),o.TgZ(15,"label",210),o._uU(16,"Taxable Value"),o.qZA(),o.TgZ(17,"input",585,586),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().TotalAmount=e}),o.qZA(),o.YNc(19,Ma,3,1,"div",587),o.qZA(),o.qZA(),o.TgZ(20,"div",121),o.TgZ(21,"button",122),o._uU(22,"Save Changes"),o.qZA(),o.TgZ(23,"button",123),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(204);return e.showJournalTax=!1,t.hide()}),o._uU(24,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(2),r=o.MAs(13),a=o.MAs(18),l=o.oxw();o.xp6(9),o.Udp("max-width",l.maxpopupwidth,"px"),o.xp6(3),o.Q6J("ngClass",o.VKq(8,je,i.submitted&&r.invalid))("ngModel",l.TaxRate),o.xp6(2),o.Q6J("ngIf",i.submitted&&r.invalid),o.xp6(3),o.Q6J("ngClass",o.VKq(10,je,i.submitted&&a.invalid))("ngModel",l.TotalAmount),o.xp6(2),o.Q6J("ngIf",i.submitted&&a.invalid)}}function La(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-godown-list",590),o.NdJ("redirectActionGodownMaster",function(e){return o.CHM(n),o.oxw().GodownMasterAdded(e)}),o.qZA()}2&e&&o.Q6J("redirectOnCancelGodownMaster",!1)("isList",!1)("isMobilePopup",!0)}function Va(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",202),o.TgZ(1,"a",203),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(225);return e.openLedgerPopup(t,-1,0)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function _a(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.LN," ")}function Ua(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",204),o.NdJ("click",function(){var e=o.CHM(n).item,t=o.oxw(),i=o.MAs(225);return t.openLedgerPopupforedit(i,e.UIDN,-3,0)}),o._UZ(3,"i",205),o.qZA()}if(2&e){var i=t.item,r=o.oxw();o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Ra(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Account not selected"),o.qZA())}function ka(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Ra,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(226);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Ja(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Allow numeric only"),o.qZA())}function Pa(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Ja,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(236);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Oa(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Allow numeric only"),o.qZA())}function Qa(e,t){if(1&e&&(o.TgZ(0,"div",193),o.YNc(1,Oa,2,0,"div",32),o.qZA()),2&e){o.oxw();var n=o.MAs(243);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Fa(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a",456),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(208);return e.deleteInventoryLedger(e.LedgerInventoryIndex),t.hide()}),o._uU(1,"Delete"),o.qZA()}}var Ea=function(){var e=function(){function e(t,n,i,r,a,l,c,u,d,g,h,f,m,T,I,Z,A,x,y,S){var C=this;s(this,e),this.locale=t,this.location=n,this.filterService=i,this.inventoryService=r,this.route=a,this.router=l,this.accountService=c,this.companyLedgerService=u,this.siteService=d,this.addonPlanService=g,this.structureService=h,this.alertService=f,this.challanService=m,this._config=T,this.el=I,this.CostCategoryservice=Z,this.godownService=A,this.statadjustment=x,this.natureofTranService=y,this.ReportServices=S,this.BuildingCol="",this.WingCol="",this.FlatNoCol="",this.siteStrList=[],this.filteredData=[],this.position="up",this.Total="0.0 Dr",this.MobileTotal="0.0 Dr",this.TotalTax="0.0 Dr",this.MobileTotalTax="0.0 Dr",this.GrandTotal="0.0 Dr",this.MobileGrandTotal="0.0 Dr",this.GrandCRTotal="0.0 Dr",this.RoundOFFTotal="0.0 Dr",this.TCSTotal="0.0 Dr",this.IsRoundOff=!1,this.TaxAdjustment="",this.GSTAdditionalDetails="",this.TotalReferenceAmount=0,this.Totalroundoff=0,this.IsCRDR=!1,this.IsShowLedger=!1,this.taxledgerDetails=[],this.godownPopupDetails=null,this.taxcommonledgerDetails=[],this.TCSledgerDetails=[],this.IspayAddOnPayment=!1,this.IsSignupMaintenancePayment=!1,this.startDate={},this.isInventorypopupopen=!1,this.VoucherIndex=0,this.IsPurchaseTaxAvailable=!1,this.bankDetails=[],this.tableVouchers=[],this.tableVoucherForInvnetory=[],this.tableVouchersforedit=[],this.gstdetails=[],this.tableChallan=[],this.tableVoucherReceiptDelivery=[],this.curChallan=[],this.curReceiptDelivery=[],this.isTCSApplExists=!1,this.curReference=[],this.addNewreferenceBalance=0,this.curInventory=[],this.curGodown=[],this.PageType="",this.IsSundryDebtorsledgerSelected=!1,this.InventoryRate=0,this.GodownIndex=0,this.ReferendeIndex=0,this.PopupReferendeIndex=0,this.InventorycurrentIndex=0,this.curBatchedger=[],this.allagainstRefList=[],this.maxpopupwidth="800",this.LedagainstRefList=[],this.curAddLedger=0,this.curInvenotry=0,this.currGodown=0,this.curAddLedgerLoc=0,this.showCompanyLedgerpopup=!1,this.showReferencepopup=!1,this.showInventorypopup=!1,this.showJournalTax=!1,this.showChallanpopup=!1,this.showReceiptDeliverynpopup=!1,this.showstatAdjustmentnpopup=!1,this.gstlabel=null,this.isPrint=!0,this.natureOfAdjustmentlabel=null,this.additionalDetailslabel=null,this.showBankpopup=!1,this.BatchMaster=null,this.IsStatAdjust=!1,this.ParentNAmeOfVT="",this.isVTJournal=!1,this.isVTDebitNote=!1,this.isVTSales=!1,this.isVTDeliveryNote=!1,this.isVTSalesOrder=!1,this.isVTCreditNote=!1,this.isVTPurchase=!1,this.isVTReceiptNote=!1,this.isVTPurchaseOrder=!1,this.isVTReceipt=!1,this.isVTContra=!1,this.isVTPayment=!1,this.isParentVTJournal=!1,this.isParentVTDebitNote=!1,this.isParentVTSales=!1,this.isParentVTDeliveryNote=!1,this.isParentVTSalesOrder=!1,this.isParentVTCreditNote=!1,this.isParentVTPurchase=!1,this.isParentVTReceiptNote=!1,this.isParentVTPurchaseOrder=!1,this.isParentVTReceipt=!1,this.isParentVTContra=!1,this.isParentVTPayment=!1,this.reportServiceResult=[],this.TransactionredirectOnCancel=!0,this.VoucherId=0,this.InputVoucher_LedgerId=0,this.LedgerIdforReport=0,this.CompanyIdforReport=0,this.DRAmountforReport=0,this.CRAmountforReport=0,this.IsDuplicate=!1,this.TransactionredirectAction=new o.vpe,this.IsItemVoucher=!1,this.IsReceiptDemand=0,this.IsShareLink=0,this.SMSDescription="",this.IsHideEmail=!0,this.Email="",this.Mobile="",this.OnRefMethodpop="",this.ReceiptDeliveryVoucherId=0,this.ReceiptDeliveryVoucherType="",this.isLedgerpopupopen=!1,this.isCostCenterpopupopen=!1,this.isGodownMasterpopupopen=!1,this.popupwindow="",this.modalCrDr="",this.modalInventory=null,this.LedgerInventoryIndex=0,this.modalLedgerIndex=0,this.modalReferenceIndex=0,this.modalDrAmt=0,this.EnterAmountVoucher=0,this.modalCrAmt=0,this.modalQty=0,this.modalRate=0,this.modalUnit="",this.modalDis=0,this.modalLedger=null,this.modalTaxLed=[],this.firstAccselector=[],this.Taxselector=[],this.SecondAccselector=[],this.receiptDeliveryText="",this.receiptDeliveryHeaderText="",this.isPageLoad=!1,this.currentScrollPosition=0,this.transactiontype=[],this.Ledgerid="",this.NOTLedger=[],this.natureoftransaction="",this.ReceiptDetails="",this.NewTrackingNumber=0,this.CurrentNaturTransactionTableIndex=0,this.showChallanModal=!1,this.showReceiptDeliveryModal=!1,this.ChallanId="",this.TermType="",this.IsShowCostCenter=!1,this.IsShowCountryState=!1,this.ShowCostCenter=!1,this.ShowCountryState=!1,this.vouchertypeclass="",this.sfilter=new v.e,this.CostCenter=[],this.isList=!0,this.httpfunction=new D.r,this.SignupId=this.accountService.getSignupId,this.UserId=this.accountService.GetUserId,this.VoucherTypeList=JSON.parse(this.httpfunction.getStorage("VoucherType")),this.StartDate=this.ReportServices.getStartFinancialdate,this.EndDate=this.ReportServices.getEndFinancialdate,this.route.params.subscribe(function(e){C.resetVariables();var t=JSON.parse(C.httpfunction.getStorage("_VoucherConfiguration"));if(null!=t&&null!=t&&(C.ShowCostCenter=t.ISCC,C.ShowCountryState=t.ISCS,C.IsShowCostCenter=t.ISCC,C.IsShowCountryState=t.ISCS),C.TransactionredirectOnCancel)if(null!=e.Type&&""!=e.Type&&("ReceiptDemand"==e.Type?(C.accountService.singleresult.VT=C.capitalize("Receipt Demand"),C.IsReceiptDemand=1):(e.Type.toLowerCase()==p.$f.CreditNote.toLowerCase()?C.accountService.singleresult.VT=p.$f.CreditNote:e.Type.toLowerCase()==p.$f.DebitNote.toLowerCase()?C.accountService.singleresult.VT=p.$f.DebitNote:e.Type.toLowerCase()==p.$f.ReceiptNote.toLowerCase()?(C.accountService.singleresult.VT=p.$f.ReceiptNote,C.IsItemVoucher=!0):e.Type.toLowerCase()==p.$f.DeliveryNote.toLowerCase()?(C.accountService.singleresult.VT=p.$f.DeliveryNote,C.IsItemVoucher=!0):e.Type.toLowerCase()==p.$f.SalesOrder.toLowerCase()?(C.accountService.singleresult.VT=p.$f.SalesOrder,C.IsItemVoucher=!0):e.Type.toLowerCase()==p.$f.PurchaseOrder.toLowerCase()?(C.accountService.singleresult.VT=p.$f.PurchaseOrder,C.IsItemVoucher=!0):C.accountService.singleresult.VT=C.capitalize(e.Type),C.IsReceiptDemand=0,C.showhidecashcheque(e.Type)),C.setInitialData()),C.httpfunction.IsMobileview()&&null!=e.Duplicate&&""!=e.Duplicate&&(C.IsDuplicate=e.Duplicate),null!=e.Id&&""!=e.Id)C.VoucherId=e.Id;else if(null!=e.Type&&""!=e.Type){var n=JSON.parse(C.httpfunction.getStorage("VoucherType")),i=C.accountService.singleresult.VT;C.IsReceiptDemand&&(i=C.capitalize("Receipt")),C.IsCRDR=n.filter(function(e){return e.NA.toUpperCase()==i.toUpperCase()})[0].IsCrDr,C.IsShowLedger=n.filter(function(e){return e.NA.toUpperCase()==i.toUpperCase()})[0].IsShowLed,C.TableVoucherspush()}C.Ispaymode=C.accountService.getCompanyData.CN==C.accountService.technocompanyname&&("Receipt"==e.Type||"Payment"==e.Type)})}return l(e,[{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList)}},{key:"onResize",value:function(){var e=80*window.innerWidth/100;this.maxpopupwidth=e<800?e:800}},{key:"ngOnInit",value:function(){var e=this;if(this.SignupId=this.accountService.getSignupId,this.UserId=this.accountService.GetUserId,this.PageType=this.router.url.toLowerCase().indexOf("ledger")>=0?"Ledger":this.router.url.toLowerCase().indexOf("group")>=0?"Group":this.router.url.toLowerCase().indexOf("finalize")>=0?"Finalize Vouchers":this.router.url.toLowerCase().indexOf("restorevoucher")>=0?"Restore Vouchers":this.router.url.toLowerCase().indexOf("hiddenvoucher")>=0?"Hidden Vouchers":this.router.url.toLowerCase().indexOf("monthlysummary")>=0?"Monthly Summary":this.router.url.toLowerCase().indexOf("outstandingrecivable")>=0?"Outstanding Receivable":this.router.url.toLowerCase().indexOf("outstandingpayble")>=0?"Outstanding Payable":"DayBook",!this.httpfunction.IsMobileview()){var t=80*window.innerWidth/100;this.maxpopupwidth=t<800?t:800,null!=this.bankModal&&(this.bankModal.onEsc=this.onModalEsc),null!=this.statAdjustmentModal&&(this.statAdjustmentModal.onEsc=this.onModalEsc),null!=this.challanModal&&(this.challanModal.onEsc=this.onModalEsc),null!=this.challanModalM&&(this.challanModalM.onEsc=this.onModalEsc),null!=this.RefModal&&(this.RefModal.onEsc=this.onModalEsc),null!=this.RefModalM&&(this.RefModalM.onEsc=this.onModalEsc),null!=this._inventoryModal&&(this._inventoryModal.onEsc=this.onModalEsc),null!=this.BatchModal&&(this.BatchModal.onEsc=this.onModalEsc),null!=this.BatchModalM&&(this.BatchModalM.onEsc=this.onModalEsc),null!=this.JournalStatAdjustmentModal&&(this.JournalStatAdjustmentModal.onEsc=this.onModalEsc),document.onresize=this.onResize}if(0==this.TransactionredirectOnCancel){this.accountService.singleresult.VT=this.capitalize(this.VoucherType);var n=JSON.parse(this.httpfunction.getStorage("VoucherType"));this.IsCRDR=n.filter(function(t){return t.NA.toUpperCase()==e.accountService.singleresult.VT.toUpperCase()})[0].IsCrDr,this.IsShowLedger=n.filter(function(t){return t.NA.toUpperCase()==e.accountService.singleresult.VT.toUpperCase()})[0].IsShowLed,this.setInitialData(),(null==this.VoucherId||0==this.VoucherId||null==this.VoucherId)&&this.TableVoucherspush(),"ReceiptDemand"==this.accountService.singleresult.VT.toLowerCase()?(this.accountService.singleresult.VT=this.capitalize("Receipt"),this.IsReceiptDemand=1):(this.accountService.singleresult.VT.toLowerCase()==p.$f.CreditNote.toLowerCase()?this.accountService.singleresult.VT=p.$f.CreditNote:this.accountService.singleresult.VT.toLowerCase()==p.$f.DebitNote.toLowerCase()?this.accountService.singleresult.VT=p.$f.DebitNote:this.accountService.singleresult.VT.toLowerCase()==p.$f.ReceiptNote.toLowerCase()?(this.accountService.singleresult.VT=p.$f.ReceiptNote,this.IsItemVoucher=!0):this.accountService.singleresult.VT.toLowerCase()==p.$f.DeliveryNote.toLowerCase()?(this.accountService.singleresult.VT=p.$f.DeliveryNote,this.IsItemVoucher=!0):this.accountService.singleresult.VT.toLowerCase()==p.$f.SalesOrder.toLowerCase()?(this.accountService.singleresult.VT=p.$f.SalesOrder,this.IsItemVoucher=!0):this.accountService.singleresult.VT.toLowerCase()==p.$f.PurchaseOrder.toLowerCase()?(this.accountService.singleresult.VT=p.$f.PurchaseOrder,this.IsItemVoucher=!0):this.accountService.singleresult.VT=this.capitalize(this.accountService.singleresult.VT.toLowerCase()),this.IsReceiptDemand=0,this.showhidecashcheque(this.accountService.singleresult.VT.toLowerCase()))}(""==this.accountService.singleresult.VT||null==this.accountService.singleresult.VT)&&this.router.navigate(["/transactions/daybook"]),this.inventory_subscription=this.inventoryService.resultObs.subscribe(function(){e.companyLedgerService.GetAllledaccount(!0)}),this.subscription=this.companyLedgerService.resultObs.subscribe(function(){e.isInventorypopupopen||e.isLedgerpopupopen||e.isCostCenterpopupopen||e.showChallanModal||e.isGodownMasterpopupopen||e.loadbindData()}),this.CostCategoryservice.reportCompanyId=this.CompanyIdforReport,this.companyLedgerService.reportCompanyId=this.CompanyIdforReport,this.inventoryService.reportCompanyId=this.CompanyIdforReport,this.companyLedgerService.isGetSubscribe=!0,this.inventoryService.isGetSubscribe=!0,this.callCompanyInventoryLedger(null!=this.VoucherType?this.VoucherType:this.accountService.singleresult.VT),this.natureofTranService.GetAlldata(),this.subscription_natureTrans=this.companyLedgerService.resultObs.subscribe(function(){e.transactiontype=e.natureofTranService.result.filter(function(e){return 0==e.IsSP})}),this.CostCategoryservice.reportCompanyId=this.CompanyIdforReport,this.CostCategoryservice.GetAlldata(),this.accountService.reportCompanyId=this.CompanyIdforReport,this.godownService.reportCompanyId=this.CompanyIdforReport,this.siteService.reportCompanyId=this.CompanyIdforReport,this.structureService.reportCompanyId=this.CompanyIdforReport,0==this.siteService.result.length&&this.siteService.GetAllsitesforAllaccount(),0==this.godownService.result.length&&this.godownService.GetAlldata(),this.structureService.GetAlldataWithReturn().subscribe(function(t){var n,i,r;t.m_Item2>0&&(e.BuildingCol=null!==(n=t.m_Item1[1])&&void 0!==n?n:t.m_Item1[1][0].BuildingCol.replace("[","").replace("]",""),e.WingCol=null!==(i=t.m_Item1[1])&&void 0!==i?i:t.m_Item1[1][0].WingCol.replace("[","").replace("]",""),e.FlatNoCol=null!==(r=t.m_Item1[1])&&void 0!==r?r:t.m_Item1[1][0].FlatNoCol.replace("[","").replace("]",""),e.siteStrList=t.m_Item1[0],null!=e.VoucherId&&e.VoucherId>0&&e.accountService.singleresult.StStrI>0&&null!=e.accountService.singleresult.StStrI&&(e.siteStrSingle=e.siteStrList.filter(function(t){return t.PK_Id==e.accountService.singleresult.StStrI})[0]))}),this.CompanyIdforReport>0&&(this.challanService.reportCompanyId=this.CompanyIdforReport),this.challan_subscription=this.challanService.resultObs.subscribe(function(){e.curChallan=e.challanService.result,e.curChallan=e.calculateCurrentChallan(e.curChallan);var t=e.curChallan.slice(0);e.tableChallan=e.tableChallan.concat(JSON.parse(JSON.stringify(t))),e.showChallanpopup=!0,e.httpfunction.IsMobileview()?e.challanModalM.show():e.challanModal.show()}),this.ReceiptDelivery_subscription=this.ReportServices.resultObs.subscribe(function(){if(e.curReceiptDelivery=e.ReportServices.result,e.curReceiptDelivery=e.curReceiptDelivery.filter(e.isVTPurchase||e.isParentVTPurchase||e.isVTDebitNote||e.isParentVTDebitNote||e.isVTPurchaseOrder||e.isParentVTPurchaseOrder?function(e){return e.VT==p.$f.ReceiptNote}:function(e){return e.VT==p.$f.DeliveryNote}),e.accountService.singleresult.UIDN>0){for(var t=[],n=0;n<e.curReceiptDelivery.length;n++)if(e.curReceiptDelivery[n].RDId==e.accountService.singleresult.UIDN.toString()&&(e.curReceiptDelivery[n].billSelected=!0,e.curReceiptDelivery[n].IsUpdate=!0,e.curReceiptDelivery[n].billSelected)){var i=new u.VN;i.UIDN=e.curReceiptDelivery[n].UIDN,i.BNO=e.curReceiptDelivery[n].BNO,i.VNO=e.curReceiptDelivery[n].VNO,i.TotalAmt=e.curReceiptDelivery[n].Amt,t.push(i)}e.companyLedgerService.singleresult.vouchers=t}e.showReceiptDeliverynpopup=!0,e.ReceiptDeliveryModal.show();var r=e.curReceiptDelivery.slice(0);e.tableVoucherReceiptDelivery=e.tableVoucherReceiptDelivery.concat(JSON.parse(JSON.stringify(r))),e.httpfunction.IsMobileview()||(e.isVTPurchase||e.isParentVTPurchase||e.isVTDebitNote||e.isParentVTDebitNote?(e.receiptDeliveryText="No Receipt Note available.Please add new Receipt Note!",e.receiptDeliveryHeaderText="Receipt Note"):(e.isVTSales||e.isParentVTSales||e.isVTCreditNote||e.isParentVTCreditNote)&&(e.receiptDeliveryText="No Delivery Note available.Please add new Delivery Note!",e.receiptDeliveryHeaderText="Delivery Note"))}),this.CostCategoryservice.isGetSubscribe=!0,this.costcenter_subscription=this.CostCategoryservice.resultObs.subscribe(function(){e.CostCategoryservice.result=e.CostCategoryservice.result.filter(function(e){return 2!=e.St&&(0!=e.CCenId||0!=e.CCatId)})}),this.showhidecashcheque(this.accountService.singleresult.VT),this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this))}},{key:"callCompanyInventoryLedger",value:function(e){e==p.$f.Purchase||this.isParentVTPurchase||e==p.$f.Sales||this.isParentVTSales||e==p.$f.ReceiptNote||this.isParentVTReceiptNote||e==p.$f.CreditNote||this.isParentVTCreditNote||e==p.$f.DeliveryNote||this.isParentVTDeliveryNote||e==p.$f.DebitNote||this.isParentVTDebitNote||e==p.$f.SalesOrder||this.isParentVTSalesOrder||e==p.$f.PurchaseOrder||this.isParentVTPurchaseOrder?this.inventoryService.result.length>0?this.companyLedgerService.GetAllledaccount(!0):(this.inventoryService.resetService(),this.inventoryService.GetAlldata()):this.companyLedgerService.GetAllledaccount(!0)}},{key:"LedgerKeyEvent",value:function(e,t,n,i,r){var o=e.key||e.keyCode;("C"==o||"c"==o)&&e.altKey&&this.openLedgerPopup(t,n,i),("Enter"==o||"enter"==o)&&e.ctrlKey&&this.openLedgerPopupforedit(t,r,n,i),e.stopPropagation(),e.preventDefault()}},{key:"PurchaseLedgerKeyEvent",value:function(e,t,n,i,r){var o=e.key||e.keyCode;("C"==o||"c"==o)&&e.altKey&&this.openLedgerPopup(t,-1,i),("Enter"==o||"enter"==o)&&e.ctrlKey&&this.openLedgerPopupforedit(t,r,-2,i),e.stopPropagation(),e.preventDefault()}},{key:"InventoryKeyEvent",value:function(e,t,n,i){var r=e.key||e.keyCode;("C"==r||"c"==r)&&e.altKey&&this.openInventoryPopup(t,n),("Enter"==r||"enter"==r)&&e.ctrlKey&&this.openInventoryPopupforedit(i),e.stopPropagation(),e.preventDefault()}},{key:"TableVoucherspush",value:function(){var e=[p.$f.Contra.toLowerCase(),p.$f.Purchase.toLowerCase(),p.$f.CreditNote.toLowerCase(),p.$f.Receipt.toLowerCase(),p.$f.ReceiptNote.toLowerCase(),p.$f.PurchaseOrder.toLowerCase()],t=[p.$f.Payment.toLowerCase(),p.$f.DebitNote.toLowerCase(),p.$f.Journal.toLowerCase(),p.$f.Sales.toLowerCase(),p.$f.DeliveryNote.toLowerCase(),p.$f.SalesOrder.toLowerCase()],n=new u.eK;n.TabIndex=n.Index+21,this.IsCRDR&&!this.IsItemVoucher&&(e.includes(this.resultVT)||e.includes(this.parentNameVT)?n.CRDR="Cr":(t.includes(this.resultVT)||t.includes(this.parentNameVT))&&(n.CRDR="Dr")),this.httpfunction.IsMobileview()||this.tableVouchers.push(n)}},{key:"loadbindData",value:function(){if(this.getFromLedger(),this.getToLedger(),this.getTaxLedger(),this.getRoundLedger(),this.getTCSLedger(),this.getInventory(),this.getInventoryLedger(),null!=this.VoucherId&&this.VoucherId>0&&(this.tableVouchers=[],this.tableVoucherForInvnetory=[],this.isPageLoad=!0,this.loadEditData(this.VoucherId)),this.IsCRDR&&!this.IsItemVoucher)if(this.VoucherType==p.$f.Purchase||this.isParentVTPurchase||this.VoucherType==p.$f.CreditNote||this.isParentVTCreditNote||this.VoucherType==p.$f.Payment||this.isParentVTPayment){var e=this.ToLedger;this.ToLedger=this.FromLedger,this.FromLedger=e}else(this.accountService.singleresult.VT==p.$f.Purchase||this.isParentVTPurchase||this.accountService.singleresult.VT==p.$f.CreditNote||this.isParentVTCreditNote||this.accountService.singleresult.VT==p.$f.Payment||this.isParentVTPayment)&&(e=this.ToLedger,this.ToLedger=this.FromLedger,this.FromLedger=e);if(this.VoucherType==p.$f.PurchaseOrder||this.isParentVTPurchaseOrder||this.VoucherType==p.$f.SalesOrder||this.isParentVTSalesOrder||this.VoucherType==p.$f.DeliveryNote||this.isParentVTDeliveryNote||this.VoucherType==p.$f.ReceiptNote||this.isParentVTReceiptNote)this.tableVoucherForInvnetory=[],this.IsItemVoucher&&((t=new u.eK).InventoryTabIndex=t.Index+501,this.tableVoucherForInvnetory.push(t));else if((this.accountService.singleresult.VT==p.$f.PurchaseOrder||this.isParentVTPurchaseOrder||this.accountService.singleresult.VT==p.$f.SalesOrder||this.isParentVTSalesOrder||this.accountService.singleresult.VT==p.$f.DeliveryNote||this.isParentVTDeliveryNote||this.accountService.singleresult.VT==p.$f.ReceiptNote||this.isParentVTReceiptNote)&&this.IsItemVoucher){var t;(t=new u.eK).InventoryTabIndex=t.Index+501,this.tableVoucherForInvnetory.push(t)}}},{key:"showhidecashcheque",value:function(e){this.Ispaymode=!(this.accountService.getCompanyData.CN!=this.accountService.technocompanyname||e!=p.$f.Receipt&&!this.isParentVTReceipt&&e!=p.$f.Payment&&!this.isParentVTPayment)}},{key:"openChlnaddeditpopup",value:function(e){this.ChallanId=e,this.showChallanModal=!0,this.showChallanpopup=!1,this.httpfunction.IsMobileview()?this.challanModalM.hide():this.challanModal.hide()}},{key:"openReceiptDeliveryeditpopup",value:function(e,t){this.ReceiptDeliveryVoucherId=e,this.ReceiptDeliveryVoucherType=t,this.showReceiptDeliveryModal=!0,this.ReceiptDeliveryAddEditModal.show()}},{key:"openReceiptDelveiryeditpopup",value:function(){this.showReceiptDeliverynpopup=!0,this.ReceiptDeliveryModal.show()}},{key:"closestatAdjustmentpopup",value:function(){this.showstatAdjustmentnpopup=!1,this.statAdjustmentModal.hide()}},{key:"openstatAdjustmentpopup",value:function(){this.IsStatAdjust&&(this.showstatAdjustmentnpopup=!0,this.statAdjustmentModal.show(),this.gstlabel=this.statadjustment.GetTypeOfDuty(),this.natureOfAdjustmentlabel=this.statadjustment.GetNatureOfAdjustment())}},{key:"getstatAdditionDetails",value:function(e){null!=e.UIDN&&null!=e.UIDN&&""!=e.UIDN&&(this.GSTAdditionalDetails="",this.additionalDetailslabel=this.statadjustment.GetAdditionDetails().filter(function(t){return t.NatureOfAdjustmentId==e.UIDN}))}},{key:"onchlnresponse",value:function(e){if(this.showChallanModal=!1,null!=e){var t=new u.qk;if(t.Amt=e.TA,t.ChId=e.UIDN,t.ChNo=e.CN,null!=this.companyLedgerService.singleresult.challan){var n=this.companyLedgerService.singleresult.challan.findIndex(function(t){return t.ChId==e.UIDN});this.companyLedgerService.singleresult.challan[n]=t}var i=this.curChallan.findIndex(function(t){return t.UIDN==e.UIDN});i>=0&&(this.curChallan[i].TA=e.TA,this.curChallan[i].CN=e.CN,this.curChallan[i].MtD=e.MtD,this.curChallan[i].InvNm=e.InvNm,this.curChallan[i].UA=e.UA,this.curChallan[i].Qty=e.Qty),this.selectChallan()}this.showChallanpopup=!0}},{key:"onReceiptDeliveryresponse",value:function(e){if(null!=e){var t=new u.Hr;if(t.UIDN=e.UIDN,t.BNO=e.BNO,t.VNO=e.VNO,t.VDt=e.VDt,t.Amt=e.VT==p.$f.ReceiptNote||this.isParentVTReceiptNote?e.VDet.filter(function(e){return 1==e.isMainled})[0].CrAmt:e.VDet.filter(function(e){return 1==e.isMainled})[0].DrAmt,null!=this.companyLedgerService.singleresult.vouchers){var n=this.companyLedgerService.singleresult.vouchers.findIndex(function(t){return t.UIDN==e.UIDN});this.companyLedgerService.singleresult.vouchers[n]=t}var i=this.curReceiptDelivery.findIndex(function(t){return t.UIDN==e.UIDN});i>=0&&(this.curReceiptDelivery[i].InventoryDetails=e.InventoryDetails,this.curReceiptDelivery[i].BNO=e.BNO,this.curReceiptDelivery[i].VNO=e.VNO,this.curReceiptDelivery[i].VDt=e.VDt,this.curReceiptDelivery[i].Amt=t.Amt),this.selectReceiptDelivery()}this.showReceiptDeliveryModal=!1,this.ReceiptDeliveryAddEditModal.hide()}},{key:"ngOnDestroy",value:function(){null!=this.subscription&&this.subscription.unsubscribe(),null!=this.challan_subscription&&this.challan_subscription.unsubscribe(),null!=this.ReceiptDelivery_subscription&&this.ReceiptDelivery_subscription.unsubscribe(),null!=this.costcenter_subscription&&this.costcenter_subscription.unsubscribe(),null!=this.gst_subscription&&this.gst_subscription.unsubscribe(),null!=this.inventory_subscription&&this.inventory_subscription.unsubscribe(),null!=this.subscription_natureTrans&&this.subscription_natureTrans.unsubscribe()}},{key:"onModalEsc",value:function(e){e.stopPropagation(),e.preventDefault(),this.hide()}},{key:"getsitestructuredetail",value:function(e){var t=this;null!=e&&null!=e.UIDN&&null!=e.UIDN&&""!=e.UIDN&&(this.CompanyIdforReport>0&&(this.structureService.reportCompanyId=this.CompanyIdforReport),this.siteStrList=null,this.siteStrSingle=null,this.accountService.singleresult.StStrI=0,this.CostCategoryservice.singleresult=null,this.sfilter.STI=[e.UIDN],this.sfilter.available=1,this.structureService.filterArg=this.sfilter,this.structureService.GetAlldataWithReturn().subscribe(function(e){var n,i,r;e.m_Item2>0&&(t.BuildingCol=null===(n=e.m_Item1[1][0])||void 0===n?void 0:n.BuildingCol.replace("[","").replace("]",""),t.WingCol=null===(i=e.m_Item1[1][0])||void 0===i?void 0:i.WingCol.replace("[","").replace("]",""),t.FlatNoCol=null===(r=e.m_Item1[1][0])||void 0===r?void 0:r.FlatNoCol.replace("[","").replace("]",""),t.siteStrList=e.m_Item1[0],t.filteredData=[],t.filteredData=t.siteStrList.map(function(e){if(e.PK_Id>0&&null!=e.PK_Id)return{concatenatedString:(e[this.SiteName]?e[this.SiteName]:"")+(e[this.FlatNoCol]?" - FlatNoCol - "+e[this.FlatNoCol]:"")+(e[this.BuildingCol]?" - BuildingCol - "+e[this.BuildingCol]:"")+(e[this.WingCol]?" - WingCol - "+e[this.WingCol]:"")+(e[this.ReraArea]?" - ReraArea - "+e[this.ReraArea]:"")+(e[this.AgreementAmount]?" - AgreementAmount - "+e[this.AgreementAmount]:""),UIDN:e.PK_Id}},t).filter(Boolean),null!=t.VoucherId&&t.VoucherId>0&&t.accountService.singleresult.StStrI>0&&null!=t.accountService.singleresult.StStrI&&(t.siteStrSingle=t.filteredData.filter(function(e){return e.UIDN==t.accountService.singleresult.StStrI})[0]))}))}},{key:"onDateSelect",value:function(e){this.accountService.singleresult.VDt=e}},{key:"onDueDateSelect",value:function(e){this.accountService.singleresult.DDt=e}},{key:"onbankrecoDateSelect",value:function(e){this.bankDetails[e.index].BRecoDt=e.startDate}},{key:"onbankchkDateSelect",value:function(e){this.bankDetails[e.index].ChkDt=e.startDate}},{key:"calculateBank",value:function(){var e,t,n,i,r=this,o=new Array,a=null;if(!this.IsCRDR||this.IsItemVoucher){if(null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult)return;if(this.companyLedgerService.singleresult.IsBank){for(var l=0,s=0;s<this.tableVouchers.length;s++)l+=this.getNumeric(this.tableVouchers[s].DrAmt);for(var c=0;c<this.tableVoucherForInvnetory.length;c++)l+=this.getNumeric(this.tableVoucherForInvnetory[c].DrAmt);l+=this.SelectedTCSledger&&(null===(e=this.companyLedgerService.singleresult)||void 0===e?void 0:e.IsTCSAppl)?l*(null===(t=this.SelectedTCSledger)||void 0===t?void 0:t.TR)/100:0,(g=new u.eK).LId=this.companyLedgerService.singleresult.UIDN,g.L_Name=this.companyLedgerService.singleresult.LN,g.LedDet=new p.dJ,g.LedDet.UIDN=this.companyLedgerService.singleresult.UIDN,g.LedDet.LN=this.companyLedgerService.singleresult.LN,g.LedDet.IsBank=this.companyLedgerService.singleresult.IsBank,g.TCN=this.natureoftransaction,l>0?g.DrAmt=l:(g.CrAmt=l,g.CrAmt<0&&(g.CrAmt=-1*g.CrAmt)),o.push(JSON.parse(JSON.stringify(g)))}a=JSON.parse(JSON.stringify(this.tableVouchers.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt})));for(var d=0;d<a.length;d++)a[d].DrAmt<0?(a[d].DrAmt=-1*a[d].DrAmt,a[d].CrAmt=0):(a[d].CrAmt=a[d].DrAmt,a[d].DrAmt=0);if(o=o.concat(a?JSON.parse(JSON.stringify(a)):[]),this.IsItemVoucher&&null!=this.PurchaseLedger){var g;(g=new u.eK).LId=this.PurchaseLedger.UIDN,g.L_Name=this.PurchaseLedger.LN,g.LedDet=new p.dJ,g.LedDet.UIDN=this.PurchaseLedger.UIDN,g.LedDet.LN=this.PurchaseLedger.LN,g.LedDet.IsBank=this.PurchaseLedger.IsBank,g.TCN=this.natureoftransaction,g.TaxLedger=[];for(var h=this.tableVouchers.filter(function(e){return null!=e.InventoryDetails&&null!=e.TaxLedger&&e.TaxLedger.length>0}),f=this.tableVoucherForInvnetory.filter(function(e){return null!=e.TaxLedger&&e.TaxLedger.length>0}),v=h.concat(f),m=0;m<v.length;m++){var T=(null===(n=v[m])||void 0===n?void 0:n.TaxLedger)?JSON.parse(JSON.stringify(v[m].TaxLedger)):[];if(T.length>0)for(var I=0;I<T.length;I++)T[I].DrAmt=v[m].DrAmt,g.TaxLedger.push(T[I])}o.push(JSON.parse(JSON.stringify(g)))}}else{for(var Z=0;Z<this.tableVouchers.length;Z++)null!=this.accountService.singleresult.referencemaster&&null!=this.accountService.singleresult.referencemaster&&null==this.tableVouchers[Z].LedDet&&null==this.tableVouchers[Z].LedDet&&(this.tableVouchers[Z].DrAmt=null);o=this.tableVouchers.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt||null!=e.CrAmt&&null!=e.CrAmt})}if(o.length>0){this.bankDetails=[];for(var A=0;A<o.length;A++){var x=0,y=0,S=null;if((o[A].DrAmt>0||o[A].CrAmt>0)&&1==(null===(i=o[A].LedDet)||void 0===i?void 0:i.IsBank)&&(x=2,y=o[A].LedDet.UIDN,S=o[A].LedDet.LN),x>0){var D=null;if(2==x){if(D=new Array,0==o[A].DrAmt||null==o[A].DrAmt){if(this.VoucherType==p.$f.Contra||this.isParentVTContra||this.VoucherType==p.$f.Journal||this.isParentVTJournal||this.VoucherType==p.$f.Payment||this.isParentVTPayment)var C=o.filter(function(e){return e.LedDet.UIDN!=y&&e.DrAmt>0})[0];else C=o.filter(function(e){return e.LedDet.UIDN!=y&&0==e.LedDet.IsBank&&e.DrAmt>0})[0];null!=C&&null!=C&&D.push(C)}else null!=(C=this.VoucherType==p.$f.Contra||this.isParentVTContra||this.VoucherType==p.$f.Payment||this.isParentVTPayment?o.filter(function(e){return e.LedDet.UIDN!=y&&e.CrAmt>0})[0]:this.VoucherType==p.$f.Journal||this.isParentVTJournal?o.filter(function(e){return e.LedDet.UIDN!=y&&e.DrAmt>0})[0]:this.IsItemVoucher?o.filter(function(e){return null==e.InventoryDetails}).filter(function(e){return e.LedDet.UIDN!=y})[0]:o.filter(function(e){return e.LedDet.UIDN!=y&&0==e.LedDet.IsBank&&e.CrAmt>0})[0])&&null!=C&&D.push(C);var b=new u.eK,N=o[A],w=0;if(b.DrAmt=this.getNumeric(N.DrAmt),b.TCN=this.natureoftransaction,null!=N.TaxLedger&&null!=N.TaxLedger)for(var M=0;M<N.TaxLedger.length;M++)1==N.TaxLedger[M].IsInclusive?(w+=this.getNumeric(N.DrAmt*N.TaxLedger[M].TR/100),b.DrAmt=b.DrAmt-this.getNumeric(N.DrAmt*N.TaxLedger[M].TR/100)):b.DrAmt=b.DrAmt+this.getNumeric(N.DrAmt*N.TaxLedger[M].TR/100);for(var q=function(){V=r.bankDetails.filter(function(e){return e.BLId==y&&e.LId==D[L].LedDet.UIDN});var e=r.getNumeric(0==o[A].DrAmt||null==o[A].DrAmt?0:o[A].DrAmt),t=r.getNumeric(0==o[A].DrAmt||null==o[A].DrAmt?o[A].CrAmt:0);if(null!=D[L].TaxLedger&&null!=D[L].TaxLedger)for(var n=0;n<D[L].TaxLedger.length;n++)r.IsItemVoucher?0==t?1==D[L].TaxLedger[n].IsInclusive?(w+=r.getNumeric(D[L].TaxLedger[n].DrAmt*D[L].TaxLedger[n].TR/100),e-=r.getNumeric(D[L].TaxLedger[n].DrAmt*D[L].TaxLedger[n].TR/100)):e+=r.getNumeric(D[L].TaxLedger[n].DrAmt*D[L].TaxLedger[n].TR/100):1==D[L].TaxLedger[n].IsInclusive?(w+=r.getNumeric(D[L].CrAmt*D[L].TaxLedger[n].TR/100),t-=r.getNumeric(D[L].CrAmt*D[L].TaxLedger[n].TR/100)):t+=r.getNumeric(D[L].CrAmt*D[L].TaxLedger[n].TR/100):0==t?1==D[L].TaxLedger[n].IsInclusive?(w+=r.getNumeric(D[L].CrAmt*D[L].TaxLedger[n].TR/100),e-=r.getNumeric(D[L].CrAmt*D[L].TaxLedger[n].TR/100)):e+=r.getNumeric(D[L].CrAmt*D[L].TaxLedger[n].TR/100):1==D[L].TaxLedger[n].IsInclusive?(w+=r.getNumeric(D[L].DrAmt*D[L].TaxLedger[n].TR/100),t-=r.getNumeric(D[L].DrAmt*D[L].TaxLedger[n].TR/100)):t+=r.getNumeric(D[L].DrAmt*D[L].TaxLedger[n].TR/100);if(V.length>0)V[0].Led_Dr=r.getNumeric(V[0].Led_Dr)+r.getNumeric(e);else{var i=new u.oy;if(i.BankName="",i.TType="Cheque/DD",r.httpfunction.IsMobileview()&&(i.TType="0"),i.ChkDt=new Date,i.ChkNo="",i.BRecoDt=null,null!=r.accountService.singleresult.bankDetails&&null!=r.accountService.singleresult.bankDetails&&(_=r.accountService.singleresult.bankDetails.filter(function(e){return e.BLId==y&&e.LId==D[L].LedDet.UIDN}),0==_.length&&(_=r.accountService.singleresult.bankDetails.filter(function(t){return(t.BLId==y||t.LId==D[L].LedDet.UIDN)&&t.Led_Dr==e})),0==_.length&&(_=r.accountService.singleresult.bankDetails.filter(function(e){return(e.BLId==y||e.LId==D[L].LedDet.UIDN)&&e.Led_Dr==D[L].DrAmt})),_.length>0&&(i.BankName=_[0].BankName,i.TType=_[0].TType,i.ChkDt=_[0].ChkDt,i.ChkNo=_[0].ChkNo,i.BRecoDt=_[0].BRecoDt,_[0].Led_Dr=e)),i.InclusiveAmount=w,i.BLId=y,i.BL_Name=S,i.LId=D[L].LedDet.UIDN,i.L_Name=D[L].LedDet.LN,"Payment"===r.accountService.singleresult.VT)i.Led_Dr=0,i.Led_Cr=parseFloat(e.toFixed(2));else{var a,l=parseFloat(r.Totalroundoff.toFixed(2));a=l>=0?-l:Math.abs(l),i.Led_Dr=parseFloat(e.toFixed(2))+a,i.Led_Cr=parseFloat(t.toFixed(2))}i.bankTabIndex=r.bankDetails.length+1010,r.bankDetails.push(i)}},L=0;L<D.length;L++){var V,_;q()}}}}}}},{key:"onclear",value:function(){this.accountService.singleresult.StStrI=null}},{key:"finalcalculation",value:function(){var e,t;if(this.isTCSApplExists=!0===(null===(e=this.companyLedgerService.singleresult)||void 0===e?void 0:e.IsTCSAppl),this.IsCRDR&&!this.IsItemVoucher||null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult){if(this.IsItemVoucher)var n=this.tableVouchers.filter(function(e){return null!=e.InventoryDetails&&null!=e.InventoryDetails&&null!=e.rate&&null!=e.rate});else n=this.tableVouchers.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt}),this.IsCRDR&&(n=this.tableVouchers.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt||null!=e.CrAmt&&null!=e.CrAmt&&0!=e.CrAmt}));if(this.IsItemVoucher)for(var i=0;i<this.tableVoucherForInvnetory.length;i++)n=n.concat(this.tableVoucherForInvnetory[i]?this.tableVoucherForInvnetory[i]:[]);for(var r=0,o=0,a=0,l=0,s=0,c=0;c<n.length;c++){var u;if(u=this.DebitOrCreditByCategory(!this.IsCRDR||this.IsItemVoucher?this.companyLedgerService.singleresult.Cat:n[c].LedDet.Cat,!0),this.IsItemVoucher){var d=0,g=0;if("DEBIT"==u?this.getNumeric(n[c].DrAmt)<0?(g=this.getNumeric(-1*n[c].DrAmt),r+=this.getNumeric(g)):(d=this.getNumeric(n[c].DrAmt),o+=this.getNumeric(d)):this.getNumeric(n[c].DrAmt)<0?(d=this.getNumeric(-1*n[c].DrAmt),o+=this.getNumeric(d)):(g=this.getNumeric(n[c].DrAmt),r+=this.getNumeric(g)),null!=n[c].TaxLedger&&null!=n[c].TaxLedger){for(var h=0;h<n[c].TaxLedger.length;h++)d>0&&(l+=this.getNumeric(d*n[c].TaxLedger[h].TR/100),n[c].TaxLedger[h].IsInclusive&&(s+=this.getNumeric(d*n[c].TaxLedger[h].TR/100))),g>0&&(a+=this.getNumeric(g*n[c].TaxLedger[h].TR/100),n[c].TaxLedger[h].IsInclusive&&(s+=this.getNumeric(g*n[c].TaxLedger[h].TR/100)));n[c].TaxTotal=a}if(null!=this.TaxLedgercommon&&this.TaxLedgercommon)for(var p=0;p<this.TaxLedgercommon.length;p++)d>0&&(l+=this.getNumeric(d*this.TaxLedgercommon[p].TR/100),this.TaxLedgercommon[p].IsInclusive&&(s+=this.getNumeric(d*this.TaxLedgercommon[p].TR/100))),g>0&&(a+=this.getNumeric(g*this.TaxLedgercommon[p].TR/100),this.TaxLedgercommon[p].IsInclusive&&(s+=this.getNumeric(g*this.TaxLedgercommon[p].TR/100)))}else{var f=0,v=0;if(this.IsCRDR)this.getNumeric(n[c].CrAmt)>0?(v=this.getNumeric(n[c].CrAmt),r+=this.getNumeric(v)):(f=this.getNumeric(n[c].DrAmt),o+=this.getNumeric(f));else if(n[c].LedDet.isTL?"DEBIT"==u?this.getNumeric(n[c].DrAmt)<0?a+=this.getNumeric(-1*n[c].DrAmt):l+=this.getNumeric(n[c].DrAmt):this.getNumeric(n[c].DrAmt)<0?l+=this.getNumeric(-1*n[c].DrAmt):a+=this.getNumeric(n[c].DrAmt):"DEBIT"==u?this.getNumeric(n[c].DrAmt)<0?(v=this.getNumeric(-1*n[c].DrAmt),r+=this.getNumeric(v)):(f=this.getNumeric(n[c].DrAmt),o+=this.getNumeric(f)):this.getNumeric(n[c].DrAmt)<0?(f=this.getNumeric(-1*n[c].DrAmt),o+=this.getNumeric(f)):(v=this.getNumeric(n[c].DrAmt),r+=this.getNumeric(v)),null!=n[c].TaxLedger&&null!=n[c].TaxLedger)for(var m=0;m<n[c].TaxLedger.length;m++)f>0&&(l+=this.getNumeric(f*n[c].TaxLedger[m].TR/100),n[c].TaxLedger[m].IsInclusive&&(s+=this.getNumeric(f*n[c].TaxLedger[m].TR/100))),v>0&&(a+=this.getNumeric(v*n[c].TaxLedger[m].TR/100),n[c].TaxLedger[m].IsInclusive&&(s+=this.getNumeric(v*n[c].TaxLedger[m].TR/100)))}var T=o-r,I=l-a,Z=this.SelectedTCSledger?(T+I)*(null===(t=this.SelectedTCSledger)||void 0===t?void 0:t.TR)/100:0;this.Total=T>0?parseFloat((T-1*s).toString()).toFixed(2)+" Dr":parseFloat((-1*T-1*s).toString()).toFixed(2)+" Cr",this.TotalTax=I>0?parseFloat((1*I).toString()).toFixed(2)+" Dr":parseFloat((-1*I*1).toString()).toFixed(2)+" Cr",this.accountService.getCompanyData.IsTCSEn&&this.IsItemVoucher&&(this.TCSTotal=parseFloat(Z.toString()).toFixed(2)),this.accountService.getCompanyData.ISDA&&this.IsItemVoucher&&(T+I+Z>0?(this.formattedNumber=(0,N.uf)(T+I+Z-s,this.locale,"1.0-0"),this.Totalroundoff=T+I+Z-s-parseFloat(this.formattedNumber.replace(/,/g,"")),this.IsRoundOff=0!=this.Totalroundoff,this.RoundOFFTotal=this.Totalroundoff>0?parseFloat(this.Totalroundoff.toString()).toFixed(2)+" Dr":parseFloat((-1*this.Totalroundoff).toString()).toFixed(2)+" Cr"):(this.formattedNumber=(0,N.uf)(-1*(T+I+Z)-s,this.locale,"1.0-0"),this.Totalroundoff=-1*(T+I+Z)-s-parseFloat(this.formattedNumber.replace(/,/g,"")),this.IsRoundOff=0!=this.Totalroundoff,this.RoundOFFTotal=this.Totalroundoff>0?parseFloat(this.Totalroundoff.toString()).toFixed(2)+" Dr":parseFloat((-1*this.Totalroundoff).toString()).toFixed(2)+" Cr")),this.IsCRDR&&!this.IsItemVoucher?(this.GrandTotal=parseFloat((a+o).toString()).toFixed(2),this.GrandCRTotal=parseFloat((l+r).toString()).toFixed(2)):this.GrandTotal=T+I+Z>0?this.Totalroundoff>0?parseFloat((1*(T+I+Z-s-this.Totalroundoff)).toString()).toFixed(2)+" Dr":parseFloat((1*(T+I+Z-this.Totalroundoff-s)).toString()).toFixed(2)+" Dr":this.Totalroundoff>0?parseFloat((1*(-1*(T+I+Z)-s-this.Totalroundoff)).toString()).toFixed(2)+" Cr":parseFloat((1*(-1*(T+I+Z)-this.Totalroundoff-s)).toString()).toFixed(2)+" Cr"}this.calculateBank()}}},{key:"finalcalculateMobile",value:function(){var e=null;this.IsItemVoucher||null==this.modalLedger?null!=this.modalInventory&&(e=this.modalInventory):e=this.modalLedger;var t=0,n=0,i=0,r=0,o=0;if(null!=e&&null!=e){e.DrAmt=this.modalDrAmt;var a;if(a=this.DebitOrCreditByCategory(e.Cat,!0),this.IsItemVoucher){var l=0,s=0;if("DEBIT"==a?this.getNumeric(e.DrAmt)<0?(s=this.getNumeric(-1*e.DrAmt),t+=this.getNumeric(s)):(l=this.getNumeric(e.DrAmt),n+=this.getNumeric(l)):this.getNumeric(e.DrAmt)<0?(l=this.getNumeric(-1*e.DrAmt),n+=this.getNumeric(l)):(s=this.getNumeric(e.DrAmt),t+=this.getNumeric(s)),null!=this.modalTaxLed&&null!=this.modalTaxLed){for(var c=0;c<this.modalTaxLed.length;c++)l>0&&(r+=this.getNumeric(l*this.modalTaxLed[c].TR/100),this.modalTaxLed[c].IsInclusive&&(o+=this.getNumeric(l*this.modalTaxLed[c].TR/100))),s>0&&(i+=this.getNumeric(s*this.modalTaxLed[c].TR/100),this.modalTaxLed[c].IsInclusive&&(o+=this.getNumeric(s*this.modalTaxLed[c].TR/100)));e.TaxTotal=i}}else{var u=0,d=0;if(this.IsCRDR)this.getNumeric(e.CrAmt)>0?(d=this.getNumeric(e.CrAmt),t+=this.getNumeric(d)):(u=this.getNumeric(e.DrAmt),n+=this.getNumeric(u));else if(e.isTL?"DEBIT"==a?this.getNumeric(e.DrAmt)<0?i+=this.getNumeric(-1*e.DrAmt):r+=this.getNumeric(e.DrAmt):this.getNumeric(e.DrAmt)<0?r+=this.getNumeric(-1*e.DrAmt):i+=this.getNumeric(e.DrAmt):"DEBIT"==a?this.getNumeric(e.DrAmt)<0?(d=this.getNumeric(-1*e.DrAmt),t+=this.getNumeric(d)):(u=this.getNumeric(e.DrAmt),n+=this.getNumeric(u)):this.getNumeric(e.DrAmt)<0?(u=this.getNumeric(-1*e.DrAmt),n+=this.getNumeric(u)):(d=this.getNumeric(e.DrAmt),t+=this.getNumeric(d)),null!=this.modalTaxLed&&null!=this.modalTaxLed)for(var g=0;g<this.modalTaxLed.length;g++)u>0&&(r+=this.getNumeric(u*this.modalTaxLed[g].TR/100),this.modalTaxLed[g].IsInclusive&&(o+=this.getNumeric(u*this.modalTaxLed[g].TR/100))),d>0&&(i+=this.getNumeric(d*this.modalTaxLed[g].TR/100),this.modalTaxLed[g].IsInclusive&&(o+=this.getNumeric(d*this.modalTaxLed[g].TR/100)))}}var h=n-t,p=r-i;this.MobileTotal=h>0?parseFloat((h-1*o).toString()).toFixed(2)+" Dr":parseFloat((-1*h-1*o).toString()).toFixed(2)+" Cr",this.MobileTotalTax=p>0?parseFloat((1*p).toString()).toFixed(2)+" Dr":parseFloat((-1*p*1).toString()).toFixed(2)+" Cr",this.accountService.getCompanyData.ISDA&&this.IsItemVoucher&&(h+p>0?(this.formattedNumber=(0,N.uf)(h+p-o,this.locale,"1.0-0"),this.Totalroundoff=h+p-o-parseFloat(this.formattedNumber.replace(/,/g,"")),this.IsRoundOff=0!=this.Totalroundoff,this.RoundOFFTotal=this.Totalroundoff>0?parseFloat(this.Totalroundoff.toString()).toFixed(2)+" Dr":parseFloat((-1*this.Totalroundoff).toString()).toFixed(2)+" Cr"):(this.formattedNumber=(0,N.uf)(-1*(h+p)-o,this.locale,"1.0-0"),this.Totalroundoff=-1*(h+p)-o-parseFloat(this.formattedNumber.replace(/,/g,"")),this.IsRoundOff=0!=this.Totalroundoff,this.RoundOFFTotal=this.Totalroundoff>0?parseFloat(this.Totalroundoff.toString()).toFixed(2)+" Dr":parseFloat((-1*this.Totalroundoff).toString()).toFixed(2)+" Cr")),this.MobileGrandTotal=this.IsCRDR&&!this.IsItemVoucher?(i+n).toString():h+p>0?this.Totalroundoff>0?parseFloat((1*(h+p-o-this.Totalroundoff)).toString()).toFixed(2)+" Dr":parseFloat((1*(h+p-this.Totalroundoff-o)).toString()).toFixed(2)+" Dr":this.Totalroundoff>0?parseFloat((1*(-1*(h+p)-o-this.Totalroundoff)).toString()).toFixed(2)+" Cr":parseFloat((1*(-1*(h+p)-this.Totalroundoff-o)).toString()).toFixed(2)+" Cr"}},{key:"transform",value:function(e){return null!=e?e.replace(/,/g,""):""}},{key:"setInventoryIndex",value:function(e){if(e.TaxLedger){var t=this.tableVouchers.findIndex(function(t){return t.Index===e.Index});if(-1!=t){if(this.tableVouchers[t].TaxLedger)for(var n=0;n<this.tableVouchers[t].TaxLedger.length;n++)this.tableVouchers[t].TaxLedger[n]=Object.assign(Object.assign({},this.tableVouchers[t].TaxLedger[n]),{InventoryIndex:e.Index})}}}},{key:"finaltaxcalculate",value:function(){}},{key:"loadEditData",value:function(e){var t=this;this.accountService.getById(e).subscribe(function(e){var n;t.accountService.singleresult=e,t.ReceiptDetails=t.accountService.singleresult.RecptDet,t.IsCRDR=!(0==e.IsCRDRET||null==e.IsCRDRET||null==e.IsCRDRET);var i=t.accountService.singleresult.VDet.filter(function(e){return e.IsTCSAppl});if(t.isTCSApplExists=i.length>0,t.IsItemVoucher=null!=t.accountService.singleresult.IsItVou&&null!=t.accountService.singleresult.IsItVou&&t.accountService.singleresult.IsItVou,(null!=e.BookingId||null!=e.BookingId)&&e.BookingId>0){var r=t.httpfunction.getStorage("_filterData");t.router.navigate(["/marketing/bookingform/"+e.BookingId+"/booking"]).then(function(){r&&t.httpfunction.setStorage("_filterData",r)})}else{var o=e.StStrI;if(t.TaxAdjustment=t.accountService.singleresult.TA,t.GSTAdditionalDetails=t.accountService.singleresult.GAD,null!=t.TaxAdjustment&&null!=t.TaxAdjustment){t.IsStatAdjust=!0;var a=t.statadjustment.GetNatureOfAdjustment().filter(function(e){return e.Name==t.TaxAdjustment})[0];t.additionalDetailslabel=t.statadjustment.GetAdditionDetails().filter(function(e){return e.NatureOfAdjustmentId==a.UIDN})}if(t.bankDetails=JSON.parse(JSON.stringify(t.accountService.singleresult.bankDetails)),t.IsDuplicate&&(t.accountService.singleresult.UIDN=t.httpfunction.IsMobileview()?0:null,t.accountService.singleresult.bankDetails=[],t.bankDetails=[],t.accountService.singleresult.VNO="",t.accountService.singleresult.TVNO="",t.accountService.singleresult.TI=0,t.VoucherId=0),t.LedgerIdforReport>0){t.accountService.singleresult.UIDN=0,t.accountService.singleresult.bankDetails=[],t.bankDetails=[],t.accountService.singleresult.VNO="",t.accountService.singleresult.TVNO="",t.accountService.singleresult.TI=0,t.VoucherId=0,t.accountService.singleresult.CI=t.CompanyIdforReport.toString(),t.accountService.singleresult.VT=t.VoucherType,"Journal"==t.VoucherType?t.DRAmountforReport>0?(t.accountService.singleresult.VDet[1].isMainled=!0,t.accountService.singleresult.VDet[0].isMainled=!1):(t.accountService.singleresult.VDet[0].isMainled=!0,t.accountService.singleresult.VDet[1].isMainled=!1):(t.accountService.singleresult.VDet[1].isMainled=!0,t.accountService.singleresult.VDet[0].isMainled=!1);for(var l=0;l<t.accountService.singleresult.VDet.length;l++)t.accountService.singleresult.VDet[l].isMainled?("Payment"==t.VoucherType||"Receipt"==t.VoucherType?(t.accountService.singleresult.VDet[l].L_Name="",t.accountService.singleresult.VDet[l].LId=0,t.accountService.singleresult.VDet[l].L_PId=0,t.accountService.singleresult.VDet[l].L_Cat="",t.accountService.singleresult.VDet[l].L_anc=null,t.accountService.singleresult.VDet[l].CrAmt=t.CRAmountforReport,t.accountService.singleresult.VDet[l].DrAmt=t.DRAmountforReport):("Sales"==t.VoucherType||"Contra"==t.VoucherType||"Purchase"==t.VoucherType||"CreditNote"==t.VoucherType||"DebitNote"==t.VoucherType||"DeliveryNote"==t.VoucherType||"ReceiptNote"==t.VoucherType||"SalesOrder"==t.VoucherType||"PurchaseOrder"==t.VoucherType?t.accountService.singleresult.VDet[l].L_Name="":(t.companyLedgerService.singleresult=t.companyLedgerService.result.filter(function(e){return e.UIDN==t.LedgerIdforReport})[0],t.accountService.singleresult.VDet[l].L_Name=t.companyLedgerService.singleresult.LN,t.accountService.singleresult.VDet[l].LId=t.companyLedgerService.singleresult.UIDN,t.accountService.singleresult.VDet[l].L_PId=t.companyLedgerService.singleresult.PI,t.accountService.singleresult.VDet[l].L_Cat=t.companyLedgerService.singleresult.Cat,t.accountService.singleresult.VDet[l].L_anc=t.companyLedgerService.singleresult.ancestor),"Purchase"==t.VoucherType||"CreditNote"==t.VoucherType||"PurchaseOrder"==t.VoucherType||"ReceiptNote"==t.VoucherType?t.CRAmountforReport>0?(t.accountService.singleresult.VDet[l].DrAmt=t.DRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.CRAmountforReport):(t.accountService.singleresult.VDet[l].DrAmt=t.CRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.DRAmountforReport):"Sales"==t.VoucherType||"DebitNote"==t.VoucherType||"SalesOrder"==t.VoucherType||"DeliveryNote"==t.VoucherType?(t.accountService.singleresult.VDet[l].DrAmt=t.CRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.DRAmountforReport):"Contra"==t.VoucherType?(t.accountService.singleresult.VDet[l].DrAmt=t.DRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.CRAmountforReport):(t.accountService.singleresult.VDet[l].DrAmt=t.CRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.DRAmountforReport)),t.accountService.singleresult.STID=0):("Payment"==t.VoucherType||"Receipt"==t.VoucherType?(t.companyLedgerService.singleresult=t.companyLedgerService.result.filter(function(e){return e.UIDN==t.LedgerIdforReport})[0],t.accountService.singleresult.VDet[l].L_Name=t.companyLedgerService.singleresult.LN,t.accountService.singleresult.VDet[l].LId=t.companyLedgerService.singleresult.UIDN,t.accountService.singleresult.VDet[l].L_PId=t.companyLedgerService.singleresult.PI,t.accountService.singleresult.VDet[l].L_Cat=t.companyLedgerService.singleresult.Cat,t.accountService.singleresult.VDet[l].L_anc=t.companyLedgerService.singleresult.ancestor,"Receipt"==t.VoucherType?(t.accountService.singleresult.VDet[l].DrAmt=t.DRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.CRAmountforReport):(t.accountService.singleresult.VDet[l].DrAmt=t.CRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.DRAmountforReport)):(t.accountService.singleresult.VDet[l].L_Name="",t.accountService.singleresult.VDet[l].LId=0,t.accountService.singleresult.VDet[l].L_PId=0,t.accountService.singleresult.VDet[l].L_Cat="",t.accountService.singleresult.VDet[l].L_anc=null,"Purchase"==t.VoucherType||"CreditNote"==t.VoucherType||"ReceiptNote"==t.VoucherType?t.CRAmountforReport>0?(t.accountService.singleresult.VDet[l].DrAmt=t.DRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.CRAmountforReport):(t.accountService.singleresult.VDet[l].DrAmt=t.CRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.DRAmountforReport):"Sales"==t.VoucherType||"DebitNote"==t.VoucherType||"DeliveryNote"==t.VoucherType?t.DRAmountforReport>0?(t.accountService.singleresult.VDet[l].DrAmt=t.DRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.CRAmountforReport):(t.accountService.singleresult.VDet[l].DrAmt=t.CRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.DRAmountforReport):"Contra"==t.VoucherType||"Journal"==t.VoucherType?(t.accountService.singleresult.VDet[l].DrAmt=t.DRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.CRAmountforReport):(t.accountService.singleresult.VDet[l].DrAmt=t.CRAmountforReport,t.accountService.singleresult.VDet[l].CrAmt=t.DRAmountforReport)),t.accountService.singleresult.STID=0)}""!=e.STID&&null!=e.STID&&(t.siteService.singleresult=t.siteService.result.filter(function(t){return t.UIDN==e.STID})[0],null!=t.siteService.singleresult&&t.getsitestructuredetail(t.siteService.singleresult),t.accountService.singleresult.StStrI=o),""!=e.CCI&&null!=e.CCI&&(t.CostCategoryservice.singleresult=t.CostCategoryservice.result.filter(function(t){return t.UIDN==e.CCI})[0],t.accountService.singleresult.CCI=e.CCI),""!=e.fltno&&null!=e.fltno&&(t.accountService.singleresult.fltno=e.fltno),""!=e.Flr&&null!=e.Flr&&(t.accountService.singleresult.Flr=e.Flr),t.ReferendeIndex=t.accountService.singleresult.referencemaster.length;var s=new u.eK;if((!t.IsCRDR||t.IsItemVoucher)&&(s=t.accountService.singleresult.VDet.filter(function(e){return 1==e.isMainled})[0]),t.IsItemVoucher){for(t.setInitialData(),l=0;l<t.accountService.singleresult.InventoryDetails.length;l++){var c=new u.eK;c.InventoryDetails=new m.F8;var d=t.accountService.singleresult.InventoryDetails[l];c.InventoryDetails=Object.assign(Object.assign({},t.inventoryService.result.filter(function(e){return e.UIDN==d.IId})[0]),{VoucherInvDetPkId:d.UIDN}),c.DrAmt=t.isVTSales||t.isVTDebitNote||t.isVTDeliveryNote||t.isVTSalesOrder?d.CrAmt:d.DrAmt,t.VoucherIndex+=l,c.Index=t.VoucherIndex,c.TabIndex=t.VoucherIndex+21,c.UN=c.InventoryDetails.UN,c.rate=d.Rt,c.actqty=d.ActQty,c.InventoryId=d.IId,c.Disc=d.Dis,c.VoucherInvDetPkId=d.UIDN,c.TaxLedger=new Array,c.godownsdetails=new Array;for(var g=0;g<t.accountService.singleresult.InventoryDetails[l].GodownDet.length;g++)t.accountService.singleresult.InventoryDetails[l].GodownDet[g].GodM=t.godownService.result.filter(function(e){return e.UIDN==t.accountService.singleresult.InventoryDetails[l].GodownDet[g].GId})[0],t.accountService.singleresult.InventoryDetails[l].GodownDet[g].operationType=2,t.accountService.singleresult.InventoryDetails[l].GodownDet[g].index=g+1,t.GodownIndex=g+1,t.BindBatchDetails(t.accountService.singleresult.InventoryDetails[l].GodownDet[g].GodM,t.accountService.singleresult.InventoryDetails[l].GodownDet[g].IId),c.godownsdetails.push(t.accountService.singleresult.InventoryDetails[l].GodownDet[g]);t.tableVouchers.push(c)}t.TaxLedgercommon=[];for(var h=0;h<t.accountService.singleresult.VDet.length;h++)if((y=t.accountService.singleresult.VDet[h]).IsROff)t.roundoffledger=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0],t.RoundOFFTotal=y.DrAmt>0?parseFloat(y.DrAmt.toString()).toFixed(2)+" Dr":parseFloat(y.DrAmt.toString()).toFixed(2)+" Cr";else if(t.IsDuplicate&&(y.challan=[]),s.LId==y.LId)t.companyLedgerService.singleresult=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0],0==t.LedgerIdforReport&&(t.companyLedgerService.singleresult.challan=y.challan);else if(0==y.isMainled&&0==y.IsTax&&1==y.IsSP){t.PurchaseLedger=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0];var f=new u.eK;t.tableVoucherForInvnetory.push(f)}else if(0==y.isMainled&&0==y.IsTax&&null==y.IsSP){var v=new u.eK;v.LedDet=new p.dJ,t.LedgerInventoryIndex+=1,1==t.LedgerInventoryIndex&&(t.tableVoucherForInvnetory=[]),v.Index=t.LedgerInventoryIndex,v.InventoryTabIndex=t.LedgerInventoryIndex+501,v.Index=h,v.PK_Id=y.PK_Id,v.VoucherMaster_PK_Id=y.VoucherMaster_PK_Id,v.LedDet.UIDN=y.LId,v.LId=y.LId,v.LedDet.LN=y.L_Name,v.LedDet.PI=y.L_PId,v.LedDet.Cat=y.L_Cat,v.LedDet.ancestor=y.L_anc,v.challan=y.challan,v.TaxLedgerId=y.TaxLedgerId,v.InventoryId=y.InventoryId,v.rate=y.UnitCost,v.TTA=y.TTA,v.TCN=y.TCN,v.DrAmt=t.isVTSales||t.isVTDebitNote||t.isVTDeliveryNote||t.isVTSalesOrder?y.CrAmt:y.DrAmt,t.tableVoucherForInvnetory.push(v)}else 1==y.IsTax&&function(){var e;e=null==y.LId?null:t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0];var i=new u.eK;i.PK_Id=y.PK_Id,i.VoucherMaster_PK_Id=y.VoucherMaster_PK_Id,i.challan=y.challan,i.TaxLedgerId=y.TaxLedgerId,i.InventoryId=y.InventoryId,i.TCN=y.TCN;var r=t.DebitOrCreditByCategory(s.L_Cat,!0);if(null!=e)if(i.TaxLedger=null===(n=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.TaxLedgerId}))||void 0===n?void 0:n.map(function(e){return Object.assign(Object.assign({},e),{VoucherInvDetPkId:y.VoucherInvDetPkId})}),null!=i.TaxLedger&&null!=i.TaxLedger&&i.TaxLedger.length>0)for(var o=function(e){if(-1!=(S=t.tableVoucherForInvnetory.findIndex(function(e){return e.LId==y.TaxLedgerId}))){var n=t.DebitOrCreditByCategory(s.L_Cat,!0);if(i.TaxLedger=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId}),null!=i.TaxLedger&&null!=i.TaxLedger&&i.TaxLedger.length>0)for(var o=function(e){if(i.TaxLedger[e].IsInclusive){var r=t.accountService.singleresult.VDet.filter(function(t){return t.LId==i.TaxLedger[e].UIDN})[0];i.DrAmt="DEBIT"==n?y.DrAmt+r.DrAmt:y.CrAmt+r.CrAmt}},a=0;a<i.TaxLedger.length;a++)o(a);else"DEBIT"==n?(i.DrAmt=y.DrAmt,0==i.DrAmt&&(i.DrAmt=-1*y.CrAmt)):(i.DrAmt=y.CrAmt,0==i.DrAmt&&(i.DrAmt=-1*y.DrAmt));i.TaxRate=y.TaxRate,i.TCN=y.TCN,t.tableVoucherForInvnetory[S].TaxLedger||(t.tableVoucherForInvnetory[S].TaxLedger=[]),t.tableVoucherForInvnetory[S].TaxLedger.push(i.TaxLedger[0])}else{if(i.TaxLedger[e].IsInclusive){var l=t.accountService.singleresult.VDet.filter(function(t){return t.LId==i.TaxLedger[e].UIDN})[0];i.DrAmt="DEBIT"==r?y.DrAmt+l.DrAmt:y.CrAmt+l.CrAmt}if(0==i.InventoryId||null==i.InventoryId)if(i.TaxLedger[e].TR=y.TaxRate,4==i.TaxLedger[e].IsTDSGst&&t.isTCSApplExists)t.SelectedTCSledger=null==i?void 0:i.TaxLedger[e];else{var c=t.TaxLedgercommon.concat(i.TaxLedger[e]?i.TaxLedger[e]:[]);t.TaxLedgercommon=c}}},a=0;a<i.TaxLedger.length;a++)o(a);else"DEBIT"==r?(i.DrAmt=y.DrAmt,0==i.DrAmt&&(i.DrAmt=-1*y.CrAmt)):(i.DrAmt=y.CrAmt,0==i.DrAmt&&(i.DrAmt=-1*y.DrAmt));i.TaxRate=y.TaxRate,i.VoucherInvDetPkId=y.VoucherInvDetPkId,t.tableVouchersforedit.push(i)}();for(l=0;l<t.tableVouchers.length;l++){var T=t.tableVouchersforedit.filter(function(e){return e.InventoryId==t.tableVouchers[l].InventoryId&&(e.VoucherInvDetPkId==t.tableVouchers[l].VoucherInvDetPkId||!e.VoucherInvDetPkId)});if(null!=T&&null!=T&&T.length>0)for(g=0;g<T.length;g++)if(null!=T[g].TaxLedger&&null!=T[g].TaxLedger){var I=T[g].TaxLedger[0];if(I){var Z=Object.assign(Object.assign({},I),{InventoryIndex:t.tableVouchers[l].Index});t.tableVouchers[l].TaxLedger.push(Z)}}}if(0==t.LedgerInventoryIndex&&(t.tableVoucherForInvnetory=[],t.IsItemVoucher)){var A=new u.eK;A.InventoryTabIndex=A.Index+501,t.tableVoucherForInvnetory.push(A)}}else{if(t.VoucherType==p.$f.Purchase||t.isParentVTPurchase||t.VoucherType==p.$f.Sales||t.isParentVTSales)t.accountService.singleresult.VDet=t.accountService.singleresult.VDet.sort(function(e,t){return e.isMainled===t.isMainled?0:e.isMainled?-1:1});else if(t.VoucherType==p.$f.Receipt||t.isParentVTReceipt||t.VoucherType==p.$f.Journal||t.isParentVTJournal){var x=t.accountService.singleresult.VDet.filter(function(e){return 1==e.isMainled});x=x.concat(t.accountService.singleresult.VDet.filter(function(e){return 0==e.isMainled})),t.accountService.singleresult.VDet=x}for(h=0;h<t.accountService.singleresult.VDet.length;h++){var y;if((y=t.accountService.singleresult.VDet[h]).IsROff)t.roundoffledger=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0],t.RoundOFFTotal=y.DrAmt>0?parseFloat(y.DrAmt.toString()).toFixed(2)+" Dr":parseFloat(y.DrAmt.toString()).toFixed(2)+" Cr";else if(t.IsDuplicate&&(y.challan=[]),s.LId==y.LId)t.companyLedgerService.singleresult=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0],0==t.LedgerIdforReport&&(t.companyLedgerService.singleresult.challan=y.challan);else if(t.IsCRDR)!function(){var e=void 0,n=new u.eK;n.LedDet=new p.dJ,null==y.LId?e=null:(e=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0],n.LedDet.isTL=e.isTL),t.VoucherIndex+=h,n.Index=t.VoucherIndex,n.TabIndex=t.VoucherIndex+21,n.Index=h,n.PK_Id=y.PK_Id,n.VoucherMaster_PK_Id=y.VoucherMaster_PK_Id,n.LedDet.UIDN=y.LId,n.LId=y.LId,n.LedDet.LN=y.L_Name,n.LedDet.PI=y.L_PId,n.LedDet.Cat=y.L_Cat,n.LedDet.ancestor=y.L_anc,n.challan=y.challan,n.TaxLedgerId=y.TaxLedgerId,n.InventoryId=y.InventoryId,n.TT=y.TT,n.TTA=y.TTA,n.TCN=y.TCN,n.IsTCSAppl=y.IsTCSAppl,n.TaxLedger=new Array;var i=t.DebitOrCreditByCategory(s.L_Cat,!0);if(null!=e){if(t.IsItemVoucher||(n.TaxLedger=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.TaxLedgerId})),null!=n.TaxLedger&&null!=n.TaxLedger&&n.TaxLedger.length>0)for(var r=function(e){if(n.TaxLedger[e].IsInclusive){var r=t.accountService.singleresult.VDet.filter(function(t){return t.LId==n.TaxLedger[e].UIDN})[0];n.DrAmt="DEBIT"==i?y.DrAmt+r.DrAmt:y.CrAmt+r.CrAmt}else"DEBIT"==i?(n.DrAmt=y.DrAmt,0==n.DrAmt&&(n.DrAmt=-1*y.CrAmt)):(n.DrAmt=y.CrAmt,0==n.DrAmt&&(n.DrAmt=-1*y.DrAmt))},o=0;o<n.TaxLedger.length;o++)r(o);t.VoucherType==p.$f.Purchase||t.isParentVTPurchase||t.VoucherType==p.$f.Sales||t.isParentVTSales||t.VoucherType==p.$f.DebitNote||t.isParentVTDebitNote||t.VoucherType==p.$f.Journal||t.isParentVTJournal||t.VoucherType==p.$f.Receipt||t.isParentVTReceipt||t.VoucherType==p.$f.ReceiptNote||t.isParentVTReceiptNote||t.VoucherType==p.$f.CreditNote||t.isParentVTCreditNote||t.VoucherType==p.$f.Payment||t.isParentVTPayment||t.VoucherType==p.$f.Contra||t.isParentVTContra||t.VoucherType==p.$f.SalesOrder||t.isParentVTSalesOrder||t.VoucherType==p.$f.PurchaseOrder||t.isParentVTPurchaseOrder?t.getNumeric(y.CrAmt)>0?(n.CRDR="Cr",n.CrAmt=t.getNumeric(y.CrAmt),n.DrAmt=0):(n.CRDR="Dr",n.DrAmt=t.getNumeric(y.DrAmt),n.CrAmt=0):t.getNumeric(y.CrAmt)>0?(n.CRDR="Dr",n.DrAmt=t.getNumeric(y.CrAmt),n.CrAmt=0):(n.CRDR="Cr",n.CrAmt=t.getNumeric(y.DrAmt),n.DrAmt=0),n.LedDet.IsBank=e.IsBank}n.TaxRate=y.TaxRate,t.tableVouchers.push(n)}();else if(0==y.IsTax)!function(){var e=void 0,n=new u.eK;n.LedDet=new p.dJ,null==y.LId?e=null:(e=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0],null!=e&&(n.LedDet.isTL=e.isTL)),n.TabIndex=t.VoucherIndex+21,n.Index=y.Index,n.PK_Id=y.PK_Id,n.VoucherMaster_PK_Id=y.VoucherMaster_PK_Id,n.LedDet.UIDN=y.LId,n.LId=y.LId,n.LedDet.LN=y.L_Name,n.LedDet.PI=y.L_PId,n.LedDet.Cat=y.L_Cat,n.LedDet.ancestor=y.L_anc,n.challan=y.challan,n.TaxLedgerId=y.TaxLedgerId,n.InventoryId=y.InventoryId,n.TCN=y.TCN,n.TaxLedger=new Array;var i;if(i=t.DebitOrCreditByCategory(t.IsCRDR?y.L_Cat:s.L_Cat,!0),null!=e){if(null!=n.TaxLedger&&null!=n.TaxLedger&&n.TaxLedger.length>0)for(var r=function(e){if(n.TaxLedger[e].IsInclusive){var r=t.accountService.singleresult.VDet.filter(function(t){return t.LId==n.TaxLedger[e].UIDN})[0];n.DrAmt="DEBIT"==i?y.DrAmt+r.DrAmt:y.CrAmt+r.CrAmt}else"DEBIT"==i?(n.DrAmt=y.DrAmt,0==n.DrAmt&&(n.DrAmt=-1*y.CrAmt)):(n.DrAmt=y.CrAmt,0==n.DrAmt&&(n.DrAmt=-1*y.DrAmt))},o=0;o<n.TaxLedger.length;o++)r(o);else"DEBIT"==i?(n.DrAmt=y.DrAmt,0==n.DrAmt&&(n.DrAmt=-1*y.CrAmt)):(n.DrAmt=y.CrAmt,0==n.DrAmt&&(n.DrAmt=-1*y.DrAmt));n.LedDet.IsBank=e.IsBank}n.TaxRate=y.TaxRate,t.tableVouchers.push(n)}();else if(1==y.IsTax){var S;if(-1!=(S=t.tableVouchers.findIndex(function(e){return e.LId==y.TaxLedgerId&&e.Index==y.Index})))!function(){var e=new u.eK,n=t.DebitOrCreditByCategory(s.L_Cat,!0);if(e.TaxLedger=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId}),null!=e.TaxLedger&&null!=e.TaxLedger&&e.TaxLedger.length>0)for(var i=function(i){if(e.TaxLedger[i].IsInclusive){var r=t.accountService.singleresult.VDet.filter(function(t){return t.LId==e.TaxLedger[i].UIDN})[0];e.DrAmt="DEBIT"==n?y.DrAmt+r.DrAmt:y.CrAmt+r.CrAmt}},r=0;r<e.TaxLedger.length;r++)i(r);else"DEBIT"==n?(e.DrAmt=y.DrAmt,0==e.DrAmt&&(e.DrAmt=-1*y.CrAmt)):(e.DrAmt=y.CrAmt,0==e.DrAmt&&(e.DrAmt=-1*y.DrAmt));e.TaxRate=y.TaxRate,e.TCN=y.TCN,t.tableVouchers[S].TaxLedger.push(e.TaxLedger[0])}();else{var D=void 0,C=new u.eK;C.LedDet=new p.dJ,null==y.LId?D=null:(D=t.companyLedgerService.result.filter(function(e){return e.UIDN==y.LId})[0],C.LedDet.isTL=D.isTL),t.VoucherIndex+=h,C.Index=t.VoucherIndex,C.TabIndex=t.VoucherIndex+21,C.Index=h,C.PK_Id=y.PK_Id,C.VoucherMaster_PK_Id=y.VoucherMaster_PK_Id,C.LedDet.UIDN=y.LId,C.LId=y.LId,C.LedDet.LN=y.L_Name,C.LedDet.PI=y.L_PId,C.LedDet.Cat=y.L_Cat,C.LedDet.ancestor=y.L_anc,C.challan=y.challan,C.TaxLedgerId=y.TaxLedgerId,C.InventoryId=y.InventoryId,C.TCN=y.TCN,C.TaxLedger=new Array;var b;b=t.DebitOrCreditByCategory(t.IsCRDR?y.L_Cat:s.L_Cat,!0),null!=D&&("DEBIT"==b?(C.DrAmt=y.DrAmt,0==C.DrAmt&&(C.DrAmt=-1*y.CrAmt)):(C.DrAmt=y.CrAmt,0==C.DrAmt&&(C.DrAmt=-1*y.DrAmt))),C.LedDet.IsBank=D.IsBank,C.TaxRate=y.TaxRate,C.TCN=y.TCN,t.tableVouchers.push(C)}}}}t.finalcalculation()}},function(){t.alertService.showError("Error","There is some error while getting voucher. Please try again!"),t.router.navigate(["/transactions/daybook"])})}},{key:"resetVariables",value:function(){this.Totalroundoff=0,this.IsRoundOff=!1,this.IsItemVoucher=!1,null!=this.bankModal&&(this.bankModal.hide(),this.showBankpopup=!1),null!=this.statAdjustmentModal&&(this.statAdjustmentModal.hide(),this.showstatAdjustmentnpopup=!1),null!=this.challanModal&&(this.challanModal.hide(),this.showChallanpopup=!1),null!=this._inventoryModal&&(this._inventoryModal.hide(),this.isInventorypopupopen=!1),null!=this.BatchModal&&this.BatchModal.hide(),null!=this.BatchModalM&&this.BatchModalM.hide(),null!=this.JournalStatAdjustmentModal&&this.JournalStatAdjustmentModal.hide(),null!=this.RefModal&&(this.RefModal.hide(),this.showReferencepopup=!1),null!=this.RefModalM&&(this.RefModalM.hide(),this.showReferencepopup=!1),this.companyLedgerService.singleresult=null,this.FromLedger=[],this.ToLedger=[],this.InventoryLedger=[],this.ToInventory=[],this.TaxLedger=[],this.AccountText="",this.AccountInventoryText="",this.TaxAdjustment="",this.GSTAdditionalDetails="",this.tableVouchers=[],this.tableVouchersforedit=[],this.taxcommonledgerDetails=[],this.taxledgerDetails=[],this.tableChallan=[],this.VoucherId=0,this.IsDuplicate=!1,this.curChallan=[],this.curReference=[],this.allagainstRefList=[],this.LedagainstRefList=[],this.godownPopupDetails=[],this.siteService.singleresult=null,this.structureService.singleresult=null,this.CostCategoryservice.singleresult=null,this.accountService.singleresult=new u.VN,this.bankDetails=[],this.accountService.singleresult.VDt=new Date,this.MobileTotal="0.0 Dr",this.TotalTax="0.0 Dr",this.MobileTotalTax="0.0 Dr",this.Total="0.0 Dr",this.GrandTotal="0.0 Dr",this.GrandCRTotal="0.0 Dr",this.RoundOFFTotal="0.0 Dr",this.JournalstatAdjustmentIndex=null,this.TaxRate=null,this.TotalAmount=null,this.formattedNumber=null,this.IsCRDR=!1,this.IsShowLedger=!1,this.taxxxledger=null,this.VoucherIndex=0,this.LedgerInventoryIndex=0,this.TopurchaseTaxLedger=[],this.ToInventoryTaxLedger=[],this.RoundLedger=[],this.TCSLedger=[],this.TaxLedgercommon=[],this.roundoffledger=null,this.SelectedTCSledger=null,this.tableVoucherForInvnetory=[],this.gstdetails=[],this.tableVoucherReceiptDelivery=[],this.curGodown=[],this.InventoryRate=0,this.GodownIndex=0,this.ReferendeIndex=0,this.InventorycurrentIndex=0,this.gstlabel=null,this.natureOfAdjustmentlabel=null,this.additionalDetailslabel=null,this.BatchMaster=null,this.IsStatAdjust=!1}},{key:"setInitialData",value:function(){var e=this,t=this.VoucherTypeList.findIndex(function(t){return t.NA==e.accountService.singleresult.VT});-1!=t&&(this.ParentNAmeOfVT=this.VoucherTypeList[t].PN),this.resultVT=this.accountService.singleresult.VT.toLowerCase(),this.parentNameVT=this.ParentNAmeOfVT.toLowerCase(),this.isVTJournal=this.resultVT==p.$f.Journal.toLowerCase(),this.isVTDebitNote=this.resultVT==p.$f.DebitNote.toLowerCase(),this.isVTSales=this.resultVT==p.$f.Sales.toLowerCase(),this.isVTDeliveryNote=this.resultVT==p.$f.DeliveryNote.toLowerCase(),this.isVTSalesOrder=this.resultVT==p.$f.SalesOrder.toLowerCase(),this.isVTCreditNote=this.resultVT==p.$f.CreditNote.toLowerCase(),this.isVTPurchase=this.resultVT==p.$f.Purchase.toLowerCase(),this.isVTReceiptNote=this.resultVT==p.$f.ReceiptNote.toLowerCase(),this.isVTPurchaseOrder=this.resultVT==p.$f.PurchaseOrder.toLowerCase(),this.isVTReceipt=this.resultVT==p.$f.Receipt.toLowerCase(),this.isVTContra=this.resultVT==p.$f.Contra.toLowerCase(),this.isVTPayment=this.resultVT==p.$f.Payment.toLowerCase(),this.isParentVTJournal=this.parentNameVT==p.$f.Journal.toLowerCase(),this.isParentVTDebitNote=this.parentNameVT==p.$f.DebitNote.toLowerCase(),this.isParentVTSales=this.parentNameVT==p.$f.Sales.toLowerCase(),this.isParentVTDeliveryNote=this.parentNameVT==p.$f.DeliveryNote.toLowerCase(),this.isParentVTSalesOrder=this.parentNameVT==p.$f.SalesOrder.toLowerCase(),this.isParentVTCreditNote=this.parentNameVT==p.$f.CreditNote.toLowerCase(),this.isParentVTPurchase=this.parentNameVT==p.$f.Purchase.toLowerCase(),this.isParentVTReceiptNote=this.parentNameVT==p.$f.ReceiptNote.toLowerCase(),this.isParentVTPurchaseOrder=this.parentNameVT==p.$f.PurchaseOrder.toLowerCase(),this.isParentVTReceipt=this.parentNameVT==p.$f.Receipt.toLowerCase(),this.isParentVTContra=this.parentNameVT==p.$f.Contra.toLowerCase(),this.isParentVTPayment=this.parentNameVT==p.$f.Payment.toLowerCase(),this.AccountText="",this.vouchertypeclass=this.accountService.singleresult.VT.toLowerCase().replace(/\s/g,""),this.isVTPurchase||this.isVTDebitNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTDebitNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.IsItemVoucher?(this.AccountText="Party A/c Name",this.AccountInventoryText="Purchase Ledger"):this.AccountText="Party Name":this.isVTSales||this.isVTCreditNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder?this.IsItemVoucher?(this.AccountText="Party A/c Name",this.AccountInventoryText="Sales Ledger"):this.AccountText="Customer":this.isVTReceipt||this.isParentVTReceipt?this.AccountText="Receipt In Account":this.isVTPayment||this.isParentVTPayment?this.AccountText="Payment From":this.isVTJournal||this.isParentVTJournal?this.AccountText="Deposit To":(this.isVTContra||this.isParentVTContra)&&(this.AccountText="Deposit In"),this.getFromLedger(),this.getToLedger(),this.getTaxLedger(),this.getInventory(),this.getInventoryLedger(),this.TransactionredirectOnCancel&&this.filterService.hideQuickFilter(!1,!1,this.accountService.singleresult.VT,!1)}},{key:"getFromLedger",value:function(){this.isVTSales||this.isVTCreditNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder?this.FromLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSD)&&0==e.IsGrp&&1==e.St}):this.isVTPurchase||this.isVTDebitNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTDebitNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.FromLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSC)&&0==e.IsGrp&&1==e.St}):this.isVTPayment||this.isVTReceipt||this.isVTContra||this.isParentVTPayment||this.isParentVTReceipt||this.isParentVTContra?this.FromLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash)&&0==e.IsGrp&&1==e.St}):(this.isVTJournal||this.isParentVTJournal)&&(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))}},{key:"changeItem",value:function(){var e;this.tableVouchers=[],this.httpfunction.IsMobileview()?this.setInitialData():((e=new u.eK).TabIndex=e.Index+21,this.tableVouchers.push(e),this.IsCRDR&&!this.IsItemVoucher&&(this.VoucherType.toLowerCase()==p.$f.Contra.toLowerCase()||this.isParentVTContra||this.VoucherType.toLowerCase()==p.$f.Purchase.toLowerCase()||this.isParentVTPurchase||this.VoucherType.toLowerCase()==p.$f.CreditNote.toLowerCase()||this.isParentVTCreditNote||this.VoucherType.toLowerCase()==p.$f.PurchaseOrder.toLowerCase()||this.isParentVTPurchaseOrder||this.VoucherType.toLowerCase()==p.$f.Receipt.toLowerCase()||this.isParentVTReceipt||this.VoucherType.toLowerCase()==p.$f.ReceiptNote.toLowerCase()||this.isParentVTReceiptNote?this.tableVouchers[0].CRDR="Cr":(this.VoucherType.toLowerCase()==p.$f.Payment.toLowerCase()||this.isParentVTPayment||this.VoucherType.toLowerCase()==p.$f.DebitNote.toLowerCase()||this.isParentVTDebitNote||this.VoucherType.toLowerCase()==p.$f.Journal.toLowerCase()||this.isParentVTJournal||this.VoucherType.toLowerCase()==p.$f.Sales.toLowerCase()||this.isParentVTSales||this.VoucherType.toLowerCase()==p.$f.SalesOrder.toLowerCase()||this.isParentVTSalesOrder||this.VoucherType.toLowerCase()==p.$f.DeliveryNote.toLowerCase()||this.isParentVTDeliveryNote)&&(this.tableVouchers[0].CRDR="Dr")),this.setInitialData(),this.tableVoucherForInvnetory=[],this.IsItemVoucher&&((e=new u.eK).InventoryTabIndex=e.Index+501,this.tableVoucherForInvnetory.push(e)))}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}},{key:"getToLedger",value:function(){this.isVTPurchase||this.isVTDebitNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTDebitNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?(this.ToLedger=this.companyLedgerService.result.filter(function(e){return 1==e.IsPU&&0==e.IsGrp&&1==e.St}),this.IsShowLedger&&(this.ToLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))):this.isVTSales||this.isVTCreditNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder?(this.ToLedger=this.companyLedgerService.result.filter(function(e){return 1==e.IsSL&&0==e.IsGrp&&1==e.St}),this.IsShowLedger&&(this.ToLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))):this.isVTPayment||this.isVTReceipt||this.isVTJournal||this.isParentVTPayment||this.isParentVTReceipt||this.isParentVTJournal?this.ToLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}):(this.isVTContra||this.isParentVTContra)&&(this.ToLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash)&&0==e.IsGrp&&1==e.St}))}},{key:"getRoundLedger",value:function(){this.RoundLedger=this.companyLedgerService.result.filter(function(e){return 1==e.IsROff&&0==e.IsGrp&&1==e.St})}},{key:"getTCSLedger",value:function(){this.TCSLedger=this.companyLedgerService.result.filter(function(e){return 1==e.isTL&&0==e.IsGrp&&4==e.IsTDSGst&&1==e.St})}},{key:"getTaxLedger",value:function(){this.TaxLedger=this.companyLedgerService.result.filter(function(e){return 1==e.isTL&&0==e.IsGrp&&1==e.St})}},{key:"getInventoryLedger",value:function(){this.accountService.singleresult.VT.toLowerCase()==p.$f.Sales.toLowerCase()||this.isParentVTSales||this.accountService.singleresult.VT.toLowerCase()==p.$f.DebitNote.toLowerCase()||this.isParentVTDebitNote||this.accountService.singleresult.VT.toLowerCase()==p.$f.SalesOrder.toLowerCase()||this.isParentVTSalesOrder?this.InventoryLedger=this.companyLedgerService.result.filter(function(e){return!((e.IsBank||e.IsCash||e.IsSD||e.IsSC||e.IsPU||e.isTL||e.IsROff||"Profit & Loss A/c"==e.LN||null!=e.State)&&1!=e.IsSL||0!=e.IsGrp||1!=e.St)}):(this.accountService.singleresult.VT.toLowerCase()==p.$f.Purchase.toLowerCase()||this.isParentVTPurchase||this.accountService.singleresult.VT.toLowerCase()==p.$f.CreditNote.toLowerCase()||this.isParentVTCreditNote||this.accountService.singleresult.VT.toLowerCase()==p.$f.PurchaseOrder.toLowerCase()||this.isParentVTPurchaseOrder)&&(this.InventoryLedger=this.companyLedgerService.result.filter(function(e){return!((e.IsBank||e.IsCash||e.IsSD||e.IsSC||e.IsPU||e.isTL||e.IsROff||"Profit & Loss A/c"==e.LN||null!=e.State)&&1!=e.IsPU||0!=e.IsGrp||1!=e.St)}))}},{key:"getInventory",value:function(){this.ToInventory=this.inventoryService.result.filter(function(e){return 1==e.St})}},{key:"getinventorytaxledger",value:function(e,t){var n=this;this.gstdetails=[],null!=e?(this.accountService.showMessage=!1,this.accountService.GetAllGSTDetails(e.UIDN).subscribe(function(i){n.gstdetails=i.data,null!=n.gstdetails?n.IsPurchaseTaxAvailable||(n.isVTPurchase||n.isVTCreditNote||n.isVTReceiptNote||n.isVTPurchaseOrder||n.isParentVTPurchase||n.isParentVTCreditNote||n.isParentVTReceiptNote||n.isParentVTPurchaseOrder?n.ToInventoryTaxLedger=n.gstdetails.filter(function(t){return t.IId==e.UIDN&&1==t.ISPS}):(n.isVTSales||n.isVTDebitNote||n.isVTDeliveryNote||n.isVTSalesOrder||n.isParentVTSales||n.isParentVTDebitNote||n.isParentVTDeliveryNote||n.isParentVTSalesOrder)&&(n.ToInventoryTaxLedger=n.gstdetails.filter(function(t){return t.IId==e.UIDN&&2==t.ISPS}))):n.ToInventoryTaxLedger=[],n.BindInventoryDetails(t)})):(this.ToInventoryTaxLedger=[],this.BindInventoryDetails(t))}},{key:"onImageAdd",value:function(e){this.accountService.singleresult.UploadImages=[];for(var t=0;t<e.length;t++){var n=new f.Q;n.VoucherMaster_PK_Id=e[t].VoucherMaster_PK_Id,n.PK_Id=e[t].PK_Id,n.name=e[t].name,n.operationType=e[t].operationType,n.src=e[t].src,n.ModifiedDate=new Date,n.CreatedDate=new Date,n.CreatedBy=this.accountService.userid,n.modifyBy=this.accountService.userid,n.CompanyId=this.accountService.getCompanyId,n.SignupId=this.accountService.getSignupId,n.FileLength=null==e[t].PK_Id?e[t].size:e[t].FileLength,this.accountService.singleresult.UploadImages.push(n)}}},{key:"isNumeric",value:function(e){return null!=e&&/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(e.toString())}},{key:"getNumeric",value:function(e){return this.isNumeric(e)?(e=parseFloat(e),parseFloat(e.toFixed(2))):parseFloat("0")}},{key:"getPositiveNumeric",value:function(e){var t=this.getNumeric(e);return t<0?-1*t:t}},{key:"adddNewItemVoucherAccount",value:function(){if(this.httpfunction.IsMobileview())this.modalLedgerIndex=-1,this.modalDrAmt=null,this.modalLedger=null,this.modalRate=null,this.addItemModalVoucher.show();else{var e=this.tableVoucherForInvnetory.length-1;if(null!=this.tableVouchers[e].LedDet&&null!=this.tableVouchers[e].LedDet){this.tableVouchers.push(new u.eK),this.VoucherIndex=this.VoucherIndex+1,this.tableVouchers[e+1].Index=this.VoucherIndex,this.tableVouchers[e+1].TabIndex=this.VoucherIndex+21;var t=0;if(this.IsCRDR&&!this.IsItemVoucher)if("Cr"==this.tableVouchers[e].CRDR){for(var n=0;n<this.tableVouchers.length;n++)this.tableVouchers[n].DrAmt>0?t-=this.getNumeric(this.tableVouchers[n].DrAmt):t+=this.getNumeric(this.tableVouchers[n].CrAmt);t<0?(this.tableVouchers[e+1].CRDR="Cr",this.tableVouchers[e+1].CrAmt=-1*t):(this.tableVouchers[e+1].CRDR="Dr",this.tableVouchers[e+1].DrAmt=t)}else{for(var i=0;i<this.tableVouchers.length;i++)this.tableVouchers[i].DrAmt>0?t-=this.getNumeric(this.tableVouchers[i].DrAmt):t+=this.getNumeric(this.tableVouchers[i].CrAmt);t<0?(this.tableVouchers[e+1].CRDR="Cr",this.tableVouchers[e+1].CrAmt=-1*t):(this.tableVouchers[e+1].CRDR="Dr",this.tableVouchers[e+1].DrAmt=t)}}null!=this.tableVouchers[e].InventoryDetails&&null!=this.tableVouchers[e].InventoryDetails&&(this.tableVouchers.push(new u.eK),this.VoucherIndex=this.VoucherIndex+1,this.tableVouchers[e+1].Index=this.VoucherIndex,this.tableVouchers[e+1].TabIndex=this.VoucherIndex+21)}}},{key:"adddNewTransaction",value:function(){if(this.httpfunction.IsMobileview())this.modalLedgerIndex=-1,null!=this.tableVouchers&&(0==this.tableVouchers.length&&null==this.accountService.singleresult.referencemaster||this.tableVouchers.length>0)&&(this.modalDrAmt=null),this.modalCrAmt=null,this.isVTContra||this.isVTPurchase||this.isVTPurchaseOrder||this.isVTCreditNote||this.isVTReceipt||this.isVTReceiptNote||this.isParentVTContra||this.isParentVTPurchase||this.isParentVTPurchaseOrder||this.isParentVTCreditNote||this.isParentVTReceipt||this.isParentVTReceiptNote?this.modalCrDr="Cr":(this.isVTPayment||this.isVTDebitNote||this.isVTJournal||this.isVTSales||this.isVTSalesOrder||this.isParentVTPayment||this.isParentVTDebitNote||this.isParentVTJournal||this.isParentVTSales||this.isParentVTSalesOrder)&&(this.modalCrDr="Dr"),this.modalQty=null,this.modalRate=null,this.modalDis=null,this.modalLedger=null,this.modalTaxLed=null,this.modalInventory=null,this.godownPopupDetails=null,this.ChangeCrDrMobile(),this.MobileTotal="0.0 Dr",this.MobileTotalTax="0.0 Dr",this.MobileGrandTotal="0.0 Dr",this.addItemModal.show();else{var e=this.tableVouchers.length-1;if(null!=this.tableVouchers[e].LedDet&&null!=this.tableVouchers[e].LedDet){this.tableVouchers.push(new u.eK),this.VoucherIndex=this.VoucherIndex+1,this.tableVouchers[e+1].Index=this.VoucherIndex,this.tableVouchers[e+1].TabIndex=this.VoucherIndex+21;var t=0;if(this.IsCRDR&&!this.IsItemVoucher)if("Cr"==this.tableVouchers[e].CRDR){for(var n=0;n<this.tableVouchers.length;n++)this.tableVouchers[n].DrAmt>0?t-=this.getNumeric(this.tableVouchers[n].DrAmt):t+=this.getNumeric(this.tableVouchers[n].CrAmt);t<0?(this.tableVouchers[e+1].CRDR="Cr",this.tableVouchers[e+1].CrAmt=-1*t):(this.tableVouchers[e+1].CRDR="Dr",this.tableVouchers[e+1].DrAmt=t)}else{for(var i=0;i<this.tableVouchers.length;i++)this.tableVouchers[i].DrAmt>0?t-=this.getNumeric(this.tableVouchers[i].DrAmt):t+=this.getNumeric(this.tableVouchers[i].CrAmt);t<0?(this.tableVouchers[e+1].CRDR="Cr",this.tableVouchers[e+1].CrAmt=-1*t):(this.tableVouchers[e+1].CRDR="Dr",this.tableVouchers[e+1].DrAmt=t)}}null!=this.tableVouchers[e].InventoryDetails&&null!=this.tableVouchers[e].InventoryDetails&&(this.tableVouchers.push(new u.eK),this.VoucherIndex=this.VoucherIndex+1,this.tableVouchers[e+1].Index=this.VoucherIndex,this.tableVouchers[e+1].TabIndex=this.VoucherIndex+21)}}},{key:"ChangeCrDrMobile",value:function(){var e=this.tableVouchers.length-1;if(e>-1){var t=0;if(this.IsCRDR&&!this.IsItemVoucher)if("Cr"==this.tableVouchers[e].CRDR){for(var n=0;n<this.tableVouchers.length;n++)this.tableVouchers[n].DrAmt>0?t-=this.getNumeric(this.tableVouchers[n].DrAmt):t+=this.getNumeric(this.tableVouchers[n].CrAmt);t<0?(this.modalCrDr="Cr",this.modalCrAmt=-1*t):(this.modalCrDr="Dr",this.modalDrAmt=t)}else{for(var i=0;i<this.tableVouchers.length;i++)this.tableVouchers[i].DrAmt>0?t-=this.getNumeric(this.tableVouchers[i].DrAmt):t+=this.getNumeric(this.tableVouchers[i].CrAmt);t<0?(this.modalCrDr="Cr",this.modalCrAmt=-1*t):(this.modalCrDr="Dr",this.modalDrAmt=t)}}}},{key:"showVouchers",value:function(e){this.modalLedgerIndex=e;var t=this.tableVouchers[e];return this.modalLedger=t.LedDet,this.modalDrAmt=t.DrAmt,this.modalCrAmt=t.CrAmt,this.modalTaxLed=t.TaxLedger,this.modalInventory=t.InventoryDetails,this.modalQty=t.actqty,this.modalRate=t.rate,this.modalDis=t.Disc,this.modalCrDr=t.CRDR,this.godownPopupDetails=t.godownsdetails,this.finalcalculateMobile(),this.addItemModal.show(),!0}},{key:"showItemVouchers",value:function(e){this.modalLedgerIndex=e;var t=this.tableVoucherForInvnetory[e];return this.modalLedger=t.LedDet,this.modalRate=t.rate,this.modalDrAmt=t.DrAmt,this.modalInventory=t.InventoryDetails,this.addItemModalVoucher.show(),!0}},{key:"adddNewLedgerTransaction",value:function(){var e=this.tableVoucherForInvnetory.length-1;null!=this.tableVoucherForInvnetory[e].LedDet&&null!=this.tableVoucherForInvnetory[e].LedDet&&(this.tableVoucherForInvnetory.push(new u.eK),this.LedgerInventoryIndex=this.LedgerInventoryIndex+1,this.tableVoucherForInvnetory[e+1].Index=this.LedgerInventoryIndex,this.tableVoucherForInvnetory[e+1].InventoryTabIndex=this.LedgerInventoryIndex+501)}},{key:"addItemfromModal",value:function(e){var t=this;if(this.fitemItem.valid){var n=this.tableVouchers.length-1,i=new u.eK;if(this.modalLedgerIndex>=0&&(n=this.modalLedgerIndex,i=this.tableVouchers[n]),i.LedDet=this.modalLedger,i.DrAmt=this.modalDrAmt,i.CrAmt=this.modalCrAmt,i.InventoryDetails=this.modalInventory,i.godownsdetails=this.godownPopupDetails,i.actqty=this.modalQty,i.rate=this.modalRate,i.Disc=this.modalDis,i.CRDR=this.modalCrDr,i.TabIndex=i.Index+21,i.TaxLedger=this.modalTaxLed,e||this.addItemModal.hide(),this.modalLedgerIndex<0){var r=this.tableVouchers.concat(i);this.tableVouchers=r}setTimeout(function(){t.clearItemModel(),e&&t.ChangeCrDrMobile(),t.finalcalculation()},400),this.finalcalculateMobile()}}},{key:"clearItemModel",value:function(){this.modalLedgerIndex=-1,this.modalLedger=null,this.modalRate=null,this.modalQty=null,this.modalTaxLed=null,this.modalInventory=null,this.modalDis=null,this.modalDrAmt=null,this.modalCrAmt=null}},{key:"addItemVouchersfromModal",value:function(e){var t=this;if(this.fitemVou.valid){var n=this.tableVoucherForInvnetory.length-1,i=new u.eK;if(this.modalLedgerIndex>=0&&(n=this.modalLedgerIndex,i=this.tableVoucherForInvnetory[n]),i.LedDet=this.modalLedger,i.DrAmt=this.modalDrAmt,i.rate=this.modalRate,i.TabIndex=i.Index+21,this.modalLedgerIndex<0){var r=this.tableVoucherForInvnetory.concat(i);this.tableVoucherForInvnetory=r}null!=this.addItemModalVoucher&&null!=this.addItemModalVoucher&&(e?(this.modalLedgerIndex=-1,this.modalLedger=null,this.modalRate=null,this.modalDrAmt=null):this.addItemModalVoucher.hide())}setTimeout(function(){t.finalcalculation()},400)}},{key:"onFocusKey",value:function(e){}},{key:"onFocusInventoryKey",value:function(e){}},{key:"deleteLedger",value:function(e){var t=this;if(this.IsCRDR&&e>=0||!this.IsCRDR){if(1!=this.tableVouchers.length||this.httpfunction.IsMobileview())null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult&&(null!=this.companyLedgerService.singleresult.challan&&null!=this.companyLedgerService.singleresult.challan&&(n=this.companyLedgerService.singleresult.challan.findIndex(function(n){return n.ChId==t.tableVouchers[e].ChallanId}))>=0&&this.companyLedgerService.singleresult.challan.splice(n,1),null!=this.companyLedgerService.singleresult.vouchers&&null!=this.companyLedgerService.singleresult.vouchers&&(n=this.companyLedgerService.singleresult.vouchers.findIndex(function(n){return n.UIDN==t.tableVouchers[e].ReceiptDeliveryId}))>=0&&this.companyLedgerService.singleresult.vouchers.splice(n,1)),this.httpfunction.IsMobileview()?this.httpfunction.confirm().then(function(n){n&&t.tableVouchers.splice(e,1)}):this.tableVouchers.splice(e,1);else{var n;if((n=this.companyLedgerService.singleresult.challan.findIndex(function(n){return n.ChId==t.tableVouchers[e].ChallanId}))>=0&&this.companyLedgerService.singleresult.challan.splice(n,1),null!=this.companyLedgerService.singleresult.vouchers&&null!=this.companyLedgerService.singleresult.vouchers){var i=this.companyLedgerService.singleresult.vouchers.findIndex(function(n){return n.UIDN==t.tableVouchers[e].ReceiptDeliveryId});i>=0&&this.companyLedgerService.singleresult.vouchers.splice(i,1)}this.tableVouchers[e].LedDet=null,this.tableVouchers[e].DrAmt=0,this.tableVouchers[e].actqty=0,this.tableVouchers[e].TaxTotal=0,this.tableVouchers[e].rate=0,this.tableVouchers[e].TaxLedger=null,this.tableVouchers[e].InventoryDetails=null}this.finalcalculation()}}},{key:"deleteInventoryLedger",value:function(e){var t=this;1!=this.tableVoucherForInvnetory.length||this.httpfunction.IsMobileview()?this.httpfunction.IsMobileview()?this.httpfunction.confirm().then(function(n){n&&t.tableVoucherForInvnetory.splice(e,1)}):this.tableVoucherForInvnetory.splice(e,1):(this.tableVoucherForInvnetory[e].LedDet=null,this.tableVoucherForInvnetory[e].DrAmt=0,this.tableVoucherForInvnetory[e].actqty=0,this.tableVoucherForInvnetory[e].TaxTotal=0,this.tableVoucherForInvnetory[e].rate=0,this.tableVoucherForInvnetory[e].TaxLedger=null,this.tableVoucherForInvnetory[e].InventoryDetails=null),this.finalcalculation()}},{key:"BindInventoryDetails",value:function(e){if(this.curBatchedger=null,this.httpfunction.IsMobileview()){if(null==this.modalInventory||null==this.modalInventory)return void this.alertService.showInfo("Error","Please select ledger to Inventory");this.UpdateTaxLedger(e),this.curBatchedger=this.modalInventory,this.curInventoryNumber=e,this.isVTPurchase||this.isVTCreditNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTCreditNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.modalRate=this.curBatchedger.Rt<0?-1*this.curBatchedger.Rt:this.curBatchedger.Rt:(this.isVTSales||this.isVTDebitNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&(this.modalRate=this.curBatchedger.SlRt<0?-1*this.curBatchedger.SlRt:this.curBatchedger.SlRt),this.modalUnit=this.curBatchedger.UN,setTimeout(function(){},500)}else if(e>-1){if(null==this.tableVouchers[e].InventoryDetails||null==this.tableVouchers[e].InventoryDetails)return void this.alertService.showInfo("Error","Please select ledger to Inventory");this.UpdateTaxLedger(e),this.curBatchedger=this.tableVouchers[e].InventoryDetails,this.curInventoryNumber=e,this.isVTPurchase||this.isVTCreditNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTCreditNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.tableVouchers[e].rate=this.curBatchedger.Rt<0?-1*this.curBatchedger.Rt:this.curBatchedger.Rt:(this.isVTSales||this.isVTDebitNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&(this.tableVouchers[e].rate=this.curBatchedger.SlRt<0?-1*this.curBatchedger.SlRt:this.curBatchedger.SlRt),this.tableVouchers[e].UN=this.curBatchedger.UN,setTimeout(function(){},500)}this.calculateAmount(),this.finalcalculation()}},{key:"UpdateTaxLedger",value:function(e){var t=this;if(this.httpfunction.IsMobileview()?this.modalTaxLed=new Array:this.tableVouchers[e].TaxLedger=new Array,null!=this.TopurchaseTaxLedger&&null!=this.TopurchaseTaxLedger&&this.TopurchaseTaxLedger.length>0)for(var n=0;n<this.TopurchaseTaxLedger.length;n++){var i=this.companyLedgerService.result.filter(function(e){return e.UIDN==t.TopurchaseTaxLedger[n].TLId})[0];this.TaxLedgercommon.push(i)}if(null!=this.ToInventoryTaxLedger&&null!=this.ToInventoryTaxLedger&&this.ToInventoryTaxLedger.length>0&&!this.IsPurchaseTaxAvailable)for(n=0;n<this.ToInventoryTaxLedger.length;n++)i=this.companyLedgerService.result.filter(function(e){return e.UIDN==t.ToInventoryTaxLedger[n].TLId})[0],this.httpfunction.IsMobileview()?this.modalTaxLed.push(i):this.tableVouchers[e].TaxLedger.push(i)}},{key:"BindInventoryIndex",value:function(e){this.curInventoryNumber=e}},{key:"openReferencepopup",value:function(e,t){var n=this;if(this.curReferenceedger=null,this.curReference=[],-1==e)if(this.httpfunction.IsMobileview())if(this.isVTContra||this.IsItemVoucher||this.isVTPurchase||this.isVTSales||this.isVTDebitNote||this.isVTCreditNote||this.isVTDeliveryNote||!this.isVTReceiptNote||this.isParentVTContra||this.isParentVTPurchase||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTReceiptNote){if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else if(e>-1)if(this.httpfunction.IsMobileview())if(this.isVTContra||this.IsItemVoucher||this.isVTPurchase||this.isVTSales||this.isVTDebitNote||this.isVTCreditNote||this.isVTDeliveryNote||!this.isVTReceiptNote||this.isParentVTContra||this.isParentVTPurchase||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTReceiptNote){if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.tableVouchers[e].LedDet||null==this.tableVouchers[e].LedDet)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.tableVouchers[e].LedDet.UIDN,this.IsSundryDebtorsledgerSelected=1==this.tableVouchers[e].LedDet.IsSD}if(null!=this.accountService.singleresult.referencemaster&&this.accountService.singleresult.referencemaster.length>0&&(this.httpfunction.IsMobileview()?e>-1&&(this.curReference=JSON.parse(JSON.stringify(this.accountService.singleresult.referencemaster.filter(function(t){return t.L_Id==n.curReferenceedger&&t.Index==e})))):this.curReference=JSON.parse(JSON.stringify(this.accountService.singleresult.referencemaster.filter(function(e){return e.L_Id==n.curReferenceedger})))),this.EnterAmountVoucher=0,e>-1&&!this.httpfunction.IsMobileview())this.EnterAmountVoucher="Cr"==(o=this.tableVouchers[e]).CRDR?o.CrAmt:o.DrAmt,this.EnterAmountVoucher<0&&(this.EnterAmountVoucher=-1*this.EnterAmountVoucher);else for(var i=0;i<this.tableVouchers.length;i++){var r=this.tableVouchers[i];null!=r.DrAmt&&null!=r.DrAmt&&(this.EnterAmountVoucher+="Cr"==r.CRDR?r.CrAmt:Math.abs(r.DrAmt))}if(null==this.EnterAmountVoucher&&(this.EnterAmountVoucher=0),!(null!=this.curReference&&this.curReference.length>0)&&(this.addNewreference(),e>-1&&!this.httpfunction.IsMobileview())){var o=this.tableVouchers[e],a=this.curReference.filter(function(e){return e.Index==n.ReferendeIndex})[0];"Cr"==o.CRDR?(a.AmtType="Cr",a.Cr=o.CrAmt,a.Balance=o.CrAmt,a.Dr=0):(a.AmtType="Dr",a.Dr=o.DrAmt,a.Balance=o.DrAmt,a.Cr=0)}0==this.allagainstRefList.filter(function(e){return e.L_Id==n.curReferenceedger&&e.VoucherMaster_PK_Id!=n.VoucherId}).length&&(this.accountService.filterArg=new A.Jw,this.accountService.filterArg.LedgerId=this.curReferenceedger,this.accountService.filterArg.voucherMasterId=this.VoucherId,this.accountService.GetLedgerReferance().subscribe(function(e){n.allagainstRefList=n.allagainstRefList.concat(e.m_Item1),n.setcurrentreference()})),this.PopupReferendeIndex=t,this.modalReferenceIndex=e,this.showReferencepopup=!0,this.httpfunction.IsMobileview()?this.RefModalM.show():this.RefModal.show(),this.OnReferenceTotalAmount()}},{key:"opengodownepopup",value:function(e){var t=this;if(this.curbatchleedger=null,this.curGodown=[],this.httpfunction.IsMobileview()){if(null==this.modalInventory||null==this.modalInventory)return void this.alertService.showInfo("Error","Please select invenotry to godown");this.curbatchleedger=this.modalInventory.UIDN,this.InventoryRate=this.modalRate}else{if(-1==e){if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curbatchleedger=this.companyLedgerService.singleresult.UIDN}else if(e>-1)if(this.httpfunction.IsMobileview())if(this.isVTContra||this.IsItemVoucher||this.isVTPurchase||this.isVTSales||this.isVTDebitNote||this.isVTCreditNote||this.isVTDeliveryNote||!this.isVTReceiptNote||this.isParentVTContra||this.isParentVTPurchase||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTReceiptNote){if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select invenotry to godown");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.tableVouchers[e].InventoryDetails||null==this.tableVouchers[e].InventoryDetails)return void this.alertService.showInfo("Error","Please select invenotry to godown");this.curbatchleedger=this.tableVouchers[e].InventoryDetails.UIDN}this.InventoryRate=this.tableVouchers[e].rate}this.httpfunction.IsMobileview()?null!=this.godownPopupDetails&&this.godownPopupDetails.length>0&&e>-1?(this.curGodown=JSON.parse(JSON.stringify(this.godownPopupDetails.filter(function(n){return n.IId==t.curbatchleedger&&n.index==e}))),null!=this.curGodown&&this.curGodown.length>0||this.addNewgodowndetails(this.InventoryRate)):this.addNewgodowndetails(this.InventoryRate):null!=this.tableVouchers[e].godownsdetails&&this.tableVouchers[e].godownsdetails.length>0?(this.curGodown=JSON.parse(JSON.stringify(this.tableVouchers[e].godownsdetails.filter(function(e){return e.IId==t.curbatchleedger}))),null!=this.curGodown&&this.curGodown.length>0||this.addNewgodowndetails(this.InventoryRate)):this.addNewgodowndetails(this.InventoryRate),this.GodownIndex=this.GodownIndex+1,this.showInventorypopup=!0,this.InventorycurrentIndex=e,this.httpfunction.IsMobileview()?this.BatchModalM.show():this.BatchModal.show(),setTimeout(function(){},600)}},{key:"onReferenceAmountChange",value:function(e){var t=this;if("AgainstRef"==e.Ref_Type&&this.isNumeric(e.Balance)){var n=this.LedagainstRefList.filter(function(t){return t.UIDN==e.Agnst_Ref_Id});n.length>0&&(e.Agnst_VoucherMst_Id=n[0].VoucherMaster_PK_Id,e.Balance>n[0].Balance&&(e.Balance=n[0].Balance))}else"NewRef"==e.Ref_Type&&(e.Balance<e.Dr-e.OrgBalance||e.Balance<e.Cr-e.OrgBalance)&&(this.alertService.showError("Error","You can not reduce amount which is already paid as against reference"),e.Balance=e.Dr>0?e.Dr:e.Cr);if(this.OnReferenceTotalAmount(),this.isNumeric(this.EnterAmountVoucher)&&this.EnterAmountVoucher>0){var i=this.EnterAmountVoucher-this.TotalReferenceAmount;if(i>0)this.addNewreference(),this.curReference.filter(function(e){return e.Index==t.ReferendeIndex})[0].Balance=i,this.OnReferenceTotalAmount();else if(i<0){var r=this.curReference[this.curReference.length-1];r.Balance>-1*i?r.Balance-=-1*i:this.curReference.splice(this.curReference.length-1,1),this.OnReferenceTotalAmount()}}}},{key:"OnReferenceTotalAmount",value:function(){this.TotalReferenceAmount=this.curReference.filter(function(e){return e.Balance>0}).filter(function(e){return"Cr"===e.AmtType&&1!=e.operationType}).reduce(function(e,t){return e+t.Balance},0)-this.curReference.filter(function(e){return e.Balance>0}).filter(function(e){return"Dr"===e.AmtType&&1!=e.operationType}).reduce(function(e,t){return e+t.Balance},0),this.TotalReferenceAmount<0&&(this.TotalReferenceAmount=-1*this.TotalReferenceAmount),null==this.TotalReferenceAmount&&(this.TotalReferenceAmount=0)}},{key:"onAgainstRefChange",value:function(e,t,n){if(t.Agnst_Ref_Id>0){var i=this.LedagainstRefList.findIndex(function(e){return e.UIDN===t.Agnst_Ref_Id});-1!=i&&(t.Ref_Tag=this.LedagainstRefList[i].Ref_Tag)}null!=t.Agnst_Ref_Id&&this.curReference.filter(function(t){return 1!=t.operationType&&t.Agnst_Ref_Id==e.UIDN}).length>1?(this.alertService.showError("Error","This reference is already in use as against reference. Please select another reference"),setTimeout(function(){t.Agnst_Ref_Id=null,t.OrgBalance=0,t.Agnst_VoucherMst_Id=null},250)):this.onReferenceAmountChange(t),this.OnReferenceTotalAmount(),null!=this.OnRefMethodpop?this.setAgainstReferenceArray(this.OnRefMethodpop):this.setAgainstReferenceArray()}},{key:"getreference",value:function(e){if(null!=e)return null!=e&&null!=this.accountService.singleresult&&null!=this.accountService.singleresult.referencemaster?this.accountService.singleresult.referencemaster.filter(function(t){return t.L_Id==e.UIDN&&1!=t.operationType}):null}},{key:"getgodownDetailsMobile",value:function(e,t){return null!=e&&null!=this.tableVouchers[t]&&null!=this.tableVouchers[t].godownsdetails?this.tableVouchers[t].godownsdetails.filter(function(t){return t.IId==e.UIDN&&1!=t.operationType}):null}},{key:"getgodownDetails",value:function(e,t){return this.httpfunction.IsMobileview()?null!=e&&null!=this.modalInventory&&null!=this.godownPopupDetails?this.godownPopupDetails.filter(function(t){return t.IId==e.UIDN&&1!=t.operationType}):null:null!=e&&null!=this.tableVouchers[t]&&null!=this.tableVouchers[t].godownsdetails?this.tableVouchers[t].godownsdetails.filter(function(t){return t.IId==e.UIDN&&1!=t.operationType}):null}},{key:"calculateAmountGrid",value:function(e){if(null!=this.curGodown[e]&&null!=this.curGodown[e]){var t=null;(t=this.curGodown[e]).Amt=this.getNumeric(t.Qty*t.Rt),t.Amt<0&&(t.Amt=-1*t.Amt)}}},{key:"addNewreference",value:function(){var e=this,t=new S.eS,n=this.curReference.filter(function(t){return t.Index==e.ReferendeIndex});n.length>0?(t.Ref_Type=n[0].Ref_Type,t.VNO=n[0].VNO,t.VT=n[0].VT,t.VoucherMaster_PK_Id=n[0].VoucherMaster_PK_Id):(t.Ref_Type=T.l.NewRef,this.curReference.length>0&&(t.VNO=this.curReference[0].VNO,t.VT=this.curReference[0].VT,t.VoucherMaster_PK_Id=this.curReference[0].VoucherMaster_PK_Id)),this.addNewreferenceBalance>0&&(t.Balance=this.addNewreferenceBalance,this.addNewreferenceBalance=0),t.L_Id=this.curReferenceedger,t.AmtType=this.isVTSales||this.isParentVTSales||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTDeliveryNote||this.isParentVTDeliveryNote||this.isVTPayment||this.isParentVTPayment?"Dr":this.isVTPurchase||this.isParentVTPurchase||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTReceiptNote||this.isParentVTReceiptNote||this.isVTJournal||this.isParentVTJournal||this.isVTReceipt||this.isParentVTReceipt?"Cr":"Dr",t.operationType=0,this.ReferendeIndex=this.ReferendeIndex+1,t.Index=this.ReferendeIndex,t.DueDate=moment(new Date).format("YYYY-MM-DD"),this.curReference.push(t)}},{key:"addNewgodowndetails",value:function(e){if(this.httpfunction.IsMobileview()){var t=new m.ZL;t.IId=this.curbatchleedger,this.isVTSales||this.isParentVTSales||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTDeliveryNote||this.isParentVTDeliveryNote?t.AmtType="Dr":(this.isVTPurchase||this.isParentVTPurchase||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTReceiptNote||this.isParentVTReceiptNote)&&(t.AmtType="Cr"),t.MFGDt=new Date,t.operationType=0,t.Rt=e,this.GodownIndex=this.GodownIndex+1,t.index=this.GodownIndex,t.GodM=null,this.curGodown.push(t)}else{var n=new m.ZL;n.IId=this.curbatchleedger,this.isVTSales||this.isParentVTSales||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTDeliveryNote||this.isParentVTDeliveryNote?n.AmtType="Dr":(this.isVTPurchase||this.isParentVTPurchase||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTReceiptNote||this.isParentVTReceiptNote)&&(n.AmtType="Cr"),n.MFGDt=new Date,n.operationType=0,1==this.curGodown.length&&(this.InventoryRate=this.curGodown[0].Rt,e=this.InventoryRate),n.Rt=e,this.GodownIndex=this.GodownIndex+1,n.index=this.GodownIndex,n.GodM=null,this.curGodown.push(n)}}},{key:"FocusReferenceOperationType",value:function(e){null!=e&&null!=e&&(this.focusedLedger=e.UIDN)}},{key:"updateReferenceOperationType",value:function(e){var t=this;if(null!=this.focusedLedger&&null!=this.focusedLedger){var n=this.accountService.singleresult.referencemaster.filter(function(e){return e.L_Id==t.focusedLedger});if(n.length>0)for(var i=function(i){-1!=(e=t.accountService.singleresult.referencemaster.findIndex(function(e){return e.UIDN==n[i].UIDN}))&&(t.accountService.singleresult.referencemaster[e].operationType=1)},r=0;r<n.length;r++)i(r)}}},{key:"RemoveReference",value:function(e){var t=this,n=this.curReference.findIndex(function(t){return t.Index==e}),i=this.accountService.singleresult.referencemaster.findIndex(function(e){return e.UIDN==t.curReference[n].UIDN&&e.operationType==t.curReference[n].operationType});if(this.httpfunction.IsMobileview())if(0==this.curReference[n].operationType){var r=this.accountService.singleresult.referencemaster.findIndex(function(e){return e.Index==t.modalReferenceIndex});this.accountService.singleresult.referencemaster.splice(r,1),this.curReference.splice(n,1)}else"NewRef"==this.curReference[n].Ref_Type&&this.curReference[n].Balance>this.curReference[n].OrgBalance?this.alertService.showError("Error","This reference already have against reference. Please delete against reference first"):(r=this.accountService.singleresult.referencemaster.findIndex(function(e){return e.Index==t.modalReferenceIndex}),this.accountService.singleresult.referencemaster[r].operationType=1,this.curReference[n].operationType=1);else if(0==this.curReference[n].operationType){if(-1!=i){var o=this.curReference.findIndex(function(e){return"OnAccount"==e.Ref_Type}),a=this.curReference.findIndex(function(e){return"NewRef"==e.Ref_Type}),l=!0;-1!=o&&(this.curReference[o].Balance=this.curReference[o].Balance+this.curReference[n].Balance,l=!1),-1!=a&&1==l&&(this.curReference[a].Balance=this.curReference[a].Balance+this.curReference[n].Balance),-1==o&&-1==a&&(this.addNewreferenceBalance=this.curReference[n].Balance,this.addNewreference())}this.curReference.splice(n,1)}else if("NewRef"==this.curReference[n].Ref_Type&&this.curReference[n].Balance>this.curReference[n].OrgBalance)this.alertService.showError("Error","This reference already have against reference. Please delete against reference first");else{if(-1!=i){o=this.curReference.findIndex(function(e){return"OnAccount"==e.Ref_Type}),a=this.curReference.findIndex(function(e){return"NewRef"==e.Ref_Type});var s=!0;-1!=o&&(this.curReference[o].Balance=this.curReference[o].Balance+this.curReference[n].Balance,s=!1),-1!=a&&1==s&&(this.curReference[a].Balance=this.curReference[a].Balance+this.curReference[n].Balance),-1==o&&-1==a&&(this.addNewreferenceBalance=this.curReference[n].Balance,this.addNewreference())}this.curReference[n].operationType=1}this.calculateAmount(),this.finalcalculation(),this.OnReferenceTotalAmount()}},{key:"RemovegodownDetails",value:function(e){var t=this.curGodown.findIndex(function(t){return t.index==e});if(this.httpfunction.IsMobileview()){var n=0,i=0,r=0;if(0==this.curGodown[t].operationType){var o=this.godownPopupDetails.findIndex(function(e){return e.index==t});this.godownPopupDetails.splice(o,1)}else this.curGodown[t].operationType=1,o=this.godownPopupDetails.findIndex(function(t){return t.index==e}),this.godownPopupDetails.splice(o,1);this.showInventorypopup=!1,this.BatchModalM.hide();for(var a=0;a<this.godownPopupDetails.length;a++)r+=this.getNumeric(this.godownPopupDetails[a].Qty),i=this.getNumeric(this.godownPopupDetails[a].Rt),n+=this.getNumeric(this.godownPopupDetails[a].Amt);this.modalRate=i,this.modalQty=r,this.modalDrAmt=n}else 0==this.curGodown[t].operationType?this.curGodown.splice(t,1):this.curGodown[t].operationType=1;this.calculateAmount(),this.finalcalculation()}},{key:"BindBatchDetails",value:function(e,t){var n=this;null!=e?(this.accountService.showMessage=!1,this.accountService.GetAllBatchDetails(e.UIDN,t).subscribe(function(e){n.BatchMaster=e.data})):this.BatchMaster=null}},{key:"getreferenceforpopup",value:function(){return this.curReference.filter(function(e){return 1!=e.operationType})}},{key:"getgodowndetailsforpopup",value:function(){return this.curGodown.filter(function(e){return 1!=e.operationType})}},{key:"FillBatchName",value:function(e,t){e.UIDN>0&&(this.curGodown[t].BTNa=e.BN)}},{key:"getAgainstRef",value:function(e){for(var t=this,n=[],i=function(i){var r=t.LedagainstRefList[i];0==t.curReference.filter(function(e){return 1!=e.operationType}).filter(function(t){return t.Agnst_Ref_Id==r.UIDN&&t.Agnst_Ref_Id!=e}).length&&n.push(r)},r=0;r<this.LedagainstRefList.length;r++)i(r);return n}},{key:"Savereference",value:function(){var e=this,t=[];if(this.httpfunction.IsMobileview()){if(null!=this.accountService.singleresult.referencemaster&&this.accountService.singleresult.referencemaster.length>0)if(-1==this.modalReferenceIndex||-1==this.PopupReferendeIndex){var n=this.accountService.singleresult.referencemaster.filter(function(t){return t.L_Id==e.curReferenceedger}),i=this.curReference.concat(n||[]);this.curReference=i}else if(this.modalReferenceIndex>-1){var r=this.accountService.singleresult.referencemaster.findIndex(function(t){return t.Index==e.modalReferenceIndex});this.accountService.singleresult.referencemaster[r]=this.curReference[0],this.curReference=this.accountService.singleresult.referencemaster.filter(function(e){return void 0!==e})}if(this.curReference.length>0){var o=this.curReference.length;null!=this.accountService.singleresult.referencemaster&&this.accountService.singleresult.referencemaster.length>0&&(-1==this.modalReferenceIndex||-1==this.PopupReferendeIndex)&&(t=this.accountService.singleresult.referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}));for(var a=0;a<o;a++)"Dr"==this.curReference[a].AmtType?(this.curReference[a].Dr=this.getNumeric(this.curReference[a].Balance),this.curReference[a].Cr=0):(this.curReference[a].Cr=this.getNumeric(this.curReference[a].Balance),this.curReference[a].Dr=0),t.push(this.curReference[a]);this.modalDrAmt=this.TotalAmount,this.accountService.singleresult.referencemaster=t}else t=this.accountService.singleresult.referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}),this.accountService.singleresult.referencemaster=t}else{if(this.isNumeric(this.EnterAmountVoucher)&&this.EnterAmountVoucher>0&&this.TotalReferenceAmount!=this.EnterAmountVoucher)return void this.alertService.showError("Error","Reference amount must match voucher amount.");if(this.curReference.length>0){var l=this.curReference.length;null!=this.accountService.singleresult.referencemaster&&this.accountService.singleresult.referencemaster.length>0&&(t=this.accountService.singleresult.referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}));for(var s=0;s<l;s++)"Dr"==this.curReference[s].AmtType?(this.curReference[s].Dr=this.getNumeric(this.curReference[s].Balance),this.curReference[s].Cr=0):(this.curReference[s].Cr=this.getNumeric(this.curReference[s].Balance),this.curReference[s].Dr=0),t.push(this.curReference[s]);this.accountService.singleresult.referencemaster=t}else t=this.accountService.singleresult.referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}),this.accountService.singleresult.referencemaster=t}this.showReferencepopup=!1,this.httpfunction.IsMobileview()?this.RefModalM.hide():this.RefModal.hide(),this.calculateAmount(),this.finalcalculation(),this.finalcalculateMobile(),this.httpfunction.IsMobileview()||setTimeout(function(){},200)}},{key:"SaveinventoryGodownsDetails",value:function(e){var t=this,n=[];if(this.httpfunction.IsMobileview())if(this.curGodown.length>0){var i=this.curGodown.length;null!=this.godownPopupDetails&&this.godownPopupDetails.length>0&&(n=this.godownPopupDetails.filter(function(e){return e.IId!=t.curbatchleedger}));var r=0,o=0,a=0;if(e>0)for(var l=this.godownPopupDetails.findIndex(function(t){return t.index==e}),s=0;s<i;s++)this.godownPopupDetails[l].Rt=this.curGodown[s].Rt,this.godownPopupDetails[l].Qty=this.curGodown[s].Qty,this.godownPopupDetails[l].Amt=this.curGodown[s].Amt,this.godownPopupDetails[l].AmtType=this.curGodown[s].AmtType,this.godownPopupDetails[l].BTId=this.curGodown[s].BTId,this.godownPopupDetails[l].BTNa=this.curGodown[s].BTNa,this.godownPopupDetails[l].GId=this.curGodown[s].GId,this.godownPopupDetails[l].GN=this.curGodown[s].GN,this.godownPopupDetails[l].IId=this.curGodown[s].IId,this.godownPopupDetails[l].MFGDt=this.curGodown[s].MFGDt;for(var c=0;c<i;c++)this.curGodown[c].Amt=this.getNumeric(this.curGodown[c].Amt),n.push(this.curGodown[c]);if(null==this.godownPopupDetails&&(this.godownPopupDetails=[]),-1==e){var u=this.godownPopupDetails.concat(n||[]);this.godownPopupDetails=u}for(var d=0;d<this.godownPopupDetails.length;d++)a+=this.getNumeric(this.godownPopupDetails[d].Qty),o=this.getNumeric(this.godownPopupDetails[d].Rt),r+=this.getNumeric(this.godownPopupDetails[d].Amt);this.modalRate=o,this.modalQty=a,this.modalDrAmt=r}else n=this.tableVouchers[e].godownsdetails.filter(function(e){return e.IId!=t.curbatchleedger}),this.tableVouchers[e].godownsdetails=n;else if(this.curGodown.length>0){var g=this.curGodown.length;null!=this.tableVouchers[e].godownsdetails&&this.tableVouchers[e].godownsdetails.length>0&&(n=this.tableVouchers[e].godownsdetails.filter(function(e){return e.IId!=t.curbatchleedger}));for(var h=0,p=0,f=0,v=0;v<g;v++)f+=this.getNumeric(this.curGodown[v].Qty),p=this.getNumeric(this.curGodown[v].Rt),h+=this.getNumeric(this.curGodown[v].Amt),this.curGodown[v].Amt=this.getNumeric(this.curGodown[v].Amt),n.push(this.curGodown[v]);this.tableVouchers[e].godownsdetails=n,this.tableVouchers[e].rate=p,this.tableVouchers[e].actqty=f,this.tableVouchers[e].DrAmt=h}else n=this.tableVouchers[e].godownsdetails.filter(function(e){return e.IId!=t.curbatchleedger}),this.tableVouchers[e].godownsdetails=n;this.showInventorypopup=!1,this.httpfunction.IsMobileview()?this.BatchModalM.hide():this.BatchModal.hide(),this.calculateAmount(),this.finaltaxcalculate(),this.finalcalculation(),this.finalcalculateMobile(),setTimeout(function(){},200)}},{key:"calculateAmount",value:function(){var e=this;if(null==this.accountService.singleresult.referencemaster||null==this.accountService.singleresult.referencemaster||this.IsItemVoucher){var t=0;if(this.httpfunction.IsMobileview())t=this.modalDis,this.modalDrAmt=this.getNumeric(this.modalQty*this.modalRate),null!=t&&(this.modalDrAmt=this.getNumeric(this.modalDrAmt-this.modalDrAmt*t/100)),this.modalDrAmt<0&&(this.modalDrAmt=-1*this.modalDrAmt);else{var n=null;null!=(n=null!=this.tableVouchers&&this.tableVouchers.filter(function(e){return null!=e.InventoryDetails}).length>0?this.tableVouchers[this.curInventoryNumber]:this.companyLedgerService.singleresult)&&null!=n&&(t=n.Disc,n.DrAmt=this.getNumeric(n.actqty*n.rate),null!=t&&(n.DrAmt=this.getNumeric(n.DrAmt-n.DrAmt*t/100)),n.DrAmt<0&&(n.DrAmt=-1*n.DrAmt))}}else{var i=null;if(this.httpfunction.IsMobileview())if(null!=this.modalLedger&&null!=this.modalLedger){i=this.modalLedger;var r=this.accountService.singleresult.referencemaster.filter(function(t){return t.L_Id==e.modalLedger.UIDN&&1!=t.operationType})}else i=this.companyLedgerService.singleresult,r=this.accountService.singleresult.referencemaster.filter(function(e){return e.L_Id==i.UIDN&&1!=e.operationType});else null!=this.tableVouchers&&this.tableVouchers.filter(function(t){return null!=t.LedDet&&t.LedDet.UIDN==e.curReferenceedger}).length>0?(i=this.tableVouchers.filter(function(t){return t.LedDet.UIDN==e.curReferenceedger})[0],r=this.accountService.singleresult.referencemaster.filter(function(e){return e.L_Id==i.LedDet.UIDN&&1!=e.operationType})):(i=this.companyLedgerService.singleresult,r=this.accountService.singleresult.referencemaster.filter(function(e){return e.L_Id==i.UIDN&&1!=e.operationType}));for(var o=0,a=0,l=0;l<r.length;l++)a+=r[l].Dr,o+=r[l].Cr;this.IsCRDR?this.httpfunction.IsMobileview()?"Cr"==this.modalCrDr?(this.modalCrAmt=a-o,this.modalCrAmt<0&&(this.modalCrAmt=-1*this.modalCrAmt)):"Dr"==this.modalCrDr&&(this.modalDrAmt=a-o,this.modalDrAmt<0&&(this.modalDrAmt=-1*this.modalDrAmt)):"Cr"==i.CRDR?(i.CrAmt=a-o,i.CrAmt<0&&(i.CrAmt=-1*i.CrAmt)):"Dr"==i.CRDR&&(i.DrAmt=a-o,i.DrAmt<0&&(i.DrAmt=-1*i.DrAmt)):(i.DrAmt=a-o,i.DrAmt<0&&(i.DrAmt=-1*i.DrAmt),this.httpfunction.IsMobileview()&&(this.modalDrAmt=i.DrAmt)),this.httpfunction.IsMobileview()?null!=this.tableVouchers&&this.tableVouchers.filter(function(t){return null!=t.LedDet&&t.LedDet.UIDN==e.curReferenceedger}).length>0||((this.isVTDebitNote||this.isParentVTDebitNote||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTSales||this.isParentVTSales||this.isVTPurchase||this.isParentVTPurchase||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder)&&this.tableVouchers.length>0&&null!=this.tableVouchers&&(this.tableVouchers[0].DrAmt=i.DrAmt),this.modalDrAmt=i.DrAmt,this.modalDrAmt<0&&(this.modalDrAmt=-1*i.DrAmt)):null!=this.tableVouchers&&this.tableVouchers.filter(function(t){return null!=t.LedDet&&t.LedDet.UIDN==e.curReferenceedger}).length>0||(this.tableVouchers[0].DrAmt=i.DrAmt)}}},{key:"setcurrentreference",value:function(){var e=this;this.LedagainstRefList=JSON.parse(JSON.stringify(this.allagainstRefList.filter(function(t){return t.L_Id==e.curReferenceedger&&t.VoucherMaster_PK_Id!=e.VoucherId})));for(var t=0;t<this.LedagainstRefList.length;t++){var n=this.LedagainstRefList[t];n.Balance<0&&(n.Balance=-1*n.Balance),n.OrgBalance=n.Balance}this.setAgainstReferenceArray()}},{key:"setAgainstReferenceArray",value:function(e){for(var t=this,n=function(n){for(var i=t.curReference[n],r=[],o=[],a=[],l=[],s=[],c=function(e){var n=t.LedagainstRefList[e];0==t.curReference.filter(function(e){return 1!=e.operationType}).filter(function(e){return e.Agnst_Ref_Id==n.UIDN&&e.Agnst_Ref_Id!=i.Agnst_Ref_Id}).length&&r.push(n)},u=0;u<t.LedagainstRefList.length;u++)c(u);t.LedagainstRefList.sort(function(e,t){var n=new Date(e.DueDate),i=new Date(t.DueDate);return n.getTime()-i.getTime()}),o.push(t.LedagainstRefList.filter(function(e){return"Sales"===e.VT&&e.Ref_Tag.toLowerCase().includes("ocr_")})),a.push(t.LedagainstRefList.filter(function(e){return"Sales"===e.VT&&e.Ref_Tag.toLowerCase().includes("loan_")})),s.push(t.LedagainstRefList.filter(function(e){return"Journal"===e.VT&&(e.Ref_Tag.toLowerCase().includes("loan_gst_")||e.Ref_Tag.toLowerCase().includes("ocr_gst_"))})),l.push(t.LedagainstRefList.filter(function(e){return!("Journal"!==e.VT||e.Ref_Tag.toLowerCase().includes("loan_gst_")||e.Ref_Tag.toLowerCase().includes("ocr_gst_")||e.Ref_Tag.toLowerCase().includes("loan_")||e.Ref_Tag.toLowerCase().includes("ocr_"))})),i.againstRefList=null==(e=t.OnRefMethodpop)?r:"AgreementOCR"===e?o[0]:"AgreementLOAN"===e?a[0]:"OCR"===e?l[0]:"GST"===e?s[0]:r},i=0;i<this.curReference.length;i++)n(i)}},{key:"openChallanpopup",value:function(e){var t=this;if(this.httpfunction.IsMobileview()?(this.showChallanpopup=!0,this.challanModalM.show()):(this.showChallanpopup=!0,this.challanModal.show()),null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult)this.httpfunction.IsMobileview()?this.alertService.showError("Error","Please select ledger to add challans"):this.alertService.showInfo("Error","Please select ledger to add challans");else if(this.curAddLedger=e,this.CompanyIdforReport>0&&(this.challanService.reportCompanyId=this.CompanyIdforReport),this.tableChallan.filter(function(e){return e.LI==t.companyLedgerService.singleresult.UIDN}).length>0){var n=this.tableChallan.filter(function(e){return e.LI==t.companyLedgerService.singleresult.UIDN});this.curChallan=JSON.parse(JSON.stringify(n)),this.challanService.isGetSubscribe=!0,this.challanService.GetAllLedgerChallans(),this.httpfunction.IsMobileview()?this.challanModalM.show():this.challanModal.show(),this.showChallanpopup=!0}else this.challanService.filterArg=new Z.yz,this.challanService.filterArg.LedgerId=this.companyLedgerService.singleresult.UIDN,this.challanService.filterArg.VoucherId=this.VoucherId,this.challanService.pageWithoutLoad=0,this.challanService.filterArg.VoucherType=this.accountService.singleresult.VT,(this.isVTPurchase||this.isParentVTPurchase||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTSales||this.isParentVTSales||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder)&&(this.challanService.isGetSubscribe=!0,this.challanService.GetAllLedgerChallans())}},{key:"openReceiptDeliverypopup",value:function(e){null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult?this.httpfunction.IsMobileview()?this.alertService.showError("Error","Please select ledger to add challans"):this.alertService.showInfo("Error","Please select ledger to add challans"):(this.curAddLedger=e,this.CompanyIdforReport>0&&(this.ReportServices.reportCompanyId=this.CompanyIdforReport),this.tableVoucherReceiptDelivery.filter(function(e){return 1==e.billSelected}).length>0?(this.ReportServices.isGetSubscribe=!0,this.ReportServices.GetAllReceiptDeliveryVoucher(),this.showReceiptDeliverynpopup=!0,this.ReceiptDeliveryModal.show()):this.BindReceiptData())}},{key:"BindReceiptData",value:function(){this.ReportServices.filterArg=new A.Jw,this.ReportServices.filterArg.LedgerId=this.companyLedgerService.singleresult.UIDN,this.ReportServices.filterArg.VoucherId=this.VoucherId,this.ReportServices.pageWithoutLoad=0,this.ReportServices.isGetSubscribe=!0,this.ReportServices.GetAllReceiptDeliveryVoucher()}},{key:"calculateCurrentChallan",value:function(e){var t=this.companyLedgerService.singleresult,n=[];null!=t&&null!=t.challan&&null!=t.challan&&(n=t.challan);for(var i=0;i<e.length;i++)e[i].Ht=e[i].TtlAmt,e[i].billSelected=!1,n.filter(function(t){return t.ChlnId==e[i].ChlnId}).length>0&&(e[i].billSelected=!0);return e.sort(function(e){return e.billSelected?-1:1})}},{key:"onChallanCheckedChange",value:function(e,t){for(var n=e.object,i=0;i<this.curChallan.length;i++)i==t&&(this.curChallan[i].billSelected=n.checked)}},{key:"selectChallan",value:function(){var e,t,n,i,r,o,a=this;this.curChallan.length>0?function(){a.tableChallan=a.tableChallan.filter(function(e){return e.LedId!=a.curChallan[0].LedId});var l=JSON.parse(JSON.stringify(a.curChallan)),s=a.companyLedgerService.singleresult;for(e=a.tableVouchers.length-1;e>=0;--e)null!=a.tableVouchers[e].ChallanId&&null!=a.tableVouchers[e].ChallanId&&0!=a.tableVouchers[e].ChallanId&&a.tableVouchers.splice(e,1);var c=[];for(t=0;t<l.length;t++)l[t].billSelected&&((n=new u.qk).Amt=l[t].TtlAmt,n.ChId=l[t].ChlnId,n.ChNo=l[t].CN,c.push(n),a.IsItemVoucher&&function(){for(i=0;i<a.tableVouchers.length;i++)null==a.tableVouchers[i].InventoryDetails&&null==a.tableVouchers[i].InventoryDetails&&a.tableVouchers.splice(i,1);var e=new u.eK;if(a.VoucherIndex+=t,e.InventoryDetails=new m.F8,e.InventoryDetails=a.inventoryService.result.filter(function(e){return e.UIDN==l[t].InvId})[0],e.Index=a.VoucherIndex,e.DrAmt=l[t].TtlAmt,e.rate=l[t].InvRt,e.actqty=l[t].InvQty,e.InventoryId=l[t].InvId,e.ChallanId=l[t].ChlnId,e.TaxLedger=new Array,l[t].GSTDetss&&Array.isArray(l[t].GSTDetss)&&(l[t].GSTDetss=l[t].GSTDetss.filter(function(t){return t.IId===e.InventoryId})))for(var n=function(n){r=a.companyLedgerService.result.filter(function(e){return e.UIDN==l[t].GSTDetss[n].TLId})[0];var i=e.TaxLedger.concat(r||[]);e.TaxLedger=i},o=0;o<l[t].GSTDetss.length;o++)n(o);var s=a.tableVouchers.concat(e||[]);a.tableVouchers=s}());s.challan=c,0!=a.tableVouchers.length||a.httpfunction.IsMobileview()||((o=new u.eK).TabIndex=o.Index+21,a.tableVouchers.push(o)),a.tableChallan=a.tableChallan.concat(JSON.parse(JSON.stringify(l))),a.showChallanpopup=!1,a.httpfunction.IsMobileview()?a.challanModalM.hide():a.challanModal.hide(),a.finalcalculation()}():(this.showChallanpopup=!1,this.httpfunction.IsMobileview()?this.challanModalM.hide():this.challanModal.hide(),this.finalcalculation())}},{key:"selectReceiptDelivery",value:function(){var e,t,n,i,r,o,a,l=this;this.curReceiptDelivery.length>0?function(){l.tableVoucherReceiptDelivery=l.tableVoucherReceiptDelivery.filter(function(e){return e.LI!=l.curReceiptDelivery[0].LI});var s=JSON.parse(JSON.stringify(l.curReceiptDelivery)),c=l.companyLedgerService.singleresult;for(e=l.tableVouchers.length-1;e>=0;--e)null!=l.tableVouchers[e].ReceiptDeliveryId&&null!=l.tableVouchers[e].ReceiptDeliveryId&&0!=l.tableVouchers[e].ReceiptDeliveryId&&l.tableVouchers.splice(e,1);var d=[];for(l.TaxLedgercommon=[],t=0;t<s.length;t++)if(s[t].billSelected&&((n=new u.VN).UIDN=s[t].UIDN,n.BNO=s[t].BNO,n.VNO=s[t].VNO,n.TotalAmt=s[t].Amt,d.push(n),l.IsItemVoucher&&!l.curReceiptDelivery[t].IsUpdate)){for(i=0;i<l.tableVouchers.length;i++)null==l.tableVouchers[i].InventoryDetails&&null==l.tableVouchers[i].InventoryDetails&&l.tableVouchers.splice(i,1);for(r=0;r<s[t].InventoryDetails.length;r++){var g=new u.eK;for(g.InventoryDetails=new m.F8,g.InventoryDetails=l.inventoryService.result.filter(function(e){return e.UIDN==s[t].InventoryDetails[r].IId})[0],g.DrAmt=l.isVTSales||l.isParentVTSales||l.isVTSalesOrder||l.isParentVTSalesOrder||l.isVTDebitNote||l.isParentVTDebitNote?s[t].InventoryDetails[r].CrAmt:s[t].InventoryDetails[r].DrAmt,l.VoucherIndex+=r,g.Index=l.VoucherIndex,g.TabIndex=l.VoucherIndex+21,g.UN=l.inventoryService.result.filter(function(e){return e.UIDN==s[t].InventoryDetails[r].IId})[0].UN,g.rate=s[t].InventoryDetails[r].Rt,g.Disc=s[t].InventoryDetails[r].Dis,g.actqty=s[t].InventoryDetails[r].ActQty,g.InventoryId=s[t].InventoryDetails[r].IId,g.ReceiptDeliveryId=s[t].UIDN,g.TCN=l.natureoftransaction,g.godownsdetails=new Array,e=0;e<s[t].InventoryDetails[r].GodownDet.length;e++)s[t].InventoryDetails[r].GodownDet[e].GodM=l.godownService.result.filter(function(n){return n.UIDN==s[t].InventoryDetails[r].GodownDet[e].GId})[0],l.BindBatchDetails(s[t].InventoryDetails[r].GodownDet[e].GodM,s[t].InventoryDetails[r].GodownDet[e].IId),g.godownsdetails.push(s[t].InventoryDetails[r].GodownDet[e]);g.TaxLedger=new Array;for(var h=function(e){if(0==s[t].VDet[e].TaxLedgerId&&0==s[t].VDet[e].IsTax&&0==s[t].VDet[e].isMainled)l.PurchaseLedger=l.companyLedgerService.result.filter(function(n){return n.UIDN==s[t].VDet[e].LId})[0];else if(0!=s[t].VDet[e].TaxLedgerId&&1==s[t].VDet[e].IsTax&&s[t].VDet[e].InventoryId>0){o=l.companyLedgerService.result.filter(function(n){return n.UIDN==s[t].VDet[e].TaxLedgerId})[0];var n=g.TaxLedger.concat(o||[]);g.TaxLedger=n}else if(0!=s[t].VDet[e].TaxLedgerId&&1==s[t].VDet[e].IsTax){o=l.companyLedgerService.result.filter(function(n){return n.UIDN==s[t].VDet[e].TaxLedgerId})[0];var i=l.TaxLedgercommon.concat(o||[]);l.TaxLedgercommon=i}},p=0;p<s[t].VDet.length;p++)h(p);var f=l.tableVouchers.concat(g||[]);l.tableVouchers=f}}c.vouchers=d,0==l.tableVouchers.length&&((a=new u.eK).TabIndex=a.Index+21,l.tableVouchers.push(a)),l.tableVoucherReceiptDelivery=l.tableVoucherReceiptDelivery.concat(JSON.parse(JSON.stringify(s))),l.httpfunction.IsMobileview()||(l.showReceiptDeliverynpopup=!1,l.ReceiptDeliveryModal.hide()),l.finalcalculation()}():(this.httpfunction.IsMobileview()||(this.showReceiptDeliverynpopup=!1,this.ReceiptDeliveryModal.hide()),this.finalcalculation())}},{key:"AddBankdetails",value:function(){for(var e=this,t=!1,n=this.bankDetails,i=function(i){var r=n[i],a=r.Led_Cr>0?r.Led_Cr:r.Led_Dr;o=e.IsCRDR&&!e.IsItemVoucher?e.accountService.singleresult.VDet.filter(function(e){return e.LId==r.BLId}):e.accountService.singleresult.VDet.filter(function(e){return e.LId==r.BLId});for(var l=0,s=function(t){if(l+=o[t].CrAmt>0?null==r.InclusiveAmount&&null==r.InclusiveAmount?e.getNumeric(o[t].CrAmt):e.getNumeric(o[t].CrAmt)-r.InclusiveAmount:null==r.InclusiveAmount&&null==r.InclusiveAmount?e.getNumeric(o[t].DrAmt):e.getNumeric(o[t].DrAmt)-r.InclusiveAmount,null!=o[t].TaxLedger&&null!=o[t].TaxLedger)for(var n=function(n){var i,r;r=o[t].TaxLedger[n],i=e.accountService.singleresult.VDet.filter(function(e){return e.LId==r.UIDN&&e.TaxLedgerId==o[t].LId&&1==e.IsTax})[0],o[t].CrAmt>0?i.isInclusive?l-=e.getNumeric(i.CrAmt):l+=e.getNumeric(i.CrAmt):i.isInclusive?l-=e.getNumeric(i.DrAmt):l+=e.getNumeric(i.DrAmt)},i=0;i<o[t].TaxLedger.length;i++)n(i)},c=0;c<o.length;c++)s(c);if(a!=l)return t=!0,"break"},r=0;r<n.length;r++){var o;if("break"===i(r))break}t?this.alertService.showError("Error","Bank amount is not matched with the voucher amount. Please enter proper amount"):(this.accountService.singleresult.bankDetails=this.bankDetails,this.finalSave())}},{key:"onSubmit",value:function(){this.form.valid&&(null==this.VoucherType&&(this.VoucherType=this.accountService.singleresult.VT),this.formvalid(0))}},{key:"goback",value:function(){"Ledger"==this.PageType||"Group"==this.PageType||"Monthly Summary"==this.PageType||"Outstanding Receivable"==this.PageType||"Outstanding Payable"==this.PageType||"Finalize Vouchers"==this.PageType||"Restore Vouchers"==this.PageType?this.onCancel():this.location.back()}},{key:"formvalid",value:function(e){if(this.IsvalidDate()){if(this.form.valid){if(this.IsItemVoucher)var t=this.tableVouchers.filter(function(e){return null!=e.InventoryDetails&&null!=e.InventoryDetails&&null!=e.DrAmt&&null!=e.DrAmt&&null!=e.rate&&null!=e.rate});else t=this.tableVouchers.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt});t.length>0?(this.AddUpdateVoucher(e),this.router.url.toLowerCase().indexOf("outstandingrecivable")>=0&&this.filterService.changeFilterWithbottomfilter(!0,!0,"Outstanding Receivable"),this.router.url.toLowerCase().indexOf("outstandingpayble")>=0&&this.filterService.changeFilterWithbottomfilter(!0,!0,"Outstanding Payable")):this.httpfunction.IsMobileview()?this.alertService.showError("Info","Please enter proper detail in account."):this.alertService.showInfo("Info","Please enter proper detail in account.")}}else this.httpfunction.IsMobileview()?this.alertService.showError("Info","Please enter proper detail in account."):this.alertService.showInfo("Info","Please enter proper detail in account.")}},{key:"backUrl",value:function(){this.router.navigate(["reports/purchasegst"])}},{key:"onCancel",value:function(){this.filterService.changeFilterWithbottomfilter(!0,!0,"Account List"),1==this.TransactionredirectOnCancel?this.location.back():(this.TransactionredirectAction.emit(null),this.router.url.toLowerCase().indexOf("outstandingrecivable")>=0&&this.filterService.changeFilterWithbottomfilter(!0,!0,"Outstanding Receivable"),this.router.url.toLowerCase().indexOf("outstandingpayble")>=0&&this.filterService.changeFilterWithbottomfilter(!0,!0,"Outstanding Payable"))}},{key:"AddUpdateVoucher",value:function(e){var t=null;if(this.IsItemVoucher){t=this.tableVouchers.filter("Purchase"!=this.accountService.singleresult.VT&&"Receipt Note"!=this.accountService.singleresult.VT||!this.IsItemVoucher?function(e){return null!=e.InventoryDetails&&null!=e.InventoryDetails&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt&&null!=e.rate&&null!=e.rate}:function(e){return null!=e.InventoryDetails&&null!=e.InventoryDetails&&null!=e.DrAmt&&null!=e.DrAmt&&null!=e.rate&&null!=e.rate});for(var n=0;n<this.tableVoucherForInvnetory.filter(function(e){return null!=e.LedDet&&null!=e.LedDet}).length;n++)t=t.concat(this.tableVoucherForInvnetory[n]?this.tableVoucherForInvnetory[n]:[])}else t=this.tableVouchers.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt}),this.IsCRDR&&(t=this.tableVouchers.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt||null!=e.CrAmt&&null!=e.CrAmt&&0!=e.CrAmt}));1==this.IsDuplicate&&(this.accountService.singleresult.UIDN=0,this.accountService.singleresult.IsDuplicate=!0),this.accountService.singleresult.TA=this.TaxAdjustment,this.accountService.singleresult.GAD=this.GSTAdditionalDetails,this.accountService.singleresult.RecptDet=this.ReceiptDetails,this.accountService.singleresult.NewTrackingNo=this.NewTrackingNumber,this.accountService.singleresult.VDet=[],this.accountService.singleresult.InventoryDetails=[],this.accountService.singleresult.IsCRDRET=this.IsCRDR;var i=new u.eK,r=new u.eK;if(!this.IsCRDR||this.IsItemVoucher){if(r.LId=this.companyLedgerService.singleresult.UIDN,r.L_Name=this.companyLedgerService.singleresult.LN,r.L_PId=this.companyLedgerService.singleresult.PI,r.L_Cat=this.companyLedgerService.singleresult.Cat,r.L_anc=this.companyLedgerService.singleresult.ancestor,r.challan=this.companyLedgerService.singleresult.challan,null!=this.companyLedgerService.singleresult.vouchers||null!=this.companyLedgerService.singleresult.vouchers){this.accountService.singleresult.RDId="";for(var o=0;o<this.companyLedgerService.singleresult.vouchers.length;o++)this.accountService.singleresult.RDId=this.companyLedgerService.singleresult.vouchers[o].UIDN+","+this.accountService.singleresult.RDId}r.TaxLedgerId=0,r.TaxRate=0,r.InventoryId=0,r.Quantity=0,r.UnitCost=0,r.IsTax=!1,r.isMainled=!0,r.IsBank=this.companyLedgerService.singleresult.IsBank}var a=!0;if(this.IsItemVoucher){this.taxcommonledgerDetails=[],i.isMainled=!1,i.LId=this.PurchaseLedger.UIDN,i.L_Name=this.PurchaseLedger.LN,i.L_PId=this.PurchaseLedger.PI,i.L_Cat=this.PurchaseLedger.Cat,i.L_anc=this.PurchaseLedger.ancestor,i.CrAmt=0,i.IsBank=this.PurchaseLedger.IsBank,i.TCN=this.natureoftransaction,"DEBIT"==this.DebitOrCreditByCategory(this.companyLedgerService.singleresult.Cat,!0)?(i.CrAmt=0,i.DrAmt=0):(i.DrAmt=0,i.CrAmt=0),i.InventoryId=0,i.Quantity=0,i.UnitCost=0,i.IsSP=!0,i.IsTax=!1;for(var l=0,s=0,c=0;c<t.length;c++){if(null!=t[c].LedDet){var d=this.GenerateTableLedger(t[c],!1);if(null==d){a=!1;break}this.accountService.singleresult.VDet.push(d[0])}if(l+=t[c].DrAmt,null!=t[c].TaxLedger&&null!=t[c].TaxLedger){this.taxxxledger=this.GenerateTableLedger(t[c],!0);for(var g=0;g<t[c].TaxLedger.length;g++)t[c].TaxLedger[g].IsInclusive&&(this.taxxxledger.DrAmt>0?i.DrAmt=i.DrAmt-t[c].TaxLedger[g].DrAmt:i.CrAmt=i.CrAmt-t[c].TaxLedger[g].CrAmt);if(null!=this.taxxxledger&&null!=this.taxxxledger)for(var h=0;h<this.taxxxledger.length;h++)this.accountService.singleresult.VDet.push(this.taxxxledger[h])}if(null!=t[c].InventoryDetails&&null!=t[c].InventoryDetails){var f=new u.S4;if(f.ActQty=t[c].actqty,f.BillQty=t[c].actqty,f.Rt=t[c].rate,f.Cat=t[c].InventoryDetails.Cat,this.isVTSales||this.isParentVTSales||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTDeliveryNote||this.isParentVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSalesOrder?(f.DrAmt=null==t[c].CrAmt?0:t[c].CrAmt,f.CrAmt=null==t[c].DrAmt?0:t[c].DrAmt):(f.CrAmt=null==t[c].CrAmt?0:t[c].CrAmt,f.DrAmt=null==t[c].DrAmt?0:t[c].DrAmt),f.IId=t[c].InventoryDetails.UIDN,f.Name=t[c].InventoryDetails.InvN,f.Dis=t[c].Disc,f.RDVId=t[c].ReceiptDeliveryId,f.CId=t[c].ChallanId,f.OrderIndex=t[c].Index,f.VoucherInvDetPkId=t[c].VoucherInvDetPkId,f.GodownDet=new Array,null!=t[c].godownsdetails&&null!=t[c].godownsdetails)for(var v=0;v<t[c].godownsdetails.length;v++){var T=new m.ZL;T.LID=0,T.IId=t[c].godownsdetails[v].IId,T.GId=t[c].godownsdetails[v].GodM.UIDN,T.BTNa=t[c].godownsdetails[v].BTNa,T.BTId=t[c].godownsdetails[v].BTId,T.MFGDt=t[c].godownsdetails[v].MFGDt,T.Qty=t[c].godownsdetails[v].Qty,T.Rt=t[c].godownsdetails[v].Rt,T.Amt=t[c].godownsdetails[v].Amt,f.GodownDet.push(T)}this.accountService.singleresult.InventoryDetails.push(f)}}if(null!=this.TaxLedgercommon&&null!=this.TaxLedgercommon&&this.TaxLedgercommon.length>0){for(var I=0;I<this.TaxLedgercommon.length;I++){var Z=new u.eK;Z.DrAmt=l,Z.TaxLedger=new Array,Z.TaxLedger.push(this.TaxLedgercommon[I]),this.taxcommonledgerDetails.push(Z)}for(var A=0;A<this.taxcommonledgerDetails.length;A++)if(this.taxxxledger=this.GenerateTableLedger(this.taxcommonledgerDetails[A],!0),null!=this.taxxxledger&&null!=this.taxxxledger)for(var x=0;x<this.taxxxledger.length;x++)s+=this.taxxxledger[x].DrAmt,this.accountService.singleresult.VDet.push(this.taxxxledger[x])}if(null!=this.SelectedTCSledger&&null!=this.SelectedTCSledger){var y=new u.eK;y.DrAmt=l+s,y.TaxLedger=new Array,y.TaxLedger.push(this.SelectedTCSledger),this.TCSledgerDetails.push(y);for(var S=0;S<this.TCSledgerDetails.length;S++)if(this.TCStaxxxledger=this.GenerateTableLedger(this.TCSledgerDetails[S],!0),null!=this.TCStaxxxledger&&null!=this.TCStaxxxledger)for(var D=0;D<this.TCStaxxxledger.length;D++)this.accountService.singleresult.VDet.push(this.TCStaxxxledger[D])}}else{for(var C=!1,b=0;b<t.length;b++){var N=this.GenerateTableLedger(t[b],!1);if(!C&&this.IsCRDR&&(this.VoucherType==p.$f.Purchase||this.isParentVTPurchase||this.VoucherType==p.$f.CreditNote||this.isParentVTCreditNote?N[0].CrAmt>0&&(N[0].isMainled=!0,C=!0):this.VoucherType==p.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==p.$f.Sales||this.isParentVTSales||this.VoucherType==p.$f.SalesOrder||this.isParentVTSalesOrder||this.VoucherType==p.$f.Receipt||this.isParentVTReceipt||this.VoucherType==p.$f.Journal||this.isParentVTJournal?N[0].DrAmt>0&&(N[0].isMainled=!0,C=!0):this.VoucherType==p.$f.Payment||this.isParentVTPayment?N[0].CrAmt>0&&b==t.length-1&&(N[0].isMainled=!0,C=!0):this.VoucherType==p.$f.Contra||this.isParentVTContra?N[0].DrAmt>0&&b==t.length-1&&(N[0].isMainled=!0,C=!0):(N[0].isMainled=!0,C=!0)),null!=t[b].TaxLedger&&null!=t[b].TaxLedger&&(this.taxxxledger=this.GenerateTableLedger(t[b],!0),null!=N[0].TaxLedger))for(var w=0;w<N[0].TaxLedger.length;w++)N[0].TaxLedger[w].IsInclusive&&(N[0].DrAmt>0?N[0].DrAmt=N[0].DrAmt-this.getNumeric(N[0].DrAmt*N[0].TaxLedger[w].TR/100):N[0].CrAmt=N[0].CrAmt-this.getNumeric(N[0].CrAmt*N[0].TaxLedger[w].TR/100));if(null!=t[b].TaxLedger&&null!=t[b].TaxLedger&&null!=this.taxxxledger&&null!=this.taxxxledger)for(var M=0;M<this.taxxxledger.length;M++)this.taxxxledger[M].TaxLedgerId=N[0].LId,this.accountService.singleresult.VDet.push(this.taxxxledger[M]);if(null==N){a=!1;break}this.accountService.singleresult.VDet.push(N[0])}var q=this.accountService.singleresult.VDet.find(function(e){return 1==e.isMainled});if(null==q&&null==q){C=!1;for(var L=0;L<this.accountService.singleresult.VDet.length;L++)if(!C&&this.IsCRDR&&(this.VoucherType==p.$f.Purchase||this.isParentVTPurchase||this.VoucherType==p.$f.CreditNote||this.isParentVTCreditNote?this.accountService.singleresult.VDet[0].CrAmt>0&&(this.accountService.singleresult.VDet[0].isMainled=!0,C=!0):this.VoucherType==p.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==p.$f.Sales||this.isParentVTSales||this.VoucherType==p.$f.Receipt||this.isParentVTReceipt||this.VoucherType==p.$f.Journal||this.isParentVTJournal?this.accountService.singleresult.VDet[0].DrAmt>0&&(this.accountService.singleresult.VDet[0].isMainled=!0,C=!0):this.VoucherType==p.$f.Payment||this.isParentVTPayment?this.accountService.singleresult.VDet[0].CrAmt>0&&(this.accountService.singleresult.VDet[0].isMainled=!0,C=!0):this.VoucherType==p.$f.Contra||this.isParentVTContra?this.accountService.singleresult.VDet[0].DrAmt>0&&(this.accountService.singleresult.VDet[0].isMainled=!0,C=!0):(this.accountService.singleresult.VDet[0].isMainled=!0,C=!0)),null==this.accountService.singleresult.VDet){a=!1;break}}0==t.length&&(a=!1)}if(this.accountService.getCompanyData.ISDA&&null!=this.roundoffledger&&this.IsItemVoucher){var V=new u.eK;-1==this.RoundOFFTotal.search("Dr")?"debit note"==this.accountService.singleresult.VT.toLowerCase()?(V.DrAmt=0,V.CrAmt=parseFloat(this.RoundOFFTotal.replace("Cr",""))):(V.DrAmt=parseFloat(this.RoundOFFTotal.replace("Cr","")),V.CrAmt=0):"debit note"==this.accountService.singleresult.VT.toLowerCase()?(V.DrAmt=parseFloat(this.RoundOFFTotal.replace("Dr","")),V.CrAmt=0):(V.DrAmt=0,V.CrAmt=parseFloat(this.RoundOFFTotal.replace("Dr",""))),(0!=V.CrAmt||0!=V.DrAmt)&&(V.LId=this.roundoffledger.UIDN,V.L_Name=this.roundoffledger.LN,V.L_PId=this.roundoffledger.PI,V.L_Cat=this.roundoffledger.Cat,V.L_anc=this.roundoffledger.ancestor,V.challan=this.roundoffledger.challan,V.TaxLedgerId=0,V.TaxRate=0,V.InventoryId=0,V.Quantity=0,V.UnitCost=0,V.IsTax=!1,V.isMainled=!1,V.IsROff=!0,V.IsBank=this.roundoffledger.IsBank,this.accountService.singleresult.VDet.push(V))}if(a){var _=0,U=0,R=0,k=0;if(!this.IsCRDR||this.IsItemVoucher)if("DEBIT"==this.DebitOrCreditByCategory(this.companyLedgerService.singleresult.Cat,!1)){for(var J=0;J<this.accountService.singleresult.VDet.length;J++)_+=parseFloat(this.accountService.singleresult.VDet[J].CrAmt.toFixed(2)),_-=parseFloat(this.accountService.singleresult.VDet[J].DrAmt.toFixed(2));for(var P=0;P<this.accountService.singleresult.InventoryDetails.length;P++)_+=parseFloat(this.accountService.singleresult.InventoryDetails[P].CrAmt.toFixed(2)),_-=parseFloat(this.accountService.singleresult.InventoryDetails[P].DrAmt.toFixed(2)),R+=parseFloat(this.accountService.singleresult.InventoryDetails[P].CrAmt.toFixed(2)),R-=parseFloat(this.accountService.singleresult.InventoryDetails[P].DrAmt.toFixed(2));(_=parseFloat(_.toFixed(2)))>0?(r.CrAmt=0,r.DrAmt=_):(r.DrAmt=0,r.CrAmt=-1*_),i.DrAmt=0,i.CrAmt=R}else{for(var O=0;O<this.accountService.singleresult.VDet.length;O++)U+=parseFloat(this.accountService.singleresult.VDet[O].DrAmt.toFixed(2)),U-=parseFloat(this.accountService.singleresult.VDet[O].CrAmt.toFixed(2));for(var Q=0;Q<this.accountService.singleresult.InventoryDetails.length;Q++)U+=parseFloat(this.accountService.singleresult.InventoryDetails[Q].DrAmt.toFixed(2)),U-=parseFloat(this.accountService.singleresult.InventoryDetails[Q].CrAmt.toFixed(2)),k+=parseFloat(this.accountService.singleresult.InventoryDetails[Q].DrAmt.toFixed(2)),k-=parseFloat(this.accountService.singleresult.InventoryDetails[Q].CrAmt.toFixed(2));U=parseFloat(U.toFixed(2)),_>0?(r.DrAmt=0,r.CrAmt=U):(r.CrAmt=0,r.DrAmt=-1*U),i.CrAmt=0,i.DrAmt=k}(!this.IsCRDR||this.IsItemVoucher)&&this.accountService.singleresult.VDet.push(r),this.IsItemVoucher&&(this.accountService.singleresult.IsItVou=!0,this.accountService.singleresult.VDet.push(i)),null!=this.siteService.singleresult&&null!=this.siteService.singleresult&&(this.accountService.singleresult.STID=this.siteService.singleresult.UIDN),null!=this.CostCategoryservice.singleresult&&null!=this.CostCategoryservice.singleresult&&(this.accountService.singleresult.CCI=this.CostCategoryservice.singleresult.UIDN),null!=this.siteStrSingle&&null!=this.siteStrSingle&&(this.accountService.singleresult.StStrI=this.siteStrSingle.UIDN);for(var F=0;F<this.accountService.singleresult.VDet.length;F++)parseFloat(this.accountService.singleresult.VDet[F].DrAmt.toFixed(2))<0?(this.accountService.singleresult.VDet[F].CrAmt=-1*parseFloat(this.accountService.singleresult.VDet[F].DrAmt.toFixed(2)),this.accountService.singleresult.VDet[F].DrAmt=0):parseFloat(this.accountService.singleresult.VDet[F].CrAmt.toFixed(2))<0&&(this.accountService.singleresult.VDet[F].DrAmt=-1*parseFloat(this.accountService.singleresult.VDet[F].CrAmt.toFixed(2)),this.accountService.singleresult.VDet[F].CrAmt=0);_=0,U=0;for(var E=0;E<this.accountService.singleresult.VDet.length;E++)U+=parseFloat(this.accountService.singleresult.VDet[E].DrAmt.toFixed(2)),_+=parseFloat(this.accountService.singleresult.VDet[E].CrAmt.toFixed(2));if((_=parseFloat(_.toFixed(2)))!=(U=parseFloat(U.toFixed(2))))this.alertService.showError("Error","Debit and Credit amount is not matched, Please select proper Account.");else{var Y=!1;if(null!=r.challan&&null!=r.challan&&r.challan.length>0){for(var G=0,H=0;H<r.challan.length;H++)G+=r.challan[H].Amt;(r.DrAmt>0&&r.DrAmt<G||r.CrAmt>0&&r.CrAmt<G)&&(Y=!0)}if((!this.IsCRDR||this.IsItemVoucher)&&null!=this.companyLedgerService.singleresult.vouchers&&null!=this.companyLedgerService.singleresult.vouchers&&this.companyLedgerService.singleresult.vouchers.length>0){var B=0;for(H=0;H<this.companyLedgerService.singleresult.vouchers.length;H++)B+=this.companyLedgerService.singleresult.vouchers[H].TotalAmt;(r.DrAmt>0&&r.DrAmt!=B||r.CrAmt>0&&r.CrAmt!=B)&&!0}Y?this.alertService.showError("Error","Total amount not less than Challan amount must be equal or Greater than that."):(0!=e?(this.accountService.singleresult.St=6,this.accountService.singleresult.RedirectURL=this.el.nativeElement.baseURI+"payment/or/",this.accountService.singleresult.ActionId=e):this.accountService.singleresult.ActionId=0,this.AddBankdetails())}}else this.alertService.showError("Error","Please enter proper debit or credit amount for reference.")}},{key:"finalSave",value:function(){this.accountService.singleresult.CI=this.CompanyIdforReport>0?this.CompanyIdforReport.toString():this.accountService.getCompanyId,this.accountService.singleresult.SI=this.accountService.getSignupId;var e=this.httpfunction.getStorage("_roledata");e&&"null"!=e&&null!=e&&JSON.parse(this.httpfunction.getStorage("_roledata"));var t=JSON.parse(this.httpfunction.getStorage("_company"));null!=t.CL&&null!=t&&t.CL.length>0&&(this.accountService.singleresult.logoname=t.CL[0].name),2==this.accountService.singleresult.ActionId?(this.accountService.singleresult.CampaignCode="EC",this.accountService.showMessage=!1,this.VoucherEmail()):3==this.accountService.singleresult.ActionId?(this.accountService.singleresult.CampaignCode="SC",this.accountService.showMessage=!1,this.VoucherEmail()):4==this.accountService.singleresult.ActionId?(this.accountService.singleresult.CampaignCode="EC",this.accountService.showMessage=!1,this.VoucherEmail()):5==this.accountService.singleresult.ActionId?(this.IsShareLink=1,this.AddVoucher()):this.AddVoucher()}},{key:"VoucherEmail",value:function(){var e=this;this.IsHideEmail=!0,this.accountService.SendSMSEmail(this.accountService.singleresult).subscribe(function(t){2==e.accountService.singleresult.ActionId?(e.Email=e.companyLedgerService.singleresult.Eml,e.demandhtml=t.data,e.httpfunction.IsMobileview()?e._modelEmailM.show():e._modelEmail.show()):3==e.accountService.singleresult.ActionId?(e.Mobile=e.companyLedgerService.singleresult.CNO,e.SMSDescription=t.data,e._modalSMS.show()):4==e.accountService.singleresult.ActionId&&(e.IsHideEmail=!1,e.accountService.singleresult.ActionId=1,e.IsShareLink=2,e.demandhtml=t.data,e.httpfunction.IsMobileview()?e._modelEmailM.show():e._modelEmail.show())})}},{key:"AddVoucher",value:function(){var e=this;this.accountService.singleresult.EmailId=this.Email,this.accountService.singleresult.MobileNo=this.Mobile,this.accountService.waitforMessage=!0,(this.accountService.singleresult.VT.toLowerCase()!=p.$f.Contra.toLowerCase()||this.isParentVTContra&&this.accountService.singleresult.VT.toLowerCase()!=p.$f.Payment.toLowerCase()||this.isParentVTPayment)&&(this.accountService.singleresult.VDet=this.accountService.singleresult.VDet.sort(function(e,t){return e.isMainled===t.isMainled?0:e.isMainled?-1:1})),0==this.IsShareLink?this.accountService.messagebutton=["Go Back","Print & Go Back","Add New voucher","Print & Add New voucher"]:1==this.IsShareLink?this.accountService.messagebutton=["Copy URL"]:(this.accountService.waitforMessage=!1,this.accountService.isPopUpMessage=!1),null==this.accountService.singleresult.UIDN||null==this.accountService.singleresult.UIDN||0==this.accountService.singleresult.UIDN?this.accountService.add(this.accountService.singleresult).subscribe(function(t){null!=e._modelEmail&&e._modelEmail.hide(),null!=e._modelEmailM&&e._modelEmailM.hide(),null!=e._modelEmail&&e._modalSMS.hide();var n=(t.data?t.data:null).data;n.UsrName=e.httpfunction.getStorage("_un");var i=JSON.parse(JSON.stringify(e.siteService.singleresult)),r=JSON.parse(JSON.stringify(e.companyLedgerService.singleresult));t.answer.indexOf("Print")>=0&&e.GeneratePdf(n);var o=e.accountService.singleresult.VT;e.resetVariables();var a=new u.eK;a.TabIndex=a.Index+21,e.tableVouchers.push(a),e.TransactionredirectOnCancel?t.answer.indexOf("Back")>=0||e.httpfunction.IsMobileview()?e.router.navigate(["/transactions/daybook"]):(e.accountService.singleresult.VT=o,e.setInitialData(),e.siteService.singleresult=i,e.companyLedgerService.singleresult=r,e.router.navigate(["/transactions/account/"+o])):t.answer.indexOf("Back")>=0?e.TransactionredirectAction.emit(n):(e.TransactionredirectAction.emit(n),e.accountService.singleresult.VT=o,e.setInitialData(),e.siteService.singleresult=i,r.challan=null,e.Total="0.0 Dr",e.TotalTax="0.0 Dr",e.GrandTotal="0.0 Dr",e.GrandCRTotal="0.0 Dr",e.RoundOFFTotal="0.0 Dr",e.companyLedgerService.singleresult=r)},function(){}):this.accountService.edit(this.accountService.singleresult).subscribe(function(t){var n=(t.data?t.data:null).data.VoucherMaster;n.UsrName=e.httpfunction.getStorage("_un");var i=e.siteService.singleresult?JSON.parse(JSON.stringify(e.siteService.singleresult)):null,r=e.companyLedgerService.singleresult?JSON.parse(JSON.stringify(e.companyLedgerService.singleresult)):null;t.answer.indexOf("Print")>=0&&e.GeneratePdf(n);var o=e.accountService.singleresult.VT;e.resetVariables();var a=new u.eK;a.TabIndex=a.Index+21,e.tableVouchers.push(a),e.TransactionredirectOnCancel?t.answer.indexOf("Back")>=0||e.httpfunction.IsMobileview()?e.router.navigate(["/transactions/daybook"]):(e.accountService.singleresult.VT=o,e.setInitialData(),e.siteService.singleresult=i,e.companyLedgerService.singleresult=r,e.router.navigate(["/transactions/account/"+o])):t.answer.indexOf("Back")>=0?["Outstanding Receivable","Outstanding Payable"].includes(e.PageType)?e.TransactionredirectAction.emit(t.data.data.Outstanding):e.TransactionredirectAction.emit(n):(e.TransactionredirectAction.emit(n),e.accountService.singleresult.VT=o,e.setInitialData(),e.siteService.singleresult=i,r.challan=null,e.Total="0.0 Dr",e.TotalTax="0.0 Dr",e.GrandTotal="0.0 Dr",e.GrandCRTotal="0.0 Dr",e.RoundOFFTotal="0.0 Dr",e.companyLedgerService.singleresult=r)},function(){})}},{key:"copyInputMessage",value:function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}},{key:"GeneratePdf",value:function(e){this.httpfunction.IsMobileview()?this.accountService.GenerateReceipt(e.UIDN,!0):this.accountService.GenerateReceipt(e.UIDN)}},{key:"GenerateTableLedger",value:function(e,t){if(0==t){this.taxledgerDetails=[];var n=new u.eK;n.isMainled=!1,n.LId=e.LedDet.UIDN,n.L_Name=e.LedDet.LN,n.L_PId=e.LedDet.PI,n.L_Cat=e.LedDet.Cat,n.L_anc=e.LedDet.ancestor,n.Index=e.Index,this.IsCRDR&&!this.IsItemVoucher?(n.CrAmt=e.DrAmt,n.DrAmt=e.CrAmt):n.CrAmt=e.DrAmt,n.deletedreference=e.deletedreference,n.TT=e.TT,n.TTA=e.TTA,n.challan=e.challan,n.IsBank=e.LedDet.IsBank,n.TCN=e.TCN;var i;return i=this.DebitOrCreditByCategory(this.IsCRDR&&!this.IsItemVoucher?e.LedDet.Cat:this.companyLedgerService.singleresult.Cat,!0),this.IsCRDR&&!this.IsItemVoucher?this.VoucherType==p.$f.Purchase||this.isParentVTPurchase||this.VoucherType==p.$f.Sales||this.isParentVTSales||this.VoucherType==p.$f.Contra||this.isParentVTContra||this.VoucherType==p.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==p.$f.CreditNote||this.isParentVTCreditNote||this.VoucherType==p.$f.SalesOrder||this.isParentVTSalesOrder||this.VoucherType==p.$f.PurchaseOrder||this.isParentVTPurchaseOrder||this.VoucherType==p.$f.Receipt||this.isParentVTReceipt||this.VoucherType==p.$f.Journal||this.isParentVTJournal||this.VoucherType==p.$f.Payment||this.isParentVTPayment?this.getNumeric(e.CrAmt)>0?(n.CrAmt=this.getNumeric(e.CrAmt),n.DrAmt=0):(n.DrAmt=this.getNumeric(e.DrAmt),n.CrAmt=0):this.getNumeric(e.CrAmt)>0?(n.DrAmt=this.getNumeric(e.CrAmt),n.CrAmt=0):(n.CrAmt=this.getNumeric(e.DrAmt),n.DrAmt=0):"DEBIT"==i?(n.CrAmt=0,n.DrAmt=this.getNumeric(e.DrAmt),this.getNumeric(e.DrAmt)<0&&(n.CrAmt=-1*this.getNumeric(e.DrAmt),n.DrAmt=0)):(n.DrAmt=0,n.CrAmt=this.getNumeric(e.DrAmt),this.getNumeric(e.DrAmt)<0&&(n.DrAmt=-1*this.getNumeric(e.DrAmt),n.CrAmt=0)),n.InventoryId=0,n.Quantity=0,n.UnitCost=this.IsItemVoucher?e.rate:0,n.IsTax=!1,null!=e.TaxLedger&&null!=e.TaxLedger&&e.TaxLedger.length>0?(n.TaxLedger=e.TaxLedger,n.TaxLedgerId=e.TaxLedger[0].UIDN,n.TaxRate=e.TaxLedger[0].TR):(n.TaxLedgerId=0,n.TaxRate=0),this.taxledgerDetails.push(n),this.taxledgerDetails}if(this.taxledgerDetails=[],null!=e.TaxLedger&&null!=e.TaxLedger){for(var r=0;r<e.TaxLedger.length;r++){var o;o=this.DebitOrCreditByCategory(this.IsCRDR&&!this.IsItemVoucher?e.TaxLedger[r].Cat:this.companyLedgerService.singleresult.Cat,!0);var a=new u.eK;a.isMainled=!1,a.IsTax=!0,a.LId=e.TaxLedger[r].UIDN,a.L_Name=e.TaxLedger[r].LN,a.L_PId=e.TaxLedger[r].PI,a.L_Cat=e.TaxLedger[r].Cat,a.L_anc=e.TaxLedger[r].ancestor,a.Index=e.Index,a.TaxLedgerId=null!=e.LedDet?e.LedDet.UIDN:e.TaxLedger[r].UIDN,a.TaxRate=e.TaxLedger[r].TR,a.isInclusive=e.TaxLedger[r].IsInclusive,null!=e.InventoryDetails&&null!=e.InventoryDetails&&(a.InventoryId=e.InventoryDetails.UIDN),a.InventoryIndex=e.TaxLedger[r].InventoryIndex,"DEBIT"==o?(a.DrAmt=parseFloat((e.DrAmt*e.TaxLedger[r].TR/100).toFixed(2)),a.CrAmt=0):(a.CrAmt=parseFloat((e.DrAmt*e.TaxLedger[r].TR/100).toFixed(2)),a.DrAmt=0),this.taxledgerDetails.push(Object.assign(Object.assign({},a),{VoucherInvDetPkId:e.TaxLedger[r].VoucherInvDetPkId?e.TaxLedger[r].VoucherInvDetPkId:null}))}return this.taxledgerDetails}return null}},{key:"DebitOrCreditByCategory",value:function(e,t){var n="";if((this.isVTJournal||this.isParentVTJournal)&&t)return"CREDIT";if((this.isVTJournal||this.isParentVTJournal)&&!t)return"DEBIT";if((this.isVTDebitNote||this.isVTSales||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTDebitNote||this.isParentVTSales||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&!t)return"DEBIT";if((this.isVTDebitNote||this.isVTSales||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTDebitNote||this.isParentVTSales||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&t)return"CREDIT";if((this.isVTCreditNote||this.isVTPurchase||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTCreditNote||this.isParentVTPurchase||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder)&&!t)return"CREDIT";if((this.isVTCreditNote||this.isVTPurchase||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTCreditNote||this.isParentVTPurchase||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder)&&t)return"DEBIT";n=this.isVTReceipt||this.isVTContra||this.isParentVTReceipt||this.isParentVTContra?"Increase":"Decrease",t&&(n="Decrease"==n?"Increase":"Decrease");var i="";if("Increase"==n)switch(e){case"Assets":case"Expenses":i="DEBIT";break;case"Liability":case"Income":i="CREDIT"}else switch(e){case"Assets":case"Expenses":i="CREDIT";break;case"Liability":case"Income":i="DEBIT"}return i}},{key:"openLedgerPopup",value:function(e,t,n){return this.curAddLedger=t,this.curAddLedgerLoc=n,e.close(),this.showCompanyLedgerpopup=!0,!0}},{key:"popupAction",value:function(e){this.showCompanyLedgerpopup=!1,null!=e&&(this.companyLedgerService.result.unshift(e),this.getFromLedger(),this.getToLedger(),this.getTaxLedger(),this.getInventory(),this.getInventoryLedger(),-1==this.curAddLedger?this.FromLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.companyLedgerService.singleresult=e):-4==this.curAddLedger?this.ToLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(null==this.modalTaxLed&&null==this.modalTaxLed&&(this.modalTaxLed=new Array),this.modalTaxLed.push(e)):-5==this.curAddLedger?this.TaxLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(0==this.TaxLedgercommon.length&&(this.TaxLedgercommon=new Array),this.TaxLedgercommon.push(e)):-6==this.curAddLedger?this.ToLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.modalLedger=e):1==this.curAddLedgerLoc?this.ToLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.tableVouchers[this.curAddLedger].LedDet=e):2==this.curAddLedgerLoc?this.httpfunction.IsMobileview()?(null==this.modalTaxLed&&null==this.modalTaxLed&&(this.modalTaxLed=new Array),this.modalTaxLed.push(e)):(null==this.tableVouchers[this.curAddLedger].TaxLedger&&null==this.tableVouchers[this.curAddLedger].TaxLedger&&(this.tableVouchers[this.curAddLedger].TaxLedger=new Array),this.tableVouchers[this.curAddLedger].TaxLedger.push(e)):3==this.curAddLedgerLoc?this.FromLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.tableVouchers[this.curAddLedger].LedDet=e):4==this.curAddLedgerLoc?this.ToLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.tableVoucherForInvnetory[this.curAddLedger].LedDet=e):-3==this.curAddLedgerLoc?this.ToLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.modalLedger=e):-4==this.curAddLedgerLoc&&this.TaxLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&this.modalTaxLed.push(e))}},{key:"InventoryAdded",value:function(e){var t=this;if(null!=e)if(this.getInventory(),this.httpfunction.IsMobileview()){if(this.modalInventory=e,this.accountService.singleresult.VT==p.$f.Purchase||this.isParentVTPurchase||this.accountService.singleresult.VT==p.$f.CreditNote||this.isParentVTCreditNote||this.accountService.singleresult.VT==p.$f.ReceiptNote||this.isParentVTReceiptNote||this.accountService.singleresult.VT==p.$f.PurchaseOrder||this.isParentVTPurchaseOrder)var n=e.GSTDets.filter(function(t){return t.IId==e.UIDN&&1==t.ISPS});else(this.accountService.singleresult.VT==p.$f.Sales||this.isParentVTSales||this.accountService.singleresult.VT==p.$f.DebitNote||this.isParentVTDebitNote||this.accountService.singleresult.VT==p.$f.DeliveryNote||this.isParentVTDeliveryNote||this.accountService.singleresult.VT==p.$f.SalesOrder||this.isParentVTSalesOrder)&&(n=e.GSTDets.filter(function(t){return t.IId==e.UIDN&&2==t.ISPS}));null==this.modalTaxLed&&null==this.modalTaxLed&&(this.modalTaxLed=new Array);for(var i=function(e){o=t.companyLedgerService.result.filter(function(t){return t.UIDN==n[e].TLId})[0];var i=t.modalTaxLed.concat(o||[]);t.modalTaxLed=i},r=0;r<n.length;r++){var o;i(r)}this.modalUnit=e.UN,this.modalRate=e.Rt}else{this.tableVouchers[this.curInvenotry].TaxLedger=new Array,this.tableVouchers[this.curInvenotry].InventoryDetails=e,this.accountService.singleresult.VT==p.$f.Purchase||this.isParentVTPurchase||this.accountService.singleresult.VT==p.$f.CreditNote||this.isParentVTCreditNote||this.accountService.singleresult.VT==p.$f.ReceiptNote||this.isParentVTReceiptNote||this.accountService.singleresult.VT==p.$f.PurchaseOrder||this.isParentVTPurchaseOrder?n=e.GSTDets.filter(function(t){return t.IId==e.UIDN&&1==t.ISPS}):(this.accountService.singleresult.VT==p.$f.Sales||this.isParentVTSales||this.accountService.singleresult.VT==p.$f.DebitNote||this.isParentVTDebitNote||this.accountService.singleresult.VT==p.$f.DeliveryNote||this.isParentVTDeliveryNote||this.accountService.singleresult.VT==p.$f.SalesOrder||this.isParentVTSalesOrder)&&(n=e.GSTDets.filter(function(t){return t.IId==e.UIDN&&2==t.ISPS}));for(var a=function(e){o=t.companyLedgerService.result.filter(function(t){return t.UIDN==n[e].TLId})[0];var i=t.tableVouchers[t.curInvenotry].TaxLedger.concat(o||[]);t.tableVouchers[t.curInvenotry].TaxLedger=i},l=0;l<n.length;l++)a(l);this.tableVouchers[this.curInvenotry].UN=e.UN,this.tableVouchers[this.curInvenotry].rate=e.Rt}this.isInventorypopupopen=!1}},{key:"reportLedgerAdded",value:function(e){if(null!=e)if(this.companyLedgerService.GetAlldatafordaybook(!0),-1==this.curAddLedger)this.FromLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.companyLedgerService.singleresult=e);else if(-2==this.curAddLedger)this.ToLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.PurchaseLedger.singleresult=e);else if(-3==this.curAddLedger)this.ToLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.modalLedger=e);else if(-4==this.curAddLedger){if(this.TaxLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0){null==this.modalTaxLed&&null==this.modalTaxLed&&(this.modalTaxLed=new Array);for(var t=0;t<this.modalTaxLed.length;t++)if(this.modalTaxLed[t].UIDN=e.UIDN){this.modalTaxLed.splice(t,1);var n=this.modalTaxLed.concat(this.modalTaxLed?e:[]);this.modalTaxLed=n}}}else if(1==this.curAddLedgerLoc)this.ToLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.tableVouchers[this.curAddLedger].LedDet=e);else if(4==this.curAddLedgerLoc)this.InventoryLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.tableVoucherForInvnetory[this.curAddLedger].LedDet=e);else if(2==this.curAddLedgerLoc&&this.TaxLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0){null==this.tableVouchers[this.curAddLedger].TaxLedger&&null==this.tableVouchers[this.curAddLedger].TaxLedger&&(this.tableVouchers[this.curAddLedger].TaxLedger=new Array);for(var i=0;i<this.tableVouchers.length;i++)for(var r=0;r<this.tableVouchers[i].TaxLedger.length;r++)if(this.tableVouchers[i].TaxLedger[r].UIDN=e.UIDN){this.tableVouchers[i].TaxLedger.splice(r,1);var o=this.tableVouchers[i].TaxLedger.concat(this.tableVouchers[i].TaxLedger?e:[]);this.tableVouchers[i].TaxLedger=o}}this.isLedgerpopupopen=!1,this.finalcalculation()}},{key:"openCostCenterPopup",value:function(e){return e.close(),this.isCostCenterpopupopen=!0,!0}},{key:"openGodownMasterPopup",value:function(e){return e.close(),this.isGodownMasterpopupopen=!0,this.httpfunction.IsMobileview()?this.BatchModalM.hide():this.BatchModal.hide(),!0}},{key:"CostCenterAdded",value:function(e){null!=e&&(this.CostCategoryservice.result=this.CostCategoryservice.result.concat(e),this.CostCategoryservice.singleresult=e),this.isCostCenterpopupopen=!1}},{key:"GodownMasterAdded",value:function(e){null!=e&&(this.godownService.result=JSON.parse(JSON.stringify(this.godownService.result)),this.godownService.singleresult=e),this.isGodownMasterpopupopen=!1,this.httpfunction.IsMobileview()?this.BatchModalM.show():this.BatchModal.show()}},{key:"openLedgerPopupforedit",value:function(e,t,n,i){return this.curAddLedgerLoc=i,this.curAddLedger=n,this.ledgerIdVal=t.toString(),e.close(),this.isLedgerpopupopen=!0,!0}},{key:"openInventoryPopup",value:function(e,t){return this.curInvenotry=t,this.InventoryIdVal="0",e.close(),this.isInventorypopupopen=!0,!0}},{key:"openInventoryPopupforedit",value:function(e){return this.InventoryIdVal=e.toString(),this.isInventorypopupopen=!0,!0}},{key:"IsvalidDate",value:function(){if(null!=this.accountService.singleresult.VDt&&null!=this.accountService.singleresult.VDt){var e=this.httpfunction.getCompanyvariale();return!(moment(e.StDt).format("YYYY-MM-DD")>moment(this.accountService.singleresult.VDt).format("YYYY-MM-DD")&&(this.alertService.showError("Error","Voucher date must be greater than a company creation date: "+moment(this.companyLedgerService.getCompanyData.StDt).format("YYYY-MM-DD")+"."),1))}return!0}},{key:"SelectPaymentMode",value:function(e){3==e?(this.IspayAddOnPayment=!0,this.IsSignupMaintenancePayment=!1):(this.IspayAddOnPayment=!1,this.IsSignupMaintenancePayment=!0)}},{key:"getaddonplanDetails",value:function(e){var t=this;this.addonPlanService.GetAddOnPurchasedPlan(this.accountService.getSignupId,e=1==e?"FB":"IC").subscribe(function(e){null!=e&&(t.addonPlanService.result=e)})}},{key:"changecrdrEvent",value:function(e,t){this.httpfunction.IsMobileview()?"Cr"==e?this.modalDrAmt=null:this.modalCrAmt=null:(this.tableVouchers[t].LedDet=new p.dJ,"Cr"==e?this.tableVouchers[t].DrAmt=null:this.tableVouchers[t].CrAmt=null)}},{key:"calculateaddplan",value:function(e){null!=e&&(this.tableVouchers[0].DrAmt=e.PPrc,this.accountService.singleresult.AddOnPlanId=e.UIDN,this.accountService.singleresult.AddOnPlanName=e.PlanName,this.finalcalculation())}},{key:"JournalStatAdjustmentPopupHide",value:function(){this.tableVouchers[this.JournalstatAdjustmentIndex].TT=this.TaxRate,this.tableVouchers[this.JournalstatAdjustmentIndex].TTA=this.TotalAmount,this.JournalStatAdjustmentModal.hide(),this.showJournalTax=!1}},{key:"JournalStatAdjustmentPopup",value:function(e){(this.accountService.singleresult.VT==p.$f.Journal||this.isParentVTJournal&&"On Account of Advance Receipt"==this.GSTAdditionalDetails&&this.tableVouchers[e].LedDet.isTL&&"Cr"==this.tableVouchers[e].CRDR)&&(this.JournalstatAdjustmentIndex=e,this.TaxRate=this.tableVouchers[e].LedDet.TR,this.JournalStatAdjustmentModal.show(),this.showJournalTax=!0)}},{key:"BindStateCountry",value:function(){(this.VoucherType==p.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==p.$f.CreditNote||this.isParentVTCreditNote||this.VoucherType==p.$f.Purchase||this.isParentVTPurchase||this.VoucherType==p.$f.Sales||this.isParentVTSales||this.VoucherType==p.$f.ReceiptNote||this.isParentVTReceiptNote||this.VoucherType==p.$f.DeliveryNote||this.isParentVTDeliveryNote||this.VoucherType==p.$f.PurchaseOrder||this.isParentVTPurchaseOrder||this.VoucherType==p.$f.SalesOrder||this.isParentVTSalesOrder)&&(null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult?(this.accountService.singleresult.CO=null==this.companyLedgerService.singleresult.Country?JSON.parse(this.httpfunction.getStorage("_company")).Ctr:this.companyLedgerService.singleresult.Country,this.accountService.singleresult.STA=null==this.companyLedgerService.singleresult.State?JSON.parse(this.httpfunction.getStorage("_company")).Ste:this.companyLedgerService.singleresult.State):this.IsCRDR&&!this.IsItemVoucher&&(this.accountService.singleresult.CO=null==this.tableVouchers[0].LedDet.Country?JSON.parse(this.httpfunction.getStorage("_company")).Ctr:this.tableVouchers[0].LedDet.Country,this.accountService.singleresult.STA=null==this.tableVouchers[0].LedDet.State?JSON.parse(this.httpfunction.getStorage("_company")).Ste:this.tableVouchers[0].LedDet.State))}},{key:"resetUrl",value:function(){var e=this;this.isList=!0;var t=this.router.url;this.route.params.subscribe(function(n){null!=n.id&&""!=n.id&&(t=t.replace("/"+n.id,"")),e.location.go(t)})}},{key:"addurl",value:function(e){var t=this,n=e,i=this.router.url;i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0),this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),t.location.go("".concat(i,"/").concat(n))}),"transactions/account/Contra"==e&&(i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0)),"inventory/inventorylist/Add"==e&&(i=i.substring(0,i.lastIndexOf("/")+0))}},{key:"OnKeydown",value:function(e){var t=e.key||e.keyCode;null!=this.natureoftransaction&&this.natureoftransaction.length<=0&&"Escape"==t&&(this.onCancel(),e.stopPropagation(),e.preventDefault(),document.scrollingElement.scrollTop=this.currentScrollPosition),"d"==t&&e.altKey&&(null!=this.accountService.singleresult.UIDN||null!=this.accountService.singleresult.UIDN||0!=this.accountService.singleresult.UIDN?(this.accountService.delete(this.accountService.singleresult.UIDN),this.router.navigate(["/transactions/daybook"])):this.alertService.showWarning("Alert","The Voucher isn't save yet"),e.stopPropagation(),e.preventDefault())}},{key:"NatureOfTransactionsModel",value:function(e){this.CurrentNaturTransactionTableIndex=e,this.natureoftransaction=this.tableVouchers[e].TCN}},{key:"TransactionsModel",value:function(e){this.CurrentNaturTransactionTableIndex=e,this.natureoftransaction=this.accountService.singleresult.VDet[e].TCN}},{key:"RecptDetailsModel",value:function(e){"Receipt Note"==this.accountService.singleresult.VT&&this.RecptDetails.show(),this.CurrentNaturTransactionTableIndex=e}},{key:"closeRecptDetailsModel",value:function(){this.RecptDetails.hide()}},{key:"NewTrackingModels",value:function(){this.NewTrackingModel.hide()}},{key:"onSelectionChange",value:function(){this.RecptDetails.hide(),"New Number"===this.ReceiptDetails&&this.NewNumberForTracking()}},{key:"NewNumberForTracking",value:function(){this.RecptDetails.hide(),this.NewTrackingModel.show()}},{key:"closeNatureOfTransactionsModel",value:function(){this.TaxClassificationNature.hide(),this.tableVouchers[this.CurrentNaturTransactionTableIndex].TCN=this.accountService.singleresult.Recpt}},{key:"ShowConfigurationModal",value:function(){this.httpfunction.IsMobileview()?this.ConfigurationModalMobile.show():this.ConfigurationModal.show()}},{key:"ConfigurationSave",value:function(){var e=this,t=new A.Jw;t.ShowCostCenter=this.IsShowCostCenter,t.ShowCountryState=this.IsShowCountryState;var n=new x.p;n.CompanyId=this.accountService.getCompanyId,n.SignupId=this.accountService.getSignupId,n.FilterData=t,this.accountService.showMessage=!1,this.accountService.ConfigurationSetting(n).subscribe(function(t){e.httpfunction.setStorage("_VoucherConfiguration",JSON.stringify(t.data));var n=JSON.parse(e.httpfunction.getStorage("_VoucherConfiguration"));null!=n&&null!=n&&(e.ShowCostCenter=n.ISCC,e.ShowCountryState=n.ISCS,e.IsShowCostCenter=n.ISCC,e.IsShowCountryState=n.ISCS)}),this.httpfunction.IsMobileview()?this.ConfigurationModalMobile.hide():this.ConfigurationModal.hide()}},{key:"OnChangeRefMethod",value:function(e){null==e.Ref_Type&&(e.Agnst_Ref_Id=null,e.Ref_Tag=null),"OnAccount"==e.Ref_Type&&(e.Ref_Tag=null),this.setAgainstReferenceArray(),("OnAccount"==e.Ref_Type||"AgainstRef"==e.Ref_Type)&&(e.AmtType="Cr")}},{key:"OnRefMethod",value:function(e){this.OnRefMethodpop=e,this.setAgainstReferenceArray(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.soG),o.Y36(N.Ye),o.Y36(_.i),o.Y36(U.V),o.Y36(R.gz),o.Y36(R.F0),o.Y36(a.B),o.Y36(g.Q),o.Y36(k.P),o.Y36(J.Q),o.Y36(y.l),o.Y36(q.Rq),o.Y36(I.e),o.Y36(x.De),o.Y36(o.SBq),o.Y36(C.m),o.Y36(P.F),o.Y36(V),o.Y36(O.F),o.Y36(b.r))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-account-addedit"]],viewQuery:function(e,t){var n;(1&e&&(o.Gf(se,5),o.Gf(ce,5),o.Gf(ue,5),o.Gf(de,5),o.Gf(ge,7),o.Gf(he,7),o.Gf(pe,7),o.Gf(fe,5),o.Gf(ve,5),o.Gf(me,5),o.Gf(Te,5),o.Gf(Ie,7),o.Gf(Ze,7),o.Gf(Ae,7),o.Gf(xe,7),o.Gf(ye,7),o.Gf(Se,7),o.Gf(De,7),o.Gf(Ce,7),o.Gf(be,7),o.Gf(Ne,7),o.Gf(we,7),o.Gf(Me,7),o.Gf(qe,7),o.Gf(Le,7),o.Gf(Ve,7),o.Gf(_e,7),o.Gf(Ue,7),o.Gf(Re,7),o.Gf(ke,7),o.Gf(Je,7),o.Gf(Pe,7),o.Gf(Oe,7)),2&e)&&(o.iGM(n=o.CRH())&&(t.voucherrows=n.first),o.iGM(n=o.CRH())&&(t.v_date=n.first),o.iGM(n=o.CRH())&&(t.refTables=n.first),o.iGM(n=o.CRH())&&(t.Inventoryrows=n.first),o.iGM(n=o.CRH())&&(t._modelEmail=n.first),o.iGM(n=o.CRH())&&(t._modelEmailM=n.first),o.iGM(n=o.CRH())&&(t._modalSMS=n.first),o.iGM(n=o.CRH())&&(t.form=n.first),o.iGM(n=o.CRH())&&(t.fitemVou=n.first),o.iGM(n=o.CRH())&&(t.fitemItem=n.first),o.iGM(n=o.CRH())&&(t.mobilereference=n.first),o.iGM(n=o.CRH())&&(t._CostCenter=n.first),o.iGM(n=o.CRH())&&(t.GodownMaster=n.first),o.iGM(n=o.CRH())&&(t.challanModal=n.first),o.iGM(n=o.CRH())&&(t.challanModalM=n.first),o.iGM(n=o.CRH())&&(t.ReceiptDeliveryModal=n.first),o.iGM(n=o.CRH())&&(t.ReceiptDeliveryAddEditModal=n.first),o.iGM(n=o.CRH())&&(t.chlnaddeditModal=n.first),o.iGM(n=o.CRH())&&(t.statAdjustmentModal=n.first),o.iGM(n=o.CRH())&&(t.TaxClassificationNature=n.first),o.iGM(n=o.CRH())&&(t.RecptDetails=n.first),o.iGM(n=o.CRH())&&(t.NewTrackingModel=n.first),o.iGM(n=o.CRH())&&(t.ConfigurationModal=n.first),o.iGM(n=o.CRH())&&(t.ConfigurationModalMobile=n.first),o.iGM(n=o.CRH())&&(t.bankModal=n.first),o.iGM(n=o.CRH())&&(t.RefModal=n.first),o.iGM(n=o.CRH())&&(t.RefModalM=n.first),o.iGM(n=o.CRH())&&(t.BatchModal=n.first),o.iGM(n=o.CRH())&&(t.BatchModalM=n.first),o.iGM(n=o.CRH())&&(t.JournalStatAdjustmentModal=n.first),o.iGM(n=o.CRH())&&(t.addItemModal=n.first),o.iGM(n=o.CRH())&&(t.addItemModalVoucher=n.first),o.iGM(n=o.CRH())&&(t._inventoryModal=n.first))},hostBindings:function(e,t){1&e&&o.NdJ("popstate",function(e){return t.onPopState(e)},!1,o.Jf7)},inputs:{startDate:"startDate",TransactionredirectOnCancel:"TransactionredirectOnCancel",VoucherId:"VoucherId",InputVoucher_LedgerId:"InputVoucher_LedgerId",LedgerIdforReport:"LedgerIdforReport",CompanyIdforReport:"CompanyIdforReport",DRAmountforReport:"DRAmountforReport",CRAmountforReport:"CRAmountforReport",IsDuplicate:"IsDuplicate",VoucherType:"VoucherType",IsItemVoucher:"IsItemVoucher"},outputs:{TransactionredirectAction:"TransactionredirectAction"},features:[o._Bn([V,b.r,C.m,w.a,a.B,I.e,y.l,g.Q])],decls:377,vars:131,consts:[[3,"ngClass"],[1,"card",3,"hidden"],["class","customsearch",4,"ngIf"],["class","customsearchM mobileHeadersize",4,"ngIf"],[1,"card-body","p-2","pb-4"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],[1,"row"],[1,"pl-1","pr-1","voucherno","float-left"],["for","VoucherNo"],["type","text","name","VoucherNo","id","VoucherNo","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"pl-1","pr-1","date","float-left"],["for","vdate"],["type","text","tabindex","1","appDatepicker","","required","","autocomplete","none",1,"form-control","readonlydate",3,"startDate","ngClass","selected","onblur"],["vdate",""],["class","pl-1 pr-1 text-left itemvoucher",4,"ngIf"],["class","pl-1 pr-1 w100 bill float-left",4,"ngIf"],["class","pl-1 pr-1 duedt float-left",4,"ngIf"],["class","pl-1 pr-1 float-left  journalLedger",4,"ngIf"],["class","pl-1 pr-1 float-left journalLedger",4,"ngIf"],["class","pl-1 pr-1 orgI",4,"ngIf"],["class","pl-1 pr-1 float-left col-xs-6 journalSite",4,"ngIf"],["class","pl-1 pr-1 float-left col-xs-6 siteStructure",3,"col-md-6",4,"ngIf"],["class","pl-1 pr-1 float-left cnoteCostCenter contraCostCenter col-xs-6",4,"ngIf"],["class","md-form push-right col-2",4,"ngIf"],["class","pl-1 pr-1 float-left col-xs-6",4,"ngIf"],["class","pl-1 pr-1 cnoteCountry contraCostCenter float-left col-xs-6",4,"ngIf"],["class","pl-1 pr-1 state float-left col-xs-6",4,"ngIf"],["class","pl-1 pr-1 float-left",4,"ngIf"],["class","col-12 pb-2",4,"ngIf"],["class","pl-0 challanvoucher",4,"ngIf"],["class","col-sm-* pt-4",4,"ngIf"],[4,"ngIf"],["class","col-md-12 p-0",4,"ngIf"],[1,"col-sm-*","pr-0","p-0"],["for","Narration"],["tabindex","1001","rows","3","name","Narration","id","Narration",1,"md-textarea","form-control",3,"ngClass","ngModel","ngModelChange"],["Narration","ngModel"],["class","col pr-0 pl-2",4,"ngIf"],["class","col pl-0 pr-0",4,"ngIf"],["class","col-12 pr-0 pl-2",4,"ngIf"],["class","row",4,"ngIf"],["style","background-color: lavender;","class","navbar fixed-bottom navbar-expand-sm navbar-dark",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","addItem",1,"modal","fade","halfview",2,"height","100%","width","100%"],["addItemModal","bs-modal"],["role","document","id","addItem",1,"modal-dialog","modal-lg",2,"height","100%","width","100%"],[1,"modal-content",2,"height","100%","width","100vw"],[1,"modal-header","mb-2"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"padding","0px !important"],["fitemItem","ngForm"],["id","formContainer",1,"row"],["class","md-form col-12 col-sm-6",4,"ngIf"],["class","md-form col col-sm-6",4,"ngIf"],[1,"md-form","col","col-md-6"],["type","number","required","","placeholder","Enter Amount","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","modal_DrAmt","id","modal_DrAmt",1,"form-control",3,"ngClass","disabled","ngModel","change","ngModelChange"],["modal_DrAmt","ngModel"],["class","invalid-feedback",4,"ngIf"],["class","md-form col col-md-6",4,"ngIf"],["id","formbtnContainer",1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight",2,"flex-direction","row"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-primary","waves-effect",3,"click"],["class","nav-item active mr-2",4,"ngIf"],["bsModal","","data-backdrop","false","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modal","fade",2,"height","100%","width","100%"],["RefModalM","bs-modal"],["role","document",1,"container-fluid","p-0",2,"height","100%","background-color","white"],["class","modal-lg","role","document","id","myModalRef",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modalNew","fade",2,"width","1200px"],["RefModal","bs-modal"],["role","document","id","myModalRef",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modalNew","fade"],["BatchModal","bs-modal"],["class","modal-dialog  modal-lg","role","document","id","myModalRef",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modal","fade","bg-white"],["BatchModalM","bs-modal"],["bsModal","","data-backdrop","false","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["challanModalM","bs-modal"],["class","modal-dialog modal-lg","role","document",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade"],["challanModal","bs-modal"],["class","modal-lg","role","document",4,"ngIf"],[3,"isMobilePopup","CompanyIdforReport","redirectOnCancel","redirectAction",4,"ngIf"],[3,"CompanyIdforReport","isMobilePopup","redirectOnCancel","inputLedgerId","redirectAction",4,"ngIf"],[3,"CompanyIdforReport","ChallanredirectOnCancel","ChallanId","ChallanredirectAction",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["SmsModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content",2,"width","400px"],[1,"modal-header"],[2,"margin-left","20px","margin-right","20px",3,"SMSDescription","Mobileinput","onMobilechange"],[1,"modal-footer","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-dark",3,"click"],["EmailModel","bs-modal"],["role","document",1,"modal-dialog","modal-md",2,"max-width","800px","max-height","500px"],[1,"modal-content"],["class","modal-title",4,"ngIf"],[2,"margin-left","20px","margin-right","20px",3,"demandhtml","IsHideEmail","emailinput","onemailchange"],["type","submit","class","btn btn-primary",3,"click",4,"ngIf"],["EmailModelM","bs-modal"],[3,"redirectOnCancelonInventory","isMobilePopup","CompanyIdforReport","InputInventoryId","redirectActiononInventory",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade","halfview"],["ReceiptDeliveryModal","bs-modal"],["TransactionModal","bs-modal"],["class","modal-dialog fullview modal-lg","role","document",4,"ngIf"],[3,"redirectOnCancelonCostCenter","isList","CompanyIdforReport","redirectActiononCostCenter",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","70%"],["StatAdjustmentModal","bs-modal"],["TaxClassificationNature","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],["role","form",3,"ngSubmit"],["frm","ngForm"],[1,"modal-body"],[1,"content"],[1,"form-group","col-md-12"],[1,"md-form","form-group","col-sm-12"],["for","natureofTranService"],["selectOnTab","true","name","natureofTranService","bindLabel","NA","bindValue","NA","placeholder","Select Nature Of Transaction",3,"virtualScroll","ngModel","items","loading","ngModelChange"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-primary"],["type","button",1,"btn","btn-sm","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modal","fade"],["JournalStatAdjustmentModal","bs-modal"],[3,"redirectOnCancelGodownMaster","isList","isMobilePopup","redirectActionGodownMaster",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","addItemModalVoucher",1,"modal","fade","halfview",2,"height","100%","width","100%"],["addItemModalVoucher","bs-modal"],["role","document","id","addItemModalVoucher",1,"modal-dialog","modal-lg",2,"height","100%","width","100%"],[1,"modal-body",2,"padding","0px"],["fitemVou","ngForm"],[1,"md-form","col-12","col-sm-6"],["for","selectacc"],["selectOnTab","true","required","","name","modal_Ledger","id","modal_Ledger","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","ngClass","ngModel","loading","ngModelChange"],["m_ledger","","modal_Ledger","ngModel"],["ng-header-tmp",""],["ng-label-tmp",""],["ng-option-tmp",""],["for","rate__rate"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter Rate","name","rate__rate","required","","id","rate__rate",1,"form-control","myForm",3,"ngClass","ngModel","ngModelChange","change"],["rate","","rate__rate","ngModel"],["for","dramt__dramt"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter Amount","name","dramt__dramt","required","","id","dramt__dramt",1,"form-control",3,"ngClass","ngModel","ngModelChange","change"],["dramt","","dramt__dramt","ngModel"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],["href","javascript:void(0)","title","Delete Ledger","class","btn btn-danger waves-effect",3,"click",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","50%"],["ConfigurationModal","bs-modal"],[1,"pb-3"],[1,"mr-2","pl-3"],[1,"c-switch","c-switch-pill","c-switch-primary","float-right"],["type","checkbox",1,"c-switch-input",3,"checked","change"],[1,"c-switch-slider"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","addConfigurationModalMobile",1,"modal","fade","halfview",2,"height","100%","width","100%"],["ConfigurationModalMobile","bs-modal"],["role","document","id","addConfigurationModalMobile",1,"modal-dialog","modal-lg",2,"height","100%","width","100%"],["RecptDetails","bs-modal"],["name","paytypeRd","id","paytypeRd","placeholder","Select Details",3,"ngModel","ngModelChange","change"],["paytypeRd","ngModel"],["value","End Of List"],["value","New Number"],["value","Not Applicable"],["NewTrackingModel","bs-modal"],["type","number","name","txtNewNm","id","txtNewNm","required","","placeholder","Enter New Number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",3,"ngModel","ngModelChange"],["txtNewNm","ngModel"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mb-3","PageNameFsize"],["class","mx-5 lastLi",4,"ngIf"],[1,"mx-1"],[1,"md-form","col-sm-6","col-md-3","mt-2","pb-4",3,"click"],[1,"font-weight-bold"],[1,"fas","fa-cog"],[1,"mx-5","lastLi"],[1,"c-switch","c-switch-pill","c-switch-primary","float-right","mb-3"],["type","checkbox","id","customSwitch1",1,"c-switch-input",3,"checked","change"],[1,"mt-1","mb-2","float-right","mr-2","font-weight-bold"],[1,"customsearchM","mobileHeadersize"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],[1,"mb-3","mr-4","LeftLi","text-center","Font16"],[1,"mx-1","lastLi"],[1,"pl-1","pr-1","text-left","itemvoucher"],["for","Ivoucher"],[1,"c-switch","c-switch-pill","c-switch-primary","mr-2","mb-3"],[1,"pl-1","pr-1","w100","bill","float-left"],["for","BillNo"],["type","text","tabindex","2","name","BillNo","id","BillNo","placeholder","Bill No",1,"form-control","mw-50",3,"ngClass","required","ngModel","ngModelChange"],["BillNo","ngModel"],[1,"invalid-feedback"],[1,"pl-1","pr-1","duedt","float-left"],["for","BDueDate"],["type","text","tabindex","3","appDatepicker","","autocomplete","none","required","","name","BDueDate","id","BDueDate","placeholder","Due Date",1,"form-control",3,"ngClass","startDate","selected"],["BDueDate",""],[1,"pl-1","pr-1","float-left","journalLedger"],["for","AccountText"],["selectOnTab","true","dropdownPosition","bottom","required","","name","FLedger","bindLabel","LN",3,"tabIndex","virtualScroll","items","ngClass","ngModel","loading","placeholder","ngModelChange","keyup","change","keydown.Tab"],["led","","FLedger","ngModel"],[1,"form-text","text-muted"],["href","javascript:void(0);",1,"addLeg",3,"click"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["for","AccountInventoryText"],["selectOnTab","true","dropdownPosition","bottom","appendTo","body","required","","name","InveLedger","bindLabel","LN",3,"tabIndex","virtualScroll","items","ngClass","ngModel","loading","placeholder","ngModelChange","change","keydown.Tab","keyup"],["ledger","","InveLedger","ngModel"],[1,"pl-1","pr-1","orgI"],["for","InvoiceNo"],["tabindex","6","type","text","placeholder","Enter Invoice","name","InvoiceNo","id","InvoiceNo",1,"form-control",3,"ngModel","ngModelChange"],[1,"pl-1","pr-1","float-left","col-xs-6","journalSite"],["for"," Site"],["selectOnTab","true","name","Site","accesslevel","Edit","mname","StM","bindLabel","SN","placeholder","Select Site",3,"tabIndex","items","ngModel","loading","change","ngModelChange"],["site",""],[1,"pl-1","pr-1","float-left","col-xs-6","siteStructure"],["for","SiteStructure"],["selectOnTab","true","name","FlatModal","bindLabel","concatenatedString","placeholder","Select Flat",3,"items","ngModel","ngModelChange"],["FlatModal","ngModel"],[1,"pl-1","pr-1","float-left","cnoteCostCenter","contraCostCenter","col-xs-6"],["for","costcenter"],["selectOnTab","true","name","costcenter","bindLabel","NA","placeholder","Cost Center",3,"tabIndex","items","ngModel","loading","ngModelChange"],["costcenter",""],[1,"md-form","push-right","col-2"],["for","paytype"],["name","paytype","id","paytype","placeholder","Select PayMode",3,"tabIndex","ngModel","ngModelChange","change"],["paytype","ngModel"],["value","1"],["value","2"],["value","3"],[1,"pl-1","pr-1","float-left","col-xs-6"],["tabindex","12","type","text","name","ActiveMonth","maxlength","2","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","id","ActiveMonth",1,"form-control",3,"ngModel","ngModelChange"],["for","AddOn"],["name","Addon","id","Addon","placeholder","Select AddOn",3,"tabIndex","ngModel","change","ngModelChange"],["Addon","ngModel"],["for","AddonPlanId"],["selectOnTab","true","name","AddonPlanId","bindLabel","PlanName","placeholder","Select Add On Plan",3,"tabIndex","items","ngModel","loading","ngModelChange","change"],["AddonPlanId",""],[1,"pl-1","pr-1","cnoteCountry","contraCostCenter","float-left","col-xs-6"],["for","country"],[3,"CountryTab","isRequired","countryinput","oncountrychange"],[1,"pl-1","pr-1","state","float-left","col-xs-6"],["for","states"],[3,"StateTab","isRequired","StateInput","onStateChange"],[1,"pl-1","pr-1","float-left"],["for","statAdjust"],[1,"pt-1"],[1,"c-switch","c-switch-pill","c-switch-primary"],["tabindex","17","id","statAdjust","type","checkbox",1,"c-switch-input",3,"checked","change"],[1,"col-12","pb-2"],[1,"pl-0","challanvoucher"],["class","challan float-left ml-1",4,"ngIf"],["class","float-left ml-1",4,"ngIf"],["class","reference float-left ml-1",4,"ngIf"],[1,"challan","float-left","ml-1"],["tabindex","20","href","javascript:void(0)","tooltip","Select Challan","placement","bottom",3,"click"],[1,"float-left","ml-1"],["type","button","tabindex","19","href","javascript:void(0)",1,"btn","btn-outline-primary",3,"click"],[1,"reference","float-left","ml-1"],["tabindex","18","href","javascript:void(0)","tooltip","Select Note","placement","bottom",3,"click"],[1,"col-sm-*","pt-4"],["class","float-left mr-2 ml-2",4,"ngIf"],[1,"float-left","mr-2","ml-2"],["href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)",4,"ngFor","ngForOf"],["href","javascript:void(0)"],[3,"click"],[1,"wrapper","center-block"],["id","accordion","role","tablist","aria-multiselectable","true",1,"panel-group"],[1,"panel","panel-default"],["role","tab","id","headingOne",1,"panel-heading","active"],[1,"panel-title"],["role","button","data-toggle","collapse","data-parent","#accordion","href","#collapseOne","aria-expanded","true","aria-controls","collapseOne",4,"ngIf"],["id","collapseOne","role","tabpanel","aria-labelledby","headingOne",1,"panel-collapse","collapse","in","show"],[1,"panel-body"],[4,"ngFor","ngForOf"],[1,"mb-2"],["type","button","tabindex","500","value","Add Item",1,"btn","btn-primary","btn-sm","lighten-3",3,"click"],["class","row float-right",4,"ngIf"],["role","button","data-toggle","collapse","data-parent","#accordion","href","#collapseOne","aria-expanded","true","aria-controls","collapseOne"],[1,"mb-2","pl-2","pr-2","bg-light"],["class","col pt-1 pl-0 pr-0 text-left font-weight-bold",4,"ngIf"],["class","col pl-0 pr-0 text-dark font-weight-bold",4,"ngIf"],[1,"col-sm-*","h5","pt-1","pl-0","font-weight-bold","text-right","pr-1","text-info"],["class","col-sm-* pt-1 pl-0 pr-0 font-weight-bold",4,"ngIf"],["class","col text-left text-dark pl-0 pt-1 pr-0",4,"ngIf"],["class","col-6 pr-0 pl-0",4,"ngIf"],[1,"col-md-auto","pl-0","pr-0","text-left"],[1,"font-italic","font-weight-light"],["class","text-dark","href","javascript:void(0)",4,"ngFor","ngForOf"],[1,"col","pt-1","pl-0","pr-0","text-left","font-weight-bold"],[1,"p-0","m-0","text-info"],[1,"col","pl-0","pr-0","text-dark","font-weight-bold"],[1,"col-sm-*","pt-1","pl-0","pr-0","font-weight-bold"],[1,"col","text-left","text-dark","pl-0","pt-1","pr-0"],[1,"col-6","pr-0","pl-0"],["class","text-left text-dark",4,"ngFor","ngForOf"],[1,"text-left","text-dark"],["href","javascript:void(0)",1,"text-dark"],[1,"row","float-right"],[1,"col","font-weight-bold","pr-2","pl-0","text-right",2,"font-size","15px"],[1,"m-0"],["role","button","data-toggle","collapse","data-parent","#accordion","href","#collapseTwo","aria-expanded","true","aria-controls","collapseTwo"],["id","collapseTwo","role","tabpanel","aria-labelledby","headingOne",1,"panel-collapse","collapse","in"],["class","col-8 pl-0 pr-0 text-left text-dark font-weight-bold",4,"ngIf"],[1,"col","pl-0","pt-1","pr-0","text-dark","text-center"],[1,"col","h6","pl-0","pt-1","font-weight-bold","text-right","pr-2","text-info"],[1,"col-8","pl-0","pr-0","text-left","text-dark","font-weight-bold"],[1,"p-0","pt-1","m-0","text-info"],[1,"col-md-12","p-0"],[1,"my-custom-scrollbar"],[1,"table","table-bordered","table-account"],["style","width:75px","scope","col",4,"ngIf"],["class","text-left",4,"ngIf"],["class","text-left","scope","col",4,"ngIf"],["class","text-center","scope","col",4,"ngIf"],["scope","col",1,"text-left"],["scope","col","class","text-left",4,"ngIf"],["scope","col",1,"text-center"],["voucherrow",""],["scope","col",2,"width","75px"],[1,"text-left"],["class","text-left",3,"ngClass",4,"ngIf"],["scope","col",1,"text-right"],[1,"text-left",3,"ngClass"],["scope","row",4,"ngIf"],["autofocus","","scope","row","class","text-left",4,"ngIf"],["scope","row","class","text-left",4,"ngIf"],["scope","row",1,"text-left"],["type","number","placeholder","Enter Amount","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"min-width","75px",3,"tabindex","disabled","name","ngModel","id","ngModelChange","change","keydown.Tab"],["dramt",""],["scope","row","class","text-center",4,"ngIf"],["scope","row",1,"text-center",2,"background","white"],["href","javascript:void(0)","title","Delete Ledger","placement","bottom",2,"text-decoration","none",3,"tabindex","click"],[1,"fas","fa-trash","text-danger","mr-1"],["scope","row"],["autofocus","","appendTo","body",2,"width","75px","min-width","75px",3,"tabIndex","name","disabled","id","ngModel","change","ngModelChange"],["value","Cr"],["value","Dr"],["autofocus","","scope","row",1,"text-left"],["dropdownPosition","bottom","bindLabel","LN","placeholder","Select Account","selectOnTab","true","appendTo","body",1,"maxpanel",3,"tabIndex","virtualScroll","items","name","ngModel","loading","ngModelChange","focus","keyup"],["toled",""],[1,"clearfix","text-left","ml-2","font-italic","font-weight-light"],["bindLabel","LN","dropdownPosition","bottom","appendTo","body","selectOnTab","true","bindLabel","LN","placeholder","Select Account",1,"maxpanel",3,"tabIndex","virtualScroll","items","name","ngModel","loading","ngModelChange","keyup"],["dropdownPosition","bottom","appendTo","body","selectOnTab","true","bindLabel","InvN","placeholder","Select Inventory",1,"maxpanel",3,"tabIndex","virtualScroll","items","id","name","ngModel","loading","ngModelChange","keydown.Tab","change","keyup"],["toInv",""],[1,"clearfix","text-left","font-italic","font-weight-light"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Inv","placement","bottom",1,"mr-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"input-group",2,"height","32px"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter QTY","aria-describedby","btnGroupAddon2",1,"form-control",3,"tabindex","disabled","name","ngModel","id","ngModelChange","change"],["actqty",""],["class","input-group-append",4,"ngIf"],[1,"input-group-append"],["id","btnGroupAddon2",1,"input-group-text"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter rate",1,"form-control",3,"tabindex","disabled","name","ngModel","id","ngModelChange","change"],["Vrate",""],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter discount",1,"form-control",3,"tabindex","name","ngModel","id","ngModelChange","change"],["Disc",""],["placeholder","Enter Amount","type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"min-width","75px",3,"tabindex","disabled","name","ngModel","id","ngModelChange","keydown.Tab","change"],["CrAmt",""],["selectOnTab","true","appendTo","body","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",1,"maxpanel",2,"min-width","140px",3,"tabIndex","multiple","items","name","ngModel","loading","ngModelChange","change","keyup"],["toTax",""],["scope","row",1,"text-center"],["href","javascript:void(0)",1,"btn","btn-link",3,"tabindex","click"],["Inventoryrow",""],["type","button","tabindex","1000","value","Add Item",1,"btn","btn-primary","btn-sm","lighten-3",3,"click"],["dropdownPosition","bottom","appendTo","body","bindLabel","LN","placeholder","Select Account","selectOnTab","true",1,"maxpanel",3,"tabIndex","virtualScroll","items","name","ngModel","loading","ngModelChange","keyup"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter rate",1,"form-control",3,"tabindex","name","ngModel","id","ngModelChange","change"],["rate",""],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter amount",1,"form-control",3,"tabindex","name","ngModel","id","ngModelChange","change"],[1,"text-center"],["IntoTax",""],[1,"col","pr-0","pl-2"],["for","CompanyLogo"],[1,"input-group"],["tabindex","1002","maxFiles","3","maxSize","2","fileExt","JPG, GIF, PNG, PDF, JPEG",3,"filelist","uploadStatus"],["fileUpload",""],[1,"col","pl-0","pr-0"],[1,"text-right","mr-0","pt-2","pb-2","float-right"],[1,"table"],["class","border-0",4,"ngIf"],[1,"text-right"],[1,"border-0"],["colspan","2",1,"border-0"],["appendTo","body","selectOnTab","true","name","toTaxcommon","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",2,"max-width","160px","min-width","150px",3,"tabIndex","multiple","items","ngModel","loading","ngModelChange","change"],["toTaxcommon",""],[1,"text-right","text-right","pr-0","pb-0"],["class","float-right",4,"ngIf"],[1,"float-right"],["appendTo","body","selectOnTab","true","name","TCSLed","bindLabel","LN","placeholder","Select TCS Ledger",1,"mb-0",2,"width","150px",3,"tabIndex","virtualScroll","ngModel","items","ngClass","loading","ngModelChange","change"],["TCSLed","ngModel"],["appendTo","body","selectOnTab","true","required","","name","Type","bindLabel","LN","placeholder","Select Round Ledger",1,"mb-0",2,"width","150px",3,"tabIndex","virtualScroll","ngModel","items","ngClass","loading","ngModelChange","change"],["Type","ngModel"],[1,"col-12","pr-0","pl-2"],[1,"col-12","p-0"],["for","bankdetails",2,"font-weight","bold"],[1,"table-responsive"],[1,"table","table-account","table-bordered"],[1,"text-center","pt-1"],["type","text",1,"form-control",3,"tabindex","name","ngModel","id","ngModelChange"],["BankName",""],["placeholder","Select Type","appendTo","body",3,"tabIndex","name","ngModel","ngModelChange"],["value","Cheque/DD"],["value","UPI"],["value","Electronic Transfer"],["value","E-Cheque"],["value","Cash"],["value","Other"],["ChkNo",""],["type","text","appDatepicker","",1,"form-control",3,"tabindex","name","position","startDate","index","id","selectedindex"],["ChkDt",""],["type","text","appDatepicker","",1,"form-control",3,"tabindex","name","startDate","index","position","id","selectedindex"],["BRecoDt",""],["bankAmt",""],["id","formbtnContainer",1,"col-sm-12","p-0","text-right"],["tabindex","1021","type","button","value","Cancel",1,"btn","btn-dark","mr-2",3,"click"],["class","btn dropdown-toggle t btn-primary text-white","type","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",4,"ngIf"],[1,"dropdown-menu","dropdown-primary"],["href","javascript:void(0)","mname","ReciptDemand","accesslevel","Add",1,"dropdown-item","btn","btn-link",3,"appRole","SignupId","UserId","clickAllowed"],["class","dropdown-item btn btn-link","mname","ReciptDemand","href","javascript:void(0)","accesslevel","Add",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["tabindex","1020","type","submit","name","btnsubmit","id","btnsubmit","class","btn btn-primary",4,"ngIf"],["type","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle","t","btn-primary","text-white"],["mname","ReciptDemand","href","javascript:void(0)","accesslevel","Add",1,"dropdown-item","btn","btn-link",3,"appRole","SignupId","UserId","clickAllowed"],["tabindex","1020","type","submit","name","btnsubmit","id","btnsubmit",1,"btn","btn-primary"],["btnsubmit",""],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark",2,"background-color","lavender"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight",2,"flex-direction","row","list-style","none"],[1,"nav-item","active","ml-2"],["class","btn dropdown-toggle btn-primary text-white","type","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",4,"ngIf"],[1,"nav-item","active"],["tabindex","1021","type","button","value","Cancel",1,"btn","btn-dark",3,"click"],["type","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle","btn-primary","text-white"],["name","CrDr_modalCrDr","id","CrDr_modalCrDr","appendTo","body",3,"disabled","ngModel","change","ngModelChange"],["for","moda_Ledger"],["selectOnTab","true","required","","name","modal1_Ledger","id","modal1_Ledger","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","ngClass","ngModel","loading","ngModelChange"],["mobileLed","","modal1_Ledger","ngModel"],["for","modal_toInv"],["selectOnTab","true","required","","name","modal_toInv","bindLabel","InvN","placeholder","Select Inventory",3,"virtualScroll","items","ngClass","ngModel","loading","ngModelChange"],["mod_toInv","","modal_toInv","ngModel"],["type","button","href","javascript:void(0)",1,"btn","btn-outline-primary",3,"click"],["for","Actualqty"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","actqty__LedgerInventoryIndex","placeholder","Enter Qty","id","actqty__LedgerInventoryIndex","aria-describedby","btnGroupAddon2",1,"form-control",3,"ngModel","disabled","ngModelChange","change"],[1,"md-form","col","col-sm-6"],["for","Rate"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","Vrate__LedgerInventoryIndex","placeholder","Enter rate","id","Vrate__LedgerInventoryIndex",1,"form-control",3,"disabled","ngModel","ngModelChange","change"],["for","Disc"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","Disc__LedgerInventoryIndex","id","Disc__LedgerInventoryIndex","placeholder","Enter Discount",1,"form-control",3,"ngModel","ngModelChange","change"],["for","tax"],["selectOnTab","true","appendTo","body","name","modal_TaxLed","bindLabel","LN","dropdownPosition","bottom","placeholder","Select Tax Account",3,"virtualScroll","multiple","items","ngModel","loading","ngModelChange","change"],["modal_TaxLed",""],["href","javascript:void(0)",1,"btn","btn-outline-primary",3,"click"],["type","number","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","modal_CrAmt","id","modal_CrAmt",1,"form-control",3,"ngClass","disabled","ngModel","ngModelChange"],["modal_CrAmt","ngModel"],[1,"md-form","col-12","col-sm-6","mt-4","pt-4","text-right"],["href","javascript:void(0)","title","Delete Ledger",1,"btn","btn-danger","waves-effect",3,"click"],["role","document","id","myModalRef",1,"modal-lg"],["MobileReferenceForm","ngForm"],[1,"modal-content",2,"height","100%","width","100vw","border","0px"],[1,"modal-body","p-0","pt-2"],["class","table-responsive refTable",4,"ngIf"],[1,"table-responsive","refTable"],["class","table table-account table-bordered",4,"ngIf"],["type","submit",1,"btn","btn-primary"],["href","javascript:void(0)","title","Cancel",1,"btn","btn-primary","waves-effect",3,"click"],["refTable",""],["class","row",4,"ngFor","ngForOf"],[1,"md-form","col-md-6","col-sm-6"],["for","rafdrp"],["required","","appendTo","body","placeholder","Select Ref Type",3,"name","disabled","ngModel","ngClass","change","ngModelChange"],["RefType","ngModel"],["value","NewRef"],["value","OnAccount"],["value","Advance"],["value","AgainstRef"],["for","RefType"],["colspan","2",4,"ngIf"],["for","DueDate"],["for","Refamt__"],["type","number","required","","placeholder","Enter Amount",1,"accText","form-control",3,"name","ngModel","ngClass","change","ngModelChange"],["Refamt","ngModel"],["for","AmtType"],["placeholder","Select","appendTo","body",3,"name","ngModel","ngModelChange"],["type","text","required","","placeholder","Reference Tag",1,"form-control","accText",3,"ngClass","disabled","name","ngModel","ngModelChange"],["refTag","ngModel"],["colspan","2"],["selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",3,"items","name","ngModel","ngModelChange","change",4,"ngIf"],["selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",3,"items","name","ngModel","ngModelChange","change"],["agReferences",""],["type","text","placeholder","Due Date","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",3,"disabled","ngClass","startDate","name","id","selected"],["refdate",""],["role","document","id","myModalRef"],["frefitem","ngForm"],[1,"text-left","ml-3","radio-container"],[1,"ml-1","text-danger","font-weight-bold","h5"],[1,"radio-options"],[1,"radio-option"],["type","radio","name","TermType","value","AgreementOCR",3,"ngModel","ngModelChange","change"],["for","Agreement"],["type","radio","name","TermType","value","AgreementLOAN",3,"ngModel","ngModelChange","change"],["type","radio","name","TermType","value","GST",3,"ngModel","ngModelChange","change"],["for","GST"],["type","radio","name","TermType","value","OCR",3,"ngModel","ngModelChange","change"],["for","OCR"],[1,"font-weight-bold","text-right","mr-3","text-primary",2,"margin-left","auto"],[1,"modal-body","pt-0"],["type","button",1,"btn","btn-link","p-0","m-0",3,"click"],["for","Total Amount",1,"float-right","text-center"],["class","md-form",4,"ngIf"],[1,"md-form"],["required","","appendTo","body","placeholder","Select Ref Type",2,"min-width","110px",3,"name","ngModel","ngClass","change","ngModelChange"],["type","number","required","","placeholder","Enter Amount",1,"accText","form-control",2,"width","88px",3,"name","ngModel","ngClass","change","ngModelChange"],["placeholder","Select","appendTo","body",2,"min-width","72px",3,"name","ngModel","ngModelChange","change"],[2,"width","45px","padding","5px","padding-left","14px"],["href","javascript:void(0)",2,"text-decoration","none",3,"click"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",3,"disabled","ngClass","startDate","name","id","selected"],["selectOnTab","true","appendTo","body","class","maxpanel","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",3,"items","name","ngModel","ngModelChange","change",4,"ngIf"],["selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",1,"maxpanel",3,"items","name","ngModel","ngModelChange","change"],["role","document","id","myModalRef",1,"modal-dialog","modal-lg"],["frefgodo","ngForm"],[1,"modal-body","my-custom-scrollbar"],["class","table-responsive refTable",3,"max-width",4,"ngIf"],["class","md-form",4,"ngFor","ngForOf"],["required","","name","godownType","id","godownType","appendTo","body","bindLabel","GN","placeholder","Select Godown",2,"min-width","180px",3,"items","name","ngModel","loading","ngClass","ngModelChange","change"],["god","","godownType","ngModel"],["required","","appendTo","body","placeholder","Select Batch","bindLabel","BN","bindValue","UIDN",3,"items","name","ngModel","loading","ngClass","ngModelChange","change"],["Batch_Type","ngModel"],["type","text","placeholder","Batch Name","required","",1,"form-control","accText",2,"min-width","130px",3,"disabled","ngClass","name","ngModel","ngModelChange"],["batchTag","ngModel"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",2,"width","115px",3,"startDate","name","id","selected"],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"width","90px",3,"ngClass","ngModel","name","id","ngModelChange","change"],["txtQty","ngModel"],["txtRt","ngModel"],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"width","90px",3,"ngClass","ngModel","name","id","ngModelChange"],["txtAmt","ngModel"],[1,"modal-content",2,"border","0px"],[1,"modal-body","p-0"],["class","table-responsive refTable","style","height: 650px;",3,"max-width",4,"ngIf"],[1,"table-responsive","refTable",2,"height","650px"],["class","mb-2",4,"ngFor","ngForOf"],["for","Godown"],["required","","name","godownType","id","godownType","appendTo","body","bindLabel","GN","placeholder","Select Godown",3,"items","name","ngModel","loading","ngClass","ngModelChange","change"],["Godown","","godownType","ngModel"],["for","Batch_Type"],["for","batchTag"],["type","text","placeholder","Batch Name","required","",1,"form-control","accText",3,"disabled","ngClass","name","ngModel","ngModelChange"],["for","MFGDt"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",3,"startDate","name","id","selected"],["for","Qty"],["type","number","placeholder","Enter QTY","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange","change"],["for","Rt"],["type","number","required","","placeholder","Enter rate","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange","change"],["for","txtAmt"],["type","number","placeholder","Enter amount","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange"],[1,"modal-body",2,"border","0px"],["class","table-responsive",3,"max-width",4,"ngIf"],["class","p-2",4,"ngIf"],[1,"modal-footer",2,"border","0px"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[2,"min-width","85px"],[3,"dateValue"],[1,"btn","btn-link",3,"click"],[1,"p-2"],["type","button",1,"btn","btn-primary",3,"click"],["role","document",1,"modal-lg"],[1,"modal-body",2,"height","400px","overflow","scroll"],[3,"isMobilePopup","CompanyIdforReport","redirectOnCancel","redirectAction"],[3,"CompanyIdforReport","isMobilePopup","redirectOnCancel","inputLedgerId","redirectAction"],[3,"CompanyIdforReport","ChallanredirectOnCancel","ChallanId","ChallanredirectAction"],[3,"redirectOnCancelonInventory","isMobilePopup","CompanyIdforReport","InputInventoryId","redirectActiononInventory"],[1,"switch"],["role","document",1,"modal-dialog","fullview","modal-lg"],["id","voucherContent",1,"modal-content"],[1,"fas","fa-times","fa-lg",3,"click"],[3,"TransactionredirectOnCancel","IsDuplicate","VoucherType","IsItemVoucher","VoucherId","CompanyIdforReport","TransactionredirectAction"],[3,"redirectOnCancelonCostCenter","isList","CompanyIdforReport","redirectActiononCostCenter"],["selectOnTab","true","appendTo","body","name","DutyTax","bindLabel","Name","placeholder","Types Of Duty/Tax","required","",3,"ngModel","items","ngModelChange"],["DutyTax",""],["selectOnTab","true","appendTo","body","name","natureOfAdjustment","bindLabel","Name","bindValue","Name","placeholder","Types Of Nature Of Adjustment","required","",3,"ngModel","items","change","ngModelChange"],["natureOfAdjustment","ngModel","natureOfAdjustmentselect",""],["selectOnTab","true","appendTo","body","name","additionalDetails","bindLabel","Name","placeholder","Types Of Additional Details","bindValue","Name","required","",3,"items","ngModel","ngModelChange"],["additionalDetails","ngModel","additionalDetailsselect",""],["type","text","pattern","[0-9]*","maxlength","2","name","Rate","id","Rate","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Rate","ngModel"],["type","text","pattern","[0-9]*","name","TaxAmount","id","TaxAmount",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["TaxAmount","ngModel"],["class","invalid-feedback","required","",4,"ngIf"],[3,"hidden"],["required","",1,"invalid-feedback"],[3,"redirectOnCancelGodownMaster","isList","isMobilePopup","redirectActionGodownMaster"]],template:function(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,Fe,13,2,"div",2),o.YNc(3,Ee,11,1,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"form",5,6),o.NdJ("ngSubmit",function(){return o.CHM(n),o.MAs(6).form.valid&&t.onSubmit()}),o.TgZ(7,"div",7),o.TgZ(8,"div",8),o.TgZ(9,"label",9),o._uU(10,"VoucherNo"),o.qZA(),o.TgZ(11,"input",10),o.NdJ("ngModelChange",function(e){return t.accountService.singleresult.VNO=e}),o.qZA(),o.qZA(),o.TgZ(12,"div",11),o.TgZ(13,"label",12),o._uU(14,"Date"),o.qZA(),o.TgZ(15,"input",13,14),o.NdJ("selected",function(e){return t.onDateSelect(e)})("onblur",function(){return t.IsvalidDate()}),o.qZA(),o.qZA(),o.YNc(17,Ye,7,1,"div",15),o.YNc(18,Ke,7,8,"div",16),o.YNc(19,Xe,6,5,"div",17),o.YNc(20,ot,10,11,"div",18),o.YNc(21,dt,11,11,"div",19),o.YNc(22,gt,4,1,"div",20),o.YNc(23,pt,6,4,"div",21),o.YNc(24,vt,6,4,"div",22),o.YNc(25,It,7,4,"div",23),o.YNc(26,Zt,11,2,"div",24),o.YNc(27,At,4,1,"div",25),o.YNc(28,xt,9,2,"div",24),o.YNc(29,St,6,4,"div",24),o.YNc(30,Dt,4,3,"div",26),o.YNc(31,Ct,4,3,"div",27),o.YNc(32,bt,7,1,"div",28),o.YNc(33,Nt,5,2,"div",29),o.YNc(34,_t,4,3,"div",30),o.YNc(35,Yt,4,3,"div",31),o.qZA(),o.YNc(36,Gt,2,0,"div",32),o.YNc(37,dn,15,4,"div",32),o.YNc(38,gn,2,0,"div",32),o.YNc(39,fn,14,1,"div",32),o.YNc(40,vn,2,0,"div",32),o.TgZ(41,"div",7),o.YNc(42,fi,26,14,"div",33),o.YNc(43,Si,19,2,"div",33),o.TgZ(44,"div",34),o.TgZ(45,"label",35),o._uU(46,"Narration"),o.qZA(),o.TgZ(47,"textarea",36,37),o.NdJ("ngModelChange",function(e){return t.accountService.singleresult.Narr=e}),o.qZA(),o.qZA(),o.YNc(49,Di,6,1,"div",38),o.YNc(50,_i,28,12,"div",39),o.YNc(51,Ui,6,1,"div",40),o._UZ(52,"div",7),o.qZA(),o.YNc(53,Ri,2,0,"div",32),o.YNc(54,Qi,26,1,"div",41),o.YNc(55,Gi,14,9,"div",41),o.YNc(56,ji,17,9,"nav",42),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"div",43,44),o.TgZ(59,"div",45),o.TgZ(60,"div",46),o.TgZ(61,"div",47),o.TgZ(62,"h4",48),o._uU(63,"Add Items "),o.qZA(),o.TgZ(64,"button",49),o.NdJ("click",function(){o.CHM(n);var e=o.MAs(58);return t.clearItemModel(),e.hide()}),o.TgZ(65,"span",50),o._uU(66,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(67,"div",51),o.TgZ(68,"form",5,52),o.NdJ("ngSubmit",function(){return o.CHM(n),o.MAs(69).form.valid}),o.TgZ(70,"div",53),o.YNc(71,Ki,8,2,"div",54),o.YNc(72,nr,10,8,"div",54),o.YNc(73,sr,8,8,"div",54),o.YNc(74,ur,4,1,"div",54),o.YNc(75,dr,9,3,"div",54),o.TgZ(76,"div",7),o.YNc(77,gr,6,2,"div",55),o.YNc(78,hr,6,1,"div",55),o.qZA(),o.YNc(79,vr,7,5,"div",54),o.YNc(80,Tr,4,1,"div",54),o.TgZ(81,"div",7),o.TgZ(82,"div",56),o.YNc(83,Ir,2,0,"label",32),o.YNc(84,Zr,2,0,"label",32),o.TgZ(85,"input",57,58),o.NdJ("change",function(){return t.finalcalculateMobile()})("ngModelChange",function(e){return t.modalDrAmt=e}),o.qZA(),o.YNc(87,yr,3,2,"div",59),o.qZA(),o.YNc(88,br,7,6,"div",60),o.qZA(),o.qZA(),o.YNc(89,Nr,8,3,"div",32),o.TgZ(90,"nav",61),o.TgZ(91,"ul",62),o.TgZ(92,"li",63),o.TgZ(93,"button",64),o.NdJ("click",function(){return t.addItemfromModal(!1)}),o._uU(94,"Save"),o.qZA(),o.qZA(),o.TgZ(95,"li",63),o.TgZ(96,"button",64),o.NdJ("click",function(){return t.addItemfromModal(!0)}),o._uU(97,"Save & New"),o.qZA(),o.qZA(),o.YNc(98,wr,3,0,"li",65),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(99,"div",66,67),o.TgZ(101,"div",68),o.YNc(102,Hr,12,1,"div",69),o.qZA(),o.qZA(),o.TgZ(103,"div",70,71),o.YNc(105,co,46,7,"div",72),o.qZA(),o.TgZ(106,"div",73,74),o.YNc(108,Mo,19,1,"div",75),o.qZA(),o.TgZ(109,"div",76,77),o.YNc(111,Wo,22,2,"div",75),o.qZA(),o.TgZ(112,"div",78,79),o.TgZ(114,"div",68),o.YNc(115,ia,15,3,"div",80),o.qZA(),o.qZA(),o.TgZ(116,"div",81,82),o.YNc(118,sa,15,3,"div",83),o.qZA(),o.YNc(119,ca,1,3,"app-companyledger-addedit",84),o.YNc(120,ua,1,4,"app-companyledger-addedit",85),o.YNc(121,da,1,3,"app-challan-addedit",86),o.TgZ(122,"div",87,88),o.TgZ(124,"div",89),o.TgZ(125,"div",90),o.TgZ(126,"div",91),o.TgZ(127,"h4",48),o._uU(128,"Enter Mobile Number "),o.qZA(),o.TgZ(129,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(123).hide()}),o.TgZ(130,"span",50),o._uU(131,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(132,"app-sms",92),o.NdJ("onMobilechange",function(e){return t.Mobile=e}),o.qZA(),o.TgZ(133,"div",93),o.TgZ(134,"button",94),o.NdJ("click",function(){return t.AddVoucher()}),o._uU(135,"Send SMS"),o.qZA(),o.TgZ(136,"button",95),o.NdJ("click",function(){return o.CHM(n),o.MAs(123).hide()}),o._uU(137,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(138,"div",81,96),o.TgZ(140,"div",97),o.TgZ(141,"div",98),o.TgZ(142,"div",91),o.YNc(143,ga,2,0,"h4",99),o.TgZ(144,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(139).hide()}),o.TgZ(145,"span",50),o._uU(146,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(147,"app-email",100),o.NdJ("onemailchange",function(e){return t.Email=e}),o.qZA(),o.TgZ(148,"div",93),o.YNc(149,ha,2,0,"button",101),o.YNc(150,pa,2,0,"button",101),o.TgZ(151,"button",95),o.NdJ("click",function(){return o.CHM(n),o.MAs(139).hide()}),o._uU(152,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(153,"div",87,102),o.TgZ(155,"div",97),o.TgZ(156,"div",98),o.TgZ(157,"div",91),o.YNc(158,fa,2,0,"h4",99),o.TgZ(159,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(154).hide()}),o.TgZ(160,"span",50),o._uU(161,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(162,"app-email",100),o.NdJ("onemailchange",function(e){return t.Email=e}),o.qZA(),o.TgZ(163,"div",93),o.YNc(164,va,2,0,"button",101),o.YNc(165,ma,2,0,"button",101),o.TgZ(166,"button",95),o.NdJ("click",function(){return o.CHM(n),o.MAs(154).hide()}),o._uU(167,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(168,Ta,1,4,"app-inventory-addedit",103),o.TgZ(169,"div",104,105),o.YNc(171,ya,15,4,"div",80),o.qZA(),o.TgZ(172,"div",87,106),o.YNc(174,Sa,8,7,"div",107),o.qZA(),o.YNc(175,Da,1,3,"app-cost-category",108),o.TgZ(176,"div",109,110),o.YNc(178,Na,32,9,"div",80),o.qZA(),o.TgZ(179,"div",81,111),o.TgZ(181,"div",112),o.TgZ(182,"form",113,114),o.NdJ("ngSubmit",function(){return o.CHM(n),o.MAs(183).form.valid&&t.closeNatureOfTransactionsModel()}),o.TgZ(184,"div",98),o.TgZ(185,"div",91),o.TgZ(186,"h4",48),o._uU(187,"Tax Classification Details"),o.qZA(),o.TgZ(188,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(180).hide()}),o.TgZ(189,"span",50),o._uU(190,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(191,"div",115),o.TgZ(192,"div",116),o.TgZ(193,"div",117),o.TgZ(194,"div",118),o.TgZ(195,"label",119),o._uU(196,"Classification/Nature"),o.qZA(),o.TgZ(197,"ng-select",120),o.NdJ("ngModelChange",function(e){return t.natureoftransaction=e}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(198,"div",121),o.TgZ(199,"button",122),o._uU(200,"Save Changes"),o.qZA(),o.TgZ(201,"button",123),o.NdJ("click",function(){return o.CHM(n),o.MAs(180).hide()}),o._uU(202,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(203,"div",124,125),o.YNc(205,qa,25,12,"div",75),o.qZA(),o.YNc(206,La,1,3,"app-godown-list",126),o.TgZ(207,"div",127,128),o.TgZ(209,"div",129),o.TgZ(210,"div",46),o.TgZ(211,"div",91),o.TgZ(212,"h4",48),o._uU(213,"Add Item Voucher "),o.qZA(),o.TgZ(214,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(208).hide()}),o.TgZ(215,"span",50),o._uU(216,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(217,"div",130),o.TgZ(218,"form",5,131),o.NdJ("ngSubmit",function(){return o.CHM(n),o.MAs(219).form.valid}),o.TgZ(220,"div",53),o.TgZ(221,"div",132),o.TgZ(222,"label",133),o._uU(223,"Select Account"),o.qZA(),o.TgZ(224,"ng-select",134,135),o.NdJ("ngModelChange",function(e){return t.modalLedger=e}),o.YNc(227,Va,3,0,"ng-template",136),o.YNc(228,_a,1,1,"ng-template",137),o.YNc(229,Ua,4,3,"ng-template",138),o.qZA(),o.YNc(230,ka,2,1,"div",59),o.qZA(),o.TgZ(231,"div",132),o.TgZ(232,"label",139),o._uU(233,"Rate"),o.qZA(),o.TgZ(234,"input",140,141),o.NdJ("ngModelChange",function(e){return t.modalRate=e})("change",function(){return t.finalcalculation()}),o.qZA(),o.YNc(237,Pa,2,1,"div",59),o.qZA(),o.TgZ(238,"div",132),o.TgZ(239,"label",142),o._uU(240,"Amount"),o.qZA(),o.TgZ(241,"input",143,144),o.NdJ("ngModelChange",function(e){return t.modalDrAmt=e})("change",function(){return t.finalcalculation()}),o.qZA(),o.YNc(244,Qa,2,1,"div",59),o.qZA(),o.qZA(),o.TgZ(245,"nav",145),o.TgZ(246,"ul",62),o.TgZ(247,"li",63),o.TgZ(248,"button",64),o.NdJ("click",function(){return t.addItemVouchersfromModal(!1)}),o._uU(249,"Save"),o.qZA(),o.qZA(),o.TgZ(250,"li",63),o.TgZ(251,"button",64),o.NdJ("click",function(){return t.addItemVouchersfromModal(!0)}),o._uU(252,"Save & New"),o.qZA(),o.qZA(),o.TgZ(253,"li",63),o.YNc(254,Fa,2,0,"a",146),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(255,"div",147,148),o.TgZ(257,"div",112),o.TgZ(258,"div",98),o.TgZ(259,"div",91),o.TgZ(260,"h4",48),o._uU(261,"Standard Configuration "),o.qZA(),o.TgZ(262,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(256).hide()}),o.TgZ(263,"span",50),o._uU(264,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(265,"div",115),o.TgZ(266,"div",116),o.TgZ(267,"table"),o.TgZ(268,"tr"),o.TgZ(269,"td",149),o.TgZ(270,"strong",150),o._uU(271,"Show Cost Center Details"),o.qZA(),o.qZA(),o.TgZ(272,"td"),o.TgZ(273,"label",151),o.TgZ(274,"input",152),o.NdJ("change",function(){return t.IsShowCostCenter=1!=t.IsShowCostCenter}),o.qZA(),o._UZ(275,"span",153),o.qZA(),o.qZA(),o.qZA(),o.TgZ(276,"tr"),o.TgZ(277,"td",149),o.TgZ(278,"strong",150),o._uU(279,"Allow Separate country/State"),o.qZA(),o.qZA(),o.TgZ(280,"td"),o.TgZ(281,"label",151),o.TgZ(282,"input",152),o.NdJ("change",function(){return t.IsShowCountryState=1!=t.IsShowCountryState}),o.qZA(),o._UZ(283,"span",153),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(284,"div",121),o.TgZ(285,"button",95),o.NdJ("click",function(){return o.CHM(n),o.MAs(256).hide()}),o._uU(286,"Close"),o.qZA(),o.TgZ(287,"button",94),o.NdJ("click",function(){return t.ConfigurationSave()}),o._uU(288,"Save"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(289,"div",154,155),o.TgZ(291,"div",156),o.TgZ(292,"div",46),o.TgZ(293,"div",91),o.TgZ(294,"h4",48),o._uU(295,"Standard Configuration "),o.qZA(),o.TgZ(296,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(290).hide()}),o.TgZ(297,"span",50),o._uU(298,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(299,"div",115),o.TgZ(300,"div",116),o.TgZ(301,"table"),o.TgZ(302,"tr"),o.TgZ(303,"td",149),o.TgZ(304,"strong",150),o._uU(305,"Show Cost Center Details"),o.qZA(),o.qZA(),o.TgZ(306,"td"),o.TgZ(307,"label",151),o.TgZ(308,"input",152),o.NdJ("change",function(){return t.IsShowCostCenter=1!=t.IsShowCostCenter}),o.qZA(),o._UZ(309,"span",153),o.qZA(),o.qZA(),o.qZA(),o.TgZ(310,"tr"),o.TgZ(311,"td",149),o.TgZ(312,"strong",150),o._uU(313,"Allow Separate country/State"),o.qZA(),o.qZA(),o.TgZ(314,"td"),o.TgZ(315,"label",151),o.TgZ(316,"input",152),o.NdJ("change",function(){return t.IsShowCountryState=1!=t.IsShowCountryState}),o.qZA(),o._UZ(317,"span",153),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(318,"div",121),o.TgZ(319,"button",95),o.NdJ("click",function(){return o.CHM(n),o.MAs(290).hide()}),o._uU(320,"Close"),o.qZA(),o.TgZ(321,"button",94),o.NdJ("click",function(){return t.ConfigurationSave()}),o._uU(322,"Save"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(323,"div",81,157),o.TgZ(325,"div",112),o.TgZ(326,"form",113,114),o.NdJ("ngSubmit",function(){return o.CHM(n),o.MAs(183).form.valid&&t.closeRecptDetailsModel()}),o.TgZ(328,"div",98),o.TgZ(329,"div",91),o.TgZ(330,"h4",48),o._uU(331,"Receipt Details"),o.qZA(),o.TgZ(332,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(324).hide()}),o.TgZ(333,"span",50),o._uU(334,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(335,"div",115),o.TgZ(336,"div",116),o.TgZ(337,"div",117),o.TgZ(338,"div",118),o.TgZ(339,"label",119),o._uU(340,"Receipt Note No.(s)"),o.qZA(),o.TgZ(341,"ng-select",158,159),o.NdJ("ngModelChange",function(e){return t.ReceiptDetails=e})("change",function(){return t.onSelectionChange()}),o.TgZ(343,"ng-option",160),o._uU(344,"End Of List"),o.qZA(),o.TgZ(345,"ng-option",161),o._uU(346,"New Number"),o.qZA(),o.TgZ(347,"ng-option",162),o._uU(348,"Not Applicable"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(349,"div",121),o.TgZ(350,"button",122),o._uU(351,"Save Changes"),o.qZA(),o.TgZ(352,"button",123),o.NdJ("click",function(){return o.CHM(n),o.MAs(324).hide()}),o._uU(353,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(354,"div",81,163),o.TgZ(356,"div",112),o.TgZ(357,"form",113,114),o.NdJ("ngSubmit",function(){return o.CHM(n),o.MAs(183).form.valid&&t.NewTrackingModels()}),o.TgZ(359,"div",98),o.TgZ(360,"div",91),o.TgZ(361,"h4",48),o._uU(362,"New Number"),o.qZA(),o.TgZ(363,"button",49),o.NdJ("click",function(){return o.CHM(n),o.MAs(355).hide()}),o.TgZ(364,"span",50),o._uU(365,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(366,"div",115),o.TgZ(367,"div",116),o.TgZ(368,"div",117),o.TgZ(369,"div",118),o.TgZ(370,"input",164,165),o.NdJ("ngModelChange",function(e){return t.NewTrackingNumber=e}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(372,"div",121),o.TgZ(373,"button",122),o._uU(374,"Save Changes"),o.qZA(),o.TgZ(375,"button",123),o.NdJ("click",function(){return o.CHM(n),o.MAs(355).hide()}),o._uU(376,"Close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(6),r=o.MAs(16),a=o.MAs(48),l=o.MAs(69),s=o.MAs(86),c=o.MAs(219),u=o.MAs(226),d=o.MAs(236),g=o.MAs(243);o.ekj("itemvoucher",t.IsItemVoucher),o.Q6J("ngClass",t.vouchertypeclass),o.xp6(1),o.Udp("display",t.isLedgerpopupopen||t.showCompanyLedgerpopup||t.isCostCenterpopupopen||t.isGodownMasterpopupopen||t.isInventorypopupopen||t.showChallanModal?"none":"block"),o.Q6J("hidden",!t.isList),o.xp6(1),o.Q6J("ngIf",!t.companyLedgerService.IsMobileview),o.xp6(1),o.Q6J("ngIf",t.companyLedgerService.IsMobileview),o.xp6(8),o.Q6J("ngModel",t.accountService.singleresult.VNO),o.xp6(4),o.ekj("invalid-feedback",i.submitted&&r.invalid),o.Q6J("startDate",t.accountService.singleresult.VDt)("ngClass",o.VKq(119,je,i.submitted&&r.invalid)),o.xp6(2),o.Q6J("ngIf",("RealEstate"==t.accountService.getCompanyData.Type||"Trading"==t.accountService.getCompanyData.Type||"Manufacturing"==t.accountService.getCompanyData.Type)&&("Debit Note"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT||"Purchase"==t.accountService.singleresult.VT||"Sales"==t.accountService.singleresult.VT)&&t.accountService.IsMobileview),o.xp6(1),o.Q6J("ngIf","Purchase"==t.accountService.singleresult.VT||"Receipt Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf","Purchase"==t.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",!t.IsCRDR||t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf","Debit Note"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf","RealEstate"==t.accountService.getCompanyData.Type||"CRM"==t.accountService.getCompanyData.Type),o.xp6(1),o.Q6J("ngIf","Receipt"==t.accountService.singleresult.VT&&("RealEstate"==t.accountService.getCompanyData.Type||"CRM"==t.accountService.getCompanyData.Type)),o.xp6(1),o.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type&&t.ShowCostCenter),o.xp6(1),o.Q6J("ngIf",t.Ispaymode),o.xp6(1),o.Q6J("ngIf",t.IsSignupMaintenancePayment),o.xp6(1),o.Q6J("ngIf",t.IspayAddOnPayment),o.xp6(1),o.Q6J("ngIf",t.IspayAddOnPayment),o.xp6(1),o.Q6J("ngIf",("Debit Note"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT||"Purchase"==t.accountService.singleresult.VT||"Sales"==t.accountService.singleresult.VT||"Receipt Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT)&&t.ShowCountryState),o.xp6(1),o.Q6J("ngIf",t.ShowCountryState),o.xp6(1),o.Q6J("ngIf","Journal"==t.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",1==t.IsStatAdjust),o.xp6(1),o.Q6J("ngIf",(!t.IsCRDR||t.IsItemVoucher)&&"Purchase"==t.accountService.singleresult.VT||"Sales"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT||"Debit Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"Receipt Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",(!t.IsCRDR||t.IsItemVoucher)&&"Purchase"==t.accountService.singleresult.VT||"Sales"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT||"Debit Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"Receipt Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT),o.xp6(1),o.Q6J("ngIf",t.accountService.IsMobileview),o.xp6(1),o.Q6J("ngIf",t.accountService.IsMobileview),o.xp6(1),o.Q6J("ngIf",t.accountService.IsMobileview),o.xp6(1),o.Q6J("ngIf",t.accountService.IsMobileview&&t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",t.accountService.IsMobileview&&t.IsItemVoucher),o.xp6(2),o.Q6J("ngIf",!t.accountService.IsMobileview),o.xp6(1),o.Q6J("ngIf",!t.accountService.IsMobileview&&t.IsItemVoucher),o.xp6(4),o.Q6J("ngClass",o.VKq(121,je,i.submitted&&a.invalid))("ngModel",t.accountService.singleresult.Narr),o.xp6(2),o.Q6J("ngIf",!t.companyLedgerService.IsMobileview),o.xp6(1),o.Q6J("ngIf",!t.IsCRDR||t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",t.companyLedgerService.IsMobileview),o.xp6(2),o.Q6J("ngIf",t.accountService.IsMobileview),o.xp6(1),o.Q6J("ngIf",null!=t.bankDetails&&t.bankDetails.length>0),o.xp6(1),o.Q6J("ngIf",!t.accountService.isMobile),o.xp6(1),o.Q6J("ngIf",t.accountService.isMobile),o.xp6(15),o.Q6J("ngIf",t.IsCRDR&&!t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",t.IsItemVoucher),o.xp6(2),o.Q6J("ngIf",t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!t.IsCRDR||t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf","Contra"!=t.accountService.singleresult.VT&&!t.IsItemVoucher&&"Purchase"!=t.accountService.singleresult.VT&&"Sales"!=t.accountService.singleresult.VT&&"Debit Note"!=t.accountService.singleresult.VT&&"Credit Note"!=t.accountService.singleresult.VT&&"Delivery Note"!=t.accountService.singleresult.VT&&"Receipt Note"!=t.accountService.singleresult.VT),o.xp6(3),o.Q6J("ngIf",!t.IsCRDR||t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",t.IsCRDR&&!t.IsItemVoucher),o.xp6(1),o.Q6J("ngClass",o.VKq(123,je,l.submitted&&s.invalid))("disabled",-1!=t.modalLedgerIndex&&null!=t.godownPopupDetails&&null!=t.godownPopupDetails&&t.godownPopupDetails.length>0||t.IsCRDR&&"Cr"==t.modalCrDr)("ngModel",t.modalDrAmt),o.xp6(2),o.Q6J("ngIf",l.submitted&&s.invalid),o.xp6(1),o.Q6J("ngIf",t.IsCRDR&&!t.IsItemVoucher),o.xp6(1),o.Q6J("ngIf",!t.IsCRDR&&null!=t.modalLedger&&null!=t.modalLedger||t.IsItemVoucher),o.xp6(9),o.Q6J("ngIf",t.modalLedgerIndex>=0),o.xp6(4),o.Q6J("ngIf",t.showReferencepopup),o.xp6(3),o.Q6J("ngIf",t.showReferencepopup),o.xp6(3),o.Q6J("ngIf",t.showInventorypopup),o.xp6(3),o.Q6J("ngIf",t.showInventorypopup),o.xp6(4),o.Q6J("ngIf",t.showChallanpopup),o.xp6(3),o.Q6J("ngIf",t.showChallanpopup),o.xp6(1),o.Q6J("ngIf",t.showCompanyLedgerpopup),o.xp6(1),o.Q6J("ngIf",t.isLedgerpopupopen),o.xp6(1),o.Q6J("ngIf",t.showChallanModal),o.xp6(11),o.Q6J("SMSDescription",t.SMSDescription)("Mobileinput",t.Mobile),o.xp6(11),o.Q6J("ngIf",1==t.IsHideEmail),o.xp6(4),o.Q6J("demandhtml",t.demandhtml)("IsHideEmail",t.IsHideEmail)("emailinput",t.Email),o.xp6(2),o.Q6J("ngIf",1==t.IsHideEmail),o.xp6(1),o.Q6J("ngIf",0==t.IsHideEmail),o.xp6(8),o.Q6J("ngIf",1==t.IsHideEmail),o.xp6(4),o.Q6J("demandhtml",t.demandhtml)("IsHideEmail",t.IsHideEmail)("emailinput",t.Email),o.xp6(2),o.Q6J("ngIf",1==t.IsHideEmail),o.xp6(1),o.Q6J("ngIf",0==t.IsHideEmail),o.xp6(3),o.Q6J("ngIf",t.isInventorypopupopen),o.xp6(3),o.Q6J("ngIf",t.showReceiptDeliverynpopup),o.xp6(3),o.Q6J("ngIf",t.showReceiptDeliveryModal),o.xp6(1),o.Q6J("ngIf",t.isCostCenterpopupopen),o.xp6(3),o.Q6J("ngIf",t.showstatAdjustmentnpopup),o.xp6(19),o.Q6J("virtualScroll",!0)("ngModel",t.natureoftransaction)("items",t.transactiontype)("loading",t.natureofTranService.loading),o.xp6(8),o.Q6J("ngIf",t.showJournalTax),o.xp6(1),o.Q6J("ngIf",t.isGodownMasterpopupopen),o.xp6(18),o.Q6J("virtualScroll",!0)("items",t.ToLedger)("ngClass",o.VKq(125,je,c.submitted&&u.invalid))("ngModel",t.modalLedger)("loading",t.companyLedgerService.loading),o.xp6(6),o.Q6J("ngIf",c.submitted&&u.invalid),o.xp6(4),o.Q6J("ngClass",o.VKq(127,je,c.submitted&&d.invalid))("ngModel",t.modalRate),o.xp6(3),o.Q6J("ngIf",c.submitted&&d.invalid),o.xp6(4),o.Q6J("ngClass",o.VKq(129,je,c.submitted&&g.invalid))("ngModel",t.modalDrAmt),o.xp6(3),o.Q6J("ngIf",c.submitted&&g.invalid),o.xp6(10),o.Q6J("ngIf",t.modalLedgerIndex>=0),o.xp6(20),o.Q6J("checked",1==t.IsShowCostCenter),o.xp6(8),o.Q6J("checked",1==t.IsShowCountryState),o.xp6(26),o.Q6J("checked",1==t.IsShowCostCenter),o.xp6(8),o.Q6J("checked",1==t.IsShowCountryState),o.xp6(25),o.Q6J("ngModel",t.ReceiptDetails),o.xp6(29),o.Q6J("ngModel",t.NewTrackingNumber)}},directives:[N.mk,N.O5,Q._Y,Q.JL,Q.F,F.u,Q.Fj,Q.JJ,Q.On,E.x,Y.q,G.oB,Q.wV,Q.Q7,Q.c5,H.X,B.R,$.w9,$.A3,$.bb,$.Z2,$.xv,j.gu,K.g,Q.nD,z.X,W.a,X.i9,N.sg,ee.Y,Q._,te.a,ne.k,ie.N,re.q,e,oe.d,ae.L],pipes:[le.s],styles:['@charset "UTF-8";.column[_ngcontent-%COMP%]{float:left;width:50%;padding:10px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-clip:padding-box;outline:0;background-color:#fff;border-color:#00001533}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:auto;margin:0!important;pointer-events:none}@media only screen and (min-device-width: 320px) and (max-device-width: 480px){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (min-width: 321px){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (max-width: 320px){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (-webkit-min-device-pixel-ratio: 1.5),only screen and (min-device-pixel-ratio: 1.5){.md-textarea[_ngcontent-%COMP%]{width:160px!important}}.ng-dropdown-panel[_ngcontent-%COMP%]   .maxpanel[_ngcontent-%COMP%]{min-width:275px!important}body[_ngcontent-%COMP%]{padding:50px;background:#fff}.wrapper[_ngcontent-%COMP%]{width:70%}@media (max-width: 992px){.wrapper[_ngcontent-%COMP%]{width:100%}}.panel-heading[_ngcontent-%COMP%]{padding:0;border:0}.a[_ngcontent-%COMP%]{text-decoration:none;color:gray!important}body[_ngcontent-%COMP%]{color:#6a6c6f;background-color:#f1f3f6;margin-top:30px}.container[_ngcontent-%COMP%]{max-width:960px}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:#e4e5e7;padding:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 15px;color:currentcolor;background-color:#e6e6fa}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:relative;top:1px;display:inline-block;font-family:"Glyphicons Halflings";font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;float:right;transition:transform .25s linear;-webkit-transition:-webkit-transform .25s linear}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]   a[aria-expanded=true][_ngcontent-%COMP%]:after{content:"\\2212";transform:rotate(180deg)}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]   a[aria-expanded=false][_ngcontent-%COMP%]:after{content:"+";transform:rotate(90deg)}.accordion-option[_ngcontent-%COMP%]{width:100%;float:left;clear:both;margin:15px 0}.accordion-option[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:bold;float:left;padding:0;margin:0}.accordion-option[_ngcontent-%COMP%]   .toggle-accordion[_ngcontent-%COMP%]{float:right;font-size:16px;color:#6a6c6f}.accordion-option[_ngcontent-%COMP%]   .toggle-accordion[_ngcontent-%COMP%]:before{content:"Expand All"}.accordion-option[_ngcontent-%COMP%]   .toggle-accordion.active[_ngcontent-%COMP%]:before{content:"Collapse All"}.dropup[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:auto;left:54%;bottom:100%;margin-top:0;margin-bottom:.125rem}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-select-bottom[_ngcontent-%COMP%]{min-width:450px!important}.radio-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.radio-options[_ngcontent-%COMP%]{display:flex}.radio-option[_ngcontent-%COMP%]{margin-right:20px;display:flex;align-items:center}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:5px;margin-bottom:.5rem}']}),e}()},86410:function(e,t,n){n.d(t,{C:function(){return Ii}});var i=n(64762),r=n(33018),a=n(84659),c=n(78980),u=n(66203),d=n(65978),g=n(58679),h=n(32364),p=n(18454),f=n(82316),v=n(49457),m=n(27541),T=n(24498),I=n(65178),Z=n(44667),A=n(92859),x=n(10578),y=n(12868),S=n(38583),D=n(89401),C=n(89525),b=n(16767),N=n(80762),w=n(91113),M=n(25575),q=n(43647),L=n(3679),V=n(66496),_=n(3001),U=n(6642),R=n(41768),k=n(48429),J=n(87520),P=n(21974),O=n(37919),Q=n(65452),F=n(28879),E=n(3359),Y=n(53321),G=n(14868),H=["Ledgerdb"],B=["ITable"],j=["RefModal"],K=["LedgerModal"],z=["LedchangeModal"],W=["EmailModel"],X=["MessageModal"],ee=["PayModal"],te=["ExportModal"],ne=["LedgerHistoryModal"],ie=["SearchModal"],re=["search"],oe=["DatechangeModal"],ae=["ionInfinitescroll"],le=["ionvscroll"],se=["startdate"];function ce(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"li",177),r.TgZ(1,"ng-select",178,179),r.NdJ("scrollToEnd",function(){return r.CHM(n),r.oxw(2).companyService.ScrollDown()})("ngModelChange",function(e){return r.CHM(n),r.oxw(2).selectedCompany=e})("change",function(){r.CHM(n);var e=r.MAs(2),t=r.oxw(2);return t.SelectCompany(e.value),t.FilterData(0)}),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(1),r.Q6J("virtualScroll",!0)("items",i.companyService.result)("ngModel",i.selectedCompany)("clearable",!1)}}function ue(e,t){1&e&&r._uU(0),2&e&&r.hij(" ",t.item.LN," ")}function de(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a"),r._uU(1),r.qZA(),r.TgZ(2,"a",180),r.NdJ("click",function(){var e=r.CHM(n).item;return r.oxw(2).openLedgerPopup(e.UIDN)}),r._UZ(3,"i",181),r.qZA(),r.TgZ(4,"a",182),r.TgZ(5,"i",183),r.NdJ("click",function(){var e=r.CHM(n).item;return r.oxw(2).OpenLedgerHistoryPopUp(e.UIDN)}),r.qZA(),r.qZA()}if(2&e){var i=t.item,o=r.oxw(2);r.xp6(1),r.Oqu(i.LN),r.xp6(1),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId)}}function ge(e,t){1&e&&(r.TgZ(0,"ng-option",184),r._uU(1," Contra"),r.qZA())}function he(e,t){1&e&&(r.TgZ(0,"ng-option",185),r._uU(1," Purchase"),r.qZA())}function pe(e,t){1&e&&(r.TgZ(0,"ng-option",186),r._uU(1," Receipt"),r.qZA())}function fe(e,t){1&e&&(r.TgZ(0,"ng-option",187),r._uU(1," Payment"),r.qZA())}function ve(e,t){1&e&&(r.TgZ(0,"ng-option",188),r._uU(1," Purchase Order"),r.qZA())}function me(e,t){1&e&&(r.TgZ(0,"ng-option",189),r._uU(1,"Credit Note"),r.qZA())}function Te(e,t){1&e&&(r.TgZ(0,"ng-option",190),r._uU(1,"Debit Note"),r.qZA())}function Ie(e,t){1&e&&(r.TgZ(0,"ng-option",191),r._uU(1,"Sales Order"),r.qZA())}function Ze(e,t){1&e&&(r.TgZ(0,"ng-option",192),r._uU(1,"Receipt Note"),r.qZA())}function Ae(e,t){1&e&&(r.TgZ(0,"ng-option",193),r._uU(1,"Delivery Note"),r.qZA())}function xe(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",210),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).openTransaction("Contra","",!1,0,!1,!1)}),r._uU(1," Contra "),r.TgZ(2,"span",198),r._uU(3,"(F4)"),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function ye(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",211),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).openTransaction("Purchase","",!1,0,!1,!1)}),r._uU(1," Purchase "),r.TgZ(2,"span",198),r._uU(3,"(F9)"),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Se(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",212),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).openTransaction("Receipt","",!1,0,!1,!1)}),r._uU(1," Receipt "),r.TgZ(2,"span",198),r._uU(3,"(F6)"),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function De(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",205),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).openTransaction("Payment","",!1,0,!1,!1)}),r._uU(1," Payment "),r.TgZ(2,"span",198),r._uU(3,"(F10)"),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ce(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",211),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).openTransaction("PurchaseOrder","",!1,0,!1,!1)}),r._uU(1," Purchase Order "),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function be(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",213),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).openTransaction("Credit Note","",!1,0,!1,!1)}),r._uU(1," Credit Note "),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ne(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",214),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).openTransaction("Debit Note","",!1,0,!1,!1)}),r._uU(1," Debit Note "),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function we(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",205),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).ChangeLedger()}),r._uU(1," Change Ledger "),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Me(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",205),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).ChangeReference()}),r._uU(1," Change Reference "),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function qe(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",209),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).UnhideSelectedVouchers()}),r._uU(1," UnHide Selected Vouchers "),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Le(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",209),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(4).HideSelectedVouchers()}),r._uU(1," Hide Selected Vouchers "),r.qZA()}if(2&e){var i=r.oxw(4);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ve(e,t){if(1&e){var n=r.EpF();r.ynx(0),r.YNc(1,xe,4,2,"a",196),r.TgZ(2,"a",197),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).openTransaction("Journal","",!1,0,!1,!1)}),r._uU(3," Journal "),r.TgZ(4,"span",198),r._uU(5,"(F7)"),r.qZA(),r.qZA(),r.TgZ(6,"a",199),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).openTransaction("Sales","",!1,0,!1,!1)}),r._uU(7," Sales "),r.TgZ(8,"span",198),r._uU(9,"(F8)"),r.qZA(),r.qZA(),r.YNc(10,ye,4,2,"a",200),r.YNc(11,Se,4,2,"a",201),r.YNc(12,De,4,2,"a",202),r.YNc(13,Ce,2,2,"a",200),r.YNc(14,be,2,2,"a",203),r.YNc(15,Ne,2,2,"a",204),r.TgZ(16,"a",205),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).Datechangepopup()}),r._uU(17," Change Date "),r.qZA(),r.TgZ(18,"a",206),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).MultipleVoucherDelete()}),r._uU(19," Multiple Delete "),r.qZA(),r.TgZ(20,"a",207),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).FinalizeVoucher(!0)}),r._uU(21," Finalize Vouchers "),r.qZA(),r.TgZ(22,"a",207),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).FinalizeVoucher(!1)}),r._uU(23," Undo-Finalize Vouchers "),r.qZA(),r.YNc(24,we,2,2,"a",202),r.YNc(25,Me,2,2,"a",202),r.TgZ(26,"a",205),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).ExportTallyXML()}),r._uU(27," XML Export "),r.qZA(),r.YNc(28,qe,2,2,"a",208),r.TgZ(29,"a",209),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).HiddenVoucherEffect(!0)}),r._uU(30," Want to See Hidden Voucher effect in Report? "),r.qZA(),r.TgZ(31,"a",209),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).HiddenVoucherEffect(!1)}),r._uU(32," Want to Remove Hidden Voucher effect in Report? "),r.qZA(),r.YNc(33,Le,2,2,"a",208),r.BQk()}if(2&e){var i=r.oxw(3);r.xp6(1),r.Q6J("ngIf","CRM"!=i.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(4),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(4),r.Q6J("ngIf","CRM"!=i.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=i.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=i.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=i.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=i.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=i.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("ngIf",i.IsLedgerChange),r.xp6(1),r.Q6J("ngIf",i.IsLedgerChange),r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("ngIf","Hidden Vouchers"==i.PageType),r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("ngIf","Hidden Vouchers"!=i.PageType)}}function _e(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",215),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).ResVoucher()}),r._uU(1," Restore Vouchers "),r.qZA()}if(2&e){var i=r.oxw(3);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ue(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",215),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(3).PermanentDeleteVoucher()}),r._uU(1," Permanant Delete "),r.qZA()}if(2&e){var i=r.oxw(3);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Re(e,t){if(1&e&&(r.TgZ(0,"div",194),r.YNc(1,Ve,34,29,"ng-container",5),r.YNc(2,_e,2,2,"a",195),r.YNc(3,Ue,2,2,"a",195),r.qZA()),2&e){var n=r.oxw(2);r.xp6(1),r.Q6J("ngIf","Restorevoucher"!=n.PageType),r.xp6(1),r.Q6J("ngIf","Restore Vouchers"==n.PageType),r.xp6(1),r.Q6J("ngIf","Restore Vouchers"==n.PageType)}}var ke=function(e){return{"is-invalid":e}};function Je(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",144),r.TgZ(1,"ul",145),r.TgZ(2,"li",146),r.TgZ(3,"button",147),r.NdJ("click",function(){return r.CHM(n),r.oxw().goback()}),r._UZ(4,"i",148),r.qZA(),r.qZA(),r.YNc(5,ce,3,4,"li",149),r.TgZ(6,"li",150),r.TgZ(7,"input",82,83),r.NdJ("selected",function(e){return r.CHM(n),r.oxw().startdateSelect(e)}),r.qZA(),r.qZA(),r.TgZ(9,"li"),r.TgZ(10,"input",85,86),r.NdJ("selected",function(e){return r.CHM(n),r.oxw().enddateSelect(e)}),r.qZA(),r.qZA(),r.TgZ(12,"li",151),r.TgZ(13,"ng-select",152,153),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().companyLedgerService.singleresult=e})("ngModelChange",function(e){return r.CHM(n),r.oxw().onLedgerChange(e)}),r.YNc(15,ue,1,1,"ng-template",45),r.YNc(16,de,6,3,"ng-template",46),r.qZA(),r.qZA(),r.TgZ(17,"li",154),r.TgZ(18,"button",155),r.NdJ("click",function(){r.CHM(n);var e=r.MAs(29),t=r.oxw();return e.form.valid&&t.FilterData(0)}),r._UZ(19,"span",156),r.TgZ(20,"span",157),r._uU(21,"Search"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(22,"li",158),r.TgZ(23,"button",159),r._UZ(24,"span",160),r.TgZ(25,"span",157),r._uU(26,"Filter"),r.qZA(),r.qZA(),r.TgZ(27,"div",161),r.NdJ("click",function(e){return e.stopPropagation()}),r.TgZ(28,"form",76,77),r.NdJ("ngSubmit",function(){r.CHM(n);var e=r.MAs(29),t=r.oxw();return e.form.valid&&t.FilterData(0)}),r.TgZ(30,"div",78),r.TgZ(31,"div",162),r.TgZ(32,"label",96),r._uU(33," Range"),r.qZA(),r.TgZ(34,"div",97),r.TgZ(35,"ng-select",163,99),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().amounttype=e}),r.TgZ(37,"ng-option",100),r._uU(38,"Greaterthan"),r.qZA(),r.TgZ(39,"ng-option",101),r._uU(40,"Lessthan"),r.qZA(),r.TgZ(41,"ng-option",102),r._uU(42,"EqualTo "),r.qZA(),r.TgZ(43,"ng-option",103),r._uU(44,"NotEqualTo"),r.qZA(),r.qZA(),r.TgZ(45,"input",164,105),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().amountvall=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(47,"div",162),r.TgZ(48,"label",165),r._uU(49,"Select Ledger/Group to Filter"),r.qZA(),r.TgZ(50,"ng-select",166,167),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().filterInnerLedger=e}),r.qZA(),r.qZA(),r.TgZ(52,"div",162),r.TgZ(53,"label",107),r._uU(54," Instrument No "),r.qZA(),r.TgZ(55,"input",108,109),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().instrumentno=e}),r.qZA(),r.qZA(),r.TgZ(57,"div",168),r.TgZ(58,"label",110),r._uU(59," Instrument Date "),r.qZA(),r.TgZ(60,"input",111,83),r.NdJ("selected",function(e){return r.CHM(n),r.oxw().ondybkdateSelect(e)}),r.qZA(),r.qZA(),r.TgZ(62,"div",162),r.TgZ(63,"label",112),r._uU(64," Narration "),r.qZA(),r.TgZ(65,"input",113,114),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().nurration=e}),r.qZA(),r.qZA(),r.TgZ(67,"div",162),r.TgZ(68,"label",115),r._uU(69," Voucher No "),r.qZA(),r.TgZ(70,"input",116,117),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().VoucherNum=e}),r.qZA(),r.qZA(),r.TgZ(72,"div",162),r.TgZ(73,"label",119),r._uU(74," Voucher"),r.qZA(),r.TgZ(75,"ng-select",120,121),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().voucherType=e}),r.YNc(77,ge,2,0,"ng-option",122),r.TgZ(78,"ng-option",123),r._uU(79,"Journal"),r.qZA(),r.TgZ(80,"ng-option",124),r._uU(81," Sales"),r.qZA(),r.YNc(82,he,2,0,"ng-option",125),r.YNc(83,pe,2,0,"ng-option",126),r.YNc(84,fe,2,0,"ng-option",127),r.YNc(85,ve,2,0,"ng-option",128),r.YNc(86,me,2,0,"ng-option",129),r.YNc(87,Te,2,0,"ng-option",130),r.YNc(88,Ie,2,0,"ng-option",169),r.YNc(89,Ze,2,0,"ng-option",131),r.YNc(90,Ae,2,0,"ng-option",132),r.qZA(),r.qZA(),r.TgZ(91,"div",170),r.TgZ(92,"div",171),r.TgZ(93,"button",172),r.NdJ("click",function(e){r.CHM(n);var t=r.oxw();return t.ClearFilter(),t.clearfilterandloadnewdata(),t.toggleDropdown(e)}),r._uU(94," Clear Filter "),r.qZA(),r.TgZ(95,"button",173),r.NdJ("click",function(e){return r.CHM(n),r.oxw().toggleDropdown(e)}),r._UZ(96,"i",138),r._uU(97,"Search "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(98,"div",158),r.TgZ(99,"button",174),r._UZ(100,"span",175),r.TgZ(101,"span",157),r._uU(102,"Voucher"),r.qZA(),r.qZA(),r.YNc(103,Re,4,3,"div",176),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=r.MAs(14),o=r.MAs(51),a=r.oxw();r.xp6(5),r.Q6J("ngIf",a.isInterCompany),r.xp6(2),r.Q6J("startDate",a.StartDate),r.xp6(3),r.Q6J("startDate",a.EndDate),r.xp6(3),r.Q6J("virtualScroll",!0)("items",a.allLedgers)("required","Group"==a.PageType||"Ledger"==a.PageType)("ngClass",r.VKq(33,ke,i.invalid))("ngModel",a.companyLedgerService.singleresult)("loading",a.companyLedgerService.loading),r.xp6(22),r.Q6J("ngModel",a.amounttype),r.xp6(10),r.Q6J("ngModel",a.amountvall),r.xp6(5),r.Q6J("virtualScroll",!0)("items",a.allLedgerAndGrp)("ngClass",r.VKq(35,ke,o.invalid))("ngModel",a.filterInnerLedger)("disabled",!a.isFirstDropdownSelected),r.xp6(5),r.Q6J("ngModel",a.instrumentno),r.xp6(5),r.Q6J("startDate",a.instrumentdate),r.xp6(5),r.Q6J("ngModel",a.nurration),r.xp6(5),r.Q6J("ngModel",a.VoucherNum),r.xp6(5),r.Q6J("multiple",!0)("ngModel",a.voucherType),r.xp6(2),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(5),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=a.accountService.getCompanyData.Type),r.xp6(13),r.Q6J("ngIf",!a.accountService.IsMobileview)}}function Pe(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Ledger Report"),r.qZA(),r.qZA())}function Oe(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Group Report"),r.qZA(),r.qZA())}function Qe(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Finalize Report"),r.qZA(),r.qZA())}function Fe(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Restore Voucher"),r.qZA(),r.qZA())}function Ee(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Monthly Summary"),r.qZA(),r.qZA())}function Ye(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Daybook"),r.qZA(),r.qZA())}function Ge(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Hidden Vouchers"),r.qZA(),r.qZA())}function He(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",216),r.TgZ(1,"ul",145),r.TgZ(2,"li",217),r.TgZ(3,"ion-icon",218),r.NdJ("click",function(){return r.CHM(n),r.oxw().goback()}),r.qZA(),r.qZA(),r.TgZ(4,"li",217),r.TgZ(5,"ion-icon",219),r.NdJ("click",function(){return r.CHM(n),r.oxw().advSearchM()}),r.qZA(),r.qZA(),r.TgZ(6,"li",220),r.TgZ(7,"div",221),r.YNc(8,Pe,3,0,"span",5),r.YNc(9,Oe,3,0,"span",5),r.YNc(10,Qe,3,0,"span",5),r.YNc(11,Fe,3,0,"span",5),r.YNc(12,Ee,3,0,"span",5),r.YNc(13,Ye,3,0,"span",5),r.YNc(14,Ge,3,0,"span",5),r.qZA(),r.qZA(),r.TgZ(15,"li",222),r.TgZ(16,"ion-icon",223),r.NdJ("click",function(e){return r.CHM(n),r.oxw().sortPopover(e)}),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=r.oxw();r.xp6(8),r.Q6J("ngIf","Ledger"==i.PageType),r.xp6(1),r.Q6J("ngIf","Group"==i.PageType),r.xp6(1),r.Q6J("ngIf","Finalize Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf","Restore Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf","Monthly Summary"==i.PageType),r.xp6(1),r.Q6J("ngIf","Daybook"==i.PageType),r.xp6(1),r.Q6J("ngIf","Hidden Vouchers"==i.PageType)}}function Be(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Ledger Report"),r.qZA(),r.qZA())}function $e(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Group Report"),r.qZA(),r.qZA())}function je(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Finalize Report"),r.qZA(),r.qZA())}function Ke(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Restore Voucher"),r.qZA(),r.qZA())}function ze(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Monthly Summary"),r.qZA(),r.qZA())}function We(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Daybook"),r.qZA(),r.qZA())}function Xe(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Hidden Vouchers"),r.qZA(),r.qZA())}function et(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",232),r.TgZ(1,"div",238),r.TgZ(2,"a",239),r.NdJ("click",function(){return r.CHM(n),r.oxw(3).OutstandingCall()}),r._uU(3,"Bill Wise"),r.qZA(),r.qZA(),r.qZA()}}function tt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",232),r.TgZ(1,"label",89),r.TgZ(2,"input",90),r.NdJ("change",function(){r.CHM(n);var e=r.oxw(3);return e.IsShowReference=1!=e.IsShowReference,e.changeData()}),r.qZA(),r._UZ(3,"span",91),r.qZA(),r.TgZ(4,"span",235),r._uU(5,"Show References"),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(3);r.xp6(2),r.Q6J("checked",1==i.IsShowReference)}}function nt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",229),r.TgZ(1,"div",30),r.TgZ(2,"div",230),r.YNc(3,Be,3,0,"span",5),r.YNc(4,$e,3,0,"span",5),r.YNc(5,je,3,0,"span",5),r.YNc(6,Ke,3,0,"span",5),r.YNc(7,ze,3,0,"span",5),r.YNc(8,We,3,0,"span",5),r.YNc(9,Xe,3,0,"span",5),r.qZA(),r.YNc(10,et,4,0,"div",231),r.TgZ(11,"div",232),r.TgZ(12,"label",233),r.TgZ(13,"input",234),r.NdJ("change",function(){r.CHM(n);var e=r.oxw(2);return e.IsShowDetails=1!=e.IsShowDetails,e.changeData()}),r.qZA(),r._UZ(14,"span",91),r.qZA(),r.TgZ(15,"span",235),r._uU(16,"Show Details"),r.qZA(),r.qZA(),r.YNc(17,tt,6,1,"div",231),r.TgZ(18,"div",236),r.TgZ(19,"div",237),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(3),r.Q6J("ngIf","Ledger"==i.PageType),r.xp6(1),r.Q6J("ngIf","Group"==i.PageType),r.xp6(1),r.Q6J("ngIf","Finalize Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf","Restore Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf","Monthly Summary"==i.PageType),r.xp6(1),r.Q6J("ngIf","Daybook"==i.PageType),r.xp6(1),r.Q6J("ngIf","Hidden Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf",i.IsLedgerChange),r.xp6(3),r.Q6J("checked",1==i.IsShowDetails),r.xp6(4),r.Q6J("ngIf",i.IsLedgerChange),r.xp6(3),r.Oqu(i.accountService.currentShowing)}}function it(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1,"Action"),r.qZA())}function rt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",242),r.TgZ(1,"input",256),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw(2).$implicit.Ick=e}),r.qZA(),r._UZ(2,"label",257),r.qZA()}if(2&e){var i=r.oxw(2),o=i.index,a=i.$implicit;r.xp6(1),r.MGl("id","item_",o,""),r.Q6J("checked",a.Ick)("ngModel",a.Ick),r.xp6(1),r.MGl("for","item_",o,"")}}function ot(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",258),r.NdJ("clickAllowed",function(){r.CHM(n);var e=r.oxw(2).$implicit;return r.oxw(3).openTransaction(e.VT,e.UIDN,e.BookingId,e.BkStatus,!1,e.IsFZ)}),r._uU(1),r.qZA()}if(2&e){var i=r.oxw(2).$implicit,o=r.oxw(3);r.s9C("mname",i.VT),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId),r.xp6(1),r.hij(" ",i.VNO," ")}}function at(e,t){if(1&e&&(r.TgZ(0,"span"),r._UZ(1,"dateformatter",259),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.s9C("dateValue",n.VDt)}}function lt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",n.VT,"")}}function st(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," (as per Details)"),r.qZA())}function ct(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(1),r.hij(" ",n.L_Name,"")}}function ut(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(1),r.hij(" ",n.Narration," ")}}function dt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(1),r.hij(" ",n.Narration," ")}}function gt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.Oqu(n.Narr)}}function ht(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.hij("Bill No-- ",n.BNO,"")}}function pt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.hij("Cost Center-- ",n.CCN,"")}}function ft(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.hij("Order Invoice No-- ",n.OINo,"")}}function vt(e,t){if(1&e&&(r.TgZ(0,"a",261),r._uU(1),r.qZA()),2&e){var n=t.index;r.s9C("href",t.$implicit.src,r.LSH),r.xp6(1),r.hij(" image",n+1," ")}}function mt(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,vt,2,2,"a",260),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",n.UploadImages)}}function Tt(e,t){if(1&e&&(r.ynx(0),r._UZ(1,"br"),r._uU(2),r.BQk()),2&e){var n=t.$implicit,i=t.index;r.xp6(2),r.HOy(" Ref ",i+1," - ",n.Ref_Type," -",n.Ref_Tag," - ",n.Dr>0?n.Dr+" Dr":n.Cr+" Cr"," ")}}function It(e,t){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,Tt,3,4,"ng-container",251),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",n.referencemaster)}}function Zt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",273),r.NdJ("clickAllowed",function(){r.CHM(n);var e=r.oxw(4).$implicit;return r.oxw(3).deleteVoucher(e.UIDN)}),r._UZ(1,"i",274),r.qZA()}if(2&e){var i=r.oxw(4).$implicit,o=r.oxw(3);r.s9C("mname",i.VT),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId)}}function At(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",275),r.NdJ("clickAllowed",function(){r.CHM(n);var e=r.oxw(4).$implicit;return r.oxw(3).accountService.delete(e.UIDN)}),r._UZ(1,"i",274),r.qZA()}if(2&e){var i=r.oxw(7);r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function xt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",263),r.TgZ(1,"a",264),r.NdJ("click",function(){r.CHM(n);var e=r.oxw(3).$implicit;return r.oxw(3).OnHide(e.UIDN)}),r._UZ(2,"i",265),r.qZA(),r.TgZ(3,"a",266),r.NdJ("clickAllowed",function(){r.CHM(n);var e=r.oxw(3).$implicit;return r.oxw(3).openTransaction(e.VT,e.UIDN,e.BookingId,e.BkStatus,!0,!1)}),r._UZ(4,"i",267),r.qZA(),r.TgZ(5,"a",268),r.NdJ("click",function(){r.CHM(n);var e=r.oxw(3).$implicit;return r.oxw(3).fileprint(e.UIDN)}),r._UZ(6,"i",269),r.qZA(),r.TgZ(7,"a",268),r.NdJ("click",function(){r.CHM(n);var e=r.oxw(3).$implicit;return r.oxw(3).OpenEmailPopup(e)}),r._UZ(8,"i",270),r.qZA(),r.YNc(9,Zt,2,3,"a",271),r.YNc(10,At,2,2,"a",272),r.qZA()}if(2&e){var i=r.oxw(3).$implicit,o=r.oxw(3);r.xp6(3),r.s9C("mname",i.VT),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId),r.xp6(6),r.Q6J("ngIf",null==i.IsFZ||0==i.IsFZ),r.xp6(1),r.Q6J("ngIf",1==i.IsFZ)}}function yt(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,xt,11,5,"div",262),r.qZA()),2&e){var n=r.oxw(),i=n.index,o=n.$implicit;r.xp6(1),r.Q6J("ngIf",0==i&&"0"!=o.LId)}}function St(e,t){if(1&e){var n=r.EpF();r.ynx(0),r.TgZ(1,"tr",252),r.NdJ("keydown.enter",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(3).openTransaction(e.VT,e.UIDN,e.BookingId,e.BkStatus,!1,e.IsFZ)})("keydown.arrowdown",function(){var e=r.CHM(n).index,t=r.oxw().index;return r.oxw(3).accountService.arrowDownEvent(e+t+151)})("keydown.arrowup",function(){var e=r.CHM(n).index,t=r.oxw().index;return r.oxw(3).accountService.arrowUpEvent(e+t+149)}),r.TgZ(2,"td"),r.YNc(3,rt,3,4,"div",253),r.qZA(),r.TgZ(4,"td"),r.YNc(5,ot,2,4,"a",254),r.qZA(),r.TgZ(6,"td"),r.YNc(7,at,2,1,"span",5),r.qZA(),r.TgZ(8,"td"),r.YNc(9,lt,2,1,"span",5),r.qZA(),r.TgZ(10,"td"),r.YNc(11,st,2,0,"span",5),r.YNc(12,ct,2,1,"span",5),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.ALo(17,"indianCurrency"),r.YNc(18,ut,2,1,"span",5),r.qZA(),r.TgZ(19,"td"),r._uU(20),r.ALo(21,"indianCurrency"),r.YNc(22,dt,2,1,"span",5),r.qZA(),r.TgZ(23,"td"),r.YNc(24,gt,2,1,"span",5),r.YNc(25,ht,2,1,"span",5),r.YNc(26,pt,2,1,"span",5),r.YNc(27,ft,2,1,"span",5),r.YNc(28,mt,2,1,"div",5),r.YNc(29,It,2,1,"span",5),r.qZA(),r.TgZ(30,"td",255),r._uU(31),r.qZA(),r.YNc(32,yt,2,1,"td",5),r.qZA(),r.BQk()}if(2&e){var i=t.$implicit,o=t.index,a=r.oxw(),l=a.$implicit,s=a.index,c=r.oxw(3);r.xp6(1),r.ekj("negative",1==l.IsFZ)("warning",1==l.isHide)("warningHideVoucherEffect",1==l.IsHideVouchAddToRep),r.s9C("tabindex",o+s+150),r.xp6(2),r.Q6J("ngIf",0==o&&"0"!=i.LId),r.xp6(2),r.Q6J("ngIf",0==o),r.xp6(2),r.Q6J("ngIf",0==o&&"0"!=i.LId),r.xp6(2),r.Q6J("ngIf",0==o),r.xp6(2),r.Q6J("ngIf",0==o&&i.LId>0&&c.IsShowDetails&&null!=c.companyLedgerService.singleresult&&null!=c.companyLedgerService.singleresult),r.xp6(1),r.Q6J("ngIf",i.LId<=0||!(0==o&&c.IsShowDetails&&null!=c.companyLedgerService.singleresult&&null!=c.companyLedgerService.singleresult)),r.xp6(2),r.Oqu(l.UsrName),r.xp6(2),r.hij(" ",r.lcZ(17,26,i.DrAmt)," "),r.xp6(2),r.Q6J("ngIf","Receipt Note"==l.VT),r.xp6(2),r.hij(" ",r.lcZ(21,28,i.CrAmt)," "),r.xp6(2),r.Q6J("ngIf","Delivery Note"==l.VT),r.xp6(2),r.Q6J("ngIf",0==o),r.xp6(1),r.Q6J("ngIf",0==o&&null!=l.BNO),r.xp6(1),r.Q6J("ngIf",0==o&&null!=l.CCN),r.xp6(1),r.Q6J("ngIf",0==o&&null!=l.OINo),r.xp6(1),r.Q6J("ngIf",null!=l.UploadImages&&l.UploadImages.length>0),r.xp6(1),r.Q6J("ngIf",0==o&&c.IsShowReference),r.xp6(2),r.Oqu(i.Email),r.xp6(1),r.Q6J("ngIf","Restorevoucher"!=c.PageType)}}function Dt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",n.DrAmt,"")}}function Ct(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",n.CrAmt,"")}}function bt(e,t){1&e&&(r.TgZ(0,"span",281),r._uU(1," Inst. No "),r.qZA())}function Nt(e,t){1&e&&(r.TgZ(0,"span",280),r._uU(1," check date "),r.qZA())}function wt(e,t){1&e&&(r.TgZ(0,"span",280),r._uU(1," Rec. Date "),r.qZA())}function Mt(e,t){if(1&e&&(r.TgZ(0,"div",277),r.YNc(1,bt,2,0,"span",278),r._uU(2),r.YNc(3,Nt,2,0,"span",279),r._UZ(4,"dateformatter",259),r.TgZ(5,"span",280),r._uU(6,"Amount"),r.qZA(),r._uU(7),r.YNc(8,wt,2,0,"span",279),r._UZ(9,"dateformatter",259),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf",""!=n.ChkNo&&null!=n.ChkNo),r.xp6(1),r.hij("",n.ChkNo," "),r.xp6(1),r.Q6J("ngIf",""!=n.ChkDt&&null!=n.ChkDt),r.xp6(1),r.s9C("dateValue",n.ChkDt),r.xp6(3),r.hij("",n.Led_Dr>0?n.Led_Dr:n.Led_Cr," "),r.xp6(1),r.Q6J("ngIf",""!=n.BRecoDt&&null!=n.BRecoDt),r.xp6(1),r.s9C("dateValue",n.BRecoDt)}}function qt(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,Mt,10,7,"div",276),r.qZA()),2&e){var n=t.$implicit,i=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",n.LId==i.LId||n.BLId==i.LId)}}function Lt(e,t){if(1&e&&(r.TgZ(0,"tr"),r._UZ(1,"td"),r._UZ(2,"td"),r._UZ(3,"td"),r._UZ(4,"td"),r.TgZ(5,"td"),r._uU(6),r.qZA(),r._UZ(7,"td"),r.TgZ(8,"td"),r.YNc(9,Dt,2,1,"span",5),r.qZA(),r.TgZ(10,"td"),r.YNc(11,Ct,2,1,"span",5),r.qZA(),r.TgZ(12,"td"),r.YNc(13,qt,2,1,"div",251),r.qZA(),r._UZ(14,"td"),r.qZA()),2&e){var n=r.oxw().$implicit,i=r.oxw().$implicit;r.xp6(6),r.hij("",n.L_Name," "),r.xp6(3),r.Q6J("ngIf","Delivery Note"!=i.VT),r.xp6(2),r.Q6J("ngIf","Delivery Note"!=i.VT),r.xp6(2),r.Q6J("ngForOf",i.bankDetails)}}function Vt(e,t){if(1&e&&(r.TgZ(0,"tr",283),r._uU(1,"\n                                    "),r.TgZ(2,"td",284),r._uU(3),r.qZA(),r._uU(4,"\n                                    "),r.TgZ(5,"td",285),r._uU(6),r.qZA(),r._uU(7,"\n                                "),r.qZA()),2&e){var n=t.$implicit;r.xp6(3),r.hij("challan No : ",n.ChNo,""),r.xp6(3),r.hij("Amount : ",n.Amt,"")}}function _t(e,t){if(1&e&&(r.TgZ(0,"template"),r._uU(1,"\n                                "),r.YNc(2,Vt,8,2,"tr",282),r._uU(3,"\n                            "),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(2),r.Q6J("ngForOf",n.challan)}}function Ut(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Lt,15,4,"tr",5),r.YNc(2,_t,4,1,"template",5),r.BQk()),2&e){var n=t.$implicit,i=r.oxw(4);r.xp6(1),r.Q6J("ngIf",1==i.IsShowDetails),r.xp6(1),r.Q6J("ngIf",null!=n.challan&&null!=n.challan&&n.challan.length>0)}}function Rt(e,t){if(1&e&&(r.ynx(0),r.YNc(1,St,33,30,"ng-container",251),r.YNc(2,Ut,3,2,"ng-container",251),r.BQk()),2&e){var n=t.$implicit;r.xp6(1),r.Q6J("ngForOf",n.VDet),r.xp6(1),r.Q6J("ngForOf",n.VDetlist)}}function kt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"table",240),r.TgZ(1,"thead",241),r.TgZ(2,"tr"),r.TgZ(3,"th"),r.TgZ(4,"div",242),r.TgZ(5,"input",243),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw(2).selectedAll=e})("change",function(e){return r.CHM(n),r.oxw(2).selectAllchange(e)}),r.qZA(),r._UZ(6,"label",244),r.qZA(),r.qZA(),r.TgZ(7,"th",245),r._uU(8,"No."),r.qZA(),r.TgZ(9,"th",246),r._uU(10,"Date"),r.qZA(),r.TgZ(11,"th",247),r._uU(12,"Type"),r.qZA(),r.TgZ(13,"th",248),r._uU(14,"Ledger Name"),r.qZA(),r.TgZ(15,"th",248),r._uU(16,"User Name"),r.qZA(),r.TgZ(17,"th",248),r._uU(18,"Dr Amount"),r.qZA(),r.TgZ(19,"th",248),r._uU(20,"Cr Amount"),r.qZA(),r.TgZ(21,"th"),r._uU(22,"Narration"),r.qZA(),r.YNc(23,it,2,0,"th",5),r.qZA(),r.qZA(),r.TgZ(24,"tbody",249,250),r.YNc(26,Rt,3,2,"ng-container",251),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(5),r.Q6J("checked",i.selectedAll)("ngModel",i.selectedAll),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(4),r.Q6J("ngIf","Restorevoucher"!=i.PageType),r.xp6(3),r.Q6J("ngForOf",i.accountService.result)}}function Jt(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Ledger Report"),r.qZA(),r.qZA())}function Pt(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Group Report"),r.qZA(),r.qZA())}function Ot(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Finalize Report"),r.qZA(),r.qZA())}function Qt(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Restore Voucher"),r.qZA(),r.qZA())}function Ft(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Monthly Summary"),r.qZA(),r.qZA())}function Et(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Daybook"),r.qZA(),r.qZA())}function Yt(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Hidden Vouchers"),r.qZA(),r.qZA())}function Gt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",232),r.TgZ(1,"div",238),r.TgZ(2,"a",239),r.NdJ("click",function(){return r.CHM(n),r.oxw(4).OutstandingCall()}),r._uU(3,"Bill Wise"),r.qZA(),r.qZA(),r.qZA()}}function Ht(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",232),r.TgZ(1,"label",89),r.TgZ(2,"input",90),r.NdJ("change",function(){r.CHM(n);var e=r.oxw(4);return e.IsShowReference=1!=e.IsShowReference,e.changeData()}),r.qZA(),r._UZ(3,"span",91),r.qZA(),r.TgZ(4,"span",235),r._uU(5,"Show References"),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(4);r.xp6(2),r.Q6J("checked",1==i.IsShowReference)}}function Bt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",229),r.TgZ(1,"div",30),r.TgZ(2,"div",230),r.YNc(3,Jt,3,0,"span",5),r.YNc(4,Pt,3,0,"span",5),r.YNc(5,Ot,3,0,"span",5),r.YNc(6,Qt,3,0,"span",5),r.YNc(7,Ft,3,0,"span",5),r.YNc(8,Et,3,0,"span",5),r.YNc(9,Yt,3,0,"span",5),r.qZA(),r.YNc(10,Gt,4,0,"div",231),r.TgZ(11,"div",232),r.TgZ(12,"label",89),r.TgZ(13,"input",90),r.NdJ("change",function(){r.CHM(n);var e=r.oxw(3);return e.IsShowDetails=1!=e.IsShowDetails}),r.qZA(),r._UZ(14,"span",91),r.qZA(),r.TgZ(15,"span",235),r._uU(16,"Show Details"),r.qZA(),r.qZA(),r.YNc(17,Ht,6,1,"div",231),r.TgZ(18,"div",236),r.TgZ(19,"div",237),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(3);r.xp6(3),r.Q6J("ngIf","Ledger"==i.PageType),r.xp6(1),r.Q6J("ngIf","Group"==i.PageType),r.xp6(1),r.Q6J("ngIf","Finalize Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf","Restore Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf","Monthly Summary"==i.PageType),r.xp6(1),r.Q6J("ngIf","Daybook"==i.PageType),r.xp6(1),r.Q6J("ngIf","Hidden Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf",i.IsLedgerChange),r.xp6(3),r.Q6J("checked",1==i.IsShowDetails),r.xp6(4),r.Q6J("ngIf",i.IsLedgerChange),r.xp6(3),r.Oqu(i.accountService.currentShowing)}}function $t(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1,"Actions"),r.qZA())}function jt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",286),r.YNc(1,Bt,21,11,"div",225),r.TgZ(2,"table",287),r.TgZ(3,"thead",241),r.TgZ(4,"tr"),r.TgZ(5,"th"),r.TgZ(6,"div",242),r.TgZ(7,"input",243),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw(2).selectedAll=e})("change",function(e){return r.CHM(n),r.oxw(2).selectAllchange(e)}),r.qZA(),r._UZ(8,"label",244),r.qZA(),r.qZA(),r.TgZ(9,"th",245),r._uU(10,"No."),r.qZA(),r.TgZ(11,"th",246),r._uU(12,"Date"),r.qZA(),r.TgZ(13,"th",247),r._uU(14,"Type"),r.qZA(),r.TgZ(15,"th",248),r._uU(16,"Ledger Name"),r.qZA(),r.TgZ(17,"th",248),r._uU(18,"User Name"),r.qZA(),r.TgZ(19,"th",248),r._uU(20,"Dr Amount"),r.qZA(),r.TgZ(21,"th",248),r._uU(22,"Cr Amount"),r.qZA(),r.TgZ(23,"th"),r._uU(24,"Narration"),r.qZA(),r.YNc(25,$t,2,0,"th",5),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(1),r.Q6J("ngIf",0==(i.accountService.isMobile||i.accountService.IsMobileview)),r.xp6(6),r.Q6J("checked",i.selectedAll)("ngModel",i.selectedAll),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(2),r.Q6J("dirsort",i.accountService),r.xp6(4),r.Q6J("ngIf","Restorevoucher"!=i.PageType)}}function Kt(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",224),r.YNc(1,nt,21,11,"div",225),r.TgZ(2,"div",226),r.NdJ("scrolled",function(e){return r.CHM(n),r.oxw().onScroll(e)}),r.YNc(3,kt,27,11,"table",227),r.qZA(),r.YNc(4,jt,26,11,"div",228),r.qZA()}if(2&e){var i=r.oxw();r.xp6(1),r.Q6J("ngIf",0==(i.accountService.isMobile||i.accountService.IsMobileview)),r.xp6(1),r.Q6J("scrollWindow",!0),r.xp6(1),r.Q6J("ngIf",i.accountService.result.length>0),r.xp6(1),r.Q6J("ngIf",i.accountService.result.length>0)}}function zt(e,t){if(1&e&&(r.TgZ(0,"span",305),r._uU(1),r.qZA()),2&e){var n=r.oxw(3).$implicit;r.xp6(1),r.hij(" ",n.VT," ")}}function Wt(e,t){if(1&e&&(r.TgZ(0,"span"),r._UZ(1,"dateformatter",259),r.qZA()),2&e){var n=r.oxw(3).$implicit;r.xp6(1),r.s9C("dateValue",n.VDt)}}function Xt(e,t){if(1&e&&(r.TgZ(0,"a",261),r._uU(1),r.qZA()),2&e){var n=t.index;r.s9C("href",t.$implicit.src,r.LSH),r.xp6(1),r.hij(" image",n+1," ")}}function en(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,Xt,2,2,"a",260),r.qZA()),2&e){var n=r.oxw(3).$implicit;r.xp6(1),r.Q6J("ngForOf",n.UploadImages)}}function tn(e,t){if(1&e&&(r.TgZ(0,"div",277),r.TgZ(1,"span",307),r._uU(2,"challan No:"),r.qZA(),r._uU(3),r._UZ(4,"br"),r.TgZ(5,"span"),r.TgZ(6,"span",307),r._uU(7,"Amount:"),r.qZA(),r._uU(8),r.qZA(),r.qZA()),2&e){var n=t.$implicit;r.xp6(3),r.hij(" ",n.ChNo," "),r.xp6(5),r.hij(" ",n.Amt,"")}}function nn(e,t){if(1&e&&(r.TgZ(0,"ion-col"),r.YNc(1,tn,9,2,"div",306),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",n.challan)}}function rn(e,t){if(1&e&&(r.TgZ(0,"div",277),r.TgZ(1,"span",307),r._uU(2),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA()),2&e){var n=t.$implicit;r.xp6(2),r.hij("",n.RType," :"),r.xp6(2),r.AsE(" ",n.DrAmount>0?n.DrAmount:n.CrAmount," ",n.DrAmount>0?" Dr":" Cr"," ")}}function on(e,t){if(1&e&&(r.TgZ(0,"ion-col"),r.YNc(1,rn,5,3,"div",306),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",n.reference)}}function an(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col"),r.TgZ(3,"div",300),r.TgZ(4,"h5"),r._uU(5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"ion-col",301),r.TgZ(7,"h5"),r._uU(8),r.ALo(9,"indianCurrency"),r.ALo(10,"indianCurrency"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"ion-row"),r.TgZ(12,"ion-col"),r.YNc(13,zt,2,1,"span",302),r.qZA(),r.TgZ(14,"ion-col"),r.TgZ(15,"span"),r._uU(16),r.qZA(),r.qZA(),r.TgZ(17,"ion-col"),r.TgZ(18,"span"),r._uU(19),r.qZA(),r.qZA(),r.TgZ(20,"ion-col",303),r.YNc(21,Wt,2,1,"span",5),r.qZA(),r.qZA(),r.TgZ(22,"ion-row"),r.TgZ(23,"ion-col",304),r._uU(24),r.YNc(25,en,2,1,"div",5),r.qZA(),r.qZA(),r.TgZ(26,"ion-row"),r.YNc(27,nn,2,1,"ion-col",5),r.qZA(),r.TgZ(28,"ion-row"),r.YNc(29,on,2,1,"ion-col",5),r.qZA(),r.BQk()),2&e){var n=r.oxw().$implicit,i=r.oxw().$implicit;r.xp6(5),r.Oqu(n.L_Name),r.xp6(3),r.hij(" ",n.DrAmt>0?r.lcZ(9,10,n.DrAmt)+" Dr":r.lcZ(10,12,n.CrAmt)+" Cr",""),r.xp6(5),r.Q6J("ngIf","0"!=n.LId),r.xp6(3),r.hij(" ",i.UsrName,""),r.xp6(3),r.hij(" ",i.VNO,""),r.xp6(2),r.Q6J("ngIf","0"!=n.LId),r.xp6(3),r.hij(" ",i.Narr," "),r.xp6(1),r.Q6J("ngIf",null!=i.UploadImages&&i.UploadImages.length>0),r.xp6(2),r.Q6J("ngIf",null!=n.challan&&null!=n.challan),r.xp6(2),r.Q6J("ngIf",null!=n.reference&&null!=n.reference)}}function ln(e,t){if(1&e&&(r.TgZ(0,"ion-col",301),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",n.DrAmt," ")}}function sn(e,t){if(1&e&&(r.TgZ(0,"ion-col",301),r._uU(1),r.qZA()),2&e){var n=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",n.CrAmt," ")}}function cn(e,t){1&e&&(r.TgZ(0,"span",281),r._uU(1," Inst. No: "),r.qZA())}function un(e,t){1&e&&(r.TgZ(0,"span",280),r._uU(1," Cheque Date: "),r.qZA())}function dn(e,t){1&e&&(r.TgZ(0,"span",280),r._uU(1," Rec. Date: "),r.qZA())}function gn(e,t){if(1&e&&(r.TgZ(0,"ion-row",313),r.YNc(1,cn,2,0,"span",278),r._uU(2),r.YNc(3,un,2,0,"span",279),r._UZ(4,"dateformatter",259),r.TgZ(5,"span",280),r._uU(6,"Amount :"),r.qZA(),r._uU(7),r.YNc(8,dn,2,0,"span",279),r._UZ(9,"dateformatter",259),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf",""!=n.ChkNo&&null!=n.ChkNo),r.xp6(1),r.hij("",n.ChkNo," "),r.xp6(1),r.Q6J("ngIf",""!=n.ChkDt&&null!=n.ChkDt),r.xp6(1),r.s9C("dateValue",n.ChkDt),r.xp6(3),r.hij(" ",n.Led_Dr>0?n.Led_Dr:n.Led_Cr," "),r.xp6(1),r.Q6J("ngIf",""!=n.BRecoDt&&null!=n.BRecoDt),r.xp6(1),r.s9C("dateValue",n.BRecoDt)}}function hn(e,t){if(1&e&&(r.ynx(0),r.YNc(1,gn,10,7,"ion-row",312),r.BQk()),2&e){var n=t.$implicit,i=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",n.LId==i.LId||n.BLId==i.LId)}}function pn(e,t){if(1&e&&(r.TgZ(0,"ion-card",308),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col",309),r._uU(3),r.qZA(),r.YNc(4,ln,2,1,"ion-col",310),r.YNc(5,sn,2,1,"ion-col",311),r.qZA(),r.YNc(6,hn,2,1,"ng-container",251),r.qZA()),2&e){var n=r.oxw().$implicit,i=r.oxw().$implicit;r.xp6(3),r.hij(" ",n.L_Name," "),r.xp6(1),r.Q6J("ngIf","Receipt Note"!=i.VT&&"Delivery Note"!=i.VT&&0!=n.DrAmt),r.xp6(1),r.Q6J("ngIf","Receipt Note"!=i.VT&&"Delivery Note"!=i.VT&&0!=n.CrAmt),r.xp6(1),r.Q6J("ngForOf",i.bankDetails)}}function fn(e,t){if(1&e&&(r.ynx(0),r.YNc(1,an,30,14,"ng-container",5),r.YNc(2,pn,7,4,"ion-card",299),r.BQk()),2&e){var n=t.$implicit,i=r.oxw(3);r.xp6(1),r.Q6J("ngIf",n.IsVdet),r.xp6(1),r.Q6J("ngIf",!n.IsVdet&&i.IsShowDetails)}}function vn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"ion-row",314),r.TgZ(1,"ion-col",315),r.TgZ(2,"ion-card-content",316),r.TgZ(3,"a",317),r.NdJ("clickAllowed",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(2).accountService.delete(e.UIDN)}),r._UZ(4,"ion-icon",318),r.qZA(),r.TgZ(5,"a",319),r.NdJ("clickAllowed",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(2).openTransaction(e.VT,e.UIDN,e.BookingId,e.BkStatus,!1,e.IsFZ)}),r._UZ(6,"ion-icon",320),r.qZA(),r.TgZ(7,"a",321),r.NdJ("clickAllowed",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(2).openTransaction(e.VT,e.UIDN,e.BookingId,e.BkStatus,!0,!1)}),r._UZ(8,"ion-icon",322),r.qZA(),r.TgZ(9,"a",323),r.NdJ("click",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(2).OnHide(e.UIDN)}),r._UZ(10,"ion-icon",324),r.qZA(),r.TgZ(11,"a",323),r.NdJ("click",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(2).OpenEmailPopup(e)}),r._UZ(12,"ion-icon",325),r.qZA(),r.TgZ(13,"a",326),r.NdJ("clickAllowed",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(2).SharingVoucher(e.UIDN)}),r._UZ(14,"ion-icon",327),r.qZA(),r.TgZ(15,"a",323),r.NdJ("click",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(2).fileprint(e.UIDN)}),r._UZ(16,"ion-icon",328),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=r.oxw().$implicit,o=r.oxw(2);r.xp6(3),r.s9C("mname",i.VT),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId),r.xp6(2),r.s9C("mname",i.VT),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId),r.xp6(2),r.s9C("mname",i.VT),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId),r.xp6(6),r.s9C("mname",i.VT),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId)}}function mn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"ion-card",297),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return e.Ick=!e.Ick}),r.YNc(1,fn,3,2,"ng-container",251),r.YNc(2,vn,17,12,"ion-row",298),r.qZA()}if(2&e){var i=t.$implicit,o=r.oxw(2);r.ekj("rowselected",i.Ick)("negative",1==i.IsFZ),r.xp6(1),r.Q6J("ngForOf",i.VMobDet),r.xp6(1),r.Q6J("ngIf","Restorevoucher"!=o.PageType)}}function Tn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",288),r.TgZ(1,"ion-content"),r.TgZ(2,"ion-refresher",289),r.NdJ("ionRefresh",function(e){return r.CHM(n),r.oxw().doRefresh(e)}),r._UZ(3,"ion-refresher-content",290),r.qZA(),r.TgZ(4,"ion-virtual-scroll",291,292),r.YNc(6,mn,3,6,"ion-card",293),r.qZA(),r.TgZ(7,"ion-infinite-scroll",294,295),r.NdJ("ionInfinite",function(e){return r.CHM(n),r.oxw().onScroll(e)}),r._UZ(9,"ion-infinite-scroll-content",296),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=r.oxw();r.Udp("height",i.accountService.mobileContainer),r.xp6(4),r.Q6J("items",i.accountService.result),r.xp6(5),r.s9C("loadingText",i.accountService.nextloading)}}function In(e,t){1&e&&(r.TgZ(0,"ion-card",330),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col"),r._UZ(3,"ion-skeleton-text",331),r.qZA(),r.TgZ(4,"ion-col",332),r._UZ(5,"ion-skeleton-text",331),r.qZA(),r.qZA(),r.TgZ(6,"ion-row"),r.TgZ(7,"ion-col"),r._UZ(8,"ion-skeleton-text",331),r.qZA(),r.TgZ(9,"ion-col"),r._UZ(10,"ion-skeleton-text",331),r.qZA(),r.TgZ(11,"ion-col"),r._UZ(12,"ion-skeleton-text",331),r.qZA(),r.TgZ(13,"ion-col",333),r._UZ(14,"ion-skeleton-text",331),r.qZA(),r.qZA(),r.TgZ(15,"ion-row"),r.TgZ(16,"ion-col",334),r._UZ(17,"ion-skeleton-text",335),r.qZA(),r.qZA(),r.TgZ(18,"ion-row"),r.TgZ(19,"ion-col"),r._UZ(20,"ion-skeleton-text",336),r.qZA(),r.qZA(),r.TgZ(21,"ion-row"),r.TgZ(22,"ion-col"),r._UZ(23,"ion-skeleton-text",331),r.qZA(),r.qZA(),r.TgZ(24,"ion-row"),r.TgZ(25,"ion-col",337),r._UZ(26,"ion-skeleton-text",331),r.qZA(),r.qZA(),r.qZA())}function Zn(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,In,27,0,"ion-card",329),r.qZA()),2&e){var n=r.oxw();r.xp6(1),r.Q6J("ngForOf",n.accountService.noImageRepeat)}}function An(e,t){1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td",339),r._UZ(2,"ion-skeleton-text",340),r.qZA(),r.TgZ(3,"td",341),r._UZ(4,"ion-skeleton-text",335),r.qZA(),r.TgZ(5,"td",341),r._UZ(6,"ion-skeleton-text",335),r.qZA(),r.TgZ(7,"td",342),r._UZ(8,"ion-skeleton-text",335),r.qZA(),r.TgZ(9,"td",343),r._UZ(10,"ion-skeleton-text",335),r.qZA(),r.TgZ(11,"td",344),r._UZ(12,"ion-skeleton-text",335),r.qZA(),r.TgZ(13,"td",344),r._UZ(14,"ion-skeleton-text",335),r.qZA(),r.TgZ(15,"td",344),r._UZ(16,"ion-skeleton-text",335),r.qZA(),r.TgZ(17,"td",345),r._UZ(18,"ion-skeleton-text",335),r.qZA(),r.TgZ(19,"td",344),r._UZ(20,"ion-skeleton-text",335),r.qZA(),r.qZA())}function xn(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"table",338),r.TgZ(2,"thead",241),r.TgZ(3,"tr"),r.TgZ(4,"th",339),r._UZ(5,"ion-skeleton-text",340),r.qZA(),r.TgZ(6,"th",341),r._UZ(7,"ion-skeleton-text",335),r.qZA(),r.TgZ(8,"th",341),r._UZ(9,"ion-skeleton-text",335),r.qZA(),r.TgZ(10,"th",342),r._UZ(11,"ion-skeleton-text",335),r.qZA(),r.TgZ(12,"th",343),r._UZ(13,"ion-skeleton-text",335),r.qZA(),r.TgZ(14,"th",344),r._UZ(15,"ion-skeleton-text",335),r.qZA(),r.TgZ(16,"th",344),r._UZ(17,"ion-skeleton-text",335),r.qZA(),r.TgZ(18,"th",344),r._UZ(19,"ion-skeleton-text",335),r.qZA(),r.TgZ(20,"th"),r._UZ(21,"ion-skeleton-text",335),r.qZA(),r.TgZ(22,"th",344),r._UZ(23,"ion-skeleton-text",335),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"tbody",249),r.YNc(25,An,21,0,"tr",251),r.qZA(),r.qZA(),r.qZA()),2&e){var n=r.oxw();r.xp6(25),r.Q6J("ngForOf",n.accountService.noImageRepeat)}}function yn(e,t){1&e&&(r.TgZ(0,"div"),r._UZ(1,"div",347),r._UZ(2,"br"),r.TgZ(3,"div",348),r._uU(4," No records available for this duration or search criteria. "),r._UZ(5,"br"),r._uU(6," Please select proper search criteria or select proper ledger or group to see the transactions. "),r._UZ(7,"br"),r._UZ(8,"br"),r.qZA(),r.qZA())}function Sn(e,t){if(1&e&&(r.TgZ(0,"div",346),r._UZ(1,"br"),r._UZ(2,"br"),r.YNc(3,yn,9,0,"div",5),r._UZ(4,"br"),r._UZ(5,"br"),r.qZA()),2&e){var n=r.oxw();r.xp6(3),r.Q6J("ngIf",n.noDataImage)}}function Dn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"app-account-addedit",349),r.NdJ("TransactionredirectAction",function(e){return r.CHM(n),r.oxw().onTransactionSubmit(e)}),r.qZA()}if(2&e){var i=r.oxw();r.Q6J("TransactionredirectOnCancel",i.voucherPage)("IsDuplicate",i.Duplicate)("VoucherType",i.VoucherType)("IsItemVoucher",i.IsItemVoucher)("VoucherId",i.VoucherId)("InputVoucher_LedgerId",i.Voucher_LedgerId)("CompanyIdforReport",i.CompanyIdforReport)}}function Cn(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Date is required"),r.qZA())}function bn(e,t){if(1&e&&(r.TgZ(0,"div",350),r.YNc(1,Cn,2,0,"div",5),r.qZA()),2&e){r.oxw();var n=r.MAs(38);r.xp6(1),r.Q6J("ngIf",n.errors.required)}}function Nn(e,t){1&e&&r._uU(0),2&e&&r.hij(" ",t.item.LN," ")}function wn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a"),r._uU(1),r.qZA(),r.TgZ(2,"a",180),r.NdJ("click",function(){var e=r.CHM(n).item;return r.oxw().openLedgerPopup(e.UIDN)}),r._UZ(3,"i",181),r.qZA()}if(2&e){var i=t.item,o=r.oxw();r.xp6(1),r.Oqu(i.LN),r.xp6(1),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId)}}function Mn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"app-companyledger-addedit",351),r.NdJ("redirectAction",function(e){return r.CHM(n),r.oxw().reportLedgerAdded(e)}),r.qZA()}if(2&e){var i=r.oxw();r.Q6J("redirectOnCancel",!1)("inputLedgerId",i.ledgerIdVal)}}function qn(e,t){if(1&e&&r._UZ(0,"app-ledgerhistory",352),2&e){var n=r.oxw();r.Q6J("LedgId",n._LedgerId)("IsCallasPopup",!0)}}function Ln(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Email is required"),r.qZA())}function Vn(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Email must be a valid email address"),r.qZA())}function _n(e,t){if(1&e&&(r.TgZ(0,"div",350),r.YNc(1,Ln,2,0,"div",5),r.YNc(2,Vn,2,0,"div",5),r.qZA()),2&e){r.oxw();var n=r.MAs(90);r.xp6(1),r.Q6J("ngIf",n.errors.required),r.xp6(1),r.Q6J("ngIf",n.errors.email)}}function Un(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",92),r.TgZ(1,"label",353),r._uU(2," Select Company"),r.qZA(),r.TgZ(3,"ng-select",178,179),r.NdJ("scrollToEnd",function(){return r.CHM(n),r.oxw().companyService.ScrollDown()})("ngModelChange",function(e){return r.CHM(n),r.oxw().selectedCompany=e})("change",function(){r.CHM(n);var e=r.MAs(4),t=r.oxw();return t.SelectCompany(e.value),t.FilterData(0)}),r.qZA(),r.qZA()}if(2&e){var i=r.oxw();r.xp6(3),r.Q6J("virtualScroll",!0)("items",i.companyService.result)("ngModel",i.selectedCompany)("clearable",!1)}}function Rn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",80),r.TgZ(1,"div",238),r.TgZ(2,"h4",354),r.TgZ(3,"a",239),r.NdJ("click",function(){return r.CHM(n),r.oxw().OutstandingCall()}),r._uU(4,"Bill Wise"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function kn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",80),r.TgZ(1,"label",355),r._uU(2," Show Finalize"),r.qZA(),r._UZ(3,"br"),r.TgZ(4,"label",89),r.TgZ(5,"input",356),r.NdJ("change",function(){r.CHM(n);var e=r.oxw();return e.IsFinalize=1!=e.IsFinalize,e.FilterData(0)}),r.qZA(),r._UZ(6,"span",91),r.qZA(),r.qZA()}if(2&e){var i=r.oxw();r.xp6(5),r.Q6J("checked",1==i.IsFinalize)}}function Jn(e,t){1&e&&r._uU(0),2&e&&r.hij(" ",t.item.LN," ")}function Pn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a"),r._uU(1),r.qZA(),r.TgZ(2,"a",180),r.NdJ("click",function(){var e=r.CHM(n).item;return r.oxw().openLedgerPopup(e.UIDN)}),r._UZ(3,"i",181),r.qZA(),r.TgZ(4,"a",182),r.TgZ(5,"i",183),r.NdJ("click",function(){var e=r.CHM(n).item;return r.oxw().OpenLedgerHistoryPopUp(e.UIDN)}),r.qZA(),r.qZA()}if(2&e){var i=t.item,o=r.oxw();r.xp6(1),r.Oqu(i.LN),r.xp6(1),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId)}}function On(e,t){1&e&&(r.TgZ(0,"ng-option",184),r._uU(1," Contra"),r.qZA())}function Qn(e,t){1&e&&(r.TgZ(0,"ng-option",185),r._uU(1," Purchase"),r.qZA())}function Fn(e,t){1&e&&(r.TgZ(0,"ng-option",186),r._uU(1," Receipt"),r.qZA())}function En(e,t){1&e&&(r.TgZ(0,"ng-option",187),r._uU(1," Payment"),r.qZA())}function Yn(e,t){1&e&&(r.TgZ(0,"ng-option",188),r._uU(1," Purchase Order"),r.qZA())}function Gn(e,t){1&e&&(r.TgZ(0,"ng-option",189),r._uU(1,"Credit Note"),r.qZA())}function Hn(e,t){1&e&&(r.TgZ(0,"ng-option",190),r._uU(1,"Debit Note"),r.qZA())}function Bn(e,t){1&e&&(r.TgZ(0,"ng-option",192),r._uU(1," Receipt Note"),r.qZA())}function $n(e,t){1&e&&(r.TgZ(0,"ng-option",193),r._uU(1," Delivery Note"),r.qZA())}function jn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",80),r.TgZ(1,"button",359),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(2).FinalizeVoucher(!0)}),r._uU(2," Finalize Vouchers "),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Kn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",80),r.TgZ(1,"button",357),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(2).ChangeLedger()}),r._uU(2," Change Ledger "),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function zn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",80),r.TgZ(1,"button",357),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw(2).ChangeReference()}),r._uU(2," Change Reference "),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Wn(e,t){if(1&e){var n=r.EpF();r.ynx(0),r.TgZ(1,"div",80),r.TgZ(2,"button",357),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw().Datechangepopup()}),r._uU(3," Change Date "),r.qZA(),r.qZA(),r.TgZ(4,"div",80),r.TgZ(5,"button",358),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw().MultipleVoucherDelete()}),r._uU(6," Multiple Delete "),r.qZA(),r.qZA(),r.YNc(7,jn,3,2,"div",87),r.YNc(8,Kn,3,2,"div",87),r.YNc(9,zn,3,2,"div",87),r.BQk()}if(2&e){var i=r.oxw();r.xp6(2),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(3),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("ngIf","Finalize Vouchers"==i.PageType),r.xp6(1),r.Q6J("ngIf",i.IsLedgerChange),r.xp6(1),r.Q6J("ngIf",i.IsLedgerChange)}}function Xn(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"button",360),r.NdJ("clickAllowed",function(){return r.CHM(n),r.oxw().ResVoucher()}),r._uU(1," Restore Vouchers "),r.qZA()}if(2&e){var i=r.oxw();r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function ei(e,t){if(1&e&&(r.TgZ(0,"ng-option",383),r._uU(1),r.qZA()),2&e){var n=t.$implicit;r.Q6J("value",n),r.xp6(1),r.hij(" ",n," ")}}function ti(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Ref. type is required"),r.qZA())}function ni(e,t){if(1&e&&(r.TgZ(0,"div",350),r.YNc(1,ti,2,0,"div",5),r.qZA()),2&e){r.oxw();var n=r.MAs(7);r.xp6(1),r.Q6J("ngIf",n.errors.required)}}function ii(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"required"),r.qZA())}function ri(e,t){if(1&e&&(r.TgZ(0,"div",350),r.YNc(1,ii,2,0,"div",5),r.qZA()),2&e){r.oxw();var n=r.MAs(2);r.xp6(1),r.Q6J("ngIf",n.errors.required)}}function oi(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"input",384,385),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw(2).$implicit.Ref_Tag=e}),r.qZA(),r.YNc(3,ri,2,1,"div",35),r.qZA()}if(2&e){var i=r.MAs(2),o=r.oxw(2),a=o.$implicit,l=o.index,s=r.oxw().index;r.oxw(2);var c=r.MAs(2);r.xp6(1),r.Q6J("ngClass",r.VKq(6,ke,c.submitted&&i.invalid))("disabled","OnAccount"==a.Ref_Type)("id","refTag"+s+"_"+l)("name","refTag"+s+"_"+l)("ngModel",a.Ref_Tag),r.xp6(2),r.Q6J("ngIf",c.submitted&&i.invalid)}}function ai(e,t){if(1&e&&(r._uU(0),r.TgZ(1,"b"),r._uU(2,"Balance"),r.qZA(),r._uU(3)),2&e){var n=t.item;r.lnq(" ",n.Ref_Tag," - ",n.Dr>0?n.Dr:n.Cr," ",n.Dr>0?"Dr":"Cr"," - "),r.xp6(3),r.AsE(" -",n.OrgBalance>0?n.OrgBalance:-1*n.OrgBalance," ",n.OrgBalance>0?"Dr":"Cr"," ")}}function li(e,t){if(1&e&&(r._uU(0),r.TgZ(1,"b"),r._uU(2,"Balance"),r.qZA(),r._uU(3)),2&e){var n=t.item;r.hij(" ",n.Ref_Tag," - "),r.xp6(3),r.AsE(" - ",n.OrgBalance>0?n.OrgBalance:-1*n.OrgBalance," ",n.OrgBalance>0?"Dr":"Cr"," ")}}function si(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"ng-select",386,387),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw(2).$implicit.Agnst_Ref_Id=e})("change",function(e){r.CHM(n);var t=r.MAs(2),i=r.oxw(2).index,o=r.oxw().index;return r.oxw(3).onAgainstRefChange(o,i,e,t,null)}),r.YNc(3,ai,4,5,"ng-template",45),r.YNc(4,li,4,3,"ng-template",46),r.qZA(),r.qZA()}if(2&e){var i=r.MAs(2),o=r.oxw(2),a=o.index,l=o.$implicit,s=r.oxw().index;r.oxw(2);var c=r.MAs(2),u=r.oxw();r.xp6(1),r.Q6J("items",u.LedagainstRefList)("id","agReferences"+s+"_"+a)("name","agReferences"+s+"_"+a)("ngModel",l.Agnst_Ref_Id)("ngClass",r.VKq(5,ke,c.submitted&&i.invalid))}}function ci(e,t){1&e&&(r.TgZ(0,"div",350),r.TgZ(1,"div"),r._uU(2,"Your Adjust Amount is greater"),r.qZA(),r.qZA())}function ui(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"required"),r.qZA())}function di(e,t){if(1&e&&(r.TgZ(0,"div",350),r.YNc(1,ui,2,0,"div",5),r.qZA()),2&e){r.oxw();var n=r.MAs(17);r.xp6(1),r.Q6J("ngIf",n.errors.required)}}function gi(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",388),r.NdJ("click",function(){r.CHM(n);var e=r.oxw(2).index,t=r.oxw().index;return r.oxw(3).deleteMultiReferenceVoucher(t,e)}),r._UZ(1,"i",274),r.qZA()}}function hi(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"tr",373),r.TgZ(1,"td",374),r._uU(2),r.qZA(),r.TgZ(3,"td",374),r._uU(4),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"ng-select",375,376),r.NdJ("ngModelChange",function(e){return r.CHM(n),r.oxw().$implicit.Ref_Type=e})("change",function(e){r.CHM(n);var t=r.oxw().index,i=r.oxw().index;return r.oxw(3).UpdateVoucherReference(i,t,e)}),r.YNc(8,ei,2,2,"ng-option",377),r.qZA(),r.YNc(9,ni,2,1,"div",35),r.qZA(),r.YNc(10,oi,4,8,"td",5),r.YNc(11,si,5,7,"td",5),r.TgZ(12,"td"),r.TgZ(13,"input",378,379),r.NdJ("selected",function(e){return r.CHM(n),r.oxw().$implicit.DueDate=e}),r.qZA(),r.qZA(),r.TgZ(15,"td"),r.TgZ(16,"input",380,381),r.NdJ("ngModelChange",function(e){r.CHM(n);var t=r.oxw().$implicit;return t.Dr>0?t.Dr:t.Cr=e})("input",function(){r.CHM(n);var e=r.MAs(17),t=r.oxw().index,i=r.oxw().index;return r.oxw(3).onAgainstRefChange(i,t,null,null,e)}),r.qZA(),r.YNc(18,ci,3,0,"div",35),r.YNc(19,di,2,1,"div",35),r.qZA(),r.TgZ(20,"td",374),r._uU(21),r.qZA(),r.TgZ(22,"td"),r.YNc(23,gi,2,0,"a",382),r.qZA(),r.qZA()}if(2&e){var i=r.MAs(7),o=r.MAs(14),a=r.MAs(17),l=r.oxw(),s=l.$implicit,c=l.index,u=r.oxw().index;r.oxw(2);var d=r.MAs(2),g=r.oxw();r.xp6(2),r.hij(" ",s.VNO,""),r.xp6(2),r.hij(" ",s.VT,""),r.xp6(2),r.Q6J("id","RefType_"+u+"_"+c)("name","RefType_"+u+"_"+c)("ngModel",s.Ref_Type)("ngClass",r.VKq(23,ke,d.submitted&&i.invalid)),r.xp6(2),r.Q6J("ngForOf",g.filterOptions(u)),r.xp6(1),r.Q6J("ngIf",d.submitted&&i.invalid),r.xp6(1),r.Q6J("ngIf","AgainstRef"!=s.Ref_Type),r.xp6(1),r.Q6J("ngIf","AgainstRef"==s.Ref_Type),r.xp6(2),r.Q6J("disabled","AgainstRef"==s.Ref_Type||"OnAccount"==s.Ref_Type)("ngClass",r.VKq(25,ke,d.submitted&&o.invalid))("startDate",s.DueDate)("name","refdate"+u+"_"+c)("id","refdate"+u+"_"+c),r.xp6(3),r.Q6J("disabled","OnAccount"==s.Ref_Type)("name","Refamt"+u+"_"+c)("ngModel",s.Dr>0?s.Dr:s.Cr)("ngClass",r.VKq(27,ke,d.submitted&&a.invalid||s.IsAmountGreater)),r.xp6(2),r.Q6J("ngIf",s.IsAmountGreater),r.xp6(1),r.Q6J("ngIf",d.submitted&&a.invalid),r.xp6(2),r.hij(" ",s.Dr>0?"Dr":"Cr"," "),r.xp6(2),r.Q6J("ngIf","OnAccount"!=s.Ref_Type)}}function pi(e,t){if(1&e&&(r.ynx(0),r.YNc(1,hi,24,29,"tr",372),r.BQk()),2&e){var n=t.$implicit;r.xp6(1),r.Q6J("ngIf",1!=n.operationType)}}function fi(e,t){if(1&e&&(r.TgZ(0,"ng-Container"),r.TgZ(1,"table",370,371),r.TgZ(3,"thead"),r.TgZ(4,"tr"),r.TgZ(5,"th"),r._uU(6,"Voucher No"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"Voucher Type"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Ref. Method"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Ref. Tag"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Due Date"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Amount"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Dr/Cr"),r.qZA(),r.TgZ(19,"th"),r._uU(20,"Action"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"tbody"),r.YNc(22,pi,2,1,"ng-container",251),r.qZA(),r.qZA(),r.qZA()),2&e){var n=t.$implicit;r.xp6(22),r.Q6J("ngForOf",n)}}function vi(e,t){if(1&e&&(r.TgZ(0,"div",368),r.YNc(1,fi,23,1,"ng-Container",369),r.qZA()),2&e){var n=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",n.referenceGroups)("ngForTrackBy",n.indexTracker)}}function mi(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",361),r.TgZ(1,"form",362,363),r.NdJ("ngSubmit",function(){r.CHM(n);var e=r.MAs(2),t=r.oxw();return e.form.valid&&!t.referenceAmountError&&t.Savereference()}),r.TgZ(3,"div",21),r.TgZ(4,"div",22),r.TgZ(5,"h4",23),r._uU(6,"Add/Edit Reference "),r.qZA(),r.TgZ(7,"button",24),r.NdJ("click",function(){r.CHM(n);var e=r.oxw(),t=r.MAs(279);return e.showReferencepopup=!1,t.hide()}),r.TgZ(8,"span",25),r._uU(9,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"div",364),r.YNc(11,vi,2,2,"div",365),r.qZA(),r.TgZ(12,"div",36),r.TgZ(13,"button",366),r._uU(14,"Save Changes"),r.qZA(),r.TgZ(15,"button",367),r.NdJ("click",function(){r.CHM(n);var e=r.oxw(),t=r.MAs(279);return e.showReferencepopup=!1,t.hide()}),r._uU(16,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=r.oxw();r.xp6(11),r.Q6J("ngIf",!i.accountService.IsMobileview)}}var Ti,Ii=((Ti=function(){function e(t,n,i,o,a,l,c,d,g,h,f,v,T,I,Z,A){var x=this;s(this,e),this.accountService=t,this.route=n,this.actionSheetCtrl=i,this.companyService=o,this._config=a,this.popoverController=l,this.page=c,this.router=d,this.companyLedgerService=g,this.location=h,this.alertService=f,this.filterService=v,this.history=T,this.ReportServices=I,this.cdr=Z,this.el=A,this.CompanyId=0,this.isInterCompany=!1,this.showLedegrHistoryModal=!1,this.scrollTarget="",this.Accselector=[],this.isList=!0,this.popupwindow="",this.voucherSelector=[],this.curReference=[],this.allagainstRefList=[],this.LedagainstRefList=[],this.httpfunction=new m.r,this.IsTapped=!1,this.showReferencepopup=!1,this.isFirstDropdownSelected=!1,this.Description="",this.voucherPage=!1,this.bookingvoucher=!1,this.AddOnCode="",this.IsShowDetails=!1,this.IsShowHideVouchers=!1,this.IsShowReference=!1,this.IsFinalize=!1,this.Ismodalopen=!1,this.isLedgerpopupopen=!1,this.isSearchWindow=!1,this.isLedgerHistorypopupopen=!1,this.noDataImage=!1,this.IsLedgerChange=!1,this.isNativeApp=!1,this.Voucher_LedgerId=0,this.selectedAll=!1,this.isBack=!1,this.IsHideVoucher=!1,this._LedgerId=0,this.value=0,this.CompanyIdforReport=0,this.ExportColumn=[],this.isMainWindow=!0,this.isMainWindowOut=!0,this.curLedID=0,this.curLedIDFromOutstand=0,this.TransactionredirectAction=new r.vpe,this.TransactionredirectOnCancel=!0,this.status={isOpen:!1},this.voucherId=0,this.currentScrollPosition=0,this.AllowedEmail=!0,this.selectedRowIndex=0,this.referenceAmountError=!1,this.isScrollEnabled=!0,this.allLedgers=[],this.allLedgerAndGrp=[],this.filterInnerLedger=[],this.VoucherType="",this.IsItemVoucher=!1,this.VoucherId=0,this.Duplicate=!1,this.PageType="",this.showTransactionModal=!1,this.isBusy=!0,this.sortarray=[{order:this.accountService.sortorder,column:"VoucherNo",title:"By Voucher No"},{order:this.accountService.sortorder,column:"VoucherDate",title:"By Voucher Date"},{order:this.accountService.sortorder,column:"VoucherType",title:"By Voucher Type"}],this.SignupId=this.accountService.getSignupId,this.UserId=this.accountService.GetUserId,this.accountService.singleresult=new p.VN,this.accountService.sortorder=!1,(this.history.currentUrl.indexOf("profitloss")>=0||this.history.currentUrl.indexOf("trialbalance")>=0||this.history.getPreviousUrl().indexOf("profitloss")>=0||this.history.getPreviousUrl().indexOf("trialbalance")>=0||this.history.currentUrl.indexOf("balancesheet")>=0||this.history.getPreviousUrl().indexOf("balancesheet")>=0)&&(this.isBack=!0),this.httpfunction.IsMobileview()?this.isMainWindow?(this.StartDate=this.accountService.getStartFinancialdate,this.EndDate=this.accountService.getEndFinancialdate):this.isInterCompany?(this.scrollElement=document.getElementById(this.scrollTarget),this.vscrollElement=document.getElementById(this.scrollTarget)):(this.scrollElement=document.getElementById("daybookContent"),this.vscrollElement=document.getElementById("daybookContent")):this.isMainWindow?(this.StartDate=this.accountService.getStartFinancialdate,this.EndDate=this.accountService.getEndFinancialdate,this.vscrollElement=window,this.scrollElement=null):this.isInterCompany?(this.scrollElement=document.getElementById(this.scrollTarget),this.vscrollElement=document.getElementById(this.scrollTarget)):(this.scrollElement=document.getElementById("daybookContent"),this.vscrollElement=document.getElementById("daybookContent")),this.isMainWindow&&this.route.params.subscribe(function(e){x.isMainWindow&&(null!=e.ledgerid&&"undefined"!=e.ledgerid?(x.curLedID=parseInt(e.ledgerid),x.companyLedgerService.singleresult=new u.dJ,x.companyLedgerService.singleresult.UIDN=x.curLedID):x.companyLedgerService.singleresult=null)}),this.isMainWindowOut&&this.route.params.subscribe(function(e){x.isMainWindowOut&&(null!=e.ledgerid&&"undefined"!=e.ledgerid?(x.curLedIDFromOutstand=parseInt(e.ledgerid),x.companyLedgerService.singleresult=new u.dJ,x.companyLedgerService.singleresult.UIDN=x.curLedIDFromOutstand):x.companyLedgerService.singleresult=null)}),this.accountService.ExportColumn=[{title:"V.NO.",dataKey:"VNO",size:25},{title:"Date",dataKey:"VDt",size:65},{title:"Type",dataKey:"VT",size:35},{title:"Ledger Name",dataKey:"L_Name",size:137},{title:"User Name",dataKey:"UsrName",size:60},{title:"DrAmount",dataKey:"DrAmt",size:55},{title:"CrAmount",dataKey:"CrAmt",size:55},{title:"Balance",dataKey:"Balance",size:25},{title:"Narration",dataKey:"Narr",size:220}]}return l(e,[{key:"monthyear",get:function(){return this._monthyear},set:function(e){this._monthyear=e,(null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult)&&(this.companyLedgerService.singleresult=new u.dJ,this.companyLedgerService.singleresult.UIDN=this.curLedID,this.companyLedgerService.singleresult.UIDN=this.curLedIDFromOutstand),this.vscrollElement.scrollTop=0,this.FilterData(0)}},{key:"scrollElement",get:function(){return null!=document.getElementById("daybookContent")?document.getElementById("daybookContent"):null},set:function(e){this._scrollElement=e}},{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList),this.isLedgerpopupopen&&(this.isLedgerpopupopen=!this.isLedgerpopupopen),this.isLedgerHistorypopupopen&&(this.isLedgerHistorypopupopen=!this.isLedgerHistorypopupopen),this.showTransactionModal&&(this.showTransactionModal=!this.showTransactionModal)}},{key:"vscrollElement",get:function(){return null!=document.getElementById("daybookContent")?document.getElementById("daybookContent"):this.isInterCompany?this._vscrollElement:window},set:function(e){this._vscrollElement=e}},{key:"doRefresh",value:function(e){this.filterService.updatedata(!0,"Daybook"),this.accountService.refreshEvent=e.target,this.FilterData(0)}},{key:"ngOnInit",value:function(){var e=this;if(setTimeout(function(){e.accountService.arrowDownEvent(150)},800),this.SignupId=this.accountService.getSignupId,this.UserId=this.accountService.GetUserId,this.PageType=this.router.url.toLowerCase().indexOf("ledger")>=0?"Ledger":this.router.url.toLowerCase().indexOf("group")>=0?"Group":this.router.url.toLowerCase().indexOf("finalize")>=0?"Finalize Vouchers":this.router.url.toLowerCase().indexOf("restorevoucher")>=0?"Restore Vouchers":this.router.url.toLowerCase().indexOf("hiddenvoucher")>=0?"Hidden Vouchers":this.router.url.toLowerCase().indexOf("monthlysummary")>=0?"Monthly Summary":"Daybook",this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this)),this.accountService.ExportName="Ledger"==this.PageType?"Ledger_Report":"Group"==this.PageType?"Group_Report":"Finalize Vouchers"==this.PageType?"Finalize_Report":"Restore Vouchers"==this.PageType?"Restore_Voucher":"Monthly Summary"==this.PageType?"Monthly_Summary":"Hidden Vouchers"==this.PageType?"Hidden Voucher":"Daybook",this.companyLedgerService.isGetSubscribe=!0,this.companyLedgerService.refreshEvent=null,0==this.isInterCompany&&(this.companyLedgerService.GetAlldatafordaybook(!0),this.subscription=this.companyLedgerService.resultObs.subscribe(function(){e.companyLedgerService.arrowDownEvent(e.companyLedgerService.selectedRowIndex),1==e.isBusy&&(e.isBusy=!1),e.allLedgers=e.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}).map(function(e){return e.LN}),e.allLedgerAndGrp=e.companyLedgerService.result.filter(function(e){return 1==e.St}),"Ledger"==e.PageType?(e.allLedgers=e.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}),e.curLedID>0&&(e.companyLedgerService.singleresult=e.companyLedgerService.result.filter(function(t){return t.UIDN==e.curLedID})[0])):"Group"==e.PageType?(e.allLedgers=e.companyLedgerService.result.filter(function(e){return 1==e.IsGrp&&1==e.St}),e.curLedID>0&&(e.companyLedgerService.singleresult=e.companyLedgerService.result.filter(function(t){return t.UIDN==e.curLedID})[0])):"Finalize Vouchers"==e.PageType?(e.allLedgers=e.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}),e.curLedID>0&&(e.companyLedgerService.singleresult=e.companyLedgerService.result.filter(function(t){return t.UIDN==e.curLedID})[0]),e.ShowFinalizeVouchers()):"Restore Vouchers"==e.PageType?(e.allLedgers=e.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}),e.curLedID>0&&(e.companyLedgerService.singleresult=e.companyLedgerService.result.filter(function(t){return t.UIDN==e.curLedID})[0])):"Hidden Vouchers"==e.PageType?(e.allLedgers=e.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}),e.curLedID>0&&(e.companyLedgerService.singleresult=e.companyLedgerService.result.filter(function(t){return t.UIDN==e.curLedID})[0]),e.ShowHiddenVouchers()):("Monthly Summary"==e.PageType||"Daybook"==e.PageType)&&(e.allLedgers=e.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}),e.curLedID>0&&(e.companyLedgerService.singleresult=e.companyLedgerService.result.filter(function(t){return t.UIDN==e.curLedID})[0])),null!=e.accountService.refreshEvent&&(e.accountService.refreshEvent.complete(),e.accountService.refreshEvent=null)})),null!=this._LedgerHistoryModal){var t=this;this._LedgerHistoryModal.onEsc=function(){t._LedgerHistoryModal.hide(),document.scrollingElement.scrollTop=t.currentScrollPosition,this._LedgerId=0}}"Daybook"==this.PageType||"Finalize Vouchers"==this.PageType||"Restore Vouchers"==this.PageType||"Hidden Vouchers"==this.PageType?(this.dataPreserve(),this.httpfunction.IsMobileview()||(window.scrollTo(0,0),this.isScrollEnabled=!0)):("Ledger"==this.PageType||"Group"==this.PageType||"Monthly Summary"==this.PageType)&&(this.dataPreserve(),0==this.accountService.result.length&&(this.noDataImage=!0)),this.Refsubscription=this.ReportServices.resultObs.subscribe(function(){e.allagainstRefList=e.allagainstRefList.concat(e.ReportServices.result),e.setcurrentreference()}),this.accountService.isGetSubscribe=!0,this.AccountlistSubscription=this.accountService.resultObs.subscribe(function(){e.accountService.arrowDownEvent(150);for(var t=0;t<e.accountService.result.length;t++){for(var n=0;n<e.accountService.result[t].VDet.length;n++)e.accountService.result[t].VDet[n].IsVdet=!0;if(e.accountService.result[t].VMobDet=e.accountService.result[t].VDet,null!=e.accountService.result[t].VDetlist&&null!=e.accountService.result[t].VDetlist){for(var i=0;i<e.accountService.result[t].VDetlist.length;i++)e.accountService.result[t].VDetlist[i].IsVdet=!1;var r=e.accountService.result[t].VMobDet.concat(e.accountService.result[t].VDetlist?e.accountService.result[t].VDetlist:[]);e.accountService.result[t].VMobDet=r}}1==e.isBusy&&(e.isBusy=!1),0==e.accountService.result.length&&(e.noDataImage=!0)})}},{key:"dataPreserve",value:function(){if(""!=this.httpfunction.getStorage("_filterData")){var e=JSON.parse(this.httpfunction.getStorage("_filterData"));if(null!=e&&null!=e){var t=e.find(function(e){return"Daybook"==e.Module});null!=t||null!=t?(null!=t.SearchFilter[0].LedgerId&&0!=t.SearchFilter[0].LedgerId&&(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(function(e){return e.UIDN==t.SearchFilter[0].LedgerId})[0]),null!=t.SearchFilter[0].VoucherType&&0!=t.SearchFilter[0].VoucherType&&(this.voucherType=t.SearchFilter[0].VoucherType),null!=t.SearchFilter[0].VoucherNo&&0!=t.SearchFilter[0].VoucherNo&&(this.VoucherNum=t.SearchFilter[0].VoucherNo),null!=t.SearchFilter[0].Rangevar&&0!=t.SearchFilter[0].Rangevar&&(this.amounttype=t.SearchFilter[0].Rangevar),null!=t.SearchFilter[0].EnterRange&&0!=t.SearchFilter[0].EnterRange&&(this.amountvall=t.SearchFilter[0].EnterRange),null!=t.SearchFilter[0].InstrumentDate&&0!=t.SearchFilter[0].InstrumentDate&&(this.instrumentdate=t.SearchFilter[0].InstrumentDate),null!=t.SearchFilter[0].InstrumentNo&&0!=t.SearchFilter[0].InstrumentNo&&(this.instrumentno=t.SearchFilter[0].InstrumentNo),null!=t.SearchFilter[0].nurration&&0!=t.SearchFilter[0].nurration&&(this.nurration=t.SearchFilter[0].nurration),null!=t.SearchFilter[0].PageType&&0!=t.SearchFilter[0].PageType&&(this.PageType=t.SearchFilter[0].PageType),null!=t.SearchFilter[0].ShowRefernce&&0!=t.SearchFilter[0].ShowRefernce&&(this.IsShowReference=t.SearchFilter[0].ShowRefernce),null!=t.SearchFilter[0].ShowDetails&&0!=t.SearchFilter[0].ShowDetails&&(this.IsShowDetails=t.SearchFilter[0].ShowDetails),this.FilterData(0)):"Ledger"!=this.PageType&&this.FilterData(0)}else this.FilterData(0)}else this.FilterData(0)}},{key:"onSelect",value:function(e,t){if("Vtype"==t){this.voucherType=new Array;for(var n=0;n<e.selected.length;n++)this.voucherType.push(e.selected[n].name)}else"Account"==t&&(this.companyLedgerService.singleresult=e.selected)}},{key:"SelectCompany",value:function(e){var t=this;this.compCompanyId!=e.UIDN&&(this.compCompanyId=e.UIDN,this.companyLedgerService.singleresult=null,this.companyLedgerService.GetOtherCompanyData(this.compCompanyId),null==this.subscription&&(this.subscription=this.companyLedgerService.resultObs.subscribe(function(){t.allLedgers=t.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}),t.companyLedgerService.singleresult=t.curLedID>0?t.companyLedgerService.result.filter(function(e){return e.UIDN==t.curLedID})[0]:null})))}},{key:"ChangeLedger",value:function(){this._chngeLedger.show(),event.stopPropagation(),event.preventDefault()}},{key:"selectAllchange",value:function(e){this.accountService.result.forEach(function(t){t.Ick=e.target.checked})}},{key:"onDateSelect",value:function(e){this.changedate=e}},{key:"closeDatechangeModal",value:function(){this._DatechangeModal.hide()}},{key:"Datechangepopup",value:function(){this.accountService.result.filter(function(e){return 1==e.Ick}).length>0?(this.Ismodalopen=!0,this._SearchModal.hide(),this._DatechangeModal.show(),event.stopPropagation(),event.preventDefault()):this.alertService.showError("Error","Please select atleast one record")}},{key:"closedateModal",value:function(){this.Ismodalopen=!1}},{key:"ChangeBulkdate",value:function(){var e=this,t=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});if(this.Ismodalopen=!1,t.length>0){if(this.IsvalidDate()){var n=moment(this.changedate).format("YYYY-MM-DD");this.accountService.editbulkdate(n,t,this.accountService.getCompanyId).subscribe(function(){e.closeDatechangeModal();var t=new Date(e.changedate);e.accountService.result.forEach(function(e){1==e.Ick&&(e.VDt=t,e.Ick=!1)})})}}else this.alertService.showError("Error","Please select atleast one record")}},{key:"Button1callback",value:function(e){this.changedate=e}},{key:"IsvalidDate",value:function(){return!(moment(this.companyLedgerService.getCompanyData.StDt).format("YYYY-MM-DD")>moment(this.changedate).format("YYYY-MM-DD")&&(this.alertService.showError("Error","Voucher date must be greater than a company creation date: "+moment(this.companyLedgerService.getCompanyData.StDt).format("YYYY-MM-DD")+"."),1))}},{key:"MultipleVoucherDelete",value:function(){var e=this;if(-1!=this.accountService.result.findIndex(function(e){return 1==e.Ick&&null!=e.BkStatus}))this.alertService.showError("Error","Please cancel Booked flat/shop first, Inorder to proceed this delete");else{var t=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});t.length>0?this.alertService.showconfirm("Confirm","Are you sure you want to delete this record",["Yes","No"],null).subscribe(function(n){null!=n&&"Yes"==n.answer&&e.accountService.MultipleVoucherdelete(t).subscribe(function(){e.FilterData(0)})}):this.alertService.showError("Error","Please select atleast one record")}this._SearchModal.hide()}},{key:"setcurrentreference",value:function(){var e=this;this.LedagainstRefList=JSON.parse(JSON.stringify(this.allagainstRefList.filter(function(t){return t.L_Id==e.companyLedgerService.singleresult.UIDN})));for(var t=function(t){var n=e.LedagainstRefList[t];n.Balance<0&&(n.Balance=-1*n.Balance),n.OrgBalance=n.Balance,null!=(i=e.getreferenceforpopup().filter(function(e){return e.Agnst_VoucherMst_Id==n.voucherMasterId&&e.Agnst_Ref_Id==n.UIDN}))&&null!=i&&i.length>0&&(n.OrgBalance+=i[0].Dr>0?i[0].Dr:i[0].Cr,i[0].OrgBalance=n.OrgBalance)},n=0;n<this.LedagainstRefList.length;n++){var i;t(n)}}},{key:"deleteMultiReferenceVoucher",value:function(e,t){var n=this;if(null!=t){if(this.referenceGroups[e][t].operationType=1,this.referenceGroups[e][t].Agnst_Ref_Id>0){var i;i=this.referenceGroups[e][t].Dr>0?this.referenceGroups[e][t].Dr:this.referenceGroups[e][t].Cr;var r=this.LedagainstRefList.findIndex(function(i){return i.UIDN===n.referenceGroups[e][t].Agnst_Ref_Id});if(-1!==r){var o=this.LedagainstRefList[r].OrgBalance;this.LedagainstRefList[r].OrgBalance=o<0?o-i:o+i}}var a=this.referenceGroups[e].findIndex(function(e){return"OnAccount"===e.Ref_Type&&1!=e.operationType});if(-1!=a)this.referenceGroups[e][a].Cr=this.referenceGroups[e][a].Cr+this.referenceGroups[e][t].Cr,this.referenceGroups[e][a].Balance=this.referenceGroups[e][a].Balance+this.referenceGroups[e][t].Balance;else{var l=Object.assign({},this.referenceGroups[e][t]);l.operationType=0,l.Dr=0,l.UIDN=0,l.Agnst_Ref_Id=null,l.Agnst_VoucherMst_Id=null,l.Ref_Tag=null,l.Ref_Type=I.lW.OnAccount,this.referenceGroups[e].splice(this.referenceGroups[e].length+1,0,l)}}}},{key:"onAgainstRefChange",value:function(e,t,n,i,r){var o=this,a=null,l=null;if(i&&(a=i.model),r&&(l=r.model),null==l&&!0!==this.referenceGroups[e][t].IsAmountGreater||null!=this.referenceGroups[e][t].Cr||(this.referenceGroups[e][t].Cr=0,0!=l)){if(void 0===n||null!=a){var s;s=this.referenceGroups[e][t].Dr>0?this.referenceGroups[e][t].Dr:this.referenceGroups[e][t].Cr;var c=null!=a?a:this.referenceGroups[e][t].Agnst_Ref_Id,u=this.LedagainstRefList.findIndex(function(e){return e.UIDN===c});if(-1!==u){var d=this.LedagainstRefList[u].OrgBalance;this.LedagainstRefList[u].OrgBalance=d<0?d-s:d+s}if(void 0===n)return}if(null==n){var g=this.LedagainstRefList.findIndex(function(n){return n.UIDN==o.referenceGroups[e][t].Agnst_Ref_Id});-1!=g&&(n=this.LedagainstRefList[g])}else this.referenceGroups[e][t].Agnst_VoucherMst_Id=n.VoucherMaster_PK_Id;var h=n.OrgBalance;n.OrgBalance<0&&(h*=-1);var p=this.referenceGroups.map(function(n,i){return n.filter(function(n,r){return n.Agnst_Ref_Id===o.referenceGroups[e][t].Agnst_Ref_Id&&(i!==e||r!==t)&&1!=n.operationType})}).reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return e+t.Cr},0),f=n.Dr-p;if(null!=l){if(f<this.referenceGroups[e][t].Cr)return this.referenceGroups[e][t].IsAmountGreater=!0,void this.IsAnyWrongAmount();if(this.referenceGroups[e][t].IsAmountGreater=!1,h+this.referenceGroups[e][t].Cr==f)return void this.IsAnyWrongAmount()}if(this.referenceGroups[e][t].Dr>0)if(this.referenceGroups[e][t].Dr>h){if(n.orgBalance=0,null==l){var v=this.referenceGroups[e][t].Dr-h;this.referenceGroups[e][t].Dr=h,this.referenceGroups[e][t].Ref_Tag=n.Ref_Tag}(A=Object.assign({},this.referenceGroups[e][t])).operationType=0,A.Dr=v,A.Cr=0,A.UIDN=0,A.Agnst_Ref_Id=null,A.Agnst_VoucherMst_Id=null,A.Ref_Tag=null,A.Ref_Type=I.lW.OnAccount,this.referenceGroups[e].splice(t+1,0,A)}else n.orgBalance=n.OrgBalance<0?-1*(n.orgBalance-this.referenceGroups[e][t].Dr):n.orgBalance-this.referenceGroups[e][t].Dr;else if(this.referenceGroups[e][t].Cr>h){n.orgBalance=0,v=0;var m=this.referenceGroups[e].findIndex(function(n){return"OnAccount"==n.Ref_Type&&n.VNO==o.referenceGroups[e][t].VNO});if(null==l)v=this.referenceGroups[e][t].Cr-h,this.referenceGroups[e][t].Cr=h,this.referenceGroups[e][t].Ref_Tag=n.Ref_Tag;else{var T=l>this.referenceGroups[e][t].Cr?l-this.referenceGroups[e][t].Cr:this.referenceGroups[e][t].Cr-l;v=l>this.referenceGroups[e][t].Cr?this.referenceGroups[e][m].Cr+T:this.referenceGroups[e][m].Cr-T}-1!=m?l?this.referenceGroups[e][m].Cr=v:(this.referenceGroups[e][t].Balance=-1*h,this.referenceGroups[e][m].Cr=this.referenceGroups[e][m].Cr+v,this.referenceGroups[e][m].Balance=this.referenceGroups[e][m].Cr+-1*v):((A=Object.assign({},this.referenceGroups[e][t])).operationType=0,A.Cr=v,A.Dr=0,A.UIDN=0,A.Agnst_Ref_Id=null,A.Agnst_VoucherMst_Id=null,A.Ref_Tag=null,A.Ref_Type=I.lW.OnAccount,this.referenceGroups[e].splice(t+1,0,A))}else if(this.referenceGroups[e][t].Cr<=h){if(this.referenceGroups[e][t].Ref_Tag=n.Ref_Tag,this.referenceGroups[e][t].Cr<h||null!=l){var Z,A,x=h-this.referenceGroups[e][t].Cr,y=this.referenceGroups[e].findIndex(function(n){return"OnAccount"==n.Ref_Type&&n.VNO==o.referenceGroups[e][t].VNO});null!=l?(Z=0!=l&&0==this.referenceGroups[e][t].Cr?f-h:l-this.referenceGroups[e][t].Cr,-1!=y?this.referenceGroups[e][y].Cr=this.referenceGroups[e][y].Cr+Z:((A=Object.assign({},this.referenceGroups[e][t])).operationType=0,A.Cr=Z,A.Dr=0,A.UIDN=0,A.Agnst_Ref_Id=null,A.Agnst_VoucherMst_Id=null,A.Ref_Tag=null,A.Ref_Type=I.lW.OnAccount,this.referenceGroups[e].splice(t+1,0,A))):null!=this.referenceGroups[e][y]&&-1!=y&&(this.referenceGroups[e][y].Cr>x?(this.referenceGroups[e][t].Cr=this.referenceGroups[e][t].Cr+x,this.referenceGroups[e][t].Balance=this.referenceGroups[e][t].Balance+-1*x,this.referenceGroups[e][y].Cr=this.referenceGroups[e][y].Cr-x,this.referenceGroups[e][y].Balance=this.referenceGroups[e][y].Balance- -1*x):(this.referenceGroups[e][t].Cr=this.referenceGroups[e][t].Cr+this.referenceGroups[e][y].Cr,this.referenceGroups[e][t].Balance=this.referenceGroups[e][t].Balance+this.referenceGroups[e][y].Balance,this.referenceGroups[e][y].Cr=0,this.referenceGroups[e][y].Balance=0))}}else n.orgBalance=n.OrgBalance<0?-1*(n.orgBalance-this.referenceGroups[e][t].Cr):n.orgBalance-this.referenceGroups[e][t].Cr;if(n){var S=this.referenceGroups[e][t].Agnst_Ref_Id;if(S){var D,C=this.LedagainstRefList.findIndex(function(e){return e.UIDN===S});if(D=this.referenceGroups[e][t].Dr>0?this.referenceGroups[e][t].Dr:this.referenceGroups[e][t].Cr,-1!==C){var b,N=this.LedagainstRefList[C].OrgBalance;null!=l?(b=l>f&&0==D?N-f:l-D,this.LedagainstRefList[C].OrgBalance=N<l?N-b:N+b):this.LedagainstRefList[C].OrgBalance=N>0?N-D:N+D}}}this.LedagainstRefList.filter(function(e){return e.UIDN==n.UIDN}).orgBalance=n.orgBalance}}},{key:"IsAnyWrongAmount",value:function(){var e=this.referenceGroups.map(function(e,t){return e.filter(function(e,t){return!0===e.IsAmountGreater&&1!=e.operationType})}).reduce(function(e,t){return e.concat(t)},[]);this.referenceAmountError=e.length>0}},{key:"ChangeReference",value:function(){var e=this;if(this.curReference=[],-1!=this.accountService.result.findIndex(function(e){return 1==e.Ick&&null!=e.BkStatus}))this.alertService.showError("Error","Please cancel Booked vouchers, Inorder to proceed change Reference");else{0==this.allagainstRefList.filter(function(t){return t.L_Id==e.companyLedgerService.singleresult.UIDN}).length&&(this.allagainstRefList=[],this.ReportServices.filterArg=new d.Jw,this.ReportServices.filterArg.LedgerId=this.companyLedgerService.singleresult.UIDN,this.ReportServices.filterArg.voucherMasterId=this.VoucherId,this.ReportServices.filterArg.chkNarration=!0,this.ReportServices.isGetSubscribe=!0,this.ReportServices.GetAgainstRefDetail());var t=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});if(t.length>0){for(var n=function(n){if(r=e.accountService.result.map(function(e){return e.referencemaster}).filter(function(e){return null!=e}).filter(function(e){return e.some(function(e){return e.VoucherMaster_PK_Id===t[n]})}),null!=r&&null!=r)for(var i=0;i<r.length;i++){var o=e.curReference.concat(r[i]?r[i]:[]);e.curReference=o}},i=0;i<t.length;i++){var r;n(i)}this.referenceGroups=[],this.referenceGroups=this.getreferencegroupforpopup(),this.showReferencepopup=!0,this.RefModal.show()}else this.alertService.showError("Error","Please select atleast one record")}this._SearchModal.hide()}},{key:"getagainstReference",value:function(){return this.LedagainstRefList.filter(function(e){return 0!=e.orgBalance})}},{key:"getreferenceforpopup",value:function(){return this.curReference}},{key:"getreferencegroupforpopup",value:function(){return Object.values(this.curReference.reduce(function(e,t){var n=t.VNO;return e[n]||(e[n]=[]),e[n].push(t),e},{}))}},{key:"indexTracker",value:function(e,t){return e}},{key:"UpdateVoucherReference",value:function(e,t,n){"AgainstRef"==n?this.referenceGroups[e][t].Ref_Tag=null:"OnAccount"==n?(this.referenceGroups[e][t].Ref_Tag=null,this.referenceGroups[e][t].Agnst_Ref_Id=null,this.referenceGroups[e][t].Agnst_VoucherMst_Id=null):(this.referenceGroups[e][t].Agnst_Ref_Id=null,this.referenceGroups[e][t].Agnst_VoucherMst_Id=null)}},{key:"Savereference",value:function(){this.referenceGroups.length>0&&(this.curReference=this.referenceGroups.reduce(function(e,t){return e.concat(t)},[]),this.accountService.UpdateVoucherReference(this.curReference).subscribe(function(){},function(){})),this.showReferencepopup=!1,this.RefModal.hide()}},{key:"FinalizeVoucher",value:function(e){var t=this.accountService.result.filter(function(e){return 1==e.Ick}),n=t.map(function(e){return e.UIDN}),i=t.some(function(e){return 1==e.IsFZ});0==e&&i?this.confirmFinalizeAction(n,e,"Are you sure you want to undo this finalized record?"):1==e?this.confirmFinalizeAction(n,e,"Are you sure you want to finalize this record?"):i||this.alertService.showWarning("alert","The voucher isn't finalized!"),this._SearchModal.hide()}},{key:"confirmFinalizeAction",value:function(e,t,n){var i=this;e.length>0?this.alertService.showconfirm("Confirm",n,["Yes","No"],null).subscribe(function(n){n&&"Yes"==n.answer&&i.accountService.FinalizeVoucher(e,t).subscribe(function(){i.FilterData(0)})}):this.alertService.showError("Error","Please select at least one record")}},{key:"ResVoucher",value:function(){var e=this,t=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});t.length>0?this.alertService.showconfirm("Confirm","Are you sure you want to Restore this record",["Yes","No"],null).subscribe(function(n){null!=n&&"Yes"==n.answer&&e.accountService.RestoreVoucher(t).subscribe(function(){e.FilterData(0)})}):this.alertService.showError("Error","Please select atleast one record")}},{key:"PermanentDeleteVoucher",value:function(){var e=this,t=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});t.length>0?this.alertService.showconfirm("Confirm","Are you sure you want to Permanent Delete this record?",["Yes","No"],null).subscribe(function(n){null!=n&&"Yes"==n.answer&&e.accountService.PermanentVoucherdelete(t).subscribe(function(){e.FilterData(0)})}):this.alertService.showError("Error","Please select atleast one record"),this._SearchModal.hide()}},{key:"HideEntry",value:function(){this.accountService.result.filter(function(e){return 1==e.Ick}).length>0?0==this.hasVerticalScroll()&&this.accountService.ScrollDown():this.alertService.showError("Error","Please select atleast one record")}},{key:"onSwipe",value:function(){this.IsTapped=!0}},{key:"ClearFilter",value:function(){this.voucherSelector=[],this.amounttype=null,this.amountvall=null,this.voucherType=[],this.instrumentno="",this.instrumentdate=null,this.nurration="",this.VoucherNum="",this.LedgerNativeId=null,this.AmttypeNative=null,this.IsShowDetails=!1,this.IsShowReference=!1,this.httpfunction.IsMobileview()&&(this.companyLedgerService.singleresult=null),this.FilterData(0)}},{key:"clearfilterandloadnewdata",value:function(){this.ClearFilter(),this.FilterData(0)}},{key:"toggleDropdown",value:function(e){$("#adv-search").dropdown("hide")}},{key:"ondybkdateSelect",value:function(e){this.instrumentdate=e}},{key:"fileprint",value:function(e){this.accountService.isPrint=!0,this.accountService.isShare=!1,this.accountService.ExportType=h.tM.PRINT,this.accountService.GenerateReceipt(e)}},{key:"SharingVoucher",value:function(e){this.accountService.isShare=!0,this.accountService.isPrint=!1,this.accountService.GenerateReceipt(e,!0)}},{key:"SendEmail",value:function(e){var t=this,n=new f.Q;n.VoucherMaster_PK_Id=this.voucherId,n.CompanyMaster_PK_Id=this.EmailPopupLedId,n.name=this.httpfunction.IsMobileview()?this.Ledgeremail:e.value.email,n.CompanyId=this.accountService.getCompanyId,n.SignupId=this.accountService.getSignupId,this.accountService.showMessage=!1,this.accountService.EmailReceipt(n).subscribe(function(e){null==e.data||null==e.data?(t.AddOnCode="ec",t.Description="You dont have any Email credit. Please purchase Email Plans before creating Email templates.",t._modelEmail.hide(),t._modalPay.show()):(t.alertService.showSuccess("Success","Record added successfully"),t._modalPay.hide(),t._modelEmail.hide())})}},{key:"Changeledgerdetails",value:function(e){var t=this,n=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN}),i=this.companyLedgerService.singleresult.UIDN,r=e.UIDN;if(n.length>0){var o=new d.Jw;o.LedgerId=r,o.UserId=n,o.ActionId=i,o.LastOpbalance=0;var a=new h.p;a.CompanyId=this.accountService.getCompanyId,a.SignupId=this.accountService.getSignupId,a.FilterData=o,this.accountService.UpdateVoucherLedger(a).subscribe(function(){t._chngeLedger.hide(),t.Chnageledger=null,t.FilterData(0)})}else this.alertService.showError("Error","Please select atleast one record For Update Ledger..")}},{key:"OpenEmailPopup",value:function(e){var t=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});0==t.length||1==t.length?(this.voucherId=e.UIDN,this.EmailPopupLedId=e.VDet[0].LId,this.Ledgeremail=e.VDet[0].Email,this._modelEmail.show()):this.alertService.showError("Error","Please select only one record For Sending Mail..")}},{key:"ngOnDestroy",value:function(){0==this.bookingvoucher&&this.filterService.RemoveFillLocalData("Daybook"),null!=this.subscription&&this.subscription.unsubscribe(),null!=this.AccountlistSubscription&&this.AccountlistSubscription.unsubscribe(),null!=this.Refsubscription&&this.Refsubscription.unsubscribe()}},{key:"OnKeydown",value:function(e,t){var n=this,i=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN}),r=e.key||e.keyCode;if(("Backspace"==r&&e.altKey||"Escape"==r)&&(setTimeout(function(){document.scrollingElement.scrollTop=n.currentScrollPosition,n.accountService.arrowDownEvent(n.accountService.selectedRowIndex)},150),this.goback()),"h"==r&&e.ctrlKey)i.length>0?this.accountService.HideShowVoucher(i,"true").subscribe(function(){n.IsHideVoucher=!1,n.FilterData(0)}):this.alertService.showError("Error","Please select atleast one record"),e.stopPropagation(),e.preventDefault();else if("B"==r&&e.ctrlKey&&e.shiftKey)i.length>0?this.accountService.HideShowVoucher(i,"false").subscribe(function(){n.IsHideVoucher=!1,n.FilterData(0)}):this.alertService.showError("Error","Please select atleast one record"),e.stopPropagation(),e.preventDefault();else if("m"==r&&e.ctrlKey)this.IsHideVoucher=!0,this.FilterData(0),e.stopPropagation(),e.preventDefault();else if("u"==r&&e.ctrlKey)this.IsHideVoucher=!1,this.FilterData(0),e.stopPropagation(),e.preventDefault();else if("F1"==r&&e.altKey)this.IsShowDetails=!this.IsShowDetails,e.stopPropagation(),e.preventDefault();else if("F2"==r&&e.altKey)this.v_date.nativeElement.focus(),e.stopPropagation(),e.preventDefault();else if("F4"==r||"F10"==r||"F6"==r||"F7"==r||"F8"==r||"F9"==r){this.ontransactionModelHide();var o="";"F4"==r?o="Contra":"F10"==r?o="Payment":"F6"==r?o="Receipt":"F7"==r?o="Journal":"F8"==r?o="Sales":"F9"==r&&(o="Purchase");var a=!0,l=this.httpfunction.getStorage("_roledata");l&&"null"!=l&&null!=l&&0==(a=JSON.parse(this.httpfunction.getStorage("_roledata"))[o][1])&&(this.alertService.showInfo("Error","You do not have sufficient rights to perform this action. Please contact administrator."),e.stopPropagation(),e.preventDefault()),a&&this.openTransaction(o,"","","",!1,!1),e.stopPropagation(),e.preventDefault()}"s"==r&&e.altKey&&this.generatePDF(2),"p"==r&&e.altKey&&this.generatePDF(1),"e"==r&&e.altKey&&e.ctrlKey&&this.exportExcel(),"d"==r&&e.altKey&&(i.length>0?this.accountService.MultipleVoucherdelete(i).subscribe(function(){n.FilterData(0)}):this.alertService.showInfo("Alert","Selection not found!"))}},{key:"deleteVoucherKey",value:function(e,t){"d"==(e.key||e.keyCode)&&e.altKey&&this.deleteVoucher(this.accountService.result[t].UIDN)}},{key:"OnHide",value:function(e){this.httpfunction.IsMobileview()?this.accountService.result=this.accountService.result.filter(function(t){return t.UIDN!=e}):(this.accountService.result=this.accountService.result.filter(function(t){return t.UIDN!=e}),0==this.hasVerticalScroll()&&this.accountService.ScrollDown())}},{key:"hasVerticalScroll",value:function(){return!!this.httpfunction.IsMobileview()||(window.innerHeight?document.body.offsetHeight>window.innerHeight:document.documentElement.scrollHeight>document.documentElement.offsetHeight||document.body.scrollHeight>document.body.offsetHeight)}},{key:"ontransactionModelHide",value:function(){this.showTransactionModal=!1,document.scrollingElement.scrollTop=this.currentScrollPosition}},{key:"goback",value:function(){1==this.TransactionredirectOnCancel?this.location.back():this.TransactionredirectAction.emit(null)}},{key:"gobackpopup",value:function(){this.location.back()}},{key:"startdateSelect",value:function(e){this.StartDate=e,this.isMainWindow&&(this.accountService.getStartFinancialdate=this.StartDate)}},{key:"enddateSelect",value:function(e){this.EndDate=e,this.isMainWindow&&(this.accountService.getEndFinancialdate=this.EndDate)}},{key:"FilterData",value:function(e){var t=this,n=new Date(new Date(this.StartDate).toDateString());if(new Date(new Date(this.EndDate).toDateString())<n)return this.httpfunction.IsMobileview()?this.alertService.showError("error","end date should be greater than start date"):this.alertService.showWarning("Warning","end date should be greater than start date"),!1;this.httpfunction.scrolltop();var i=0,r=!1;null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult.UIDN&&(this.Accselector=this.allLedgers.filter(function(e){return e.UIDN==t.companyLedgerService.singleresult.UIDN}),i=this.companyLedgerService.singleresult.UIDN,r=this.companyLedgerService.singleresult.IsGrp);var o=0;null!=this.filterInnerLedger&&null!=this.filterInnerLedger&&(o=this.filterInnerLedger.UIDN),(this.isMainWindow||this.isMainWindowOut)&&(this.accountService.getStartFinancialdate=this.StartDate,this.accountService.getEndFinancialdate=this.EndDate),this.voucherType=null==this.voucherType||null!=this.voucherType&&0==this.voucherType.length?null:JSON.parse(JSON.stringify(this.voucherType));var a=new d.Jw;return"Finalize Vouchers"==this.PageType&&(a.IsFinalize=!0),"Restore Vouchers"==this.PageType&&(a.IsVoucherrestore=!0),"Hidden Vouchers"==this.PageType&&(a.IsHideVoucher=!0),a.LedgerId=i,a.filterInnerLedger=o,a.Isgroup=r,a.LastOpbalance=e,a.amountvall=this.amountvall,a.amounttype=this.amounttype,a.voucherType=this.voucherType,a.instrumentno=this.instrumentno,a.instrumentdate=this.instrumentdate,a.nurration=this.nurration,a.voucherno=this.VoucherNum,a.IsHideVoucher=this.IsHideVoucher,a.FilterLedger=this.FltLedgerName,a.PageType=this.PageType,this.isInterCompany&&(a.CompanyId=this.compCompanyId),a.startTime=new Date(this.StartDate).toDateString(),a.endTime=new Date(this.EndDate).toDateString(),this.accountService.filterArg=a,this.accountService.page=0,this.IsLedgerChange=!1,null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult.UIDN&&(this.IsLedgerChange=!0),this.httpfunction.IsMobileview()||this.filterService.fillLocalData([{LedgerId:i,PageType:this.PageType,VoucherType:this.voucherType,VoucherNo:this.VoucherNum,Rangevar:this.amounttype,EnterRange:this.amountvall,InstrumentDate:this.instrumentdate,InstrumentNo:this.instrumentno,nurration:this.nurration,ShowRefernce:this.IsShowReference,ShowDetails:this.IsShowDetails}],"Daybook"),this.IsHideVoucher=!1,!1}},{key:"changeData",value:function(){this.httpfunction.IsMobileview()||this.filterService.fillLocalData([{LedgerId:this.companyLedgerService.singleresult.UIDN,PageType:this.PageType,VoucherType:this.voucherType,VoucherNo:this.VoucherNum,Rangevar:this.amounttype,EnterRange:this.amountvall,InstrumentDate:this.instrumentdate,InstrumentNo:this.instrumentno,nurration:this.nurration,ShowRefernce:this.IsShowReference,ShowDetails:this.IsShowDetails}],"Daybook")}},{key:"onScroll",value:function(e){if(!this.showTransactionModal&&this.accountService.result.length>0){var t=this.accountService.result[this.accountService.result.length-1].VDet;this.accountService.filterArg.LastOpbalance=t[t.length-1].Balance,null!=this.infiniteScroll&&(this.accountService.mobileinfinitescroll=this.infiniteScroll,this.accountService.mobilevirtualscroll=this.virtualScroll,this.accountService.refreshEvent=e.target),this.accountService.ScrollDown()}}},{key:"generatePDF",value:function(e){var t=this;"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||this.accountService.PDFFiles().subscribe(function(n){for(var i=new Array,r=[],o=[],a=0;a<t.accountService.ExportColumn.length;a++)r.push({text:t.accountService.ExportColumn[a].title,style:"tableHeader"}),o.push(null==t.accountService.ExportColumn[a].size?"auto":t.accountService.ExportColumn[a].size);i.push(r);for(var l=0;l<n.length;l++)for(var s=n[l],c=0;c<s.VDet.length;c++){var u=s.VDet[c],d=[];if(d.push(null!=s.VNO||null!=s.VNO?s.VNO:""),null!=s.VDt||null!=s.VDt?"01-Jan-0001"==moment(s.VDt).format("DD-MMM-YYYY")?d.push(""):d.push(moment(s.VDt).format("DD-MMM-YYYY")):d.push(""),d.push(null!=s.VT||null!=s.VT?s.VT:""),d.push(u.L_Name),d.push(s.UsrName),d.push(u.DrAmt),d.push(u.CrAmt),d.push(u.Balance),d.push(null==s.Narr?"":s.Narr),i.push(d),t.IsShowDetails)if(null!=s.VDetlist){if(s.VDetlist.length>0)for(var g=0;g<s.VDetlist.length;g++){if((v=[]).push(""),v.push(""),v.push(""),v.push(s.VDetlist[g].L_Name),v.push(""),v.push(s.VDetlist[g].DrAmt),v.push(s.VDetlist[g].CrAmt),v.push(""),null!=s.bankDetails)if(s.bankDetails.length>0){for(var h="",p=0;p<s.bankDetails.length;p++)(h+=('" check date '+moment(s.bankDetails[p].ChkDt).format("DD-MMM-YYYY")+" Amount "+s.bankDetails[p].Led_Dr+" Rec. Date "+moment(s.bankDetails[p].BRecoDt).format("DD-MMM-YYYY")+'" ,').slice(0,-1)+",").split(",");v.push(h.split(","))}else v.push("");else v.push("");i.push(v)}}else if(null!=s.VDet&&s.VDet.length>0)for(var f=0;f<s.VDet.length;f++){var v;if((v=[]).push(""),v.push(""),v.push(""),v.push(s.VDet[f].L_Name),v.push(""),v.push(s.VDet[f].DrAmt),v.push(s.VDet[f].CrAmt),v.push(""),null!=s.bankDetails)if(s.bankDetails.length>0){for(var m="",T=0;T<s.bankDetails.length;T++)(m+=('" check date '+moment(s.bankDetails[T].ChkDt).format("DD-MMM-YYYY")+" Amount "+s.bankDetails[T].Led_Dr+" Rec. Date "+moment(s.bankDetails[T].BRecoDt).format("DD-MMM-YYYY")+'" ,').slice(0,-1)+",").split(",");v.push(m.split(","))}else v.push("");else v.push("");i.push(v)}}var I="All";null!=t.companyLedgerService.singleresult&&null!=t.companyLedgerService.singleresult.UIDN&&(I=t.companyLedgerService.singleresult.LN);var Z="Company: "+t.accountService.getCompanyData.CN+" Period : "+moment(t.StartDate).format("DD MMM YYYY")+" To : "+moment(t.EndDate).format("DD MMM YYYY")+" Ledger : "+I+" Printed on : "+moment(new Date).format("DD MMM YYYY hh:mm:ss");t.accountService.GeneratePDF(e,Z,t.accountService.ExportName,o,i,"A3")})}},{key:"ExportTallyXML",value:function(){"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||(this._chkVoucherNo=!1,this._chkNarration=!1,this._chkBillwise=!1,this._chkBankDetails=!1,this.OnExportSubmit(),this._SearchModal.hide())}},{key:"OnCancel",value:function(){this._ExportModal.hide()}},{key:"OnExportSubmit",value:function(){var e=new d.Jw;e.chkVoucherNo=this._chkVoucherNo,e.chkNarration=this._chkNarration,e.chkBillwise=this._chkBillwise,e.chkBankDetails=this._chkBankDetails;var t=0,n=!1;null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult.UIDN&&(t=this.companyLedgerService.singleresult.UIDN,n=this.companyLedgerService.singleresult.IsGrp),this.voucherType=null==this.voucherType||null!=this.voucherType&&0==this.voucherType.length?null:JSON.parse(JSON.stringify(this.voucherType));var i=new h.p;i.FilterData=e,i.CompanyId=this.accountService.getCompanyId,i.SignupId=this.accountService.getSignupId,e.startTime=new Date(this.StartDate).toDateString(),e.endTime=new Date(this.EndDate).toDateString(),e.LedgerId=t,e.Isgroup=n,e.LastOpbalance=0,e.amountvall=this.amountvall,e.amounttype=this.amounttype,e.voucherType=this.voucherType,e.instrumentno=this.instrumentno,e.instrumentdate=this.instrumentdate,e.nurration=this.nurration,e.voucherno=this.VoucherNum,e.IsHideVoucher=this.IsHideVoucher,e.FilterLedger=this.FltLedgerName,this.accountService.ExportVoucher(i).subscribe(function(e){var t=new Date,n=new Blob([e.data],{type:"text/xml"});(0,v.saveAs)(n,"VoucherExport_"+t.toISOString()+".xml")})}},{key:"ExportToTally",value:function(){var e=this;"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||this.accountService.ExportForTally().subscribe(function(t){for(var n="",i=[{title:"Date",format:"DD-MMM-YYYY"},{title:"Particulars"},{title:""},{title:""},{title:""},{title:""},{title:"Vch Type"},{title:"Vch No"},{title:"Debit Amount"},{title:"Credit Amount"},{title:"Master Id"},{title:"Lable"}],r="",o=0;o<i.length;o++)r+='"'+i[o].title+'",';n+=(r=r.slice(0,-1))+"\r\n";for(var a=0;a<t.length;a++){for(var l=t[a],s=0;s<l.VDet.length;s++){var c="",u=l.VDet[s];null!=l.VDt?"01-Jan-0001"==moment(l.VDt).format("DD-MMM-YYYY")?c+='"  ",':c+='"'+moment(l.VDt).format("DD-MMM-YYYY")+'" ,':c+='"  ",',c+=null!=u.L_Name?'"'+u.L_Name.split('"').join("")+'" ,':'"  ",',c+='"  ",',c+='"  ",',c+='"  ",',c+='"  ",',c+=null!=l.VT?'"'+l.VT+'" ,':'"  ",',c+=null!=l.VNO?'"'+l.VNO+'" ,':'"  ",',c+=null!=u.DrAmt?'"'+u.DrAmt+'" ,':'"  ",',c+=null!=u.CrAmt?'"'+u.CrAmt+'" ,':'"  ",',c+=null!=l.UIDN?'"'+l.UIDN+'" ,':'"  ",',n+=(c=(c+='"LEDGER NAME" ,').slice(0,-1))+"\r\n"}if(null!=l.referencemaster&&l.referencemaster.length>0)for(var d=0;d<l.referencemaster.length;d++){var g="",p=l.referencemaster[d];g+='"  ",',g+=null!=p.Ref_Type?'"'+p.Ref_Type+'" ,':'"  ",',g+=null!=p.Ref_Tag?'"'+p.Ref_Tag+'" ,':'"  ",',g+='"  ",',p.Dr>0?(g+='"'+p.Dr+'" ,',g+='"DR",'):(g+='"'+p.Cr+'" ,',g+='"CR",'),g+='"  ",',g+='"  ",',g+='"  ",',g+='"  ",',g+=null!=l.UIDN?'"'+l.UIDN+'" ,':'"  ",',n+=(g=(g+='"BILL REF" ,').slice(0,-1))+"\r\n"}if(null!=l.bankDetails&&l.bankDetails.length>0){var f="";f+='"  ",',f+='"  ",',f+=null!=l.bankDetails[0].TType?'"'+l.bankDetails[0].TType.split('"').join("")+'" ,':'"  ",',f+=null!=l.bankDetails[0].ChkNo?'"'+l.bankDetails[0].ChkNo.split('"').join("")+'" ,':'"  ",',null!=l.bankDetails[0].ChkDt?"01-Jan-0001"==moment(l.bankDetails[0].ChkDt).format("DD-MMM-YYYY")?f+='"  ",':f+='"'+moment(l.bankDetails[0].ChkDt).format("DD-MMM-YYYY")+'" ,':f+='"  ",',f+=l.bankDetails[0].Led_Dr>0?'"'+l.bankDetails[0].Led_Dr+' DR" ,':'"'+l.bankDetails[0].Led_Cr+' CR" ,',null!=l.bankDetails[0].BRecoDt?"01-Jan-0001"==moment(l.bankDetails[0].BRecoDt).format("DD-MMM-YYYY")?f+='"  ",':f+='"'+moment(l.bankDetails[0].BRecoDt).format("DD-MMM-YYYY")+'" ,':f+='"  ",',f+='"  ",',f+='"  ",',f+='"  ",',f+=null!=l.UIDN?'"'+l.UIDN+'" ,':'"  ",',n+=(f=(f+='"BANK DETAILS" ,').slice(0,-1))+"\r\n"}}var m=new Date,T=e.accountService.ExportName+"_"+m.toISOString()+".csv";if(e.isNativeApp)e.accountService.isShare=!1,e.accountService.isPrint=!1,e.accountService.savebase64AsPDF("",T,btoa(n),"text/csv",h.tM.EXCEL);else{var I=new Blob([n],{type:"text/csv;charset=utf-8"});(0,v.saveAs)(I,T)}},function(){})}},{key:"ExportTo",value:function(){var e=this;"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||this.accountService.ExportExcel().subscribe(function(t){for(var n="",i=[{title:"Vouchernumber",dataKey:"VNO"},{title:"Date",dataKey:"VDt",format:"DD-MMM-YYYY"},{title:"Vocher Type",dataKey:"VT"},{title:"Ledger Code",dataKey:"L_Name"},{title:"Ledger Amount Dr",dataKey:"DrAmt"},{title:"Ledger Amount Cr",dataKey:"CrAmt"},{title:"Narration",dataKey:"Narr"},{title:"Instrument No",dataKey:"L_Name"},{title:"Instrument Date",dataKey:"L_Name",format:"DD-MMM-YYYY"},{title:"Transaction type",dataKey:"L_Name"},{title:"Bank Info",dataKey:"L_Name"}],r="",o=0;o<i.length;o++)r+='"'+i[o].title+'",';n+=(r=r.slice(0,-1))+"\r\n";for(var a=0;a<t.length;a++)for(var l=t[a],s=0;s<l.VDet.length;s++){var c="",u=l.VDet[s];c+=null!=l.VNO?'"'+l.VNO+'" ,':'"  ",',null!=l.VDt?"01-Jan-0001"==moment(l.VDt).format("DD-MMM-YYYY")?c+='"  ",':c+='"'+moment(l.VDt).format("DD-MMM-YYYY")+'" ,':c+='"  ",',c+=null!=l.VT?'"'+l.VT+'" ,':'"  ",',c+=null!=u.L_Name?'"'+u.L_Name.split('"').join("")+'" ,':'"  ",',c+=null!=u.DrAmt?'"'+u.DrAmt+'" ,':'"  ",',c+=null!=u.CrAmt?'"'+u.CrAmt+'" ,':'"  ",',c+=null!=l.Narr?'"'+l.Narr.split('"').join("")+'" ,':'"  ",',l.bankDetails.length>0&&(c+=null!=l.bankDetails[0].ChkNo?'"'+l.bankDetails[0].ChkNo.split('"').join("")+'" ,':'"  ",',null!=l.bankDetails[0].ChkDt?"01-Jan-0001"==moment(l.bankDetails[0].ChkDt).format("DD-MMM-YYYY")?c+='"  ",':c+='"'+moment(l.bankDetails[0].ChkDt).format("DD-MMM-YYYY")+'" ,':c+='"  ",',c+=null!=l.bankDetails[0].TType?'"'+l.bankDetails[0].TType.split('"').join("")+'" ,':'"  ",',c+=null!=l.bankDetails[0].BankName?'"'+l.bankDetails[0].BankName.split('"').join("")+'" ,':'"  ",'),n+=(c=c.slice(0,-1))+"\r\n"}var d=new Date,g=e.accountService.ExportName+"_"+d.toISOString()+".csv";if(e.isNativeApp)e.accountService.isShare=!1,e.accountService.isPrint=!1,e.accountService.savebase64AsPDF("",g,btoa(n),"text/csv",h.tM.EXCEL);else{var p=new Blob([n],{type:"text/csv;charset=utf-8"});(0,v.saveAs)(p,g)}},function(){})}},{key:"exportExcel",value:function(){var e=this;"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||this.accountService.PDFFiles().subscribe(function(t){var n="",i=[{title:"Voucher NO.",dataKey:"VNO"},{title:"Date",dataKey:"VDt",format:"DD-MMM-YYYY"},{title:"Type",dataKey:"VT"},{title:"Ledger Name",dataKey:"L_Name"},{title:"User Name",dataKey:"UsrName"},{title:"Dr Amount",dataKey:"DrAmt"},{title:"Cr Amount",dataKey:"CrAmt"},{title:"Balance",dataKey:"Balance"},{title:"Narration",dataKey:"Narr"}],r="",o="All";null!=e.companyLedgerService.singleresult&&null!=e.companyLedgerService.singleresult.UIDN&&(o=e.companyLedgerService.singleresult.LN),r="Company: "+e.accountService.getCompanyData.CN+" Period : "+moment(e.StartDate).format("DD MMM YYYY")+" To : "+moment(e.EndDate).format("DD MMM YYYY")+" Ledger : "+o+" Printed on : "+moment(new Date).format("DD MMM YYYY hh:mm:ss")+"\r\n";for(var a=0;a<i.length;a++)r+='"'+i[a].title+'",';n+=(r=r.slice(0,-1))+"\r\n";for(var l=0;l<t.length;l++)for(var s=t[l],c=0;c<s.VDet.length;c++){var u="",d=s.VDet[c];if(u+=null!=s.VNO?'"'+s.VNO+'" ,':'"  ",',null!=s.VDt?"01-Jan-0001"==moment(s.VDt).format("DD-MMM-YYYY")?u+='"  ",':u+='"'+moment(s.VDt).format("DD-MMM-YYYY")+'" ,':u+='"  ",',u+=null!=s.VT?'"'+s.VT+'" ,':'"  ",',u+=null!=d.L_Name?'"'+d.L_Name.split('"').join("")+'" ,':'"  ",',u+=null!=s.UsrName?'"'+s.UsrName.split('"').join("")+'" ,':'"  ",',u+=null!=d.DrAmt?'"'+d.DrAmt+'" ,':'"  ",',u+=null!=d.CrAmt?'"'+d.CrAmt+'" ,':'"  ",',u+=null!=d.Balance?'"'+d.Balance+'" ,':'"  ",',n+=(u=(u+=null!=s.Narr?'"'+s.Narr.split('"').join("")+'" ,':'"  ",').slice(0,-1))+"\r\n",e.IsShowDetails)if(null!=s.VDetlist){if(s.VDetlist.length>0)for(var g=0;g<s.VDetlist.length;g++){var p="";if(p+='"" ,',p+='"" ,',p+='"" ,',p+='"'+s.VDetlist[g].L_Name+'" ,',p+='"" ,',p+='"'+s.VDetlist[g].DrAmt+'" ,',p+='"'+s.VDetlist[g].CrAmt+'" ,',p+='"" ,',null!=s.bankDetails)if(s.bankDetails.length>0){for(var f="",m=0;m<s.bankDetails.length;m++)(f+=('" check date '+moment(s.bankDetails[m].ChkDt).format("DD-MMM-YYYY")+" Amount "+s.bankDetails[m].Led_Dr+" Rec. Date "+moment(s.bankDetails[m].BRecoDt).format("DD-MMM-YYYY")+'" ,').slice(0,-1)+"").split(",");p+='"'+f+'" ,'}else p+='"" ,';else p+='"" ,';n+=(p=p.slice(0,-1))+"\r\n"}}else if(null!=s.VDet&&s.VDet.length>0)for(var T=0;T<s.VDet.length;T++){var I="";if(I+='"" ,',I+='"" ,',I+='"" ,',I+='"'+s.VDet[T].L_Name+'" ,',I+='"" ,',I+='"'+s.VDet[T].DrAmt+'" ,',I+='"'+s.VDet[T].CrAmt+'" ,',I+='"" ,',null!=s.bankDetails)if(s.bankDetails.length>0){for(var Z="",A=0;A<s.bankDetails.length;A++)Z+=('" check date '+moment(s.bankDetails[A].ChkDt).format("DD-MMM-YYYY")+" Amount "+s.bankDetails[A].Led_Dr+" Rec. Date "+moment(s.bankDetails[A].BRecoDt).format("DD-MMM-YYYY")+'" ,').slice(0,-1)+"-";I+='"'+Z+'" ,'}else I+='"" ,';else I+='"" ,';n+=(I=I.slice(0,-1))+"\r\n"}}var x=new Date,y=e.accountService.ExportName+"_"+x.toISOString()+".csv";if(e.httpfunction.isNativeApp)e.accountService.isShare=!1,e.accountService.isPrint=!1,e.accountService.savebase64AsPDF("",y,btoa(n),"text/csv",h.tM.EXCEL);else{var S=new Blob([n],{type:"text/csv;charset=utf-8"});(0,v.saveAs)(S,y)}},function(){})}},{key:"openTransaction",value:function(e,t,n,i,r,o){var a=this;if(this.currentScrollPosition=document.scrollingElement.scrollTop,null!=i&&n>0&&null!=n)if(1==o)this.alertService.showconfirm("Confirm","This is Finalize Voucher! Are you sure you want to Edit this record",["Yes","No"],null).subscribe(function(e){if(null!=e&&"Yes"==e.answer){if(a.bookingvoucher=!0,!(null!=i&&null!=i&&i>0))return void a.alertService.showError("Error","voucher Deleted and can not opened..");a.router.navigate(["/marketing/bookingform",n,"Booking"])}});else{if(this.bookingvoucher=!0,!(null!=i&&null!=i&&i>0))return void this.alertService.showError("Error","voucher Deleted and can not opened..");this.router.navigate(["/marketing/bookingform",n,"Booking"])}""==t&&(t=0),1==o?this.alertService.showconfirm("Confirm","This is Finalize Voucher! Are you sure you want to Edit this record",["Yes","No"],null).subscribe(function(n){null!=n&&"Yes"==n.answer&&a.openVoucherpopup(e,t,r)}):this.openVoucherpopup(e,t,r)}},{key:"openVoucherpopup",value:function(e,t,n){this.currentScrollPosition=document.scrollingElement.scrollTop,"Purchaseitem"==e?(this.VoucherType="Purchase",this.IsItemVoucher=!0):"Salesitem"==e?(this.VoucherType="Sales",this.IsItemVoucher=!0):(this.VoucherType=e,this.IsItemVoucher=!1),this.VoucherId=t,this.Duplicate=n,this.showTransactionModal=!0}},{key:"onTransactionSubmit",value:function(e){var t=this;if((null==e||e.isHide)&&(this.showTransactionModal=!1,setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition,t.accountService.arrowDownEvent(t.accountService.selectedRowIndex)},250)),document.scrollingElement.scrollTop=this.currentScrollPosition,this.updateTransaction(e),this.accountService.IsMobileview&&null!=e){var n=this.accountService.result.findIndex(function(t){return t.UIDN==e.UIDN});n>-1&&this.virtualScroll.checkRange(n,1)}}},{key:"preventpopup",value:function(e){e.stopPropagation()}},{key:"change",value:function(e){this.status.isOpen=e}},{key:"openLedgerPopup",value:function(e){return this.isList=!1,this.ledgerIdVal=e.toString(),this.isLedgerpopupopen=!0,this._SearchModal.hide(),!0}},{key:"reportLedgerAdded",value:function(e){this.isList=!0,this.addurl("transactions/daybook"),null!=e&&(this.companyLedgerService.GetAlldatafordaybook(!0),this.FilterData(0)),this.isLedgerpopupopen=!1}},{key:"OpenLedgerHistoryPopUp",value:function(e){this.addurl("reports/ledgerhistory"),this.isList=!1,this.currentScrollPosition=document.scrollingElement.scrollTop,this._LedgerId=e,this.showLedegrHistoryModal=!0,this.isLedgerHistorypopupopen=!0,this._SearchModal.hide()}},{key:"onLedgHistoryHide",value:function(){this.addurl("transactions/ledger"),this.isList=!0,this.showLedegrHistoryModal=!1,this.isLedgerHistorypopupopen=!1,document.scrollingElement.scrollTop=this.currentScrollPosition,this._LedgerId=0}},{key:"addurl",value:function(e){var t=this,n=e,i=this.router.url;i=(i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0),this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),t.location.go("".concat(i,"/").concat(n))}),"transactions/ledgeradd/0/false"==e&&(i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0)),"/transactions/account/Journal/ + voucherid"==e&&(i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0)),"/transactions/account/Purchase/ + voucherid"==e&&(i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0))}},{key:"updateTransaction",value:function(e){var t=this;if(null!=e){this.isMainWindow&&(this.accountService.getStartFinancialdate=this.StartDate,this.accountService.getEndFinancialdate=this.EndDate);var n=new Array,i=new Array;if(null==this.companyLedgerService.singleresult){if(e.VT==u.$f.DeliveryNote){if(e.InventoryDetails.filter(function(e){return e.CrAmt>0}).Count()>0){var r=new p.eK,o=new p.S4;o=e.InventoryDetails.filter(function(e){return e.CrAmt>0})[0],r.LId=e.VDet.filter(function(e){return e.CrAmt>0})[0].LId,r.CrAmt=o.ActQty,r.Narration=e.UN,r.DrAmt=0,r.Balance=0,r.BilledAmount=0,r.IsBillPayed=!1,r.isMainled=!0,r.IsTax=!1,r.L_anc=e.VDet.filter(function(e){return e.CrAmt>0})[0].L_anc,r.L_Cat=e.VDet.filter(function(e){return e.CrAmt>0})[0].L_Cat,r.L_Name=o.Name,r.L_PId=e.VDet.filter(function(e){return e.CrAmt>0})[0].L_PId,r.Quantity=0,r.TaxLedgerId=0,r.TaxRate=e.VDet.filter(function(e){return e.CrAmt>0})[0].TaxRate,r.UnitCost=0,n.push(r)}}else e.VT==u.$f.ReceiptNote?(r=new p.eK,o=new p.S4,o=e.InventoryDetails.filter(function(e){return e.DrAmt>0})[0],r.LId=e.VDet.filter(function(e){return e.DrAmt>0})[0].LId,r.DrAmt=o.ActQty,r.Narration=e.UN,r.CrAmt=0,r.Balance=0,r.BilledAmount=0,r.IsBillPayed=!1,r.isMainled=!0,r.IsTax=!1,r.L_anc=e.VDet.filter(function(e){return e.DrAmt>0})[0].L_anc,r.L_Cat=e.VDet.filter(function(e){return e.DrAmt>0})[0].L_Cat,r.L_Name=o.Name,r.L_PId=e.VDet.filter(function(e){return e.DrAmt>0})[0].L_PId,r.Quantity=0,r.TaxLedgerId=0,r.TaxRate=e.VDet.filter(function(e){return e.DrAmt>0})[0].TaxRate,r.UnitCost=0,n.push(r)):n.push(e.VT==u.$f.Contra||e.VT==u.$f.Payment||e.VT==u.$f.Receipt||e.VT==u.$f.ReceiptNote?e.VDet.filter(function(e){return 0==e.isMainled}).sort(function(e,t){return e.IsTax===t.IsTax?0:e.IsTax?1:-1})[0]:e.VDet.filter(function(e){return 1==e.isMainled})[0]);for(var a=function(t){n.filter(function(e){return null!=e}).length>0&&null==n.filter(function(n){return n.PK_Id==e.VDet[t].PK_Id})[0]&&(e.VT==u.$f.ReceiptNote||e.VT==u.$f.DeliveryNote?e.VDet[t].isMainled&&i.push(e.VDet[t]):i.push(e.VDet[t]))},l=0;l<e.VDet.length;l++)a(l);i.filter(function(e){return null!=e}).length>0&&(e.VDetlist=i),n.filter(function(e){return null!=e}).length>0&&(e.VDet=n)}else{var s=e.VDet.filter(function(e){return e.LId==t.companyLedgerService.singleresult.UIDN})[0];if(null==s||s.isMainled){if(e.VDet=e.VDet.filter(function(e){return e.LId!=t.companyLedgerService.singleresult.UIDN}),null!=e.VDet[0]){for(var c=0;c<e.VDet.length;c++)if(0==c){var d=new p.eK;1==e.IsItVou?null==(d=e.VDet.filter(function(e){return 0==e.isMainled&&1==e.IsSP&&0==e.IsTax&&(0==e.IsROff||null==e.IsROff)})[0])&&(d=e.VDet.filter(function(e){return 0==e.isMainled&&0==e.IsTax})[0]):d=e.VDet.filter(function(e){return 0==e.isMainled})[0],s.LId=d.LId,s.L_Name=d.L_Name,s.CrAmt=s.CrAmt,s.DrAmt=s.DrAmt,i.push(e.VDet[c]),n.push(s)}else i.push(e.VDet[c]);e.VDetlist=i}}else{var g=e.VDet.filter(function(e){return 1==e.isMainled})[0],h=e.VDet.filter(function(e){return e.LId==t.companyLedgerService.singleresult.UIDN})[0];1==e.IsItVou&&(this.companyLedgerService.singleresult.IsSL||this.companyLedgerService.singleresult.IsPU)?(h.CrAmt=e.InventoryDetails.map(function(e){return e.CrAmt}).reduce(function(e,t){return e+Number(t)},0),h.DrAmt=e.InventoryDetails.map(function(e){return e.DrAmt}).reduce(function(e,t){return e+Number(t)},0)):(h.CrAmt=h.CrAmt,h.DrAmt=h.DrAmt),h.LId=g.LId,h.LId=g.LId,h.L_Name=g.L_Name,n.push(h);for(var f=function(t){null==n.filter(function(n){return n.PK_Id==e.VDet[t].PK_Id})[0]&&(e.VT==u.$f.ReceiptNote||e.VT==u.$f.DeliveryNote?e.VDet[t].isMainled&&i.push(e.VDet[t]):i.push(e.VDet[t]))},v=0;v<e.VDet.length;v++)f(v)}e.VDet=n,e.VDetlist=i}for(var m=0;m<e.VDet.length;m++)e.VDet[m].IsVdet=!0;e.VMobDet=e.VDet;for(var T=0;T<e.VDetlist.length;T++)e.VDetlist[T].IsVdet=!1;var I=e.VMobDet.concat(e.VDetlist?e.VDetlist:[]);e.VMobDet=I;var Z=new Date(moment(this.StartDate).format("DD MMM YYYY")),A=new Date(moment(this.EndDate).format("DD MMM YYYY")),x=new Date(moment(e.VDt).format("DD MMM YYYY"));if(null!=this.companyLedgerService.singleresult){var y=this.accountService.result.findIndex(function(e){return-1==e.UIDN}),S=this.accountService.result.findIndex(function(e){return-2==e.UIDN}),D=this.accountService.result.findIndex(function(e){return-3==e.UIDN});if(Z.getTime()<=x.getTime()&&A.getTime()>=x.getTime())(C=this.accountService.result.findIndex(function(t){return t.UIDN==e.UIDN}))>=0?(S>=0&&(this.accountService.result[S].VDet[0].DrAmt=this.accountService.result[S].VDet[0].DrAmt-this.accountService.result[C].VDet[0].DrAmt+n[0].DrAmt,this.accountService.result[S].VDet[0].CrAmt=this.accountService.result[S].VDet[0].CrAmt-this.accountService.result[C].VDet[0].CrAmt+n[0].CrAmt),D>=0&&(this.accountService.result[D].VDet[0].DrAmt=this.accountService.result[y].VDet[0].DrAmt+this.accountService.result[S].VDet[0].DrAmt,this.accountService.result[D].VDet[0].CrAmt=this.accountService.result[y].VDet[0].CrAmt+this.accountService.result[S].VDet[0].CrAmt),this.accountService.result[C]=e):(y>=0&&(this.accountService.result[y].VDet[0].DrAmt=this.accountService.result[y].VDet[0].DrAmt+n[0].DrAmt,this.accountService.result[y].VDet[0].CrAmt=this.accountService.result[y].VDet[0].CrAmt+n[0].CrAmt),S>=0&&(this.accountService.result[S].VDet[0].DrAmt=this.accountService.result[S].VDet[0].DrAmt+n[0].DrAmt,this.accountService.result[S].VDet[0].CrAmt=this.accountService.result[S].VDet[0].CrAmt+n[0].CrAmt),D>=0&&(this.accountService.result[D].VDet[0].DrAmt=this.accountService.result[y].VDet[0].DrAmt+this.accountService.result[S].VDet[0].DrAmt,this.accountService.result[D].VDet[0].CrAmt=this.accountService.result[y].VDet[0].CrAmt+this.accountService.result[S].VDet[0].CrAmt),this.accountService.result.push(e),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result)));else if(Z.getTime()>=x.getTime()){var C=this.accountService.result.findIndex(function(t){return t.UIDN==e.UIDN});y>=0&&(this.accountService.result[y].VDet[0].DrAmt=this.accountService.result[y].VDet[0].DrAmt+n[0].DrAmt,this.accountService.result[y].VDet[0].CrAmt=this.accountService.result[y].VDet[0].CrAmt+n[0].CrAmt),S>=0&&(this.accountService.result[S].VDet[0].DrAmt=this.accountService.result[S].VDet[0].DrAmt-this.accountService.result[C].VDet[0].DrAmt,this.accountService.result[S].VDet[0].CrAmt=this.accountService.result[S].VDet[0].CrAmt-this.accountService.result[C].VDet[0].CrAmt),D>=0&&(this.accountService.result[D].VDet[0].DrAmt=this.accountService.result[y].VDet[0].DrAmt+this.accountService.result[S].VDet[0].DrAmt,this.accountService.result[D].VDet[0].CrAmt=this.accountService.result[y].VDet[0].CrAmt+this.accountService.result[S].VDet[0].CrAmt),this.accountService.result.splice(C,1),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result))}else A.getTime()<=x.getTime()&&(C=this.accountService.result.findIndex(function(t){return t.UIDN==e.UIDN}),S>=0&&(this.accountService.result[S].VDet[0].DrAmt=this.accountService.result[S].VDet[0].DrAmt-this.accountService.result[C].VDet[0].DrAmt,this.accountService.result[S].VDet[0].CrAmt=this.accountService.result[S].VDet[0].CrAmt-this.accountService.result[C].VDet[0].CrAmt),D>=0&&(this.accountService.result[D].VDet[0].DrAmt=this.accountService.result[y].VDet[0].DrAmt+this.accountService.result[S].VDet[0].DrAmt,this.accountService.result[D].VDet[0].CrAmt=this.accountService.result[y].VDet[0].CrAmt+this.accountService.result[S].VDet[0].CrAmt),this.accountService.result.splice(C,1),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result)))}else Z.getTime()<=x.getTime()&&A.getTime()>=x.getTime()?(C=this.accountService.result.findIndex(function(t){return t.UIDN==e.UIDN}))>=0?this.accountService.result[C]=e:(this.accountService.result.push(e),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result))):(Z.getTime()>=x.getTime()||A.getTime()<=x.getTime())&&(C=this.accountService.result.findIndex(function(t){return t.UIDN==e.UIDN}),this.accountService.result.splice(C,1),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result)))}}},{key:"sortPopover",value:function(e){return(0,i.mG)(this,void 0,void 0,o().mark(function t(){var n,i=this;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:T.r,cssClass:"my-custom-class",event:e,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:function(e,t){var r=new h.p(e,t);i.accountService.sortdata=r,n.dismiss()}}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}))}},{key:"advSearchM",value:function(){this._SearchModal.show()}},{key:"deleteVoucher",value:function(e){-1!=this.accountService.result.findIndex(function(t){return t.UIDN==e&&null!=t.BkStatus})?this.alertService.showError("Error","Please cancel Booked flat/shop first, Inorder to proceed this delete"):this.accountService.delete(e)}},{key:"save",value:function(e){var t=this.accountService.result[e];this.openTransaction(t.VT,t.UIDN,"","",!1,!1)}},{key:"OutstandingCall",value:function(){this.bookingvoucher=!0,this.router.navigate(["/reports/outstandingrecivable",this.companyLedgerService.singleresult.UIDN])}},{key:"filterOptions",value:function(e){return this.referenceGroups[e].some(function(e){return"OnAccount"===e.Ref_Type})?["NewRef","Advance","AgainstRef"]:["NewRef","OnAccount","Advance","AgainstRef"]}},{key:"prepareFilteredReferenceData",value:function(){return this.LedagainstRefList.filter(function(e){return e.OrgBalance>0})}},{key:"onLedgerChange",value:function(e){this.isFirstDropdownSelected=!!e,this.cdr.detectChanges()}},{key:"ShowHiddenVouchers",value:function(){this.IsHideVoucher=!0,this.FilterData(0)}},{key:"ShowFinalizeVouchers",value:function(){this.IsFinalize=!0,this.FilterData(0)}},{key:"UnhideSelectedVouchers",value:function(){var e=this,t=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});t.length>0&&this.accountService.HideShowVoucher(t,"false").subscribe(function(){e.ShowHiddenVouchers()})}},{key:"HideSelectedVouchers",value:function(){var e=this,t=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});t.length>0&&this.accountService.HideShowVoucher(t,"true").subscribe(function(){e.FilterData(0)})}},{key:"HiddenVoucherEffect",value:function(e){var t=this,n=this.accountService.result.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});0==e?this.accountService.result.filter(function(e){return 1==e.Ick&&1==e.IsHideVouchAddToRep&&1==e.isHide}).map(function(e){return e.UIDN}).length>0?n.length>0&&this.accountService.HideVoucherEffect(n,e).subscribe(function(){t.ShowHiddenVouchers()}):this.alertService.showWarning("warning","The voucher is not granted the facility yet!"):1==e&&(this.accountService.result.filter(function(e){return 1==e.Ick&&1==e.isHide}).map(function(e){return e.UIDN}).length>0?n.length>0&&this.accountService.HideVoucherEffect(n,e).subscribe(function(){t.ShowHiddenVouchers()}):this.alertService.showWarning("warning","The voucher must be hidden to make it effective!"))}}]),e}()).\u0275fac=function(e){return new(e||Ti)(r.Y36(a.B),r.Y36(Z.gz),r.Y36(A.BX),r.Y36(x.J),r.Y36(h.De),r.Y36(A.Dh),r.Y36(y.T3),r.Y36(Z.F0),r.Y36(c.Q),r.Y36(S.Ye),r.Y36(D.Rq),r.Y36(C.i),r.Y36(b.q),r.Y36(N.r),r.Y36(r.sBO),r.Y36(r.SBq))},Ti.\u0275cmp=r.Xpm({type:Ti,selectors:[["app-account-list"]],viewQuery:function(e,t){var n;1&e&&(r.Gf(H,7,g.w9),r.Gf(B,7),r.Gf(j,7),r.Gf(K,7),r.Gf(z,7),r.Gf(W,7),r.Gf(X,7),r.Gf(ee,7),r.Gf(te,7),r.Gf(ne,7),r.Gf(ie,5),r.Gf(re,7,r.SBq),r.Gf(oe,7),r.Gf(ae,5),r.Gf(le,5),r.Gf(se,5)),2&e&&(r.iGM(n=r.CRH())&&(t.serachcontrol=n.first),r.iGM(n=r.CRH())&&(t.ITableRef=n.first),r.iGM(n=r.CRH())&&(t.RefModal=n.first),r.iGM(n=r.CRH())&&(t._modalLedger=n.first),r.iGM(n=r.CRH())&&(t._chngeLedger=n.first),r.iGM(n=r.CRH())&&(t._modelEmail=n.first),r.iGM(n=r.CRH())&&(t._MessageModal=n.first),r.iGM(n=r.CRH())&&(t._modalPay=n.first),r.iGM(n=r.CRH())&&(t._ExportModal=n.first),r.iGM(n=r.CRH())&&(t._LedgerHistoryModal=n.first),r.iGM(n=r.CRH())&&(t._SearchModal=n.first),r.iGM(n=r.CRH())&&(t.searchControl=n.first),r.iGM(n=r.CRH())&&(t._DatechangeModal=n.first),r.iGM(n=r.CRH())&&(t.infiniteScroll=n.first),r.iGM(n=r.CRH())&&(t.virtualScroll=n.first),r.iGM(n=r.CRH())&&(t.v_date=n.first))},hostBindings:function(e,t){1&e&&r.NdJ("popstate",function(e){return t.onPopState(e)},!1,r.Jf7)},inputs:{buttonclikcdata:["Button1result","buttonclikcdata"],StartDate:"StartDate",EndDate:"EndDate",CompanyId:"CompanyId",isInterCompany:"isInterCompany",scrollTarget:"scrollTarget",isList:"isList",isMainWindow:"isMainWindow",isMainWindowOut:"isMainWindowOut",curLedID:"curLedID",curLedIDFromOutstand:"curLedIDFromOutstand",TransactionredirectOnCancel:"TransactionredirectOnCancel",monthyear:"monthyear"},outputs:{TransactionredirectAction:"TransactionredirectAction"},features:[r._Bn([c.Q,a.B])],decls:281,vars:64,consts:[[1,"card",3,"hidden"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainer",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","bottom","option","three","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","bottom","option","two","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Export",1,"action-button","bottom","option","one","border-0","waves-effect","btn-default","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],[1,"border-0","waves-effect","btn-dark","btn-floating","action-button","plus","bottom"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],[3,"TransactionredirectOnCancel","IsDuplicate","VoucherType","IsItemVoucher","VoucherId","InputVoucher_LedgerId","CompanyIdforReport","TransactionredirectAction",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["DatechangeModal","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmDate","ngForm"],[1,"modal-body"],[1,"content"],[1,"row"],[1,"md-form","form-group","col-sm-12"],["for","agrDate"],["type","text","appDatepicker","","placeholder","Please enter New Date","autocomplete","none","required","","name","agrDate","id","agrDate",1,"form-control",3,"startDate","ngClass","selected"],["agrDate",""],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","25%"],["LedchangeModal","bs-modal"],["novalidate","",3,"ScrollToInvalid"],["for","Bank"],["autofocus","","selectOnTab","true","appendTo","body","name","Ledgerdetails","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["Ledgerdetails","ngModel"],["ng-label-tmp",""],["ng-option-tmp",""],["type","button",1,"btn","btn-primary",3,"click"],[3,"redirectOnCancel","inputLedgerId","redirectAction",4,"ngIf"],[3,"LedgId","IsCallasPopup",4,"ngIf"],["EmailModel","bs-modal"],["role","document",1,"modal-dialog","modal-md"],["frmEmail","ngForm"],[1,"form-group","col-md-12"],[1,"form-group","md-form","col-sm-12"],["type","email","ngModel","","required","","name","email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"modal-footer","mt-3",2,"padding-top","187px"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["MessageModal","bs-modal"],["role","document",1,"modal-dialog","modal-md",2,"max-width","313px"],["href","/marketing/addon/ec",1,"btn","btn-link"],[1,"modal-footer","mt-3",2,"padding-top","50px"],["PayModal","bs-modal"],[2,"margin-left","20px","margin-right","20px",3,"Description","AddOnCode"],["ExportModal","bs-modal"],["role","document",1,"modal-dialog","modal-md",2,"max-width","800px","max-height","400px"],[2,"font-weight","bold"],[1,"switch"],["type","checkbox",3,"checked","change"],[1,"lever"],["type","button",1,"btn","btn-primary","waves-effect",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade","bg-white",2,"z-index","99999"],["SearchModal","bs-modal"],[1,"container-fluid","p-0","pl-0","pr-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[3,"ngSubmit"],["f","ngForm"],[1,"row","mt-2"],["class","md-form col-md-12 col-sm-12",4,"ngIf"],[1,"md-form","col-4"],["for","startdate"],["type","text","placeholder","From Date","appDatepicker","","autocomplete","none","name","startdate","id","startdate",1,"form-control","datecontrol",3,"startDate","selected"],["startdate",""],["for","enddate"],["type","text","appDatepicker","","autocomplete","none","name","enddate","id","enddate",1,"form-control","datecontrol",3,"startDate","selected"],["enddate",""],["class","md-form col-4",4,"ngIf"],["for","customSwitch1"],[1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","id","customSwitch1",1,"c-switch-input",3,"checked","change"],[1,"c-switch-slider"],[1,"md-form","col-md-12","col-sm-12"],["for","sa"],["autofocus","","selectOnTab","true","name","Ledgerdb1","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","required","ngClass","ngModel","loading","ngModelChange"],["Ledgerdb1","ngModel"],["for","Range"],[1,"input-group"],["selectOnTab","true","name","amt","id","amountStatus","placeholder","Select Range",3,"ngModel","ngModelChange"],["amt","ngModel"],["value","Greaterthan"],["value","Lessthan"],["value","EqualTo"],["value","NotEqualTo"],["autofocus","","type","text","placeholder","Enter Range","name","Amountval","id","amttxt",1,"md-form","form-control",3,"ngModel","ngModelChange"],["Amountval","ngModel"],[1,"md-form","col"],["for","instnotxt"],["autofocus","","type","text","placeholder","Enter Instrument No","name","instrumentNo","id","instnotxt",1,"form-control",3,"ngModel","ngModelChange"],["instrumentNo","ngModel"],["for","InstrumentDate"],["type","text","appDatepicker","","placeholder","Enter Instrument Date","autocomplete","none","name","startdate","id","InstrumentDate",1,"form-control",3,"startDate","selected"],["for","narrtxt"],["autofocus","","type","text","placeholder","Enter Narration","name","Narration","id","narrtxt",1,"form-control",3,"ngModel","ngModelChange"],["Nurration","ngModel"],["for","Vouchertxt"],["autofocus","","type","text","placeholder","Enter Voucher No","name","Vouchernumbr","id","Vouchertxt",1,"form-control",3,"ngModel","ngModelChange"],["Vouchernumbr","ngModel"],[1,"md-form","col-8"],["for","Voucher"],["selectOnTab","true","name","vtype","id","amountStatus","placeholder","Select Voucher",3,"multiple","ngModel","ngModelChange"],["vtype","ngModel"],["value","Contra",4,"ngIf"],["value","Journal"],["value","Sales"],["value","Purchase",4,"ngIf"],["value","Receipt",4,"ngIf"],["value","Payment",4,"ngIf"],["value","PurchaseOrder",4,"ngIf"],["value","Credit Note",4,"ngIf"],["value","Debit Note",4,"ngIf"],["value","Receipt Note",4,"ngIf"],["value","Delivery Note",4,"ngIf"],["type","button","class","btn btn-link m-0 p-0 pl-3","accesslevel","View","mname","DyBk",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modalNew","fade"],["RefModal","bs-modal"],["class","modal-dialog modal-lg justify-content-center","role","document","id","myModalRef",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mb-3"],[1,"c-header-back","pl-0",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],["class","mx-2",4,"ngIf"],[1,"mr-1"],[1,"ml-1","mr-1"],["selectOnTab","true","appendTo","body","name","Ledgerdb","bindLabel","LN","placeholder","Select Account",1,"maxpanel",3,"virtualScroll","items","required","ngClass","ngModel","loading","ngModelChange"],["Ledgerdb","ngModel"],[1,"mb-2"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-1"],[1,"none"],[1,"mb-2","ml-1"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","id","adv-search","aria-expanded","false",1,"btn","btnSmW","btn-primary","dropdown-toggle"],[1,"cil-filter","mr-1"],["aria-labelledby","dropdownMenuButton","role","menu","aria-labelledby","adv-search",1,"p-2","dropdown-menu",2,"width","82%",3,"click"],[1,"md-form","col-md-6","col-sm-12"],["selectOnTab","true","name","amt","id","amountStatus","placeholder","Select Range",2,"width","120px !important",3,"ngModel","ngModelChange"],["autofocus","","type","text","placeholder","Enter Range","name","Amountval","id","amttxt",1,"md-form","form-control",2,"width","25px",3,"ngModel","ngModelChange"],["for","slInLedger"],["name","slInLedger","bindLabel","LN","placeholder","Select Ledger/Group",3,"virtualScroll","items","ngClass","ngModel","disabled","ngModelChange"],["slInLedger","ngModel"],[1,"mmd-form","col-md-6","col-sm-12"],["value","SalesOrder",4,"ngIf"],[1,"form-group","col-sm-12"],[1,"text-right"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-dark","pull-right",3,"click"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-expanded","false",1,"btn","btnSmW","btn-primary","dropdown-toggle"],[1,"cil-book","mr-1"],["class","dropdown-menu","aria-labelledby","dropdownMenuButton",4,"ngIf"],[1,"mx-2"],["selectOnTab","true","autofocus","","name","selcompany","required","","bindLabel","CN","placeholder","Select Company",3,"virtualScroll","items","ngModel","clearable","scrollToEnd","ngModelChange","change"],["selcompany","ngModel"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["title","History","placement","bottom",1,"pl-2",2,"text-decoration","none"],[1,"fas","fa-history","text-primary",3,"click"],["value","Contra"],["value","Purchase"],["value","Receipt"],["value","Payment"],["value","PurchaseOrder"],["value","Credit Note"],["value","Debit Note"],["value","SalesOrder"],["value","Receipt Note"],["value","Delivery Note"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","accesslevel","View","mname","DyBk",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","Contra",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["accesslevel","Add","mname","Journal",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],[1,"small","pl-1"],["accesslevel","Add","mname","Sales",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["class","dropdown-item","accesslevel","Add","mname","Purchase",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","Receipt",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","Payment",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","CreditNote",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","DebitNote",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["accesslevel","Add","mname","Payment",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Delete","mname","Payment",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","View","mname","Finalize",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["class","dropdown-item","accesslevel","Add","mname","Finalize",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["accesslevel","Add","mname","Finalize",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","Contra",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","Purchase",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","Receipt",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","CreditNote",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","DebitNote",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","View","mname","DyBk",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"ml-1","mr-0","mb-3","ml-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],["id","tableContainer",1,"table-responsive"],["class","card-header p-1","id","formHeader",4,"ngIf"],["infinite-scroll","",3,"scrollWindow","scrolled"],["class","table table-bordered table-striped  p-0",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header","p-1"],[1,"col","PageNameFsize","pl-1"],["class","mr-4 text-right","style","height:30px",4,"ngIf"],[1,"mr-4","text-right",2,"height","30px"],["id","customSwitch1",1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","label","customSwitch1","id","customSwitch1",1,"c-switch-input",3,"checked","change"],[1,"mb-2","float-right","ml-2","small","mt-1","font-weight-bold"],[1,"pl-3","pr-1"],[1,"text-wrap","text-right","LeftLi"],[1,"col","font-weight-bold","text-center"],[1,"text-primary",3,"click"],[1,"table","table-bordered","table-striped","p-0",3,"fxHeader"],["id","tableContainerHead"],[1,"form-check"],["type","checkbox","id","item_All",1,"form-check-input",3,"checked","ngModel","ngModelChange","change"],["for","item_All",1,"form-check-label"],["sortcolumn","VoucherNo",3,"dirsort"],["sortcolumn","VoucherDate",3,"dirsort"],["sortcolumn","VoucherType",3,"dirsort"],["sortcolumn","",3,"dirsort"],["id","tableContainerbody"],["container",""],[4,"ngFor","ngForOf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],["class","form-check",4,"ngIf"],["class","btn btn-link","href","javascript:void(0)","accesslevel","Edit",3,"appRole","SignupId","UserId","mname","clickAllowed",4,"ngIf"],[2,"display","none"],["type","checkbox",1,"form-check-input",3,"checked","ngModel","id","ngModelChange"],[1,"form-check-label",3,"for"],["href","javascript:void(0)","accesslevel","Edit",1,"btn","btn-link",3,"appRole","SignupId","UserId","mname","clickAllowed"],[3,"dateValue"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],["tabindex","50000",4,"ngIf"],["tabindex","50000"],["href","javascript:void(0)","tabindex","50000",1,"card-link","pr-1",3,"click"],["tooltip","Hide Entry","tabindex","50000",1,"fas","fa-eye-slash"],["href","javascript:void(0)","accesslevel","Add","tabindex","50000",1,"pr-1",3,"appRole","SignupId","UserId","mname","clickAllowed"],["tabindex","50000","tooltip","Make Duplicate",1,"far","fa-copy","text-primary"],["href","javascript:void(0)","tabindex","50000",1,"pr-1",3,"click"],["tooltip","Print","tabindex","50000",1,"fas","fa-print","text-primary"],["tooltip","Email","tabindex","50000",1,"fas","fa-envelope","text-primary"],["tabindex","50000","class","pr-1 text-decoration-none","href","javascript:void(0)","accesslevel","Delete",3,"appRole","SignupId","UserId","mname","clickAllowed",4,"ngIf"],["class","pr-1 text-decoration-none","tabindex","50000","href","javascript:void(0)","accesslevel","Delete","mname","Finalize",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["tabindex","50000","href","javascript:void(0)","accesslevel","Delete",1,"pr-1","text-decoration-none",3,"appRole","SignupId","UserId","mname","clickAllowed"],["tooltip","Delete","tabindex","50000",1,"fas","fa-trash","text-danger"],["tabindex","50000","href","javascript:void(0)","accesslevel","Delete","mname","Finalize",1,"pr-1","text-decoration-none",3,"appRole","SignupId","UserId","clickAllowed"],["class","small",4,"ngIf"],[1,"small"],["class","font-weight-bold mr-1",4,"ngIf"],["class","font-weight-bold ml-1 mr-1",4,"ngIf"],[1,"font-weight-bold","ml-1","mr-1"],[1,"font-weight-bold","mr-1"],["class","font-italic small",4,"ngFor","ngForOf"],[1,"font-italic","small"],["colspan","2"],["colspan","7",1,"text-left"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","bg-white","text-center"],["id","tableContainer"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],[3,"items"],["ionvscroll",""],[3,"rowselected","negative","click",4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],[3,"click"],["class","pr-1",4,"ngIf"],["class","bg-light",4,"ngIf"],[1,"font-weight-bold","text-primary"],["size","4",1,"text-primary","font-weight-bold","text-right"],["class","badge badge-primary small",4,"ngIf"],[1,"small","text-right"],[1,"small","text-left"],[1,"badge","badge-primary","small"],["class","small",4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"bg-light"],[1,"text-dark"],["size","4","class"," text-primary font-weight-bold text-right",4,"ngIf"],["size","4","class","text-primary font-weight-bold text-right",4,"ngIf"],["class","small text-dark",4,"ngIf"],[1,"small","text-dark"],[1,"pr-1"],[1,"pl-0","pr-0"],[1,"text-right","pl-0","pr-2"],["href","javascript:void(0)","accesslevel","Delete",1,"card-link","float-right","ml-3",3,"appRole","SignupId","UserId","mname","clickAllowed"],["name","trash-outline","color","danger"],["href","javascript:void(0)","accesslevel","Edit",1,"card-link","float-right",3,"appRole","SignupId","UserId","mname","clickAllowed"],["name","create-outline","color","primary"],["href","javascript:void(0)","accesslevel","Add",1,"card-link","text-dark","float-right",3,"appRole","SignupId","UserId","mname","clickAllowed"],["name","copy-outline"],["href","javascript:void(0)",1,"card-link","text-dark","float-right",3,"click"],["name","eye-off-outline"],["name","mail-open-outline"],["href","javascript:void(0)","accesslevel","Delete",1,"card-link","text-dark","float-right",3,"appRole","SignupId","UserId","mname","clickAllowed"],["name","share-social-outline"],["name","print-outline"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","80%"],["size","4",1,"text-primary","font-weight-bold",2,"text-align","-webkit-right"],[1,"small",2,"text-align","-webkit-right"],[2,"text-align","-webkit-right"],["animated","",2,"width","100%"],["animated","",2,"width","50%"],[1,"col-12","mt-1","p-0",2,"text-align","-webkit-right"],[1,"table","table-bordered","table-striped",3,"fxHeader"],[2,"width","10px"],["animated","",2,"width","40%"],[2,"width","20px"],[2,"width","40px"],[2,"width","70px"],[2,"width","50px"],[2,"width","50%"],[1,"col-md-12","pl-0","pr-0"],[1,"mx-auto","noDataImage"],[1,"text-center"],[3,"TransactionredirectOnCancel","IsDuplicate","VoucherType","IsItemVoucher","VoucherId","InputVoucher_LedgerId","CompanyIdforReport","TransactionredirectAction"],[1,"invalid-feedback"],[3,"redirectOnCancel","inputLedgerId","redirectAction"],[3,"LedgId","IsCallasPopup"],["for","selcompany"],[1,"mt-3"],["for","customSwitch2"],["type","checkbox","id","customSwitch2",1,"c-switch-input",3,"checked","change"],["type","button","accesslevel","Add","mname","Payment",1,"btn","btn-link","m-0","p-0","pr-3",3,"appRole","SignupId","UserId","clickAllowed"],["type","button","accesslevel","Delete","mname","Payment",1,"btn","btn-link","m-0","p-0","pr-3",3,"appRole","SignupId","UserId","clickAllowed"],["type","button","accesslevel","View","mname","Finalize",1,"btn","btn-link","m-0","p-0","pr-3",3,"appRole","SignupId","UserId","clickAllowed"],["type","button","accesslevel","View","mname","DyBk",1,"btn","btn-link","m-0","p-0","pl-3",3,"appRole","SignupId","UserId","clickAllowed"],["role","document","id","myModalRef",1,"modal-dialog","modal-lg","justify-content-center"],["role","form",3,"ngSubmit"],["frefitem","ngForm"],[1,"modal-body",2,"overflow-y","auto","max-height","300px"],["class","table-responsive refTable",4,"ngIf"],["type","submit",1,"btn","btn-sm","btn-primary"],["type","button",1,"btn","btn-sm","btn-dark",3,"click"],[1,"table-responsive","refTable"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"table","table-account","table-bordered"],["refTable",""],["class","md-form",4,"ngIf"],[1,"md-form"],["disabled",""],["required","","appendTo","body","placeholder","Select Ref Type",2,"width","130px",3,"id","name","ngModel","ngClass","ngModelChange","change"],["RefType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",2,"width","85px",3,"disabled","ngClass","startDate","name","id","selected"],["refdate",""],["type","number","required","","placeholder","Enter Amount",1,"accText","form-control",2,"width","130px",3,"disabled","name","ngModel","ngClass","ngModelChange","input"],["Refamt","ngModel"],["class","pr-1 text-decoration-none","href","javascript:void(0)",3,"click",4,"ngIf"],[3,"value"],["type","text","required","","placeholder","Reference Tag",1,"form-control","accText",2,"min-width","130px",3,"ngClass","disabled","id","name","ngModel","ngModelChange"],["refTag","ngModel"],["required","","appendTo","body","selectOnTab","true","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",2,"min-width","200px",3,"items","id","name","ngModel","ngClass","ngModelChange","change"],["agReferences","ngModel"],["href","javascript:void(0)",1,"pr-1","text-decoration-none",3,"click"]],template:function(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",0),r.YNc(1,Je,104,37,"div",1),r.YNc(2,He,17,7,"div",2),r.YNc(3,Kt,5,4,"div",3),r.YNc(4,Tn,10,4,"div",4),r.YNc(5,Zn,2,1,"div",5),r.YNc(6,xn,26,1,"div",5),r.YNc(7,Sn,6,1,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"div",8),r.TgZ(10,"button",9),r.NdJ("click",function(){return t.generatePDF(1)}),r._UZ(11,"i",10),r.qZA(),r.TgZ(12,"button",11),r.NdJ("click",function(){return t.generatePDF(2)}),r._UZ(13,"i",12),r.qZA(),r.TgZ(14,"button",13),r.NdJ("click",function(){return t.exportExcel()}),r._UZ(15,"i",14),r.qZA(),r.TgZ(16,"button",15),r._UZ(17,"i",16),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(18,Dn,1,7,"app-account-addedit",17),r.TgZ(19,"div",18,19),r.TgZ(21,"div",20),r.TgZ(22,"div",21),r.TgZ(23,"div",22),r.TgZ(24,"h4",23),r._uU(25,"Select Date"),r.qZA(),r.TgZ(26,"button",24),r.NdJ("click",function(){return r.CHM(n),r.MAs(20).hide()}),r.TgZ(27,"span",25),r._uU(28,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"form",26,27),r.NdJ("ngSubmit",function(){return r.CHM(n),r.MAs(30).form.valid&&t.ChangeBulkdate()}),r.TgZ(31,"div",28),r.TgZ(32,"div",29),r.TgZ(33,"div",30),r.TgZ(34,"div",31),r.TgZ(35,"label",32),r._uU(36,"Select Date"),r.qZA(),r.TgZ(37,"input",33,34),r.NdJ("selected",function(e){return t.onDateSelect(e)}),r.qZA(),r.YNc(39,bn,2,1,"div",35),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(40,"div",36),r.TgZ(41,"button",37),r._uU(42,"Save"),r.qZA(),r.TgZ(43,"button",38),r.NdJ("click",function(){return r.CHM(n),r.MAs(20).hide()}),r._uU(44,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(45,"div",39,40),r.TgZ(47,"div",20),r.TgZ(48,"div",21),r.TgZ(49,"div",22),r.TgZ(50,"h4",23),r._uU(51,"Change Ledger"),r.qZA(),r.TgZ(52,"button",24),r.NdJ("click",function(){return r.CHM(n),r.MAs(46).hide(),t.Chnageledger=null}),r.TgZ(53,"span",25),r._uU(54,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(55,"form",41),r.TgZ(56,"div",28),r.TgZ(57,"div",29),r.TgZ(58,"div",30),r.TgZ(59,"div",31),r.TgZ(60,"label",42),r._uU(61,"Account"),r.qZA(),r.TgZ(62,"ng-select",43,44),r.NdJ("ngModelChange",function(e){return t.Chnageledger=e}),r.YNc(64,Nn,1,1,"ng-template",45),r.YNc(65,wn,4,3,"ng-template",46),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(66,"div",36),r.TgZ(67,"button",47),r.NdJ("click",function(){r.CHM(n);var e=r.MAs(63);return t.Changeledgerdetails(e.value)}),r._uU(68,"Save"),r.qZA(),r.TgZ(69,"button",38),r.NdJ("click",function(){return r.CHM(n),r.MAs(46).hide(),t.Chnageledger=null}),r._uU(70,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(71,Mn,1,2,"app-companyledger-addedit",48),r.YNc(72,qn,1,2,"app-ledgerhistory",49),r.TgZ(73,"div",18,50),r.TgZ(75,"div",51),r.TgZ(76,"div",21),r.TgZ(77,"div",22),r.TgZ(78,"h4",23),r._uU(79,"Send Email "),r.qZA(),r.TgZ(80,"button",24),r.NdJ("click",function(){return r.CHM(n),r.MAs(74).hide()}),r.TgZ(81,"span",25),r._uU(82,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(83,"form",26,52),r.NdJ("ngSubmit",function(){r.CHM(n);var e=r.MAs(84);return e.form.valid&&t.SendEmail(e)}),r.TgZ(85,"div",28),r.TgZ(86,"div",29),r.TgZ(87,"div",53),r.TgZ(88,"div",54),r.TgZ(89,"input",55,56),r.NdJ("ngModelChange",function(e){return t.Ledgeremail=e}),r.qZA(),r.YNc(91,_n,3,2,"div",35),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(92,"div",57),r.TgZ(93,"button",38),r.NdJ("click",function(){return r.CHM(n),r.MAs(74).hide()}),r._uU(94,"Close"),r.qZA(),r.TgZ(95,"button",37),r._uU(96,"Send Email"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(97,"div",58,59),r.TgZ(99,"div",60),r.TgZ(100,"div",21),r.TgZ(101,"div",22),r.TgZ(102,"h4",23),r._uU(103,"Warning"),r.qZA(),r.TgZ(104,"button",24),r.NdJ("click",function(){return r.CHM(n),r.MAs(98).hide()}),r.TgZ(105,"span",25),r._uU(106,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(107,"div",28),r.TgZ(108,"div",29),r.TgZ(109,"p"),r._uU(110,"You haven't sufficient credit to send email. "),r.qZA(),r.TgZ(111,"p"),r.TgZ(112,"a",61),r._uU(113," Buy Credit "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(114,"div",62),r.TgZ(115,"button",38),r.NdJ("click",function(){return r.CHM(n),r.MAs(98).hide()}),r._uU(116,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(117,"div",58,63),r.TgZ(119,"div",51),r.TgZ(120,"div",21),r.TgZ(121,"div",22),r.TgZ(122,"h4",23),r._uU(123,"Warning"),r.qZA(),r.TgZ(124,"button",24),r.NdJ("click",function(){return r.CHM(n),r.MAs(118).hide()}),r.TgZ(125,"span",25),r._uU(126,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r._UZ(127,"app-paynow",64),r.qZA(),r.qZA(),r.qZA(),r.TgZ(128,"div",58,65),r.TgZ(130,"div",66),r.TgZ(131,"div",21),r.TgZ(132,"div",22),r.TgZ(133,"h4",23),r._uU(134,"Exporting Daybook"),r.qZA(),r.TgZ(135,"button",24),r.NdJ("click",function(){return t.OnCancel()}),r.TgZ(136,"span",25),r._uU(137,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(138,"div",28),r.TgZ(139,"div",29),r.TgZ(140,"label",67),r._uU(141,"Show voucher number also :"),r.qZA(),r.TgZ(142,"div"),r.TgZ(143,"div",68),r.TgZ(144,"label"),r.TgZ(145,"input",69),r.NdJ("change",function(){return t._chkVoucherNo=!("1"==t._chkVoucherNo||1==t._chkVoucherNo)}),r.qZA(),r._UZ(146,"span",70),r.qZA(),r.qZA(),r.qZA(),r.TgZ(147,"label",67),r._uU(148,"Show narrations :"),r.qZA(),r.TgZ(149,"div"),r.TgZ(150,"div",68),r.TgZ(151,"label"),r.TgZ(152,"input",69),r.NdJ("change",function(){return t._chkNarration=!("1"==t._chkNarration||1==t._chkNarration)}),r.qZA(),r._UZ(153,"span",70),r.qZA(),r.qZA(),r.qZA(),r.TgZ(154,"label",67),r._uU(155,"Show bill wise details :"),r.qZA(),r.TgZ(156,"div"),r.TgZ(157,"div",68),r.TgZ(158,"label"),r.TgZ(159,"input",69),r.NdJ("change",function(){return t._chkBillwise=!("1"==t._chkBillwise||1==t._chkBillwise)}),r.qZA(),r._UZ(160,"span",70),r.qZA(),r.qZA(),r.qZA(),r.TgZ(161,"label",67),r._uU(162,"Show Bank Details also :"),r.qZA(),r.TgZ(163,"div"),r.TgZ(164,"div",68),r.TgZ(165,"label"),r.TgZ(166,"input",69),r.NdJ("change",function(){return t._chkBankDetails=!("1"==t._chkBankDetails||1==t._chkBankDetails)}),r.qZA(),r._UZ(167,"span",70),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(168,"div",62),r.TgZ(169,"button",71),r.NdJ("click",function(){return t.OnExportSubmit()}),r._uU(170,"Yes"),r.qZA(),r.TgZ(171,"button",38),r.NdJ("click",function(){return t.OnCancel()}),r._uU(172,"No"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(173,"div",72,73),r.TgZ(175,"div",74),r.TgZ(176,"div",75),r.TgZ(177,"div",22),r.TgZ(178,"h4",23),r._uU(179,"Advance Search "),r.qZA(),r.TgZ(180,"button",24),r.NdJ("click",function(){return t._SearchModal.hide()}),r.TgZ(181,"span",25),r._uU(182,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(183,"form",76,77),r.NdJ("ngSubmit",function(){return r.CHM(n),r.MAs(184).form.valid}),r.TgZ(185,"div",78),r.YNc(186,Un,5,4,"div",79),r.TgZ(187,"div",80),r.TgZ(188,"label",81),r._uU(189," Start Date"),r.qZA(),r.TgZ(190,"input",82,83),r.NdJ("selected",function(e){return t.startdateSelect(e)}),r.qZA(),r.qZA(),r.TgZ(192,"div",80),r.TgZ(193,"label",84),r._uU(194," End Date"),r.qZA(),r.TgZ(195,"input",85,86),r.NdJ("selected",function(e){return t.enddateSelect(e)}),r.qZA(),r.qZA(),r.YNc(197,Rn,5,0,"div",87),r.TgZ(198,"div",80),r.TgZ(199,"label",88),r._uU(200," Show Details"),r.qZA(),r._UZ(201,"br"),r.TgZ(202,"label",89),r.TgZ(203,"input",90),r.NdJ("change",function(){return t.IsShowDetails=1!=t.IsShowDetails}),r.qZA(),r._UZ(204,"span",91),r.qZA(),r.qZA(),r.YNc(205,kn,7,1,"div",87),r.TgZ(206,"div",92),r.TgZ(207,"label",93),r._uU(208," Select Account"),r.qZA(),r.TgZ(209,"ng-select",94,95),r.NdJ("ngModelChange",function(e){return t.companyLedgerService.singleresult=e}),r.YNc(211,Jn,1,1,"ng-template",45),r.YNc(212,Pn,6,3,"ng-template",46),r.qZA(),r.qZA(),r.TgZ(213,"div",92),r.TgZ(214,"label",96),r._uU(215," Range"),r.qZA(),r.TgZ(216,"div",97),r.TgZ(217,"ng-select",98,99),r.NdJ("ngModelChange",function(e){return t.amounttype=e}),r.TgZ(219,"ng-option",100),r._uU(220,"Greaterthan"),r.qZA(),r.TgZ(221,"ng-option",101),r._uU(222,"Lessthan"),r.qZA(),r.TgZ(223,"ng-option",102),r._uU(224,"EqualTo "),r.qZA(),r.TgZ(225,"ng-option",103),r._uU(226,"NotEqualTo"),r.qZA(),r.qZA(),r.TgZ(227,"input",104,105),r.NdJ("ngModelChange",function(e){return t.amountvall=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(229,"div",106),r.TgZ(230,"label",107),r._uU(231," Instrument No "),r.qZA(),r.TgZ(232,"input",108,109),r.NdJ("ngModelChange",function(e){return t.instrumentno=e}),r.qZA(),r.qZA(),r.TgZ(234,"div",106),r.TgZ(235,"label",110),r._uU(236," Instrument Date "),r.qZA(),r.TgZ(237,"input",111,83),r.NdJ("selected",function(e){return t.ondybkdateSelect(e)}),r.qZA(),r.qZA(),r.TgZ(239,"div",92),r.TgZ(240,"label",112),r._uU(241," Narration "),r.qZA(),r.TgZ(242,"input",113,114),r.NdJ("ngModelChange",function(e){return t.nurration=e}),r.qZA(),r.qZA(),r.TgZ(244,"div",80),r.TgZ(245,"label",115),r._uU(246," Voucher No "),r.qZA(),r.TgZ(247,"input",116,117),r.NdJ("ngModelChange",function(e){return t.VoucherNum=e}),r.qZA(),r.qZA(),r.TgZ(249,"div",118),r.TgZ(250,"label",119),r._uU(251," Voucher"),r.qZA(),r.TgZ(252,"ng-select",120,121),r.NdJ("ngModelChange",function(e){return t.voucherType=e}),r.YNc(254,On,2,0,"ng-option",122),r.TgZ(255,"ng-option",123),r._uU(256,"Journal"),r.qZA(),r.TgZ(257,"ng-option",124),r._uU(258," Sales"),r.qZA(),r.YNc(259,Qn,2,0,"ng-option",125),r.YNc(260,Fn,2,0,"ng-option",126),r.YNc(261,En,2,0,"ng-option",127),r.YNc(262,Yn,2,0,"ng-option",128),r.YNc(263,Gn,2,0,"ng-option",129),r.YNc(264,Hn,2,0,"ng-option",130),r.YNc(265,Bn,2,0,"ng-option",131),r.YNc(266,$n,2,0,"ng-option",132),r.qZA(),r.qZA(),r.YNc(267,Wn,10,7,"ng-container",5),r.YNc(268,Xn,2,2,"button",133),r.TgZ(269,"nav",134),r.TgZ(270,"ul",135),r.TgZ(271,"li",136),r.TgZ(272,"button",137),r.NdJ("click",function(){return t.FilterData(0),t._SearchModal.hide()}),r._UZ(273,"i",138),r._uU(274,"Search "),r.qZA(),r.qZA(),r.TgZ(275,"li",139),r.TgZ(276,"button",140),r.NdJ("click",function(){return t.ClearFilter(),t._SearchModal.hide()}),r._uU(277," Clear Filter "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(278,"div",141,142),r.YNc(280,mi,17,1,"div",143),r.qZA()}if(2&e){var i=r.MAs(30),o=r.MAs(38),a=r.MAs(84),l=r.MAs(90),s=r.MAs(210);r.Udp("display",t.isLedgerpopupopen||t.isLedgerHistorypopupopen||t.showTransactionModal?"none":"block"),r.Q6J("hidden",!t.isList),r.xp6(1),r.Q6J("ngIf",!t.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",t.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",!t.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",t.accountService.result.length>0&&t.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==t.accountService.result.length&&!t.noDataImage&&t.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==t.accountService.result.length&&!t.noDataImage&&!t.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==t.accountService.result.length),r.xp6(11),r.Q6J("ngIf",t.showTransactionModal),r.xp6(19),r.Q6J("startDate",t.changedate)("ngClass",r.VKq(60,ke,i.submitted&&o.invalid)),r.xp6(2),r.Q6J("ngIf",i.submitted&&o.invalid),r.xp6(23),r.Q6J("virtualScroll",!0)("items",t.allLedgers)("ngModel",t.Chnageledger)("loading",t.companyLedgerService.loading),r.xp6(9),r.Q6J("ngIf",t.isLedgerpopupopen),r.xp6(1),r.Q6J("ngIf",t.isLedgerHistorypopupopen),r.xp6(17),r.Q6J("ngModel",t.Ledgeremail),r.xp6(2),r.Q6J("ngIf",a.submitted&&l.invalid),r.xp6(36),r.Q6J("Description",t.Description)("AddOnCode",t.AddOnCode),r.xp6(18),r.Q6J("checked",1==t._chkVoucherNo),r.xp6(7),r.Q6J("checked",1==t._chkNarration),r.xp6(7),r.Q6J("checked",1==t._chkBillwise),r.xp6(7),r.Q6J("checked",1==t._chkBankDetails),r.xp6(20),r.Q6J("ngIf",t.isInterCompany),r.xp6(4),r.Q6J("startDate",t.StartDate),r.xp6(5),r.Q6J("startDate",t.EndDate),r.xp6(2),r.Q6J("ngIf",t.IsLedgerChange),r.xp6(6),r.Q6J("checked",1==t.IsShowDetails),r.xp6(2),r.Q6J("ngIf","Finalize Vouchers"==t.PageType),r.xp6(4),r.Q6J("virtualScroll",!0)("items",t.allLedgers)("required","Group"==t.PageType||"Ledger"==t.PageType)("ngClass",r.VKq(62,ke,s.invalid))("ngModel",t.companyLedgerService.singleresult)("loading",t.companyLedgerService.loading),r.xp6(8),r.Q6J("ngModel",t.amounttype),r.xp6(10),r.Q6J("ngModel",t.amountvall),r.xp6(5),r.Q6J("ngModel",t.instrumentno),r.xp6(5),r.Q6J("startDate",t.instrumentdate),r.xp6(5),r.Q6J("ngModel",t.nurration),r.xp6(5),r.Q6J("ngModel",t.VoucherNum),r.xp6(5),r.Q6J("multiple",!0)("ngModel",t.voucherType),r.xp6(2),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(5),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","Trading"==t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","Trading"==t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","Restorevoucher"!=t.PageType),r.xp6(1),r.Q6J("ngIf","Restorevoucher"==t.PageType),r.xp6(12),r.Q6J("ngIf",t.showReferencepopup)}},directives:[S.O5,w.e,M.i9,q.oB,L._Y,L.JL,L.F,V.u,_.q,S.mk,g.w9,L.JJ,L.On,U.x,g.bb,g.Z2,L.Fj,L.Q7,R.V,g.xv,k.g,A.gu,J.R,P.n,L.Wl,O.n,S.sg,Q.a,A.W2,A.nJ,A.Wo,A.aJ,A.Rw,A.ju,A.MB,A.PM,A.Nd,A.wI,A.FN,A.CK,F.L,E.k,Y.i,L.wV],pipes:[G.s],styles:[".negative[_ngcontent-%COMP%]{background-color:#eca79d!important}.warning[_ngcontent-%COMP%]{background-color:#ffc!important}.warningHideVoucherEffect[_ngcontent-%COMP%]{background-color:#b6b300!important}.dropdown-menu[_ngcontent-%COMP%]{height:auto;width:auto}.advFtr[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed!important;transform:none!important}#special[_ngcontent-%COMP%]{max-width:auto!important;max-width:inherit!important}.footer[_ngcontent-%COMP%]{bottom:0;width:100%;height:60px;line-height:60px;background-color:#f5f5f5}@media only screen and (max-width: 1280px){.showTopBtn[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width: 1280px){.showthis[_ngcontent-%COMP%]{display:none!important}}"]}),Ti)},82929:function(n,i,r){r.d(i,{N:function(){return nt}});var o=r(33018),a=r(3428),c=r(78980),u=r(42005),d=r(84306),g=r(3784),h=r(59506),p=r(54380),f=r(25039),v=r(2150),m=r(66203),T=r(61362),I=r(82316),Z=r(27541),A=r(89525),x=r(39478),y=r(32364),S=r(34450),D=r(18374),C=r(75075),b=r(44667),N=r(38583),w=r(3679),M=r(66496),q=r(6642),L=r(3001),V=r(58679),_=r(85895),U=r(92859),R=r(48429),k=r(3359),J=r(11489),P=r(13077),O=r(7225),Q=["f"],F=["CpF"],E=["ChallanNo"],Y=["LedgerModal"],G=["TaskModal"],H=["SubTaskModal"],B=["InventoryModal"];function $(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",87),o.TgZ(1,"ul",88),o.TgZ(2,"li",89),o.TgZ(3,"button",90),o.NdJ("click",function(){return o.CHM(n),o.oxw().cancel(null)}),o._UZ(4,"i",91),o.qZA(),o.qZA(),o.TgZ(5,"li",92),o.TgZ(6,"strong"),o._uU(7,"Challan"),o.qZA(),o.TgZ(8,"small"),o._uU(9," Add/Edit"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function j(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Save"),o.qZA())}function K(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Update"),o.qZA())}function z(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",93),o.TgZ(1,"ul",88),o.TgZ(2,"li",94),o.TgZ(3,"ion-icon",95),o.NdJ("click",function(e){return o.CHM(n),o.oxw().goback(e)}),o.qZA(),o.qZA(),o.TgZ(4,"li",96),o.TgZ(5,"strong"),o._uU(6,"Challan"),o.qZA(),o.TgZ(7,"small"),o._uU(8," Add/Edit"),o.qZA(),o.qZA(),o.TgZ(9,"li",97),o.TgZ(10,"a",98),o.NdJ("click",function(e){return o.CHM(n),o.oxw(),o.MAs(6).onSubmit(e)}),o.YNc(11,j,2,0,"span",99),o.YNc(12,K,2,0,"span",99),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(11),o.Q6J("ngIf","add"==i.ChallanId),o.xp6(1),o.Q6J("ngIf",i._sgId>0)}}function W(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Challan No is required"),o.qZA())}function X(e,t){if(1&e&&(o.TgZ(0,"div",100),o.YNc(1,W,2,0,"div",99),o.TgZ(2,"div",101),o._uU(3,"Challan No should contain only numbers"),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(14);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function ee(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Challan Sr No is required"),o.qZA())}function te(e,t){if(1&e&&(o.TgZ(0,"div",100),o.YNc(1,ee,2,0,"div",99),o.TgZ(2,"div",101),o._uU(3,"Challan SrNo should contain only numbers "),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(20);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function ne(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Date is required"),o.qZA())}function ie(e,t){if(1&e&&(o.TgZ(0,"div",100),o.YNc(1,ne,2,0,"div",99),o.qZA()),2&e){o.oxw();var n=o.MAs(26);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function re(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",102),o.TgZ(1,"a",103),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(32);return e.openTaskPopup(t)}),o._uU(2," Add New Task "),o.qZA(),o.qZA()}}function oe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",102),o.TgZ(1,"a",103),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(38);return e.opensubTaskPopup(t)}),o._uU(2," Add New SubTask "),o.qZA(),o.qZA()}}function ae(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",102),o.TgZ(1,"a",103),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(4);return o.oxw().openInventoryPopup(e)}),o._uU(2," Add New Inventory "),o.qZA(),o.qZA()}}function le(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.InvN," ")}function se(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",107),o.NdJ("click",function(){var e=o.CHM(n).item;return o.oxw(2).openInventoryPopupforedit(e.UIDN)}),o._UZ(3,"i",108),o.qZA()}if(2&e){var i=t.item,r=o.oxw(2);o.xp6(1),o.Oqu(i.InvN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function ce(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Inventory selection is required"),o.qZA())}function ue(e,t){if(1&e&&(o.TgZ(0,"div",100),o.YNc(1,ce,2,0,"div",99),o.qZA()),2&e){o.oxw();var n=o.MAs(5);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}var de=function(e){return{"is-invalid":e}};function ge(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",104),o._uU(2,"Inventory"),o.qZA(),o.TgZ(3,"ng-select",105,106),o.NdJ("scrollToEnd",function(){return o.CHM(n),o.oxw().inventoryService.ScrollDown()})("change",function(e){return o.CHM(n),o.oxw().SelectTaxLedger(e)})("ngModelChange",function(e){return o.CHM(n),o.oxw().inventoryService.singleresult=e}),o.YNc(6,ae,3,0,"ng-template",23),o.YNc(7,le,1,1,"ng-template",33),o.YNc(8,se,4,3,"ng-template",34),o.qZA(),o.YNc(9,ue,2,1,"div",13),o.qZA()}if(2&e){var i=o.MAs(5),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("virtualScroll",!0)("items",r.inventoryService.result)("ngClass",o.VKq(6,de,a.submitted&&i.invalid))("ngModel",r.inventoryService.singleresult)("loading",r.inventoryService.loading),o.xp6(6),o.Q6J("ngIf",a.submitted&&i.invalid)}}function he(e,t){if(1&e&&(o.TgZ(0,"small",102),o._uU(1),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.AsE(" Loaded ",n.siteService.result.length," of ",n.siteService.totalItems," ")}}function pe(e,t){if(1&e&&(o.TgZ(0,"small",102),o._uU(1),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.AsE(" Loaded ",n.unitService.result.length," of ",n.unitService.totalItems," ")}}function fe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",109),o._uU(2,"Unit"),o.qZA(),o.TgZ(3,"ng-select",110),o.NdJ("scrollToEnd",function(){return o.CHM(n),o.oxw().unitService.ScrollDown()})("ngModelChange",function(e){return o.CHM(n),o.oxw().unitService.singleresult=e}),o.YNc(4,pe,2,2,"ng-template",23),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(3),o.Q6J("virtualScroll",!0)("items",i.unitService.result)("ngModel",i.unitService.singleresult)("loading",i.unitService.loading)}}function ve(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",102),o.TgZ(1,"a",103),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(54);return e.openLedgerPopup(t)}),o._uU(2," Add New Ledger "),o.qZA(),o.qZA()}}function me(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.LN," ")}function Te(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",111),o.NdJ("click",function(){var e=o.CHM(n).item;return o.oxw().openLedgerPopupforedit(e.UIDN)}),o._UZ(3,"i",108),o.qZA()}if(2&e){var i=t.item,r=o.oxw();o.xp6(1),o.Oqu(i.LN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Ie(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Ledger selection is required"),o.qZA())}function Ze(e,t){if(1&e&&(o.TgZ(0,"div",100),o.YNc(1,Ie,2,0,"div",99),o.qZA()),2&e){o.oxw();var n=o.MAs(53);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Ae(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",112),o._uU(2,"Tax Account"),o.qZA(),o.TgZ(3,"ng-select",113,114),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().taxLedger=e}),o.qZA(),o.qZA()}if(2&e){var i=o.MAs(5),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("multiple",!0)("items",r.TaxLedgers)("ngModel",r.taxLedger)("loading",r.ledgerService.loading)("ngClass",o.VKq(6,de,a.submitted&&i.invalid))("virtualScroll",!0)}}function xe(e,t){if(1&e&&(o.TgZ(0,"div",100),o.TgZ(1,"div",101),o._uU(2,"length should contain only numbers"),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(4);o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function ye(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",115),o._uU(2,"Length"),o.qZA(),o.TgZ(3,"input",116,117),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().challanService.singleresult.ln=e}),o.qZA(),o.YNc(5,xe,3,1,"div",13),o.qZA()}if(2&e){var i=o.MAs(4),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("ngClass",o.VKq(3,de,a.submitted&&i.invalid))("ngModel",r.challanService.singleresult.ln),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function Se(e,t){if(1&e&&(o.TgZ(0,"div",100),o.TgZ(1,"div",101),o._uU(2,"Height should contain only numbers"),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(4);o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function De(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",118),o._uU(2,"Height"),o.qZA(),o.TgZ(3,"input",119,120),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().challanService.singleresult.Ht=e}),o.qZA(),o.YNc(5,Se,3,1,"div",13),o.qZA()}if(2&e){var i=o.MAs(4),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("ngClass",o.VKq(3,de,a.submitted&&i.invalid))("ngModel",r.challanService.singleresult.Ht),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function Ce(e,t){if(1&e&&(o.TgZ(0,"div",100),o.TgZ(1,"div",101),o._uU(2,"Width should contain only numbers"),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(4);o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function be(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",121),o._uU(2,"Width"),o.qZA(),o.TgZ(3,"input",122,123),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().challanService.singleresult.Wh=e}),o.qZA(),o.YNc(5,Ce,3,1,"div",13),o.qZA()}if(2&e){var i=o.MAs(4),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("ngClass",o.VKq(3,de,a.submitted&&i.invalid))("ngModel",r.challanService.singleresult.Wh),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function Ne(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Rate is required"),o.qZA())}function we(e,t){if(1&e&&(o.TgZ(0,"div",100),o.YNc(1,Ne,2,0,"div",99),o.TgZ(2,"div",101),o._uU(3,"Rate / Unit should contain only numbers"),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(4);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function Me(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",124),o._uU(2,"Rate / Unit"),o.qZA(),o.TgZ(3,"input",125,126),o.NdJ("change",function(){return o.CHM(n),o.oxw().CalculateAmt()})("ngModelChange",function(e){return o.CHM(n),o.oxw().challanService.singleresult.UA=e}),o.qZA(),o.YNc(5,we,4,2,"div",13),o.qZA()}if(2&e){var i=o.MAs(4),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("ngClass",o.VKq(3,de,a.submitted&&i.invalid))("ngModel",r.challanService.singleresult.UA),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function qe(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Quantity is required"),o.qZA())}function Le(e,t){if(1&e&&(o.TgZ(0,"div",100),o.YNc(1,qe,2,0,"div",99),o.TgZ(2,"div",101),o._uU(3,"Quantity should contain only numbers"),o.qZA(),o.qZA()),2&e){o.oxw();var n=o.MAs(4);o.xp6(1),o.Q6J("ngIf",n.errors.required),o.xp6(1),o.Q6J("hidden",!n.hasError("pattern"))}}function Ve(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",127),o._uU(2,"Quantity"),o.qZA(),o.TgZ(3,"input",128,129),o.NdJ("change",function(){return o.CHM(n),o.oxw().CalculateAmt()})("ngModelChange",function(e){return o.CHM(n),o.oxw().challanService.singleresult.Qty=e}),o.qZA(),o.YNc(5,Le,4,2,"div",13),o.qZA()}if(2&e){var i=o.MAs(4),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("ngClass",o.VKq(3,de,a.submitted&&i.invalid))("ngModel",r.challanService.singleresult.Qty),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function _e(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Total Amount is required"),o.qZA())}function Ue(e,t){if(1&e&&(o.TgZ(0,"div",100),o.TgZ(1,"div",101),o._uU(2,"Total Amount should contain only numbers "),o.qZA(),o.YNc(3,_e,2,0,"div",99),o.qZA()),2&e){o.oxw();var n=o.MAs(4);o.xp6(1),o.Q6J("hidden",!n.hasError("pattern")),o.xp6(2),o.Q6J("ngIf",n.errors.required)}}function Re(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"label",130),o._uU(2,"Total Amount"),o.qZA(),o.TgZ(3,"input",131,132),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().challanService.singleresult.TA=e}),o.qZA(),o.YNc(5,Ue,4,2,"div",13),o.qZA()}if(2&e){var i=o.MAs(4),r=o.oxw(),a=o.MAs(6);o.xp6(3),o.Q6J("ngClass",o.VKq(3,de,a.submitted&&i.invalid))("ngModel",r.challanService.singleresult.TA),o.xp6(2),o.Q6J("ngIf",a.submitted&&i.invalid)}}function ke(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Vehicle No is required"),o.qZA())}function Je(e,t){if(1&e&&(o.TgZ(0,"div",100),o.YNc(1,ke,2,0,"div",99),o.qZA()),2&e){o.oxw();var n=o.MAs(70);o.xp6(1),o.Q6J("ngIf",n.errors.required)}}function Pe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",102),o.TgZ(1,"a",103),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=o.MAs(84);return e.openInventoryPopup(t)}),o._uU(2," Add New Inventory "),o.qZA(),o.qZA()}}function Oe(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.InvN," ")}function Qe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",133),o.NdJ("click",function(){var e=o.CHM(n).item;return o.oxw().openInventoryPopupforedit(e.UIDN)}),o._UZ(3,"i",108),o.qZA()}if(2&e){var i=t.item,r=o.oxw();o.xp6(1),o.Oqu(i.InvN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Fe(e,t){if(1&e&&(o.TgZ(0,"small",102),o._uU(1),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.AsE(" Loaded ",n.unitService.result.length," of ",n.unitService.totalItems," ")}}function Ee(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"small",102),o.TgZ(1,"a",103),o.NdJ("click",function(){o.CHM(n),o.oxw();var e=o.MAs(4);return o.oxw().openInventoryPopup(e)}),o._uU(2," Add New Inventory "),o.qZA(),o.qZA()}}function Ye(e,t){1&e&&o._uU(0),2&e&&o.hij(" ",t.item.InvN," ")}function Ge(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"a"),o._uU(1),o.qZA(),o.TgZ(2,"a",133),o.NdJ("click",function(){var e=o.CHM(n).item;return o.oxw(2).openInventoryPopupforedit(e.UIDN)}),o._UZ(3,"i",108),o.qZA()}if(2&e){var i=t.item,r=o.oxw(2);o.xp6(1),o.Oqu(i.InvN),o.xp6(1),o.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function He(e,t){if(1&e&&(o.TgZ(0,"small",102),o._uU(1),o.qZA()),2&e){var n=o.oxw(2);o.xp6(1),o.AsE(" Loaded ",n.unitService.result.length," of ",n.unitService.totalItems," ")}}function Be(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"div",134),o.TgZ(3,"ng-select",135,136),o.NdJ("scrollToEnd",function(){return o.CHM(n),o.oxw().inventoryService.ScrollDown()})("ngModelChange",function(e){return o.CHM(n).$implicit.InvId=e}),o.YNc(6,Ee,3,0,"ng-template",23),o.YNc(7,Ye,1,1,"ng-template",33),o.YNc(8,Ge,4,3,"ng-template",34),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"td"),o.TgZ(10,"ng-select",137,138),o.NdJ("scrollToEnd",function(){return o.CHM(n),o.oxw().unitService.ScrollDown()})("ngModelChange",function(e){return o.CHM(n).$implicit.UntId=e}),o.YNc(12,He,2,2,"ng-template",23),o.qZA(),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"ng-select",139,140),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.TaxId=e}),o.qZA(),o.qZA(),o.TgZ(17,"td"),o.TgZ(18,"div",134),o.TgZ(19,"input",141,142),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.InvQty=e})("input",function(){var e=o.CHM(n).$implicit;return o.oxw().calculateTotalAmounts(e)}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"td"),o.TgZ(22,"div",134),o.TgZ(23,"input",141,143),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.InvRt=e})("input",function(){var e=o.CHM(n).$implicit;return o.oxw().calculateTotalAmounts(e)}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(25,"td"),o.TgZ(26,"div",134),o.TgZ(27,"input",144,145),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.TtlAmt=e}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"td"),o.TgZ(30,"div",134),o.TgZ(31,"input",144,146),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.InvLen=e}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(33,"td"),o.TgZ(34,"div",134),o.TgZ(35,"input",144,147),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.InvWid=e}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(37,"td"),o.TgZ(38,"div",134),o.TgZ(39,"input",144,148),o.NdJ("ngModelChange",function(e){return o.CHM(n).$implicit.InvHei=e}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(41,"td",149),o.TgZ(42,"a",150),o.NdJ("click",function(){var e=o.CHM(n).index;return o.oxw().deleteItem(e)}),o._UZ(43,"i",151),o.qZA(),o.qZA(),o.qZA()}if(2&e){var i=t.$implicit,r=t.index,a=o.MAs(5),l=o.MAs(16),s=o.MAs(20),c=o.MAs(24),u=o.MAs(28),d=o.MAs(32),g=o.MAs(36),h=o.MAs(40),p=o.oxw(),f=o.MAs(78),v=o.MAs(6);o.xp6(3),o.MGl("name","Inventorys",r,""),o.MGl("id","Inventorys",r,""),o.Q6J("virtualScroll",!0)("items",p.inventoryService.result)("ngClass",o.VKq(45,de,f.submitted&&a.invalid))("ngModel",i.InvId)("loading",p.inventoryService.loading),o.xp6(7),o.MGl("name","InvUnts",r,""),o.MGl("id","InvUnts",r,""),o.Q6J("virtualScroll",!0)("items",p.unitService.result)("ngModel",i.UntId)("loading",p.unitService.loading),o.xp6(4),o.MGl("name","TaxGroupsss",r,""),o.MGl("id","TaxGroupsss",r,""),o.Q6J("multiple",!0)("items",p.TaxLedgers)("ngModel",i.TaxId)("loading",p.ledgerService.loading)("ngClass",o.VKq(47,de,v.submitted&&l.invalid))("virtualScroll",!0),o.xp6(5),o.MGl("name","VClnInQty",r,""),o.MGl("id","VClnInQty",r,""),o.Q6J("ngClass",o.VKq(49,de,v.submitted&&s.invalid))("ngModel",i.InvQty),o.xp6(4),o.MGl("name","VClnInRt",r,""),o.MGl("id","VClnInRt",r,""),o.Q6J("ngClass",o.VKq(51,de,v.submitted&&c.invalid))("ngModel",i.InvRt),o.xp6(4),o.MGl("name","VClnInAmt",r,""),o.MGl("id","VClnInAmt",r,""),o.Q6J("ngClass",o.VKq(53,de,v.submitted&&u.invalid))("ngModel",i.TtlAmt),o.xp6(4),o.MGl("name","VClnInLen",r,""),o.MGl("id","VClnInLen",r,""),o.Q6J("ngClass",o.VKq(55,de,v.submitted&&d.invalid))("ngModel",i.InvLen),o.xp6(4),o.MGl("name","VClnInWid",r,""),o.MGl("id","VClnInWid",r,""),o.Q6J("ngClass",o.VKq(57,de,v.submitted&&g.invalid))("ngModel",i.InvWid),o.xp6(4),o.MGl("name","VClnInHei",r,""),o.MGl("id","VClnInHei",r,""),o.Q6J("ngClass",o.VKq(59,de,v.submitted&&h.invalid))("ngModel",i.InvHei)}}function $e(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Save"),o.qZA())}function je(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Update"),o.qZA())}function Ke(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",152),o.TgZ(1,"button",153),o.YNc(2,$e,2,0,"span",99),o.YNc(3,je,2,0,"span",99),o.qZA(),o.TgZ(4,"a",154),o.NdJ("click",function(){return o.CHM(n),o.oxw().cancel(null)}),o._uU(5,"Cancel"),o.qZA(),o.qZA()}if(2&e){var i=o.oxw();o.xp6(1),o.Q6J("disabled",1==i.challanService.singleresult.IsBd),o.xp6(1),o.Q6J("ngIf","add"==i.ChallanId),o.xp6(1),o.Q6J("ngIf",i._sgId>0)}}function ze(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-companyledger-addedit",155),o.NdJ("redirectAction",function(e){return o.CHM(n),o.oxw().challanLedgerAdded(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("redirectOnCancel",!1)("CompanyIdforReport",i.CompanyIdforReport)("inputLedgerId",i.ledgerIdVal)}}function We(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-task-addedit",156),o.NdJ("redirectActiononTask",function(e){return o.CHM(n),o.oxw().challanTaskAdded(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("redirectOnCancelonTask",!1)("CompanyIdforReport",i.CompanyIdforReport)}}function Xe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-sub-task-addedit",157),o.NdJ("redirectActiononsubTask",function(e){return o.CHM(n),o.oxw().challanSubTaskAdded(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("redirectOnCancelonsubTask",!1)("CompanyIdforReport",i.CompanyIdforReport)}}function et(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-inventory-addedit",158),o.NdJ("redirectActiononInventory",function(e){return o.CHM(n),o.oxw().challanInventoryAdded(e)}),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("redirectOnCancelonInventory",!1)("CompanyIdforReport",i.CompanyIdforReport)("InputInventoryId",i.InventoryIdVal)}}var tt,nt=(tt=function(){function n(e,t,i,r,a,l,c,u,g,h,p,f){var v=this;s(this,n),this.challanService=e,this.filterService=t,this.unitService=i,this.siteService=r,this._config=a,this.ledgerService=l,this.inventoryService=c,this.taskService=u,this.subtaskService=g,this.route=h,this.location=p,this.router=f,this._sgId=0,this.currentScrollPosition=0,this.istaskpopupopen=!1,this.issubtaskpopupopen=!1,this.isInventorypopupopen=!1,this.isLedgerpopupopen=!1,this.isclosemodel=!1,this.showSortfilter=!1,this.isList=!0,this.popupwindow="",this.ispopup=!1,this.httpfunction=new Z.r,this.ChallanredirectOnCancel=!1,this.CompanyIdforReport=0,this.ChallanredirectAction=new o.vpe,this.TaxLedgers=[],this.tableChln=[],this.taxLedger=[],this.taxLedgerOfInv=[],this.isSaveNew=!1,this.challanInventories=[],this.challanInventoriesFields=new d.Bl,this.ChallanLedger=[],this.SignupId=this.challanService.getSignupId,this.UserId=this.challanService.GetUserId,this.taskService.singleresult=null,this.subtaskService.singleresult=null,this.inventoryService.singleresult=null,this.siteService.singleresult=null,this.unitService.singleresult=null,this.ledgerService.singleresult=null,this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(v.isclosemodel=!0,v.ChallanId=e.id)}),this.ChallanredirectOnCancel&&this.route.params.subscribe(function(e){null!=e.id&&""!=e.id?"add"==e.id.toLowerCase()?(v._sgId=e.id,v.resetForAdd()):(v.resetForAdd(),v.challanService.getById(e.id).subscribe(function(e){v.setEditData(e)},function(e){v.cancel(null)})):v.router.navigate(["/transactions/challan"])})}return l(n,[{key:"ChallanId",get:function(){return this._ChallanId},set:function(e){this._ChallanId=e}},{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList),this.isInventorypopupopen?this.isInventorypopupopen=!this.isInventorypopupopen:this.issubtaskpopupopen?this.issubtaskpopupopen=!this.issubtaskpopupopen:this.istaskpopupopen?this.istaskpopupopen=!this.istaskpopupopen:this.isLedgerpopupopen&&(this.isLedgerpopupopen=!this.isLedgerpopupopen)}},{key:"goback",value:function(e){0==this.ChallanredirectOnCancel&&this.ChallanredirectAction.emit(e),this.location.back()}},{key:"ngOnInit",value:function(){var e=this;this.ChallanredirectOnCancel&&setTimeout(function(){e.filterService.changeFilter(!1,!1,"Challan (Add/Edit)")},200),setTimeout(function(){null!=e.inputName&&e.inputName.nativeElement.focus()},500),this.SignupId=this.challanService.getSignupId,this.UserId=this.challanService.GetUserId,null!=this._taskModal&&(this._taskModal.onEsc=this.onModalEsc),null!=this._subtaskModal&&(this._subtaskModal.onEsc=this.onModalEsc),null!=this._inventoryModal&&(this._inventoryModal.onEsc=this.onModalEsc),null!=this._modalLedger&&(this._modalLedger.onEsc=this.onModalEsc),this.CompanyIdforReport>0&&(this.ledgerService.reportCompanyId=this.CompanyIdforReport,this.siteService.reportCompanyId=this.CompanyIdforReport,this.subtaskService.reportCompanyId=this.CompanyIdforReport,this.taskService.reportCompanyId=this.CompanyIdforReport,this.unitService.reportCompanyId=this.CompanyIdforReport,this.inventoryService.reportCompanyId=this.CompanyIdforReport),this.ledgerService.isGetSubscribe=!0,this.ledgerService.GetAlldataforChallan(!0),this.subscription=this.ledgerService.resultObs.subscribe(function(t){e.ChallanLedger=e.ledgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSC||1==e.IsSD)&&0==e.IsGrp&&1==e.St}),e.TaxLedgers=e.ledgerService.result.filter(function(e){return 0==e.IsGrp&&2!=e.St&&1==e.isTL&&(1==e.IsTDSGst||3==e.IsTDSGst)})}),this.siteService.isGetSubscribe=!0,0==this.siteService.result.length&&this.siteService.GetAllsitesforschallan(),this.Sitesubscription=this.siteService.resultObs.subscribe(function(e){}),this.subtaskService.isGetSubscribe=!0,0==this.subtaskService.result.length&&this.subtaskService.GetAlldata(),this.SubTsksubscription=this.subtaskService.resultObs.subscribe(function(e){}),this.taskService.isGetSubscribe=!0,0==this.taskService.result.length&&this.taskService.GetAlldata(),this.Tsksubscription=this.taskService.resultObs.subscribe(function(e){}),this.unitService.isGetSubscribe=!0,this.unitService.GetAllunitforchallan(),this.Untsubscription=this.unitService.resultObs.subscribe(function(e){}),this.inventoryService.isGetSubscribe=!0,0==this.inventoryService.result.length&&this.inventoryService.GetAlldata(),this.Invsubscription=this.inventoryService.resultObs.subscribe(function(e){}),null!=this.ChallanId&&null!=this.ChallanId&&(this._sgId=parseInt(this.ChallanId),this.getChallan(this.ChallanId)),this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this))}},{key:"OnKeydown",value:function(e){var t=this,n=e.key||e.keyCode;("Backspace"==n&&e.altKey||"Escape"==n)&&(setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition},150),this.cancel(null))}},{key:"ngOnDestroy",value:function(){null!=this.subscription&&this.subscription.unsubscribe(),null!=this.Sitesubscription&&this.Sitesubscription.unsubscribe(),null!=this.SubTsksubscription&&this.SubTsksubscription.unsubscribe(),null!=this.Tsksubscription&&this.Tsksubscription.unsubscribe(),null!=this.Untsubscription&&this.Untsubscription.unsubscribe(),null!=this.Invsubscription&&this.Invsubscription.unsubscribe()}},{key:"getChallan",value:function(e){var t=this;0==this.ChallanredirectOnCancel&&("add"==this.ChallanId?this.resetForAdd():(this.resetForAdd(),this.challanService.getById(this.ChallanId).subscribe(function(e){t.setEditData(e)},function(e){t.cancel(null)})))}},{key:"onModalEsc",value:function(e){e.stopPropagation(),e.preventDefault(),this.hide()}},{key:"resetForAdd",value:function(){this.taskService.singleresult=null,this.subtaskService.singleresult=null,this.inventoryService.singleresult=null,this.siteService.singleresult=null,this.unitService.singleresult=null,this.ledgerService.singleresult=null,this.challanService.singleresult=new d.z_,this.challanService.singleresult.St=T.D.Active,this.challanService.singleresult.II=0,this.challanService.singleresult.TI=0,this.challanService.singleresult.LI=0,this.challanService.singleresult.UI=0,this.challanService.singleresult.USI=0,this.challanService.singleresult.SbTI=0,this.challanService.singleresult.StI=0,this.challanService.singleresult.MtD=new Date,this.challanService.singleresult.CI=this.CompanyIdforReport>0?this.CompanyIdforReport:this.challanService.getCompanyId,this.ledgerService.reportCompanyId=this.CompanyIdforReport,this.siteService.reportCompanyId=this.CompanyIdforReport,this.subtaskService.reportCompanyId=this.CompanyIdforReport,this.taskService.reportCompanyId=this.CompanyIdforReport,this.unitService.reportCompanyId=this.CompanyIdforReport,this.inventoryService.reportCompanyId=this.CompanyIdforReport}},{key:"setEditData",value:function(n){var i,r=this;this.challanService.singleresult=n,(i=this.challanInventories).push.apply(i,e(this.challanService.singleresult.ChallanInv));var o,a=function(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=t(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==i.return||i.return()}finally{if(s)throw a}}}}(this.challanInventories);try{for(a.s();!(o=a.n()).done;){var l=o.value;l.TaxId=l.GSTDetss.map(function(e){return e.TLId})}}catch(d){a.e(d)}finally{a.f()}this.challanService.singleresult.TI>0&&(this.taskService.singleresult=new g.C,this.taskService.singleresult.TN=this.challanService.singleresult.TNm,this.taskService.singleresult.UIDN=this.challanService.singleresult.TI),this.challanService.singleresult.SbTI>0&&(this.subtaskService.singleresult=new h.M,this.subtaskService.singleresult.SN=this.challanService.singleresult.SbTNm,this.subtaskService.singleresult.UIDN=this.challanService.singleresult.SbTI),this.inventoryService.singleresult=new p.F8,this.inventoryService.singleresult.InvN=this.challanService.singleresult.InvNm,this.inventoryService.singleresult.UIDN=this.challanService.singleresult.II,this.challanService.singleresult.StI>0&&(this.siteService.singleresult=new f.kJ,this.siteService.singleresult.SN=this.challanService.singleresult.StNm,this.siteService.singleresult.UIDN=this.challanService.singleresult.StI),this.challanService.singleresult.UI>0&&(this.unitService.singleresult=new v.n,this.unitService.singleresult.UN=this.challanService.singleresult.UntNm,this.unitService.singleresult.UIDN=this.challanService.singleresult.UI),this.ledgerService.singleresult=new m.dJ,this.ledgerService.singleresult.LN=this.challanService.singleresult.LdNm,this.ledgerService.singleresult.UIDN=this.challanService.singleresult.LI,this.taxLedger=[];for(var s=function(e){u=r.ledgerService.result.filter(function(t){return t.UIDN==r.challanService.singleresult.GSTDets[e].TLId})[0];var t=r.taxLedger.concat(u||[]);r.taxLedger=t},c=0;c<this.challanService.singleresult.GSTDets.length;c++){var u;s(c)}}},{key:"openLedgerPopup",value:function(e){return e.close(),this.addurl("transactions/ledgeradd/0/false"),this.isLedgerpopupopen=!0,!0}},{key:"SelectTaxLedger",value:function(e){var t=this;this.taxLedger=[];for(var n=function(n){r=t.ledgerService.result.filter(function(t){return t.UIDN==e.GSTDets[n].TLId})[0];var i=t.taxLedger.concat(r||[]);t.taxLedger=i},i=0;i<e.GSTDets.length;i++){var r;n(i)}}},{key:"challanLedgerAdded",value:function(e){this.isList=!0,this.resetUrl(),null!=e&&(this.ledgerService.result.unshift(e),this.ChallanLedger=this.ledgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSC||1==e.IsSD)&&0==e.IsGrp&&1==e.St}),this.ChallanLedger.filter(function(t){return t.UIDN==e.UIDN}).length>0&&(this.ledgerService.singleresult=e)),this.isLedgerpopupopen=!1,this.isList=!0,this.resetUrl()}},{key:"openTaskPopup",value:function(e){return e.close(),this.istaskpopupopen=!0,this.addurl("inventory/task/Add"),this.isList=!1,!0}},{key:"challanTaskAdded",value:function(e){this.isList=!0,this.resetUrl(),null!=e&&(this.taskService.result=JSON.parse(JSON.stringify(this.taskService.result)),this.taskService.singleresult=e),this.istaskpopupopen=!1}},{key:"opensubTaskPopup",value:function(e){return e.close(),this.issubtaskpopupopen=!0,this.addurl("inventory/subtask/Add"),this.isList=!1,!0}},{key:"challanSubTaskAdded",value:function(e){this.isList=!0,this.resetUrl(),null!=e&&(this.subtaskService.result=JSON.parse(JSON.stringify(this.subtaskService.result)),this.subtaskService.singleresult=e),this.issubtaskpopupopen=!1}},{key:"openInventoryPopup",value:function(e){return e.close(),this.isInventorypopupopen=!0,this.addurl("inventory/inventorylist/Add"),!0}},{key:"challanInventoryAdded",value:function(e){this.isInventorypopupopen=!1,this.isList=!0,this.resetUrl(),null!=e&&(this.inventoryService.result=this.inventoryService.result.concat(e),this.inventoryService.singleresult=e)}},{key:"cancel",value:function(e){var t=this;setTimeout(function(){t.filterService.changeFilter(!0,!0,"Challan List")},200),this.isclosemodel?this.location.back():0==this.ChallanredirectOnCancel&&(this.ChallanredirectAction.emit(e),this.cleardata())}},{key:"CalculateAmt",value:function(){this.challanService.singleresult.TA=this.challanService.singleresult.UA*this.challanService.singleresult.Qty}},{key:"onSubmitNew",value:function(){this.isSaveNew=!0,this.form.onSubmit()}},{key:"onSubmit",value:function(){var e=this;if(this.form.valid){if(null!=this.taskService.singleresult&&null!=this.taskService.singleresult?(this.challanService.singleresult.TI=this.taskService.singleresult.UIDN,this.challanService.singleresult.TNm=this.taskService.singleresult.TN):(this.challanService.singleresult.TI=0,this.challanService.singleresult.TNm=""),null!=this.subtaskService.singleresult&&null!=this.subtaskService.singleresult?(this.challanService.singleresult.SbTI=this.subtaskService.singleresult.UIDN,this.challanService.singleresult.SbTNm=this.subtaskService.singleresult.SN):(this.challanService.singleresult.SbTI=0,this.challanService.singleresult.SbTNm=""),null!=this.inventoryService.singleresult&&null!=this.inventoryService.singleresult?(this.challanService.singleresult.II=this.inventoryService.singleresult.UIDN,this.challanService.singleresult.InvNm=this.inventoryService.singleresult.InvN):(this.challanService.singleresult.II=0,this.challanService.singleresult.InvNm=""),null!=this.siteService.singleresult&&null!=this.siteService.singleresult?(this.challanService.singleresult.StI=this.siteService.singleresult.UIDN,this.challanService.singleresult.StNm=this.siteService.singleresult.SN):(this.challanService.singleresult.StI=0,this.challanService.singleresult.StNm=""),null!=this.unitService.singleresult&&null!=this.unitService.singleresult?(this.challanService.singleresult.UntNm=this.unitService.singleresult.UN,this.challanService.singleresult.UI=this.unitService.singleresult.UIDN):(this.challanService.singleresult.UntNm="",this.challanService.singleresult.UI=0),null!=this.ledgerService.singleresult&&null!=this.ledgerService.singleresult?(this.challanService.singleresult.LdNm=this.ledgerService.singleresult.LN,this.challanService.singleresult.LI=this.ledgerService.singleresult.UIDN):(this.challanService.singleresult.LdNm="",this.challanService.singleresult.LI=0),null!=this.taxLedger||this.taxLedger.length>0){this.challanService.singleresult.GSTDets=[];for(var t=0;t<this.taxLedger.length;t++){var n=new p.Rk;n.CId=0,n.AppFrom=null==this.taxLedger[t].AppFmDt&&null==this.taxLedger[t].AppFmDt?"2017/07/01":this.taxLedger[t].AppFmDt,n.Des="",n.HSNId=0,n.IsNonGSTGood=!1,n.CalType="On Value",n.Taxblty="Taxable",n.TR=null==this.taxLedger[t].TR?0:this.taxLedger[t].TR,n.CGST=null==this.taxLedger[t].CGST?0:this.taxLedger[t].CGST,n.SGST=null==this.taxLedger[t].SGST?0:this.taxLedger[t].SGST,n.IGST=null==this.taxLedger[t].IGST?0:this.taxLedger[t].IGST,n.CESS=null==this.taxLedger[t].CESS?0:this.taxLedger[t].CESS,n.TLId=this.taxLedger[t].UIDN,n.IsSlabRateCalculation=!1,this.challanService.singleresult.GSTDets.push(n)}}if(null!=this.challanInventories||this.challanInventories.length>0){this.challanService.singleresult.ChallanInv=[];for(var i=0;i<this.challanInventories.length;i++){var r=new d.Bl;r.UIDN=this.challanInventories[i].UIDN,r.InvId=this.challanInventories[i].InvId,r.UntId=this.challanInventories[i].UntId,r.InvQty=this.challanInventories[i].InvQty,r.InvRt=this.challanInventories[i].InvRt,r.TtlAmt=this.challanInventories[i].TtlAmt,r.InvLen=this.challanInventories[i].InvLen,r.InvWid=this.challanInventories[i].InvWid,r.InvHei=this.challanInventories[i].InvHei;for(var o=0;o<this.challanInventories[i].TaxId.length;o++){var a=this.challanInventories[i],l=new p.Rk;l.AppFrom="2017/07/01",l.CalType="On Value",l.Taxblty="Taxable",l.TLId=a.TaxId[o],l.IId=this.challanInventories[i].InvId,r.GSTDetss.push(l)}this.challanService.singleresult.ChallanInv.push(r)}}null==this.challanService.singleresult.UIDN||0==this.challanService.singleresult.UIDN||null==this.challanService.singleresult.UIDN?this.challanService.add(this.challanService.singleresult).subscribe(function(t){if(e.isSaveNew){e.isSaveNew=!1;var n=new d.z_;n.CN=e.challanService.singleresult.CN,n.SrNo=e.challanService.singleresult.SrNo,n.MtD=e.challanService.singleresult.MtD,null!=e.taskService.singleresult&&(n.TNm=e.taskService.singleresult.TN),null!=e.subtaskService.singleresult&&(n.SbTNm=e.subtaskService.singleresult.SN),null!=e.inventoryService.singleresult&&(n.InvNm=e.inventoryService.singleresult.InvN),null!=e.siteService.singleresult&&(n.StNm=e.siteService.singleresult.SN),null!=e.unitService.singleresult&&(n.UntNm=e.unitService.singleresult.UN),null!=e.ledgerService.singleresult&&(n.LdNm=e.ledgerService.singleresult.LN),null!=e.taxLedger[0]&&(n.LdNmTx=e.taxLedger[0].LN),n.ln=e.challanService.singleresult.ln,n.Ht=e.challanService.singleresult.Ht,n.Wh=e.challanService.singleresult.Wh,n.UA=e.challanService.singleresult.UA,n.Qty=e.challanService.singleresult.Qty,n.TA=e.challanService.singleresult.TA,n.VN=e.challanService.singleresult.VN,n.Narr=e.challanService.singleresult.Narr;var i=e.tableChln.concat(n);e.tableChln=i,e.cleardataSaveNew()}else e.challanService.singleresult.UIDN=t.UIDN,e.cancel(e.challanService.singleresult)},function(e){}):this.challanService.edit(this.challanService.singleresult).subscribe(function(t){e.challanService.singleresult=t,e.cancel(e.challanService.singleresult)},function(e){})}}},{key:"onChallandateSelect",value:function(e){this.challanService.singleresult.MtD=e}},{key:"onImageAdd",value:function(e){this.challanService.singleresult.UpI=[];for(var t=0;t<e.length;t++){var n=new I.Q;n.Challans_PK_Id=e[t].Challans_PK_Id,n.PK_Id=e[t].PK_Id,n.name=e[t].name,n.operationType=e[t].operationType,n.ModifiedDate=new Date,n.CreatedDate=new Date,n.CreatedBy=this.challanService.userid,n.modifyBy=this.challanService.userid,n.CompanyId=this.challanService.getCompanyId,n.SignupId=this.challanService.getSignupId,n.FileLength=null==e[t].PK_Id?e[t].size:e[t].FileLength,n.src=e[t].src,this.challanService.singleresult.UpI.push(n)}}},{key:"onCheckedChange",value:function(e){this.challanService.singleresult.St=e.object.checked}},{key:"openLedgerPopupforedit",value:function(e){return this.ledgerIdVal=e.toString(),this.isLedgerpopupopen=!0,!0}},{key:"cleardata",value:function(){this.siteService.singleresult=null,this.inventoryService.singleresult=null,this.taskService.singleresult=null,this.subtaskService.singleresult=null}},{key:"cleardataSaveNew",value:function(){this.challanService.singleresult.ln=null,this.challanService.singleresult.Ht=null,this.challanService.singleresult.Wh=null,this.challanService.singleresult.UA=null,this.challanService.singleresult.Qty=null,this.challanService.singleresult.TA=null,this.challanService.singleresult.VN=null,this.challanService.singleresult.Narr=null,this.challanService.singleresult.UIDN=0}},{key:"openInventoryPopupforedit",value:function(e){return this.InventoryIdVal=e.toString(),this.isInventorypopupopen=!0,!0}},{key:"resetUrl",value:function(){var e=this;this.isList=!0;var t=this.router.url;this.route.params.subscribe(function(n){e.isList||null!=n.id&&""!=n.id&&(t=t.replace("/"+n.id,"")),e.location.go(t)})}},{key:"addurl",value:function(e){var t=this,n=e,i=this.router.url;i=(i=(i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0),this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),t.location.go("".concat(i,"/").concat(n))}),"inventory/subtask/Add"==e&&(i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0)),"inventory/task/Add"==e&&(i=(i=i.substring(0,i.lastIndexOf("/")+0)).substring(0,i.lastIndexOf("/")+0))}},{key:"deleteItem",value:function(e){this.challanInventories.splice(e,1)}},{key:"addInventoryItem",value:function(e){var t=this;if(this.challanInventoriesFields.GSTDetss=[],null!==this.taxLedgerOfInv)for(var n=0;n<this.taxLedgerOfInv.length;n++)this.challanInventoriesFields.TaxId.push(this.taxLedgerOfInv[n].UIDN);this.challanInventories.push(this.challanInventoriesFields),this.challanInventoriesFields=new d.Bl,setTimeout(function(){t.CustFields.reset()},100)}},{key:"calculateTotalAmount",value:function(){this.challanInventoriesFields.TtlAmt=isNaN(this.challanInventoriesFields.InvQty)||isNaN(this.challanInventoriesFields.InvRt)?null:this.challanInventoriesFields.InvQty*this.challanInventoriesFields.InvRt}},{key:"calculateTotalAmounts",value:function(e){e.TtlAmt=isNaN(e.InvQty)||isNaN(e.InvRt)?null:e.InvQty*e.InvRt}}]),n}(),tt.\u0275fac=function(e){return new(e||tt)(o.Y36(u.e),o.Y36(A.i),o.Y36(a._),o.Y36(x.P),o.Y36(y.De),o.Y36(c.Q),o.Y36(S.V),o.Y36(D.M),o.Y36(C.I),o.Y36(b.gz),o.Y36(N.Ye),o.Y36(b.F0))},tt.\u0275cmp=o.Xpm({type:tt,selectors:[["app-challan-addedit"]],viewQuery:function(e,t){var n;1&e&&(o.Gf(Q,5),o.Gf(F,7),o.Gf(E,5,o.SBq),o.Gf(Y,5),o.Gf(G,5),o.Gf(H,5),o.Gf(B,5)),2&e&&(o.iGM(n=o.CRH())&&(t.form=n.first),o.iGM(n=o.CRH())&&(t.CustFields=n.first),o.iGM(n=o.CRH())&&(t.inputName=n.first),o.iGM(n=o.CRH())&&(t._modalLedger=n.first),o.iGM(n=o.CRH())&&(t._taskModal=n.first),o.iGM(n=o.CRH())&&(t._subtaskModal=n.first),o.iGM(n=o.CRH())&&(t._inventoryModal=n.first))},hostBindings:function(e,t){1&e&&o.NdJ("popstate",function(e){return t.onPopState(e)},!1,o.Jf7)},inputs:{ChallanredirectOnCancel:"ChallanredirectOnCancel",CompanyIdforReport:"CompanyIdforReport",ChallanId:"ChallanId"},outputs:{ChallanredirectAction:"ChallanredirectAction"},features:[o._Bn([c.Q,u.e,a._])],decls:174,vars:102,consts:[[1,"nopadding"],[1,"card",3,"hidden"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],[1,"mt-2","mb-5"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],["id","formContainer",1,"row"],[1,"md-form","form-group","col-sm-6","col-md-3"],["for","ChallanNo"],[1,"ml-1","text-danger","font-weight-bold","h5"],["autofocus","","type","text","pattern","[0-9]*","required","","placeholder","Enter Challan No","name","ChallanNo","id","ChallanNo",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["ChallanNo","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","ChallanSrNo"],["autofocus","","type","text","pattern","[0-9]*","placeholder","Enter Challan Sr No","name","ChallanSrNo","id","ChallanSrNo",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["ChallanSrNo","ngModel"],["for","vdate"],["type","text","appDatepicker","","autocomplete","off","required","","name","vdate","id","vdate",1,"form-control",3,"ngClass","startDate","selected"],["vdate",""],["for","Taskselect"],["name","Taskselect","bindLabel","TN","placeholder","Select Task",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["Task",""],["ng-header-tmp",""],["for","SubTask"],["name","SubTask","bindLabel","SN","placeholder","Select Sub Task",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["Stask",""],["class","md-form form-group col-sm-6 col-md-3",4,"ngIf"],["for","Site"],["name","Site","bindLabel","SN","placeholder","Select Site",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","Ledger"],["required","","name","Ledger","selectOnTab","true","bindLabel","LN","placeholder","Select Ledger",3,"virtualScroll","ngClass","items","ngModel","loading","ngModelChange"],["Ledger","ngModel","led",""],["ng-label-tmp",""],["ng-option-tmp",""],["for","VehicleNo"],["type","text","placeholder","Enter Vehicle No","name","VehicleNo","id","VehicleNo",1,"form-control",3,"ngModel","ngModelChange"],["VehicleNo","ngModel"],["for","Narration"],["placeholder","Enter Narration","name","Narration","id","Narration",1,"md-textarea","form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-sm-12","col-md-12"],["name","formPaymentSetting","novalidate","",1,"ng-untouched","ng-pristine","ng-invalid",2,"margin-left","0px",3,"ngSubmit"],["CpF","ngForm"],[1,"input-group","row","m-2"],[1,"md-form","col-md-2","col-sm-4",2,"border","1px solid #ccc"],["for","InvItm",1,"mr-2"],["name","Inventoryss","required","","bindLabel","InvN","bindValue","UIDN","placeholder","Select Inventory",3,"virtualScroll","items","ngClass","ngModel","loading","scrollToEnd","ngModelChange"],["Invss","","Inventoryss","ngModel"],["for","InvUnt",1,"mr-2"],["name","InvUnt","bindLabel","UN","bindValue","UIDN","placeholder","Select Unit",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["InvUnt","ngModel"],["selectOnTab","true","name","TaxGroups","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",3,"multiple","items","ngModel","loading","ngClass","virtualScroll","ngModelChange"],["taxled","","TaxGroups","ngModel"],[1,"md-form","col-md-1","col-sm-4",2,"border","1px solid #ccc"],["for","InvQty",1,"mr-2","small"],["type","number","placeholder","Enter Quantity","name","InvQty","id","InvQty",1,"form-control","border",3,"ngClass","ngModel","change","ngModelChange"],["InvQty","ngModel"],["for","InvRt",1,"mr-2","small"],["type","number","placeholder","Enter Rate","name","InvRt","id","InvRt",1,"form-control","border",3,"ngClass","ngModel","change","ngModelChange"],["InvRt","ngModel"],["for","InvAmt",1,"mr-2","small"],["type","number","placeholder","Enter TtlAmt","name","InvAmt","id","InvAmt",1,"form-control","border",3,"ngClass","ngModel","ngModelChange"],["InvAmt","ngModel"],["type","number","placeholder","Enter Length","name","InvLen","id","InvLen",1,"form-control","border",3,"ngClass","ngModel","ngModelChange"],["InvLen","ngModel"],["type","number","placeholder","Enter Width","name","InvWid","id","InvWid",1,"form-control","border",3,"ngClass","ngModel","ngModelChange"],["InvWid","ngModel"],["type","number","placeholder","Enter Height","name","InvHei","id","InvHei",1,"form-control","border",3,"ngClass","ngModel","ngModelChange"],["InvHei","ngModel"],[1,"md-form","col"],["type","submit",1,"btn","btn-primary","font-weight-bold","mt-4"],[1,"col-sm-12","col-md-12","table-responsive","p-2"],[1,"table","table-bordered","col-sm-12","col-md-12"],["colspan","10"],["scope","col",1,"text-left"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"form-group","col-md-6","col-sm-12"],["for","CompanyLogo"],[1,"input-group"],["maxFiles","2","maxSize","5","fileExt","JPG, GIF, PNG, PDF, JPEG",3,"filelist","uploadStatus"],["fileUpload",""],["class","col-sm-12 text-right","id","formbtnContainer",4,"ngIf"],[3,"redirectOnCancel","CompanyIdforReport","inputLedgerId","redirectAction",4,"ngIf"],[3,"redirectOnCancelonTask","CompanyIdforReport","redirectActiononTask",4,"ngIf"],[3,"redirectOnCancelonsubTask","CompanyIdforReport","redirectActiononsubTask",4,"ngIf"],[3,"redirectOnCancelonInventory","CompanyIdforReport","InputInventoryId","redirectActiononInventory",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"text-center","mb-3","LeftLi"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"text-center","mb-2","float-right"],[1,"btn","btn-link",3,"click"],[4,"ngIf"],[1,"invalid-feedback"],[3,"hidden"],[1,"form-text","text-muted"],["href","javascript:void(0);",1,"addLeg",3,"click"],["for","Inventory"],["name","Inventory","bindLabel","InvN","placeholder","Select Inventory",3,"virtualScroll","items","ngClass","ngModel","loading","scrollToEnd","change","ngModelChange"],["Inv","","Inventory","ngModel"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Inv","placement","bottom",1,"pl-1",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["for","Unit"],["name","Unit","bindLabel","UN","placeholder","Select Unit",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",3,"appRole","SignupId","UserId","click"],["for","TaxGroup"],["selectOnTab","true","name","TaxGroup","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",3,"multiple","items","ngModel","loading","ngClass","virtualScroll","ngModelChange"],["taxled","","TaxGroup","ngModel"],["for","length"],["type","number","maxlength","10","placeholder","Enter length","name","length","id","length",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["length","ngModel"],["for","Height"],["type","number","maxlength","10","placeholder","Enter Height","name","Height","id","Height",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Height","ngModel"],["for","Width"],["type","number","maxlength","10","placeholder","Enter width","name","Width","id","Width",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Width","ngModel"],["for","Rate"],["type","number","pattern","^[0-9]\\d*(\\.\\d+)?$","maxlength","10","placeholder","Enter Rate / Unit","name","Rate","id","Rate",1,"form-control",3,"ngClass","ngModel","change","ngModelChange"],["Rate","ngModel"],["for","Quantity"],["type","number","pattern","^[0-9]\\d*(\\.\\d+)?$","maxlength","10","placeholder","Enter Quantity","name","Quantity","id","Quantity",1,"form-control",3,"ngClass","ngModel","change","ngModelChange"],["Quantity","ngModel"],["for","TotAmount"],["type","number","pattern","^[0-9]\\d*(\\.\\d+)?$","placeholder","Enter Total Amount","maxlength","10","name","TotAmount","id","TotAmount",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["TotAmount","ngModel"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Invs","placement","bottom",1,"pl-1",3,"appRole","SignupId","UserId","click"],[1,"md-form"],["required","","bindLabel","InvN","bindValue","UIDN","placeholder","Select Inventory",3,"virtualScroll","items","name","id","ngClass","ngModel","loading","scrollToEnd","ngModelChange"],["Invs","","Inventorys","ngModel"],["bindLabel","UN","bindValue","UIDN","placeholder","Select Unit",3,"virtualScroll","items","name","id","ngModel","loading","scrollToEnd","ngModelChange"],["InvUnts","ngModel"],["selectOnTab","true","dropdownPosition","bottom","bindLabel","LN","bindValue","UIDN","placeholder","Select Tax Account",3,"multiple","items","name","id","ngModel","loading","ngClass","virtualScroll","ngModelChange"],["taxled","","TaxGroupsss","ngModel"],["type","text",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange","input"],["VClnInQty","ngModel"],["VClnInRt","ngModel"],["type","text",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange"],["VClnInAmt","ngModel"],["VClnInLen","ngModel"],["VClnInWid","ngModel"],["VClnInHei","ngModel"],["scope","row",1,"text-center",2,"background","white"],["href","javascript:void(0)","title","Delete Item","placement","bottom",2,"text-decoration","none",3,"click"],[1,"fas","fa-trash","text-danger","mr-1"],["id","formbtnContainer",1,"col-sm-12","text-right"],["type","submit",1,"btn","btn-primary","mr-2",3,"disabled"],["href","javascript:void(0)",1,"btn","btn-dark",3,"click"],[3,"redirectOnCancel","CompanyIdforReport","inputLedgerId","redirectAction"],[3,"redirectOnCancelonTask","CompanyIdforReport","redirectActiononTask"],[3,"redirectOnCancelonsubTask","CompanyIdforReport","redirectActiononsubTask"],[3,"redirectOnCancelonInventory","CompanyIdforReport","InputInventoryId","redirectActiononInventory"]],template:function(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,$,10,0,"div",2),o.YNc(3,z,13,2,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"form",5,6),o.NdJ("ngSubmit",function(){return o.CHM(n),o.MAs(6).form.valid&&t.onSubmit()}),o.TgZ(7,"div",7),o.TgZ(8,"div",8),o.TgZ(9,"label",9),o._uU(10,"Challan No."),o.TgZ(11,"span",10),o._uU(12,"*"),o.qZA(),o.qZA(),o.TgZ(13,"input",11,12),o.NdJ("ngModelChange",function(e){return t.challanService.singleresult.CN=e}),o.qZA(),o.YNc(15,X,4,2,"div",13),o.qZA(),o.TgZ(16,"div",8),o.TgZ(17,"label",14),o._uU(18,"Challan Sr. No."),o.qZA(),o.TgZ(19,"input",15,16),o.NdJ("ngModelChange",function(e){return t.challanService.singleresult.SrNo=e}),o.qZA(),o.YNc(21,te,4,2,"div",13),o.qZA(),o.TgZ(22,"div",8),o.TgZ(23,"label",17),o._uU(24,"Challan Date"),o.qZA(),o.TgZ(25,"input",18,19),o.NdJ("selected",function(e){return t.onChallandateSelect(e)}),o.qZA(),o.YNc(27,ie,2,1,"div",13),o.qZA(),o.TgZ(28,"div",8),o.TgZ(29,"label",20),o._uU(30,"Task"),o.qZA(),o.TgZ(31,"ng-select",21,22),o.NdJ("scrollToEnd",function(){return t.taskService.ScrollDown()})("ngModelChange",function(e){return t.taskService.singleresult=e}),o.YNc(33,re,3,0,"ng-template",23),o.qZA(),o.qZA(),o.TgZ(34,"div",8),o.TgZ(35,"label",24),o._uU(36,"Sub Task"),o.qZA(),o.TgZ(37,"ng-select",25,26),o.NdJ("scrollToEnd",function(){return t.subtaskService.ScrollDown()})("ngModelChange",function(e){return t.subtaskService.singleresult=e}),o.YNc(39,oe,3,0,"ng-template",23),o.qZA(),o.qZA(),o.YNc(40,ge,10,8,"div",27),o.TgZ(41,"div",8),o.TgZ(42,"label",28),o._uU(43,"Site"),o.qZA(),o.TgZ(44,"ng-select",29),o.NdJ("scrollToEnd",function(){return t.siteService.ScrollDown()})("ngModelChange",function(e){return t.siteService.singleresult=e}),o.YNc(45,he,2,2,"ng-template",23),o.qZA(),o.qZA(),o.YNc(46,fe,5,4,"div",27),o.TgZ(47,"div",8),o.TgZ(48,"label",30),o._uU(49,"Ledger"),o.TgZ(50,"span",10),o._uU(51,"*"),o.qZA(),o.qZA(),o.TgZ(52,"ng-select",31,32),o.NdJ("ngModelChange",function(e){return t.ledgerService.singleresult=e}),o.YNc(55,ve,3,0,"ng-template",23),o.YNc(56,me,1,1,"ng-template",33),o.YNc(57,Te,4,3,"ng-template",34),o.qZA(),o.YNc(58,Ze,2,1,"div",13),o.qZA(),o.YNc(59,Ae,6,8,"div",27),o.YNc(60,ye,6,5,"div",27),o.YNc(61,De,6,5,"div",27),o.YNc(62,be,6,5,"div",27),o.YNc(63,Me,6,5,"div",27),o.YNc(64,Ve,6,5,"div",27),o.YNc(65,Re,6,5,"div",27),o.TgZ(66,"div",8),o.TgZ(67,"label",35),o._uU(68,"Vehicle No"),o.qZA(),o.TgZ(69,"input",36,37),o.NdJ("ngModelChange",function(e){return t.challanService.singleresult.VN=e}),o.qZA(),o.YNc(71,Je,2,1,"div",13),o.qZA(),o.TgZ(72,"div",8),o.TgZ(73,"label",38),o._uU(74,"Narration"),o.qZA(),o.TgZ(75,"textarea",39),o.NdJ("ngModelChange",function(e){return t.challanService.singleresult.Narr=e}),o.qZA(),o.qZA(),o.TgZ(76,"div",40),o.TgZ(77,"form",41,42),o.NdJ("ngSubmit",function(e){return o.CHM(n),o.MAs(78).form.valid&&t.addInventoryItem(e)}),o.TgZ(79,"div",43),o.TgZ(80,"div",44),o.TgZ(81,"label",45),o._uU(82,"Select Item:"),o.qZA(),o.TgZ(83,"ng-select",46,47),o.NdJ("scrollToEnd",function(){return t.inventoryService.ScrollDown()})("ngModelChange",function(e){return t.challanInventoriesFields.InvId=e}),o.YNc(86,Pe,3,0,"ng-template",23),o.YNc(87,Oe,1,1,"ng-template",33),o.YNc(88,Qe,4,3,"ng-template",34),o.qZA(),o.qZA(),o.TgZ(89,"div",44),o.TgZ(90,"label",48),o._uU(91,"Select Unit:"),o.qZA(),o.TgZ(92,"ng-select",49,50),o.NdJ("scrollToEnd",function(){return t.unitService.ScrollDown()})("ngModelChange",function(e){return t.challanInventoriesFields.UntId=e}),o.YNc(94,Fe,2,2,"ng-template",23),o.qZA(),o.qZA(),o.TgZ(95,"div",44),o.TgZ(96,"label",45),o._uU(97,"Select Tax:"),o.qZA(),o.TgZ(98,"ng-select",51,52),o.NdJ("ngModelChange",function(e){return t.taxLedgerOfInv=e}),o.qZA(),o.qZA(),o.TgZ(101,"div",53),o.TgZ(102,"label",54),o._uU(103,"Enter Quantity:"),o.qZA(),o.TgZ(104,"input",55,56),o.NdJ("change",function(){return t.calculateTotalAmount()})("ngModelChange",function(e){return t.challanInventoriesFields.InvQty=e}),o.qZA(),o.qZA(),o.TgZ(106,"div",53),o.TgZ(107,"label",57),o._uU(108,"Enter Rate:"),o.qZA(),o.TgZ(109,"input",58,59),o.NdJ("change",function(){return t.calculateTotalAmount()})("ngModelChange",function(e){return t.challanInventoriesFields.InvRt=e}),o.qZA(),o.qZA(),o.TgZ(111,"div",53),o.TgZ(112,"label",60),o._uU(113,"Enter Amount:"),o.qZA(),o.TgZ(114,"input",61,62),o.NdJ("ngModelChange",function(e){return t.challanInventoriesFields.TtlAmt=e}),o.qZA(),o.qZA(),o.TgZ(116,"div",53),o.TgZ(117,"label",60),o._uU(118,"Enter Length:"),o.qZA(),o.TgZ(119,"input",63,64),o.NdJ("ngModelChange",function(e){return t.challanInventoriesFields.InvLen=e}),o.qZA(),o.qZA(),o.TgZ(121,"div",53),o.TgZ(122,"label",60),o._uU(123,"Enter Width:"),o.qZA(),o.TgZ(124,"input",65,66),o.NdJ("ngModelChange",function(e){return t.challanInventoriesFields.InvWid=e}),o.qZA(),o.qZA(),o.TgZ(126,"div",53),o.TgZ(127,"label",60),o._uU(128,"Enter Height:"),o.qZA(),o.TgZ(129,"input",67,68),o.NdJ("ngModelChange",function(e){return t.challanInventoriesFields.InvHei=e}),o.qZA(),o.qZA(),o.TgZ(131,"div",69),o.TgZ(132,"button",70),o._uU(133," Add More Inventory "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(134,"div",71),o.TgZ(135,"table",72),o.TgZ(136,"thead"),o.TgZ(137,"tr"),o.TgZ(138,"th",73),o._uU(139," INVENTORY LIST "),o.qZA(),o.qZA(),o.TgZ(140,"tr"),o.TgZ(141,"th",74),o._uU(142,"Select Item"),o.qZA(),o.TgZ(143,"th",74),o._uU(144,"Select Unit"),o.qZA(),o.TgZ(145,"th",74),o._uU(146,"Select Tax Ledger"),o.qZA(),o.TgZ(147,"th",75),o._uU(148,"Actual QTY"),o.qZA(),o.TgZ(149,"th",75),o._uU(150,"Rate"),o.qZA(),o.TgZ(151,"th",74),o._uU(152," Amount "),o.qZA(),o.TgZ(153,"th",74),o._uU(154," Length "),o.qZA(),o.TgZ(155,"th",74),o._uU(156," Width "),o.qZA(),o.TgZ(157,"th",74),o._uU(158," Height "),o.qZA(),o.TgZ(159,"th",74),o._uU(160,"Action"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(161,"tbody"),o.YNc(162,Be,44,61,"tr",76),o.qZA(),o.qZA(),o.qZA(),o.TgZ(163,"div",77),o.TgZ(164,"strong",78),o._uU(165,"Image"),o.qZA(),o.TgZ(166,"div",79),o.TgZ(167,"app-file-upload",80,81),o.NdJ("uploadStatus",function(e){return t.onImageAdd(e)}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(169,Ke,6,3,"div",82),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(170,ze,1,3,"app-companyledger-addedit",83),o.YNc(171,We,1,2,"app-task-addedit",84),o.YNc(172,Xe,1,2,"app-sub-task-addedit",85),o.YNc(173,et,1,3,"app-inventory-addedit",86)}if(2&e){var i=o.MAs(6),r=o.MAs(14),a=o.MAs(20),l=o.MAs(26),s=o.MAs(53),c=o.MAs(70),u=o.MAs(78),d=o.MAs(85),g=o.MAs(100),h=o.MAs(105),p=o.MAs(110),f=o.MAs(115);o.xp6(1),o.Udp("display",t.isInventorypopupopen||t.issubtaskpopupopen||t.istaskpopupopen||t.isLedgerpopupopen?"none":"block"),o.Q6J("hidden",!t.isList),o.xp6(1),o.Q6J("ngIf",!t.challanService.IsMobileview),o.xp6(1),o.Q6J("ngIf",t.challanService.IsMobileview),o.xp6(10),o.Q6J("ngClass",o.VKq(78,de,i.submitted&&r.invalid))("ngModel",t.challanService.singleresult.CN),o.xp6(2),o.Q6J("ngIf",i.submitted&&r.invalid),o.xp6(4),o.Q6J("ngClass",o.VKq(80,de,i.submitted&&a.invalid))("ngModel",t.challanService.singleresult.SrNo),o.xp6(2),o.Q6J("ngIf",i.submitted&&a.invalid),o.xp6(4),o.Q6J("ngClass",o.VKq(82,de,i.submitted&&l.invalid))("startDate",t.challanService.singleresult.MtD),o.xp6(2),o.Q6J("ngIf",i.submitted&&l.invalid),o.xp6(4),o.Q6J("virtualScroll",!0)("items",t.taskService.result)("ngModel",t.taskService.singleresult)("loading",t.taskService.loading),o.xp6(6),o.Q6J("virtualScroll",!0)("items",t.subtaskService.result)("ngModel",t.subtaskService.singleresult)("loading",t.subtaskService.loading),o.xp6(3),o.Q6J("ngIf",t.challanService.singleresult.LI>0),o.xp6(4),o.Q6J("virtualScroll",!0)("items",t.siteService.result)("ngModel",t.siteService.singleresult)("loading",t.siteService.loading),o.xp6(2),o.Q6J("ngIf",t.challanService.singleresult.UI>0),o.xp6(6),o.Q6J("virtualScroll",!0)("ngClass",o.VKq(84,de,i.submitted&&s.invalid))("items",t.ChallanLedger)("ngModel",t.ledgerService.singleresult)("loading",t.ledgerService.loading),o.xp6(6),o.Q6J("ngIf",i.submitted&&s.invalid),o.xp6(1),o.Q6J("ngIf",t.taxLedger.length>0),o.xp6(1),o.Q6J("ngIf",t.challanService.singleresult.ln>0),o.xp6(1),o.Q6J("ngIf",t.challanService.singleresult.Ht>0),o.xp6(1),o.Q6J("ngIf",t.challanService.singleresult.Wh>0),o.xp6(1),o.Q6J("ngIf",t.challanService.singleresult.UA>0),o.xp6(1),o.Q6J("ngIf",t.challanService.singleresult.Qty>0),o.xp6(1),o.Q6J("ngIf",t.challanService.singleresult.TA>0),o.xp6(4),o.Q6J("ngModel",t.challanService.singleresult.VN),o.xp6(2),o.Q6J("ngIf",i.submitted&&c.invalid),o.xp6(4),o.Q6J("ngModel",t.challanService.singleresult.Narr),o.xp6(8),o.Q6J("virtualScroll",!0)("items",t.inventoryService.result)("ngClass",o.VKq(86,de,u.submitted&&d.invalid))("ngModel",t.challanInventoriesFields.InvId)("loading",t.inventoryService.loading),o.xp6(9),o.Q6J("virtualScroll",!0)("items",t.unitService.result)("ngModel",t.challanInventoriesFields.UntId)("loading",t.unitService.loading),o.xp6(6),o.Q6J("multiple",!0)("items",t.TaxLedgers)("ngModel",t.taxLedgerOfInv)("loading",t.ledgerService.loading)("ngClass",o.VKq(88,de,i.submitted&&g.invalid))("virtualScroll",!0),o.xp6(6),o.Q6J("ngClass",o.VKq(90,de,u.submitted&&h.invalid))("ngModel",t.challanInventoriesFields.InvQty),o.xp6(5),o.Q6J("ngClass",o.VKq(92,de,u.submitted&&p.invalid))("ngModel",t.challanInventoriesFields.InvRt),o.xp6(5),o.Q6J("ngClass",o.VKq(94,de,u.submitted&&f.invalid))("ngModel",t.challanInventoriesFields.TtlAmt),o.xp6(5),o.Q6J("ngClass",o.VKq(96,de,u.submitted&&f.invalid))("ngModel",t.challanInventoriesFields.InvLen),o.xp6(5),o.Q6J("ngClass",o.VKq(98,de,u.submitted&&f.invalid))("ngModel",t.challanInventoriesFields.InvWid),o.xp6(5),o.Q6J("ngClass",o.VKq(100,de,u.submitted&&f.invalid))("ngModel",t.challanInventoriesFields.InvHei),o.xp6(33),o.Q6J("ngForOf",t.challanInventories),o.xp6(5),o.Q6J("filelist",t.challanService.singleresult.UpI),o.xp6(2),o.Q6J("ngIf",!t.challanService.isMobile),o.xp6(1),o.Q6J("ngIf",t.isLedgerpopupopen),o.xp6(1),o.Q6J("ngIf",t.istaskpopupopen),o.xp6(1),o.Q6J("ngIf",t.issubtaskpopupopen),o.xp6(1),o.Q6J("ngIf",t.isInventorypopupopen)}},directives:[N.O5,w._Y,w.JL,w.F,M.u,w.Fj,w.c5,w.Q7,N.mk,w.JJ,w.On,q.x,L.q,V.w9,V.A3,V.bb,V.Z2,w.wV,N.sg,_.Y,U.gu,R.g,w.nD,k.k,J.n,P.A,O.q],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:0}"]}),tt)},42005:function(e,t,n){n.d(t,{e:function(){return m}});var r,o=n(32364),a=n(78446),u=n(33018),g=n(91841),p=n(89401),f=n(86845),v=n(44667),m=((r=function(e){c(n,e);var t=d(n);function n(e,i,r,o,a){var l;return s(this,n),(l=t.call(this,e,i,r,o,a))._config=i,l.router=a,l}return l(n,[{key:"GetAlldata",value:function(){i(h(n.prototype),"GetAlldata",this).call(this,o.fO.Challan_GetAll)}},{key:"GetAllLedgerChallans",value:function(){i(h(n.prototype),"GetAlldata",this).call(this,o.fO.Challan_GetAllOutStanding)}},{key:"getById",value:function(e){return i(h(n.prototype),"getById",this).call(this,e,o.fO.Challan_GetById)}},{key:"edit",value:function(e){return this.showMessage=!0,i(h(n.prototype),"edit",this).call(this,e,o.fO.Challan_Update)}},{key:"add",value:function(e){return this.showMessage=!0,i(h(n.prototype),"add",this).call(this,e,o.fO.Challan_Add)}},{key:"delete",value:function(e){this.showMessage=!0,i(h(n.prototype),"delete",this).call(this,e,o.fO.Challan_Delete)}},{key:"buldupdate",value:function(e){return this.showMessage=!1,this.changeInquirySite(0,e,"",o.fO.Challan_BulkUpdate)}},{key:"ImportExcel",value:function(e){return i(h(n.prototype),"genericPost",this).call(this,e,o.fO.Challan_ImportBySheet)}},{key:"ImportDatafromGrid",value:function(e){return i(h(n.prototype),"changeInquirySite",this).call(this,0,e,"",o.fO.Challan_ImportDatafromGrid)}}]),n}(a.a)).\u0275fac=function(e){return new(e||r)(u.LFG(g.eN),u.LFG(o.De),u.LFG(p.Rq),u.LFG(f.D),u.LFG(v.F0))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)}}])}();