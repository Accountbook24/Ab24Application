!function(){"use strict";function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return t};var t={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new w(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return b()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var l=x(a,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=s;var u={};function g(){}function h(){}function p(){}var f={};c(f,o,function(){return this});var m=Object.getPrototypeOf,Z=m&&m(m(y([])));Z&&Z!==n&&r.call(Z,o)&&(f=Z);var v=p.prototype=g.prototype=Object.create(f);function T(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function A(e,t){function n(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,a,l)},function(e){n("throw",e,a,l)}):t.resolve(u).then(function(e){s.value=e,a(s)},function(e){return n("throw",e,a,l)})}l(c.arg)}var i;this._invoke=function(e,r){function o(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(o,o):o()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function y(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:b}}function b(){return{value:void 0,done:!0}}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},T(A.prototype),c(A.prototype,a,function(){return this}),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},T(v),c(v,l,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=y,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:y(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccoubtbook=self.webpackChunkaccoubtbook||[]).push([[5393],{65393:function(n,i,o){o.r(i),o.d(i,{TransactionsModule:function(){return ei}});var a=o(38583),l=o(64762),c=o(78980),s=o(42005),d=o(58679),u=o(84659),g=o(18454),h=o(66203),p=o(34450),f=o(18374),m=o(75075),Z=o(39478),v=o(84306),T=o(27541),A=o(32364),x=o(24498),I=o(82316),L=o(3428),w=o(33018),y=o(89525),b=o(92859),C=o(44667),q=o(12868),S=o(89401),M=o(37919),N=o(91113),D=o(25575),_=o(48429),U=o(43647),k=o(3679),J=o(6642),V=o(66496),R=o(85895),E=o(10743),Q=o(87520),F=o(21974),H=o(65452),O=o(82929),P=o(3001),G=o(53321),B=o(44633),Y=o(14868),j=["toled"],K=["ChallanModal"],z=["BillModal"],W=["BillModalMobile"],X=["SearchModal"],ee=["purled"],te=["taxLedger"],ne=["LedgerHistoryModal"],re=["fbill"],ie=["ionInfinitescroll"],oe=["ionvscroll"],ae=["ImageModal"],le=["myInqImportedDataViewModal"];function ce(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"a"),w._uU(1),w.qZA(),w.TgZ(2,"a",126),w.TgZ(3,"i",127),w.NdJ("click",function(){var e=w.CHM(n).item;return w.oxw(2).OpenLedgerHistoryPopUp(e.UIDN)}),w.qZA(),w.qZA()}if(2&e){var r=t.item;w.xp6(1),w.Oqu(r.LN)}}function se(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw(2);w.xp6(1),w.AsE(" Loaded ",n.siteService.result.length," of ",n.siteService.totalItems," ")}}function de(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw(2);w.xp6(1),w.AsE(" Loaded ",n.inventoryService.result.length," of ",n.inventoryService.totalItems," ")}}function ue(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw(2);w.xp6(1),w.AsE(" Loaded ",n.taskService.result.length," of ",n.taskService.totalItems," ")}}function ge(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw(2);w.xp6(1),w.AsE(" Loaded ",n.subtaskService.result.length," of ",n.subtaskService.totalItems," ")}}function he(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",102),w.TgZ(1,"ul",103),w.TgZ(2,"li",104),w.TgZ(3,"button",105),w.NdJ("click",function(){return w.CHM(n),w.oxw().goback()}),w._UZ(4,"i",106),w.qZA(),w.qZA(),w.TgZ(5,"li",107),w.TgZ(6,"ng-select",108,109),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().searchLedger=e}),w.YNc(8,ce,4,1,"ng-template",59),w.qZA(),w.qZA(),w.TgZ(9,"li",110),w.TgZ(10,"button",111),w.NdJ("click",function(){return w.CHM(n),w.oxw().FilterData()}),w._UZ(11,"span",112),w.TgZ(12,"span",113),w._uU(13,"Search"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(14,"li",107),w.TgZ(15,"div",114),w.NdJ("isOpenChange",function(e){return w.CHM(n),w.oxw().change(e)}),w.TgZ(16,"button",115),w._UZ(17,"span",116),w.TgZ(18,"span",113),w._uU(19,"Filter"),w.qZA(),w.qZA(),w.TgZ(20,"div",117),w.NdJ("click",function(e){return e.stopPropagation()}),w.TgZ(21,"form",45,118),w.NdJ("ngSubmit",function(){return w.CHM(n),w.oxw().FilterData()}),w.TgZ(23,"div",119),w.TgZ(24,"div",120),w.TgZ(25,"label",55),w._uU(26,"Site"),w.qZA(),w.TgZ(27,"ng-select",60),w.NdJ("scrollToEnd",function(){return w.CHM(n),w.oxw().siteService.ScrollDown()})("ngModelChange",function(e){return w.CHM(n),w.oxw().siteService.singleresult=e}),w.YNc(28,se,2,2,"ng-template",58),w.qZA(),w.qZA(),w.TgZ(29,"div",120),w.TgZ(30,"label",61),w._uU(31,"Inventory"),w.qZA(),w.TgZ(32,"ng-select",62),w.NdJ("scrollToEnd",function(){return w.CHM(n),w.oxw().inventoryService.ScrollDown()})("ngModelChange",function(e){return w.CHM(n),w.oxw().inventoryService.singleresult=e}),w.YNc(33,de,2,2,"ng-template",58),w.qZA(),w.qZA(),w.TgZ(34,"div",120),w.TgZ(35,"label",63),w._uU(36,"Task"),w.qZA(),w.TgZ(37,"ng-select",64),w.NdJ("scrollToEnd",function(){return w.CHM(n),w.oxw().taskService.ScrollDown()})("ngModelChange",function(e){return w.CHM(n),w.oxw().taskService.singleresult=e}),w.YNc(38,ue,2,2,"ng-template",58),w.qZA(),w.qZA(),w.TgZ(39,"div",120),w.TgZ(40,"label",65),w._uU(41,"Sub Task"),w.qZA(),w.TgZ(42,"ng-select",66),w.NdJ("scrollToEnd",function(){return w.CHM(n),w.oxw().subtaskService.ScrollDown()})("ngModelChange",function(e){return w.CHM(n),w.oxw().subtaskService.singleresult=e}),w.YNc(43,ge,2,2,"ng-template",58),w.qZA(),w.qZA(),w.TgZ(44,"div",121),w.TgZ(45,"label",67),w._uU(46,"Challan No"),w.qZA(),w.TgZ(47,"input",68,69),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().challanfilterNo=e}),w.qZA(),w.qZA(),w.qZA(),w.TgZ(49,"div",122),w.TgZ(50,"button",123),w.NdJ("click",function(e){w.CHM(n);var t=w.oxw();return t.clearfilterandloadnewdata(),t.toggleDropdown(e)}),w._uU(51," Clear Filter "),w.qZA(),w.TgZ(52,"button",124),w.NdJ("click",function(e){return w.CHM(n),w.oxw().toggleDropdown(e)}),w._UZ(53,"i",125),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(6),w.Q6J("virtualScroll",!0)("items",r.ChallanLedger)("ngModel",r.searchLedger)("loading",r.ledgerService.loading),w.xp6(9),w.Q6J("isOpen",r.status.isOpen),w.xp6(5),w.ekj("show",r.status.isOpen),w.xp6(7),w.Q6J("virtualScroll",!0)("items",r.siteService.result)("ngModel",r.siteService.singleresult)("loading",r.siteService.loading),w.xp6(5),w.Q6J("virtualScroll",!0)("items",r.inventoryService.result)("ngModel",r.inventoryService.singleresult)("loading",r.inventoryService.loading),w.xp6(5),w.Q6J("virtualScroll",!0)("items",r.taskService.result)("ngModel",r.taskService.singleresult)("loading",r.taskService.loading),w.xp6(5),w.Q6J("virtualScroll",!0)("items",r.subtaskService.result)("ngModel",r.subtaskService.singleresult)("loading",r.subtaskService.loading),w.xp6(5),w.Q6J("ngModel",r.challanfilterNo)}}function pe(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",129),w.TgZ(1,"ul",103),w.TgZ(2,"li",130),w.TgZ(3,"ion-icon",131),w.NdJ("click",function(){return w.CHM(n),w.oxw().goback()}),w.qZA(),w.qZA(),w.TgZ(4,"li",130),w.TgZ(5,"ion-icon",132),w.NdJ("click",function(){return w.CHM(n),w.oxw().advSearchM()}),w.qZA(),w.qZA(),w.TgZ(6,"li",133),w.TgZ(7,"div",134),w.TgZ(8,"strong"),w._uU(9,"Challan List"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(10,"li",135),w.TgZ(11,"ion-icon",136),w.NdJ("click",function(e){return w.CHM(n),w.oxw().sortPopover(e)}),w.qZA(),w.qZA(),w.qZA(),w.qZA()}}function fe(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",142),w.TgZ(1,"div",143),w.TgZ(2,"div",144),w.TgZ(3,"strong"),w._uU(4,"Challan List"),w.qZA(),w.qZA(),w.TgZ(5,"div",145),w.TgZ(6,"label",146),w.TgZ(7,"input",52),w.NdJ("change",function(){return w.CHM(n),w.oxw(2).FilterData()})("ngModelChange",function(e){return w.CHM(n),w.oxw(2).isChallanPending=e}),w.qZA(),w._UZ(8,"span",53),w.qZA(),w.TgZ(9,"span",147),w._uU(10,"Pending Challan"),w.qZA(),w.qZA(),w.TgZ(11,"div",148),w.TgZ(12,"div",149),w._uU(13),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(7),w.Q6J("ngModel",r.isChallanPending),w.xp6(6),w.Oqu(r.challanService.currentShowing)}}function me(e,t){if(1&e&&(w.TgZ(0,"span",181),w._uU(1),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(1),w.hij("voucher no :",n.ChlnVNo,"")}}function Ze(e,t){if(1&e&&(w.TgZ(0,"span",181),w._uU(1),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(1),w.hij("amount : ",n.VAmount,"")}}function ve(e,t){if(1&e&&(w.TgZ(0,"a",183),w.NdJ("click",function(e){return e.stopPropagation()}),w._uU(1),w.qZA()),2&e){var n=t.index;w.s9C("href",t.$implicit.src,w.LSH),w.xp6(1),w.hij("Challan-",n+1," ")}}function Te(e,t){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,ve,2,2,"a",182),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(1),w.Q6J("ngForOf",n.UpI)}}function Ae(e,t){1&e&&(w.TgZ(0,"span",184),w._uU(1,"Billed"),w.qZA())}function xe(e,t){1&e&&(w.TgZ(0,"span",185),w._uU(1,"Bill Pending"),w.qZA())}function Ie(e,t){if(1&e&&(w.TgZ(0,"tr"),w.TgZ(1,"td"),w._uU(2),w.qZA(),w.TgZ(3,"td"),w._uU(4),w.qZA(),w.TgZ(5,"td"),w._uU(6),w.qZA(),w.TgZ(7,"td"),w._uU(8),w.qZA(),w.TgZ(9,"td"),w._uU(10),w.qZA(),w.TgZ(11,"td"),w._uU(12),w.qZA(),w.TgZ(13,"td"),w._uU(14),w.ALo(15,"indianCurrency"),w.qZA(),w.qZA()),2&e){var n=t.$implicit;w.xp6(2),w.Oqu(n.InvNm),w.xp6(2),w.Oqu(n.InvHei),w.xp6(2),w.Oqu(n.InvWid),w.xp6(2),w.Oqu(n.InvLen),w.xp6(2),w.Oqu(n.InvQty),w.xp6(2),w.Oqu(n.InvRt),w.xp6(2),w.Oqu(w.lcZ(15,7,n.TtlAmt))}}function Le(e,t){if(1&e&&(w.TgZ(0,"table",186),w.TgZ(1,"tr"),w.TgZ(2,"th"),w._uU(3,"Inventory Name"),w.qZA(),w.TgZ(4,"th"),w._uU(5,"Height"),w.qZA(),w.TgZ(6,"th"),w._uU(7,"Width"),w.qZA(),w.TgZ(8,"th"),w._uU(9,"Length"),w.qZA(),w.TgZ(10,"th"),w._uU(11,"QTY"),w.qZA(),w.TgZ(12,"th"),w._uU(13,"Rate"),w.qZA(),w.TgZ(14,"th"),w._uU(15,"Amount"),w.qZA(),w.qZA(),w.YNc(16,Ie,16,9,"tr",187),w.qZA()),2&e){var n=w.oxw(),r=n.index,i=n.$implicit,o=w.oxw(3);w.Q6J("hidden",!o.showNestedTable[r]),w.xp6(16),w.Q6J("ngForOf",i.ChallanInv)}}function we(e,t){if(1&e){var n=w.EpF();w.ynx(0,167),w.TgZ(1,"tr",168),w.NdJ("keydown.enter",function(){var e=w.CHM(n).$implicit;return w.oxw(3).editOnArrowEvent(e.UIDN)})("keydown.arrowdown",function(){var e=w.CHM(n).index;return w.oxw(3).challanService.arrowDownEvent(e+151)})("keydown.arrowup",function(){var e=w.CHM(n).index;return w.oxw(3).challanService.arrowUpEvent(e+149)})("click",function(){var e=w.CHM(n).index;return w.oxw(3).toggleNestedTable(e)}),w.TgZ(2,"td"),w.TgZ(3,"div",152),w.TgZ(4,"input",169),w.NdJ("ngModelChange",function(e){return w.CHM(n).$implicit.Ick=e}),w.qZA(),w._UZ(5,"label",170),w.qZA(),w.qZA(),w.TgZ(6,"td"),w._uU(7),w.qZA(),w.TgZ(8,"td"),w.TgZ(9,"a",171),w.NdJ("clickAllowed",function(){var e=w.CHM(n).$implicit;return w.oxw(3).openChallanpopup(e.UIDN)}),w._uU(10),w.qZA(),w.qZA(),w.TgZ(11,"td"),w._UZ(12,"dateformatter",172),w.qZA(),w.TgZ(13,"td"),w._uU(14),w.qZA(),w.TgZ(15,"td"),w._uU(16),w._UZ(17,"br"),w.TgZ(18,"span",173),w._uU(19),w.qZA(),w.qZA(),w.TgZ(20,"td"),w._uU(21),w.qZA(),w.TgZ(22,"td"),w._uU(23),w.qZA(),w.TgZ(24,"td"),w._uU(25),w._UZ(26,"br"),w.YNc(27,me,2,1,"span",174),w.YNc(28,Ze,2,1,"span",174),w.qZA(),w.TgZ(29,"td"),w.YNc(30,Te,2,1,"div",13),w.qZA(),w.TgZ(31,"td"),w.YNc(32,Ae,2,0,"span",175),w.YNc(33,xe,2,0,"span",176),w.qZA(),w.TgZ(34,"td"),w.TgZ(35,"a",177),w.NdJ("clickAllowed",function(){var e=w.CHM(n).$implicit;return w.oxw(3).challanService.delete(e.UIDN)}),w._UZ(36,"i",178),w.qZA(),w.qZA(),w.qZA(),w.TgZ(37,"tr"),w.TgZ(38,"td",179),w.YNc(39,Le,17,2,"table",180),w.qZA(),w.qZA(),w.BQk()}if(2&e){var r=t.$implicit,i=t.index,o=w.oxw(3);w.ekj("rowselected",r.billSelected),w.xp6(1),w.s9C("tabindex",i+150),w.xp6(3),w.MGl("id","item_",i,""),w.Q6J("checked",r.Ick)("ngModel",r.Ick),w.xp6(1),w.MGl("for","item_",i,""),w.xp6(2),w.hij(" ",r.SrNo," "),w.xp6(2),w.Q6J("SignupId",o.SignupId)("UserId",o.UserId),w.xp6(1),w.hij(" ",r.CN," "),w.xp6(2),w.s9C("dateValue",r.MtD),w.xp6(2),w.Oqu(r.StNm),w.xp6(2),w.hij(" ",r.TNm," "),w.xp6(3),w.hij(" ",r.SbTNm,""),w.xp6(2),w.Oqu(r.LdNm),w.xp6(2),w.Oqu(r.UsrNm),w.xp6(2),w.hij(" ",r.Narr,""),w.xp6(2),w.Q6J("ngIf",null!=r.ChlnVNo),w.xp6(1),w.Q6J("ngIf",null!=r.VAmount),w.xp6(2),w.Q6J("ngIf",null!=r.UpI&&r.UpI.length>0),w.xp6(2),w.Q6J("ngIf",1==r.IsBd),w.xp6(1),w.Q6J("ngIf",0==r.IsBd),w.xp6(2),w.Q6J("SignupId",o.SignupId)("UserId",o.UserId),w.xp6(4),w.Q6J("ngIf",null!=r.ChallanInv&&r.ChallanInv.length>0)}}function ye(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"table",150),w.TgZ(1,"thead",151),w.TgZ(2,"tr"),w.TgZ(3,"th"),w.TgZ(4,"div",152),w.TgZ(5,"input",153),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw(2).selectedAll=e})("change",function(e){return w.CHM(n),w.oxw(2).selectAllchange(e)}),w.qZA(),w._UZ(6,"label",154),w.qZA(),w.qZA(),w.TgZ(7,"th",155),w._uU(8,"Sr No"),w.qZA(),w.TgZ(9,"th",156),w._uU(10,"Challan No"),w.qZA(),w.TgZ(11,"th",157),w._uU(12,"Date"),w.qZA(),w.TgZ(13,"th",158),w._uU(14,"Site"),w.qZA(),w.TgZ(15,"th",159),w._uU(16,"Task/Sub Task"),w.qZA(),w.TgZ(17,"th",160),w._uU(18,"Ledger"),w.qZA(),w.TgZ(19,"th",161),w._uU(20,"User Name"),w.qZA(),w.TgZ(21,"th",162),w._uU(22,"Narration"),w.qZA(),w.TgZ(23,"th"),w._uU(24,"Attachment"),w.qZA(),w.TgZ(25,"th",163),w._uU(26,"Bill Status"),w.qZA(),w.TgZ(27,"th"),w._uU(28,"Action"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(29,"tbody",164,165),w.YNc(31,we,40,26,"ng-container",166),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(5),w.Q6J("checked",r.selectedAll)("ngModel",r.selectedAll),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(4),w.Q6J("dirsort",r.challanService),w.xp6(6),w.Q6J("ngForOf",r.challanService.result)}}function be(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",142),w.TgZ(1,"div",143),w.TgZ(2,"div",144),w.TgZ(3,"strong"),w._uU(4,"Challan List"),w.qZA(),w.qZA(),w.TgZ(5,"div",145),w.TgZ(6,"label",146),w.TgZ(7,"input",52),w.NdJ("change",function(){return w.CHM(n),w.oxw(3).FilterData()})("ngModelChange",function(e){return w.CHM(n),w.oxw(3).isChallanPending=e}),w.qZA(),w._UZ(8,"span",53),w.qZA(),w.TgZ(9,"span",147),w._uU(10,"Pending Challan"),w.qZA(),w.qZA(),w.TgZ(11,"div",148),w.TgZ(12,"div",149),w._uU(13),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(3);w.xp6(7),w.Q6J("ngModel",r.isChallanPending),w.xp6(6),w.Oqu(r.challanService.currentShowing)}}function Ce(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",188),w.YNc(1,be,14,2,"div",138),w.TgZ(2,"table",189),w.TgZ(3,"thead",151),w.TgZ(4,"tr"),w.TgZ(5,"th"),w.TgZ(6,"div",152),w.TgZ(7,"input",153),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw(2).selectedAll=e})("change",function(e){return w.CHM(n),w.oxw(2).selectAllchange(e)}),w.qZA(),w._UZ(8,"label",154),w.qZA(),w.qZA(),w.TgZ(9,"th",155),w._uU(10,"Sr No"),w.qZA(),w.TgZ(11,"th",156),w._uU(12,"Challan No"),w.qZA(),w.TgZ(13,"th",157),w._uU(14,"Date"),w.qZA(),w.TgZ(15,"th",159),w._uU(16,"Task"),w.qZA(),w.TgZ(17,"th",190),w._uU(18,"Inventory"),w.qZA(),w.TgZ(19,"th",160),w._uU(20,"Ledger"),w.qZA(),w.TgZ(21,"th",158),w._uU(22,"Site"),w.qZA(),w.TgZ(23,"th",161),w._uU(24,"User Name"),w.qZA(),w.TgZ(25,"th",191),w._uU(26,"Quantity"),w.qZA(),w.TgZ(27,"th",192),w._uU(28,"Rate/ Unit"),w.qZA(),w.TgZ(29,"th",193),w._uU(30,"Total Amount"),w.qZA(),w.TgZ(31,"th",162),w._uU(32,"Narration"),w.qZA(),w.TgZ(33,"th"),w._uU(34,"challan copy"),w.qZA(),w.TgZ(35,"th",163),w._uU(36,"Bill Status"),w.qZA(),w.TgZ(37,"th"),w._uU(38,"Action"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(1),w.Q6J("ngIf",0==(r.challanService.isMobile||r.challanService.IsMobileview)),w.xp6(6),w.Q6J("checked",r.selectedAll)("ngModel",r.selectedAll),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(2),w.Q6J("dirsort",r.challanService),w.xp6(4),w.Q6J("dirsort",r.challanService)}}function qe(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",137),w.YNc(1,fe,14,2,"div",138),w.TgZ(2,"div",139),w.NdJ("scrolled",function(e){return w.CHM(n),w.oxw().onChallanScroll(e)}),w.YNc(3,ye,32,12,"table",140),w.qZA(),w.YNc(4,Ce,39,16,"div",141),w.qZA()}if(2&e){var r=w.oxw();w.xp6(1),w.Q6J("ngIf",0==(r.challanService.isMobile||r.challanService.IsMobileview)),w.xp6(1),w.Q6J("scrollWindow",!0),w.xp6(1),w.Q6J("ngIf",r.challanService.result.length>0),w.xp6(1),w.Q6J("ngIf",r.challanService.result.length>0)}}function Se(e,t){if(1&e&&(w.TgZ(0,"ion-col",214),w.TgZ(1,"div",181),w._uU(2," Sr no:"),w.qZA(),w._uU(3),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(3),w.hij(" ",n.SrNo," ")}}function Me(e,t){if(1&e&&(w.TgZ(0,"ion-col",214),w.TgZ(1,"div",181),w._uU(2," Challan No:"),w.qZA(),w._uU(3),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(3),w.hij(" ",n.CN," ")}}function Ne(e,t){if(1&e&&(w.TgZ(0,"ion-col",214),w.TgZ(1,"div",181),w._uU(2," Username:"),w.qZA(),w._uU(3),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(3),w.hij(" ",n.UsrNm," ")}}function De(e,t){if(1&e&&(w.TgZ(0,"ion-col",214),w.TgZ(1,"div",181),w._uU(2," Ledger:"),w.qZA(),w._uU(3),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(3),w.hij(" ",n.LdNm," ")}}function _e(e,t){1&e&&(w.TgZ(0,"span",184),w._uU(1,"Billed"),w.qZA())}function Ue(e,t){1&e&&(w.TgZ(0,"span",185),w._uU(1,"Bill Pending"),w.qZA())}function ke(e,t){if(1&e&&(w.TgZ(0,"ion-col",204),w._uU(1),w.ALo(2,"indianCurrency"),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(1),w.hij(" Amt: ",w.lcZ(2,1,n.TA)," ")}}function Je(e,t){if(1&e&&(w.TgZ(0,"ion-col",214),w.TgZ(1,"div",181),w._uU(2," Site:"),w.qZA(),w._uU(3),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(3),w.hij(" ",n.StNm," ")}}function Ve(e,t){if(1&e&&(w.TgZ(0,"ion-col",214),w.TgZ(1,"div",181),w._uU(2," Narration:"),w.qZA(),w._uU(3),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(3),w.hij(" ",n.Narr," ")}}function Re(e,t){if(1&e&&(w.TgZ(0,"ion-col",215),w.TgZ(1,"div",181),w._uU(2," Task:"),w.qZA(),w._uU(3),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(3),w.hij(" ",n.TNm," ")}}function Ee(e,t){if(1&e&&(w.TgZ(0,"ion-col",216),w.TgZ(1,"div",181),w._uU(2," Inventory:"),w.qZA(),w._uU(3),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(3),w.hij(" ",n.InvNm," ")}}function Qe(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"ion-col",217),w.TgZ(1,"a",218),w.NdJ("click",function(){w.CHM(n);var e=w.oxw().$implicit;return w.oxw(2).generateBillPopupMobile(e.UIDN)}),w._uU(2," Generate Bill "),w.qZA(),w.qZA()}}function Fe(e,t){if(1&e&&(w.TgZ(0,"a",221),w.NdJ("click",function(e){return e.stopPropagation()}),w._uU(1),w.qZA()),2&e){var n=t.index;w.s9C("href",t.$implicit.src,w.LSH),w.xp6(1),w.hij("Challan-",n+1," ")}}function He(e,t){if(1&e&&(w.TgZ(0,"ion-col",219),w.YNc(1,Fe,2,2,"a",220),w._UZ(2,"br"),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(1),w.Q6J("ngForOf",n.UpI)}}function Oe(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"a",222),w.NdJ("clickAllowed",function(){w.CHM(n);var e=w.oxw().$implicit;return w.oxw(2).openChallanpopup(e.UIDN)}),w._UZ(1,"ion-icon",223),w.qZA()}if(2&e){var r=w.oxw(3);w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}var Pe=function(){return[]};function Ge(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"ion-card"),w.TgZ(1,"ion-row"),w.YNc(2,Se,4,1,"ion-col",202),w.YNc(3,Me,4,1,"ion-col",202),w.YNc(4,Ne,4,1,"ion-col",202),w.YNc(5,De,4,1,"ion-col",202),w.TgZ(6,"ion-col",203),w.YNc(7,_e,2,0,"span",175),w.YNc(8,Ue,2,0,"span",176),w.qZA(),w.qZA(),w.TgZ(9,"ion-row"),w.TgZ(10,"ion-col"),w._UZ(11,"dateformatter",172),w.qZA(),w.TgZ(12,"ion-col",204),w._uU(13),w.qZA(),w.TgZ(14,"ion-col",204),w._uU(15),w.qZA(),w.YNc(16,ke,3,3,"ion-col",205),w.qZA(),w.TgZ(17,"ion-row"),w.YNc(18,Je,4,1,"ion-col",202),w.YNc(19,Ve,4,1,"ion-col",202),w.YNc(20,Re,4,1,"ion-col",206),w.qZA(),w.TgZ(21,"ion-row"),w.YNc(22,Ee,4,1,"ion-col",207),w.YNc(23,Qe,3,0,"ion-col",208),w.YNc(24,He,3,1,"ion-col",209),w.TgZ(25,"ion-col",210),w.YNc(26,Oe,2,2,"a",211),w.TgZ(27,"a",212),w.NdJ("clickAllowed",function(){var e=w.CHM(n).$implicit;return w.oxw(2).challanService.delete(e.UIDN)}),w._UZ(28,"ion-icon",213),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=t.$implicit,i=w.oxw(2);w.xp6(2),w.Q6J("ngIf",null!=r.SrNo),w.xp6(1),w.Q6J("ngIf",null!=r.CN),w.xp6(1),w.Q6J("ngIf",null!=r.UsrNm),w.xp6(1),w.Q6J("ngIf",null!=r.LdNm),w.xp6(2),w.Q6J("ngIf",1==r.IsBd),w.xp6(1),w.Q6J("ngIf",0==r.IsBd),w.xp6(3),w.s9C("dateValue",r.MtD),w.xp6(2),w.hij(" QTY: ",r.Qty," "),w.xp6(2),w.hij(" Rate: ",r.UA," "),w.xp6(1),w.Q6J("ngIf",null!=r.TA),w.xp6(2),w.Q6J("ngIf",null!=r.StNm),w.xp6(1),w.Q6J("ngIf",null!=r.Narr),w.xp6(1),w.Q6J("ngIf",null!=r.TNm),w.xp6(2),w.Q6J("ngIf",null!=r.InvNm),w.xp6(1),w.Q6J("ngIf",0==r.IsBd),w.xp6(1),w.Q6J("ngIf",r.UpI!=w.DdM(19,Pe)),w.xp6(2),w.Q6J("ngIf",!r.IsBd),w.xp6(1),w.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function $e(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",164),w.TgZ(1,"ion-content"),w.TgZ(2,"ion-refresher",194),w.NdJ("ionRefresh",function(e){return w.CHM(n),w.oxw().doRefresh(e)}),w._UZ(3,"ion-refresher-content",195),w.qZA(),w.TgZ(4,"ion-virtual-scroll",196,197),w.YNc(6,Ge,29,20,"ion-card",198),w.qZA(),w.TgZ(7,"ion-infinite-scroll",199,200),w.NdJ("ionInfinite",function(e){return w.CHM(n),w.oxw().onChallanScroll(e)}),w._UZ(9,"ion-infinite-scroll-content",201),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.Udp("height",r.challanService.mobileContainer),w.xp6(4),w.Q6J("items",r.challanService.result),w.xp6(5),w.s9C("loadingText",r.challanService.nextloading)}}function Be(e,t){1&e&&(w.TgZ(0,"ion-card",225),w.TgZ(1,"ion-row"),w.TgZ(2,"ion-col"),w._UZ(3,"ion-skeleton-text",226),w.qZA(),w.TgZ(4,"ion-col",227),w._UZ(5,"ion-skeleton-text",228),w.qZA(),w.qZA(),w.TgZ(6,"ion-row"),w.TgZ(7,"ion-col"),w._UZ(8,"ion-skeleton-text",229),w.qZA(),w.TgZ(9,"ion-col",227),w._UZ(10,"ion-skeleton-text",230),w.qZA(),w.qZA(),w.TgZ(11,"ion-row"),w.TgZ(12,"ion-col"),w._UZ(13,"ion-skeleton-text",226),w.qZA(),w.TgZ(14,"ion-col",227),w._UZ(15,"ion-skeleton-text",228),w.qZA(),w.qZA(),w.TgZ(16,"ion-row"),w.TgZ(17,"ion-col"),w._UZ(18,"ion-skeleton-text",229),w.qZA(),w.TgZ(19,"ion-col"),w._UZ(20,"ion-skeleton-text",229),w.qZA(),w.TgZ(21,"ion-col"),w._UZ(22,"ion-skeleton-text",231),w.qZA(),w.TgZ(23,"ion-col",227),w._UZ(24,"ion-skeleton-text",232),w.qZA(),w.qZA(),w.qZA())}function Ye(e,t){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,Be,25,0,"ion-card",224),w.qZA()),2&e){var n=w.oxw();w.xp6(1),w.Q6J("ngForOf",n.challanService.noImageRepeat)}}function je(e,t){1&e&&(w.TgZ(0,"tr"),w.TgZ(1,"td",234),w._UZ(2,"ion-skeleton-text",228),w.qZA(),w.TgZ(3,"td"),w._UZ(4,"ion-skeleton-text",226),w.qZA(),w.TgZ(5,"td"),w._UZ(6,"ion-skeleton-text",226),w.qZA(),w.TgZ(7,"td"),w._UZ(8,"ion-skeleton-text",226),w.qZA(),w.TgZ(9,"td"),w._UZ(10,"ion-skeleton-text",226),w.qZA(),w.TgZ(11,"td"),w._UZ(12,"ion-skeleton-text",226),w.qZA(),w.TgZ(13,"td"),w._UZ(14,"ion-skeleton-text",226),w.qZA(),w.TgZ(15,"td"),w._UZ(16,"ion-skeleton-text",226),w.qZA(),w.TgZ(17,"td"),w._UZ(18,"ion-skeleton-text",226),w.qZA(),w.TgZ(19,"td"),w._UZ(20,"ion-skeleton-text",226),w.qZA(),w.TgZ(21,"td"),w._UZ(22,"ion-skeleton-text",226),w.qZA(),w.TgZ(23,"td",235),w._UZ(24,"ion-skeleton-text",226),w.qZA(),w.TgZ(25,"td"),w._UZ(26,"ion-skeleton-text",226),w.qZA(),w.TgZ(27,"td"),w._UZ(28,"ion-skeleton-text",226),w.qZA(),w.TgZ(29,"td"),w._UZ(30,"ion-skeleton-text",226),w.qZA(),w.qZA())}function Ke(e,t){if(1&e&&(w.TgZ(0,"div"),w.TgZ(1,"table",233),w.TgZ(2,"thead",151),w.TgZ(3,"tr"),w.TgZ(4,"th",234),w._UZ(5,"ion-skeleton-text",228),w.qZA(),w.TgZ(6,"th"),w._UZ(7,"ion-skeleton-text",226),w.qZA(),w.TgZ(8,"th"),w._UZ(9,"ion-skeleton-text",226),w.qZA(),w.TgZ(10,"th"),w._UZ(11,"ion-skeleton-text",226),w.qZA(),w.TgZ(12,"th"),w._UZ(13,"ion-skeleton-text",226),w.qZA(),w.TgZ(14,"th"),w._UZ(15,"ion-skeleton-text",226),w.qZA(),w.TgZ(16,"th"),w._UZ(17,"ion-skeleton-text",226),w.qZA(),w.TgZ(18,"th"),w._UZ(19,"ion-skeleton-text",226),w.qZA(),w.TgZ(20,"th"),w._UZ(21,"ion-skeleton-text",226),w.qZA(),w.TgZ(22,"th"),w._UZ(23,"ion-skeleton-text",226),w.qZA(),w.TgZ(24,"th"),w._UZ(25,"ion-skeleton-text",226),w.qZA(),w.TgZ(26,"th",235),w._UZ(27,"ion-skeleton-text",226),w.qZA(),w.TgZ(28,"th"),w._UZ(29,"ion-skeleton-text",226),w.qZA(),w.TgZ(30,"th"),w._UZ(31,"ion-skeleton-text",226),w.qZA(),w.TgZ(32,"th"),w._UZ(33,"ion-skeleton-text",226),w.qZA(),w.qZA(),w.qZA(),w.TgZ(34,"tbody",164),w.YNc(35,je,31,0,"tr",187),w.qZA(),w.qZA(),w.qZA()),2&e){var n=w.oxw();w.xp6(35),w.Q6J("ngForOf",n.challanService.noImageRepeat)}}function ze(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div"),w._UZ(1,"div",237),w._UZ(2,"br"),w.TgZ(3,"div",238),w._uU(4,"Add your first record by clicking in below button. "),w._UZ(5,"br"),w._UZ(6,"br"),w.TgZ(7,"input",239),w.NdJ("clickAllowed",function(){return w.CHM(n),w.oxw(2).openChallanpopup("add")}),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(7),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function We(e,t){if(1&e&&(w.TgZ(0,"div",236),w._UZ(1,"br"),w._UZ(2,"br"),w.YNc(3,ze,8,2,"div",13),w._UZ(4,"br"),w._UZ(5,"br"),w.qZA()),2&e){var n=w.oxw();w.xp6(3),w.Q6J("ngIf",n.noDataImage)}}function Xe(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"app-challan-addedit",240),w.NdJ("ChallanredirectAction",function(e){return w.CHM(n),w.oxw().onChallanSubmit(e)}),w.qZA()}if(2&e){var r=w.oxw();w.Q6J("ChallanredirectOnCancel",!1)("ChallanId",r.ChallanId)}}function et(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Purchase Ledger is required"),w.qZA())}function tt(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,et,2,0,"div",13),w.qZA()),2&e){w.oxw();var n=w.MAs(21);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}function nt(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Date is required"),w.qZA())}function rt(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,nt,2,0,"div",13),w.qZA()),2&e){w.oxw();var n=w.MAs(32);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}function it(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Quantity is required"),w.qZA())}function ot(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,it,2,0,"div",13),w.TgZ(2,"div",277),w._uU(3," Quantity should contain only numbers "),w.qZA(),w.qZA()),2&e){w.oxw();var n=w.MAs(3);w.xp6(1),w.Q6J("ngIf",n.errors.required),w.xp6(1),w.Q6J("hidden",!n.hasError("pattern"))}}function at(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Unit price is required"),w.qZA())}function lt(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,at,2,0,"div",13),w.TgZ(2,"div",277),w._uU(3," Unit price should contain only numbers "),w.qZA(),w.qZA()),2&e){w.oxw();var n=w.MAs(7);w.xp6(1),w.Q6J("ngIf",n.errors.required),w.xp6(1),w.Q6J("hidden",!n.hasError("pattern"))}}function ct(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1," Total amount is required "),w.qZA())}function st(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,ct,2,0,"div",13),w.TgZ(2,"div",277),w._uU(3," Total amount should contain only numbers "),w.qZA(),w.qZA()),2&e){w.oxw();var n=w.MAs(11);w.xp6(1),w.Q6J("ngIf",n.errors.required),w.xp6(1),w.Q6J("hidden",!n.hasError("pattern"))}}var dt=function(e){return{"is-invalid":e}};function ut(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"tr",264),w.TgZ(1,"td",265),w.TgZ(2,"input",271,272),w.NdJ("change",function(){var e=w.CHM(n).$implicit,t=w.oxw(2);return t.calculationPurchase(),t.calculateTotal(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.InvQty=e}),w.qZA(),w.YNc(4,ot,4,2,"div",255),w.qZA(),w.TgZ(5,"td",266),w.TgZ(6,"input",273,274),w.NdJ("change",function(){var e=w.CHM(n).$implicit,t=w.oxw(2);return t.calculationPurchase(),t.calculateTotal(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.InvRt=e}),w.qZA(),w.YNc(8,lt,4,2,"div",255),w.qZA(),w.TgZ(9,"td",266),w.TgZ(10,"input",275,276),w.NdJ("change",function(){return w.CHM(n),w.oxw(2).calculationPurchase()})("ngModelChange",function(e){return w.CHM(n).$implicit.TtlAmt=e}),w.qZA(),w.YNc(12,st,4,2,"div",255),w.qZA(),w.qZA()}if(2&e){var r=t.$implicit,i=t.index,o=w.MAs(3),a=w.MAs(7),l=w.MAs(11);w.oxw();var c=w.MAs(15);w.xp6(2),w.MGl("name","qty__",i,""),w.Q6J("ngClass",w.VKq(12,dt,c.submitted&&o.invalid))("ngModel",r.InvQty),w.xp6(2),w.Q6J("ngIf",c.submitted&&o.invalid),w.xp6(2),w.MGl("name","UA__",i,""),w.Q6J("ngClass",w.VKq(14,dt,c.submitted&&a.invalid))("ngModel",r.InvRt),w.xp6(2),w.Q6J("ngIf",c.submitted&&a.invalid),w.xp6(2),w.MGl("name","TA__",i,""),w.Q6J("ngClass",w.VKq(16,dt,c.submitted&&l.invalid))("ngModel",r.TtlAmt),w.xp6(2),w.Q6J("ngIf",c.submitted&&l.invalid)}}function gt(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",241),w.TgZ(1,"div",242),w.TgZ(2,"div",41),w.TgZ(3,"h4",243),w._uU(4,"Generate Bill"),w.qZA(),w.TgZ(5,"h4",244),w._uU(6),w.qZA(),w.TgZ(7,"button",43),w.NdJ("click",function(){return w.CHM(n),w.oxw(),w.MAs(39).hide()}),w.TgZ(8,"span",44),w._uU(9,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(10,"div",83),w.TgZ(11,"div",245),w.TgZ(12,"div",246),w.TgZ(13,"div",247),w.TgZ(14,"form",248,249),w.NdJ("ngSubmit",function(){w.CHM(n);var e=w.MAs(15),t=w.oxw();return e.form.valid&&t.onGenerateBill()}),w.TgZ(16,"div",250),w.TgZ(17,"div",251),w.TgZ(18,"label",252),w._uU(19,"Select Purchase Account"),w.qZA(),w.TgZ(20,"ng-select",253,254),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().purLedger=e}),w.qZA(),w.YNc(22,tt,2,1,"div",255),w.qZA(),w.TgZ(23,"div",251),w.TgZ(24,"label",256),w._uU(25,"Select Tax Account"),w.qZA(),w.TgZ(26,"ng-select",257,258),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().TaxLed=e})("change",function(){return w.CHM(n),w.oxw().calculationPurchase()}),w.qZA(),w.qZA(),w.TgZ(28,"div",251),w.TgZ(29,"label",259),w._uU(30,"Purchase Date"),w.qZA(),w.TgZ(31,"input",260,261),w.NdJ("selected",function(e){return w.CHM(n),w.oxw().onDateSelect(e)}),w.qZA(),w.YNc(33,rt,2,1,"div",255),w.qZA(),w.TgZ(34,"div",262),w.TgZ(35,"table",263),w.TgZ(36,"thead"),w.TgZ(37,"tr",264),w.TgZ(38,"th",265),w._uU(39,"Qty"),w.qZA(),w.TgZ(40,"th",266),w._uU(41,"Rate/Unit"),w.qZA(),w.TgZ(42,"th",266),w._uU(43,"Total"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(44,"tbody"),w.YNc(45,ut,13,18,"tr",267),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(46,"div",268),w.TgZ(47,"a",269),w.NdJ("click",function(){w.CHM(n);var e=w.oxw();return w.MAs(39).hide(),e.cleardata()}),w._uU(48,"Cancel"),w.qZA(),w.TgZ(49,"button",93),w._uU(50," Generate Bill "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.MAs(15),i=w.MAs(21),o=w.MAs(32),a=w.oxw();w.xp6(6),w.hij("Total: ",a.totamount,""),w.xp6(14),w.Q6J("virtualScroll",!0)("ngClass",w.VKq(14,dt,r.submitted&&i.invalid))("items",a.purchaseLedger)("ngModel",a.purLedger)("loading",a.ledgerService.loading),w.xp6(2),w.Q6J("ngIf",r.submitted&&i.invalid),w.xp6(4),w.Q6J("items",a.TaxLedger)("ngModel",a.TaxLed)("loading",a.ledgerService.loading),w.xp6(5),w.Q6J("startDate",a.VDt)("ngClass",w.VKq(16,dt,r.submitted&&o.invalid)),w.xp6(2),w.Q6J("ngIf",o.invalid),w.xp6(12),w.Q6J("ngForOf",a.selectedchns)}}function ht(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Purchase Ledger is required"),w.qZA())}function pt(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,ht,2,0,"div",13),w.qZA()),2&e){w.oxw();var n=w.MAs(19);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}function ft(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Date is required"),w.qZA())}function mt(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,ft,2,0,"div",13),w.qZA()),2&e){w.oxw();var n=w.MAs(30);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}function Zt(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Quantity is required"),w.qZA())}function vt(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,Zt,2,0,"div",13),w.TgZ(2,"div",277),w._uU(3," Quantity should contain only numbers "),w.qZA(),w.qZA()),2&e){w.oxw();var n=w.MAs(5);w.xp6(1),w.Q6J("ngIf",n.errors.required),w.xp6(1),w.Q6J("hidden",!n.hasError("pattern"))}}function Tt(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Unit price is required"),w.qZA())}function At(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,Tt,2,0,"div",13),w.TgZ(2,"div",277),w._uU(3," Unit price should contain only numbers "),w.qZA(),w.qZA()),2&e){w.oxw();var n=w.MAs(9);w.xp6(1),w.Q6J("ngIf",n.errors.required),w.xp6(1),w.Q6J("hidden",!n.hasError("pattern"))}}function xt(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1," Total amount is required "),w.qZA())}function It(e,t){if(1&e&&(w.TgZ(0,"div",270),w.YNc(1,xt,2,0,"div",13),w.TgZ(2,"div",277),w._uU(3," Total amount should contain only numbers "),w.qZA(),w.qZA()),2&e){w.oxw();var n=w.MAs(13);w.xp6(1),w.Q6J("ngIf",n.errors.required),w.xp6(1),w.Q6J("hidden",!n.hasError("pattern"))}}function Lt(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"tr",264),w.TgZ(1,"td",283),w._uU(2),w.qZA(),w.TgZ(3,"td",281),w.TgZ(4,"input",271,272),w.NdJ("change",function(){var e=w.CHM(n).$implicit,t=w.oxw(2);return t.calculationPurchase(),t.calculateTotal(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Qty=e}),w.qZA(),w.YNc(6,vt,4,2,"div",255),w.qZA(),w.TgZ(7,"td",282),w.TgZ(8,"input",273,274),w.NdJ("change",function(){var e=w.CHM(n).$implicit,t=w.oxw(2);return t.calculationPurchase(),t.calculateTotal(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.UA=e}),w.qZA(),w.YNc(10,At,4,2,"div",255),w.qZA(),w.TgZ(11,"td",282),w.TgZ(12,"input",275,276),w.NdJ("change",function(){return w.CHM(n),w.oxw(2).calculationPurchase()})("ngModelChange",function(e){return w.CHM(n).$implicit.TA=e}),w.qZA(),w.YNc(14,It,4,2,"div",255),w.qZA(),w.qZA()}if(2&e){var r=t.$implicit,i=t.index,o=w.MAs(5),a=w.MAs(9),l=w.MAs(13);w.oxw();var c=w.MAs(11);w.xp6(2),w.Oqu(r.CN),w.xp6(2),w.MGl("name","qty__",i,""),w.Q6J("ngClass",w.VKq(13,dt,c.submitted&&o.invalid))("ngModel",r.Qty),w.xp6(2),w.Q6J("ngIf",c.submitted&&o.invalid),w.xp6(2),w.MGl("name","UA__",i,""),w.Q6J("ngClass",w.VKq(15,dt,c.submitted&&a.invalid))("ngModel",r.UA),w.xp6(2),w.Q6J("ngIf",c.submitted&&a.invalid),w.xp6(2),w.MGl("name","TA__",i,""),w.Q6J("ngClass",w.VKq(17,dt,c.submitted&&l.invalid))("ngModel",r.TA),w.xp6(2),w.Q6J("ngIf",c.submitted&&l.invalid)}}function wt(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",39),w.TgZ(1,"div",278),w.TgZ(2,"div",41),w.TgZ(3,"h4",243),w._uU(4,"Generate Bill"),w.qZA(),w.TgZ(5,"h4",244),w._uU(6),w.qZA(),w.TgZ(7,"button",43),w.NdJ("click",function(){return w.CHM(n),w.oxw(),w.MAs(42).hide()}),w.TgZ(8,"span",44),w._uU(9,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(10,"form",248,249),w.NdJ("ngSubmit",function(){w.CHM(n);var e=w.MAs(11),t=w.oxw();return e.form.valid&&t.onGenerateBill()}),w.TgZ(12,"div",279),w.TgZ(13,"div",143),w.TgZ(14,"div",143),w.TgZ(15,"div",280),w.TgZ(16,"label",252),w._uU(17,"Select Purchase Account"),w.qZA(),w.TgZ(18,"ng-select",253,254),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().purLedger=e}),w.qZA(),w.YNc(20,pt,2,1,"div",255),w.qZA(),w.TgZ(21,"div",280),w.TgZ(22,"label",256),w._uU(23,"Select Tax Account"),w.qZA(),w.TgZ(24,"ng-select",257,258),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().TaxLed=e})("change",function(){return w.CHM(n),w.oxw().calculationPurchase()}),w.qZA(),w.qZA(),w.TgZ(26,"div",280),w.TgZ(27,"label",259),w._uU(28,"Purchase Date"),w.qZA(),w.TgZ(29,"input",260,261),w.NdJ("selected",function(e){return w.CHM(n),w.oxw().onDateSelect(e)}),w.qZA(),w.YNc(31,mt,2,1,"div",255),w.qZA(),w.TgZ(32,"div",262),w.TgZ(33,"table",263),w.TgZ(34,"thead"),w.TgZ(35,"tr",264),w.TgZ(36,"th",281),w._uU(37,"#No"),w.qZA(),w.TgZ(38,"th",281),w._uU(39,"Qty"),w.qZA(),w.TgZ(40,"th",282),w._uU(41,"Rate/Unit"),w.qZA(),w.TgZ(42,"th",282),w._uU(43,"Total"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(44,"tbody"),w.YNc(45,Lt,15,19,"tr",267),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(46,"nav",70),w.TgZ(47,"ul",71),w.TgZ(48,"li",72),w.TgZ(49,"button",94),w.NdJ("click",function(){w.CHM(n);var e=w.oxw();return w.MAs(42).hide(),e.cleardata()}),w._uU(50,"Close"),w.qZA(),w.qZA(),w.TgZ(51,"li",75),w.TgZ(52,"button",93),w._uU(53,"Generate Bill"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.MAs(11),i=w.MAs(19),o=w.MAs(30),a=w.oxw();w.xp6(6),w.hij("Total: ",a.totamount,""),w.xp6(12),w.Q6J("virtualScroll",!0)("ngClass",w.VKq(14,dt,r.submitted&&i.invalid))("items",a.purchaseLedger)("ngModel",a.purLedger)("loading",a.ledgerService.loading),w.xp6(2),w.Q6J("ngIf",r.submitted&&i.invalid),w.xp6(4),w.Q6J("items",a.TaxLedger)("ngModel",a.TaxLed)("loading",a.ledgerService.loading),w.xp6(5),w.Q6J("startDate",a.VDt)("ngClass",w.VKq(16,dt,r.submitted&&o.invalid)),w.xp6(2),w.Q6J("ngIf",o.invalid),w.xp6(14),w.Q6J("ngForOf",a.selectedchalans)}}function yt(e,t){if(1&e&&w._UZ(0,"app-ledgerhistory",284),2&e){var n=w.oxw();w.Q6J("LedgId",n._LedgerId)("IsCallasPopup",!0)}}function bt(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw();w.xp6(1),w.AsE(" Loaded ",n.ledgerService.result.length," of ",n.ledgerService.totalItems," ")}}function Ct(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"a"),w._uU(1),w.qZA(),w.TgZ(2,"a",126),w.TgZ(3,"i",127),w.NdJ("click",function(){var e=w.CHM(n).item;return w.oxw().OpenLedgerHistoryPopUp(e.UIDN)}),w.qZA(),w.qZA()}if(2&e){var r=t.item;w.xp6(1),w.Oqu(r.LN)}}function qt(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw();w.xp6(1),w.AsE(" Loaded ",n.siteService.result.length," of ",n.siteService.totalItems," ")}}function St(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw();w.xp6(1),w.AsE(" Loaded ",n.inventoryService.result.length," of ",n.inventoryService.totalItems," ")}}function Mt(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw();w.xp6(1),w.AsE(" Loaded ",n.taskService.result.length," of ",n.taskService.totalItems," ")}}function Nt(e,t){if(1&e&&(w.TgZ(0,"small",128),w._uU(1),w.qZA()),2&e){var n=w.oxw();w.xp6(1),w.AsE(" Loaded ",n.subtaskService.result.length," of ",n.subtaskService.totalItems," ")}}function Dt(e,t){1&e&&(w.TgZ(0,"thead",151),w.TgZ(1,"tr"),w.TgZ(2,"th",291),w._uU(3,"Comments"),w.qZA(),w.TgZ(4,"th",292),w._uU(5,"Challan No"),w.qZA(),w.TgZ(6,"th",292),w._uU(7,"Challan Sr No"),w.qZA(),w.TgZ(8,"th",292),w._uU(9,"Challan Date"),w.qZA(),w.TgZ(10,"th",292),w._uU(11,"Task Name"),w.qZA(),w.TgZ(12,"th",292),w._uU(13,"Sub Task Name"),w.qZA(),w.TgZ(14,"th",293),w._uU(15,"Inventory Name"),w.qZA(),w.TgZ(16,"th",292),w._uU(17,"Site Name"),w.qZA(),w.TgZ(18,"th",292),w._uU(19,"Unit Name"),w.qZA(),w.TgZ(20,"th",293),w._uU(21,"Ledger Name"),w.qZA(),w.TgZ(22,"th",292),w._uU(23,"Length"),w.qZA(),w.TgZ(24,"th",292),w._uU(25,"Height"),w.qZA(),w.TgZ(26,"th",292),w._uU(27,"Width"),w.qZA(),w.TgZ(28,"th",292),w._uU(29,"Rate/Unit"),w.qZA(),w.TgZ(30,"th",292),w._uU(31,"Quantity"),w.qZA(),w.TgZ(32,"th",292),w._uU(33,"Total Amount"),w.qZA(),w.TgZ(34,"th",292),w._uU(35,"Vehicle No"),w.qZA(),w.TgZ(36,"th",292),w._uU(37,"Narration"),w.qZA(),w.qZA(),w.qZA())}function _t(e,t){if(1&e){var n=w.EpF();w.ynx(0),w.TgZ(1,"tr"),w.TgZ(2,"td",294),w._uU(3),w.qZA(),w.TgZ(4,"td"),w.TgZ(5,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.ChallanName=e}),w.qZA(),w.qZA(),w.TgZ(6,"td"),w.TgZ(7,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.ChallanSrNo=e}),w.qZA(),w.qZA(),w.TgZ(8,"td"),w.TgZ(9,"input",296,297),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("selected",function(e){var t=w.CHM(n),r=t.index,i=t.$implicit;return w.oxw(2).ChnDtSelect(e,r,i)}),w.qZA(),w.qZA(),w.TgZ(11,"td"),w.TgZ(12,"ng-select",298,299),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("scrollToEnd",function(){return w.CHM(n),w.oxw(2).taskService.ScrollDown()})("ngModelChange",function(e){return w.CHM(n).$implicit.TaskName=e}),w.qZA(),w.qZA(),w.TgZ(14,"td"),w.TgZ(15,"ng-select",300,301),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("scrollToEnd",function(){return w.CHM(n),w.oxw(2).subtaskService.ScrollDown()})("ngModelChange",function(e){return w.CHM(n).$implicit.SubTaskName=e}),w.qZA(),w.qZA(),w.TgZ(17,"td"),w.TgZ(18,"ng-select",302,303),w.NdJ("scrollToEnd",function(){return w.CHM(n),w.oxw(2).inventoryService.ScrollDown()})("change",function(e){return w.CHM(n),w.oxw(2).SelectTaxLedger(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.InventoryName=e}),w.qZA(),w.qZA(),w.TgZ(21,"td"),w.TgZ(22,"ng-select",304),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("scrollToEnd",function(){return w.CHM(n),w.oxw(2).siteService.ScrollDown()})("ngModelChange",function(e){return w.CHM(n).$implicit.SiteName=e}),w.qZA(),w.qZA(),w.TgZ(23,"td"),w.TgZ(24,"ng-select",305),w.NdJ("scrollToEnd",function(){return w.CHM(n),w.oxw(2).unitService.ScrollDown()})("ngModelChange",function(e){return w.CHM(n).$implicit.UnitName=e}),w.qZA(),w.qZA(),w.TgZ(25,"td"),w.TgZ(26,"ng-select",306,307),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw(2).ledgerService.singleresult=e}),w.qZA(),w.qZA(),w.TgZ(29,"td"),w.TgZ(30,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Length=e}),w.qZA(),w.qZA(),w.TgZ(31,"td"),w.TgZ(32,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Height=e}),w.qZA(),w.qZA(),w.TgZ(33,"td"),w.TgZ(34,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Width=e}),w.qZA(),w.qZA(),w.TgZ(35,"td"),w.TgZ(36,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.RateOrUnit=e}),w.qZA(),w.qZA(),w.TgZ(37,"td"),w.TgZ(38,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Quantity=e}),w.qZA(),w.qZA(),w.TgZ(39,"td"),w.TgZ(40,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.TotalAmount=e}),w.qZA(),w.qZA(),w.TgZ(41,"td"),w.TgZ(42,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.VehicleNo=e}),w.qZA(),w.qZA(),w.TgZ(43,"td"),w.TgZ(44,"input",295),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Narration=e}),w.qZA(),w.qZA(),w.qZA(),w.BQk()}if(2&e){var r=t.$implicit,i=t.index,o=w.MAs(20),a=w.MAs(27),l=w.oxw(2),c=w.MAs(56);w.xp6(1),w.ekj("negative",r.invalidProp)("positive",r.RepeatContactProp),w.xp6(2),w.hij(" ",r.comments," "),w.xp6(2),w.MGl("name","ChallanNo_",i,""),w.MGl("id","ChallanNo_",i,""),w.Q6J("ngModel",r.ChallanName),w.xp6(2),w.MGl("name","ChallanSrNo_",i,""),w.MGl("id","ChallanSrNo_",i,""),w.Q6J("ngModel",r.ChallanSrNo),w.xp6(2),w.MGl("name","ChallanDate_",i,""),w.MGl("id","ChallanDate_",i,""),w.Q6J("startDate",r.ChallanDate),w.xp6(3),w.MGl("name","TaskName_",i,""),w.MGl("id","TaskName_",i,""),w.Q6J("virtualScroll",!0)("items",l.taskService.result)("ngModel",r.TaskName)("loading",l.taskService.loading),w.xp6(3),w.MGl("name","SubTaskName_",i,""),w.MGl("id","SubTaskName_",i,""),w.Q6J("virtualScroll",!0)("items",l.subtaskService.result)("ngModel",r.SubTaskName)("loading",l.subtaskService.loading),w.xp6(3),w.MGl("name","Inventory_",i,""),w.MGl("id","Inventory_",i,""),w.Q6J("virtualScroll",!0)("items",l.inventoryService.result)("ngClass",w.VKq(76,dt,c.submitted&&o.invalid))("ngModel",r.InventoryName)("loading",l.inventoryService.loading),w.xp6(4),w.MGl("name","SiteName_",i,""),w.MGl("id","SiteName_",i,""),w.Q6J("virtualScroll",!0)("items",l.siteService.result)("ngModel",r.SiteName)("loading",l.siteService.loading),w.xp6(2),w.MGl("name","UnitName_",i,""),w.MGl("id","UnitName_",i,""),w.Q6J("virtualScroll",!0)("items",l.unitService.result)("ngModel",r.UnitName)("loading",l.unitService.loading),w.xp6(2),w.MGl("name","LedgerName_",i,""),w.MGl("id","LedgerName_",i,""),w.Q6J("virtualScroll",!0)("ngClass",w.VKq(78,dt,c.submitted&&a.invalid))("items",l.ChallanLedger)("ngModel",l.ledgerService.singleresult)("loading",l.ledgerService.loading),w.xp6(4),w.MGl("name","Length_",i,""),w.MGl("id","Length_",i,""),w.Q6J("ngModel",r.Length),w.xp6(2),w.MGl("name","Height_",i,""),w.MGl("id","Height_",i,""),w.Q6J("ngModel",r.Height),w.xp6(2),w.MGl("name","Width_",i,""),w.MGl("id","Width_",i,""),w.Q6J("ngModel",r.Width),w.xp6(2),w.MGl("name","RateOrUnit_",i,""),w.MGl("id","RateOrUnit_",i,""),w.Q6J("ngModel",r.RateOrUnit),w.xp6(2),w.MGl("name","Quantity_",i,""),w.MGl("id","Quantity_",i,""),w.Q6J("ngModel",r.Quantity),w.xp6(2),w.MGl("name","TotalAmount_",i,""),w.MGl("id","TotalAmount_",i,""),w.Q6J("ngModel",r.TotalAmount),w.xp6(2),w.MGl("name","VehicleNo_",i,""),w.MGl("id","VehicleNo_",i,""),w.Q6J("ngModel",r.VehicleNo),w.xp6(2),w.MGl("name","Narration_",i,""),w.MGl("id","Narration_",i,""),w.Q6J("ngModel",r.Narration)}}function Ut(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",285),w.TgZ(1,"virtual-scroller",286,287),w.NdJ("vsUpdate",function(){return w.CHM(n),w.oxw().changeDetectorRef.detectChanges()}),w.TgZ(3,"table",288),w.YNc(4,Dt,38,0,"thead",289),w.TgZ(5,"tbody",164,165),w.YNc(7,_t,45,80,"ng-container",290),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.MAs(2),i=w.oxw(),o=w.MAs(145);w.xp6(1),w.Q6J("executeRefreshOutsideAngularZone",!0)("items",i.importeddataAPI)("parentScroll",o),w.xp6(3),w.Q6J("ngIf",i.importeddataAPI.length>0),w.xp6(3),w.Q6J("ngForOf",r.viewPortItems)("ngForTrackBy",i.ImportTrackByFunction)}}var kt,Jt=(kt=function(){function n(e,r,i,o,a,l,c,s,d,u,g,h,p,f,m,Z){t(this,n),this.challanService=e,this.filterService=r,this.popoverController=i,this.route=o,this.page=a,this.inventoryService=l,this.taskService=c,this.subtaskService=s,this.siteService=d,this.ledgerService=u,this.unitService=g,this.router=h,this.changeDetectorRef=p,this.location=f,this.accountService=m,this.alert=Z,this.noDataImage=!1,this.Sbtaskselector=[],this.Taskselector=[],this.Invselector=[],this.Siteselector=[],this.taxLedImport=[],this.Ledgerselector=[],this.importeddataAPI=[],this.inValidEntry=[],this.isSubmited=!1,this.isBusy=!0,this._sgId=0,this.popupwindow="",this.isList=!0,this.isChallanPending=!0,this.isScrollEnabled=!0,this.ChallanLedger=[],this.searchLedger=null,this.showChallanModal=!1,this.showLedgHistory=!1,this.showNestedTable=[],this.ChallanId="",this.status={isOpen:!1},this.selectedchns=[],this.selectedchalans=[],this.showBillModal=!1,this.TaxLedger=[],this.purchaseLedger=[],this.totamount=0,this._LedgerId=0,this.currentScrollPosition=0,this.chalanFilter=new v.yz,this.selectedAll=!1,this.httpfunction=new T.r,this.sortarray=[{order:this.challanService.sortorder,column:"ChallanNo",title:"By Challan No"},{order:this.challanService.sortorder,column:"MaterialDate",title:"By Date"},{order:this.challanService.sortorder,column:"TaskName",title:"By Task Name"},{order:this.challanService.sortorder,column:"Name",title:"By Inventory Name"},{order:this.challanService.sortorder,column:"LedgerName",title:"By Ledger Name"},{order:this.challanService.sortorder,column:"SiteName",title:"By Site Name"},{order:this.challanService.sortorder,column:"TotalAmount",title:"By Total Amount"},{order:this.challanService.sortorder,column:"IsBilled",title:"By Bill Status"}],this.SignupId=this.challanService.getSignupId,this.UserId=this.challanService.GetUserId,this.isList=!0,this.challanService.ExportColumn=[{title:"CNo",dataKey:"CN",size:40},{title:"Task",dataKey:"TNm",size:100},{title:"Sub Task",dataKey:"SbTNm",size:80},{title:"Inventory",dataKey:"InvNm",size:100},{title:"Unit",dataKey:"UntNm",size:80},{title:"Ledger",dataKey:"LdNm",size:120},{title:"Site",dataKey:"StNm",size:100},{title:"Qty",dataKey:"Qty",size:40},{title:"Amount",dataKey:"UA",size:50},{title:"Total Amount",dataKey:"TA",size:50},{title:"Narration",dataKey:"Narr",size:150}],this.challanService.Orientationtype=1,this.challanService.ExportName="Challan_List",this.challanService.ExportCompanyName=this.challanService.getCompanyData.CN}return r(n,[{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList),this.showChallanModal?this.showChallanModal=!this.showChallanModal:this.showLedgHistory&&(this.showLedgHistory=!this.showLedgHistory)}},{key:"onLedgHistoryScroll",value:function(){0==this.showLedgHistory&&this.challanService.ScrollDown(),0==this.showChallanModal&&this.challanService.ScrollDown()}},{key:"doRefresh",value:function(e){this.filterService.updatedata(!0,"Challan List"),this.challanService.refreshEvent=e.target,this.FilterData()}},{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.challanService.arrowDownEvent(150==e.challanService.selectedRowIndex||0==e.challanService.selectedRowIndex?150:e.challanService.selectedRowIndex)},500),setTimeout(function(){e.filterService.changeFilter(!0,!0,"Challan List"),null!=e.serachcontrol&&e.serachcontrol.focus()},200),this.SignupId=this.challanService.getSignupId,this.UserId=this.challanService.GetUserId,this.route.params.subscribe(function(t){null!=t.label&&(e.isChallanPending="Billed"!=t.label)});var t={LedgerId:0};t.IsPending=this.isChallanPending,this.challanService.filterArg=t,this.challanService.GetAlldata(),this.challanService.refreshEvent=null,this.challanService.isGetSubscribe=!0,this.challanSubscription=this.challanService.resultObs.subscribe(function(){setTimeout(function(){document.scrollingElement.scrollTop=scrollposition,e.challanService.arrowDownEvent(e.challanService.selectedRowIndex),scrollposition=0},250),1==e.isBusy&&(e.isBusy=!1),0==e.challanService.result.length&&(e.noDataImage=!0)}),0==this.inventoryService.result.length&&this.inventoryService.GetAlldata(),0==this.taskService.result.length&&this.taskService.GetAlldata(),0==this.subtaskService.result.length&&this.subtaskService.GetAlldata(),0==this.siteService.result.length&&this.siteService.GetAllsitesforsInventoryUsage(),this.ledgerService.isGetSubscribe=!0,this.ledgerService.GetAlldataforChallan(!0),this.subscription=this.ledgerService.resultObs.subscribe(function(t){e.ChallanLedger=e.ledgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSC||1==e.IsSD)&&0==e.IsGrp&&1==e.St}),e.purchaseLedger=e.ledgerService.result.filter(function(e){return 1==e.IsPU&&0==e.IsGrp&&1==e.St}),e.TaxLedger=e.ledgerService.result.filter(function(e){return 1==e.isTL&&0==e.IsGrp&&1==e.St})}),this.httpfunction.scrolltop(),this.isScrollEnabled=!0}},{key:"ngOnDestroy",value:function(){null!=this.subscription&&this.subscription.unsubscribe(),null!=this.challanSubscription&&this.challanSubscription.unsubscribe(),null!=this.Sitesubscription&&this.Sitesubscription.unsubscribe(),null!=this.Invesubscription&&this.Invesubscription.unsubscribe(),null!=this.tasksubscription&&this.tasksubscription.unsubscribe(),null!=this.Sbtasksubscription&&this.Sbtasksubscription.unsubscribe()}},{key:"onChallanScroll",value:function(e){0==this.showChallanModal&&(null!=this.infiniteScroll&&(this.challanService.mobileinfinitescroll=this.infiniteScroll,this.challanService.mobilevirtualscroll=this.virtualScroll,this.challanService.refreshEvent=e.target),this.challanService.ScrollDown())}},{key:"FilterData",value:function(){var e="0",t=0,n=0,r=0,i=0;return null!=this.searchLedger&&null!=this.searchLedger&&(e=this.searchLedger.UIDN),null!=this.siteService.singleresult&&null!=this.siteService.singleresult&&(t=this.siteService.singleresult),null!=this.inventoryService.singleresult&&null!=this.inventoryService.singleresult&&(i=this.inventoryService.singleresult),null!=this.taskService.singleresult&&null!=this.taskService.singleresult&&(n=this.taskService.singleresult),null!=this.subtaskService.singleresult&&null!=this.subtaskService.singleresult&&(r=this.subtaskService.singleresult),this.chalanFilter.LedgerId=e,this.chalanFilter.ChallanNo=this.challanfilterNo,this.chalanFilter.SiteId=t,this.chalanFilter.InvId=i,this.chalanFilter.TaskId=n,this.chalanFilter.SbTaskId=r,this.chalanFilter.IsPending=this.isChallanPending,this.challanService.filterArg=this.chalanFilter,this.challanService.page=0,!1}},{key:"onCheckedChange",value:function(e){this.isChallanPending=!this.isChallanPending,this.FilterData()}},{key:"cleardata",value:function(){this.siteService.singleresult=null,this.inventoryService.singleresult=null,this.taskService.singleresult=null,this.subtaskService.singleresult=null,this.chalanFilter.LedgerId=null,this.challanfilterNo="",this.searchLedger=null,this.purLedger=null,this.TaxLed=null}},{key:"clearfilterandloadnewdata",value:function(){this.cleardata(),this.FilterData()}},{key:"change",value:function(e){this.status.isOpen=e}},{key:"toggleDropdown",value:function(e){$("#adv-search").dropdown("hide")}},{key:"exportheader",value:function(e){var t="All";new Date,null!=this.searchLedger&&null!=this.searchLedger&&(t=this.searchLedger.LN),this.challanService.filterHeader="  Ledger : "+t+" ",this.challanService.Export(e)}},{key:"generateBillPopupMobile",value:function(e){var t=this;this.selectedchalans=JSON.parse(JSON.stringify(this.challanService.result.filter(function(t){return t.UIDN==e})));var n=this.selectedchalans[0];if(0==this.selectedchalans.every(function(e){return e.LI===n.LI}))this.alert.showInfo("Error","All selected ledgers must be same.");else{for(var r=0;r<this.selectedchalans.length;r++)if(1==this.selectedchalans[r].IsBd)return this.alert.showInfo("Error","Selected ledger must be unbilled"),!1;0==this.showBillModal&&(this.showBillModal=!0),this.VDt=new Date,this.httpfunction.IsMobileview()?this.BillModalMobile.show():this.BillModal.show(),this.calculationPurchase(),setTimeout(function(){t.purled.focus()},600)}}},{key:"showgenerateBillpopup",value:function(){var e=this;if(this.challanService.result.filter(function(e){return 1==e.Ick||1==e.billSelected}).length>0){this.selectedchalans=JSON.parse(JSON.stringify(this.challanService.result.filter(function(e){return 1==e.Ick||1==e.billSelected}))),this.selectedchns=JSON.parse(JSON.stringify(this.challanService.result.filter(function(e){return 1==e.Ick||1==e.billSelected})[0].ChallanInv));var t=this.selectedchalans[0];if(0==this.selectedchalans.every(function(e){return e.LI===t.LI}))this.alert.showInfo("Error","All selected ledgers must be same.");else{for(var n=0;n<this.selectedchalans.length;n++)if(1==this.selectedchalans[n].IsBd)return this.alert.showInfo("Error","Selected ledger must be unbilled"),!1;0==this.showBillModal&&(this.showBillModal=!0),this.VDt=new Date,this.httpfunction.IsMobileview()?this.BillModalMobile.show():this.BillModal.show(),this.calculationPurchase(),setTimeout(function(){e.purled.focus()},600)}}else this.alert.showError("Error","Please select atleast one record")}},{key:"calculateTotal",value:function(e){e.TA=e.UA*e.Qty}},{key:"calculationPurchase",value:function(){this.totamount=0;for(var e=0;e<this.selectedchns.length;e++)this.totamount+=this.selectedchns[e].TtlAmt;null!=this.TaxLed&&(this.totamount=this.totamount+parseFloat((this.totamount*this.TaxLed.TR/100).toFixed(2)))}},{key:"onDateSelect",value:function(e){this.VDt=e,null!=this.taxLedger&&this.taxLedger.focus()}},{key:"onGenerateBill",value:function(){var e=this;this.challanService.buldupdate(this.selectedchns).subscribe(function(t){var n=t.data;e.accountService.singleresult=new g.VN,e.accountService.singleresult.CI=e.accountService.getCompanyId,e.accountService.singleresult.SI=e.accountService.getSignupId,e.accountService.singleresult.VT=h.$f.Purchase,e.accountService.singleresult.VDt=e.VDt,e.accountService.singleresult.Narr="Bill Generated from challan";var r=[],i=e.ledgerService.result.filter(function(t){return t.UIDN==e.selectedchalans[0].LI})[0],o=new g.eK;o.LId=i.UIDN,o.L_Name=i.LN,o.L_PId=i.PI,o.L_anc=i.ancestor,o.L_Cat=i.Cat,o.TaxLedgerId=0,o.IsTax=!1,o.challan=[];for(var a=0,l=0;l<n.length;l++){a+=n[l].TA;var c=new g.qk;c.Amt=n[l].TA,c.ChId=n[l].UIDN,c.ChNo=n[l].CN,o.challan.push(c)}o.InventoryId=0,o.Quantity=0,o.DrAmt=0,o.isMainled=!0,o.CrAmt=null!=e.TaxLed?a+parseFloat((a*e.TaxLed.TR/100).toFixed(2)):a,r.push(o);var s=new g.eK;if(s.LId=e.purLedger.UIDN,s.L_Name=e.purLedger.LN,s.L_PId=e.purLedger.PI,s.L_anc=e.purLedger.ancestor,s.L_Cat=e.purLedger.Cat,s.IsTax=!1,null!=e.TaxLed&&(s.TaxLedgerId=e.TaxLed.UIDN,s.TaxRate=e.TaxLed.TR),s.InventoryId=0,s.Quantity=0,s.DrAmt=a,s.CrAmt=0,r.push(s),null!=e.TaxLed){var d=new g.eK;d.LId=e.TaxLed.UIDN,d.L_Name=e.TaxLed.LN,d.L_PId=e.TaxLed.PI,d.L_anc=e.TaxLed.ancestor,d.L_Cat=e.TaxLed.Cat,d.IsTax=!0,d.TaxLedgerId=e.TaxLed.UIDN,d.TaxRate=e.TaxLed.TR,d.InventoryId=0,d.Quantity=0,d.DrAmt=parseFloat((a*e.TaxLed.TR/100).toFixed(2)),d.CrAmt=0,r.push(d)}e.accountService.singleresult.VDet=r,e.accountService.waitforMessage=!0,e.accountService.messagebutton=["Ok"],e.accountService.add(e.accountService.singleresult).subscribe(function(t){e.httpfunction.IsMobileview()?e.BillModalMobile.hide():e.BillModal.hide(),e.FilterData(),e.cleardata()})})}},{key:"goback",value:function(){this.location.back()}},{key:"openChallanpopup",value:function(e){this.currentScrollPosition=document.scrollingElement.scrollTop,this.ChallanId=e,this.showChallanModal=!0,this.addurl("transactions/challan/"+e),this.isList=!1}},{key:"onChallanSubmit",value:function(e){var t=this;if(this.showChallanModal=!1,setTimeout(function(){t.challanService.arrowDownEvent(t.challanService.selectedRowIndex),document.scrollingElement.scrollTop=t.currentScrollPosition},250),this.showLedgHistory=!1,this.showLedgHistory=!1,this.isList=!0,this.resetUrl(),null!=e){var n=this.challanService.result.findIndex(function(t){return t.UIDN==e.UIDN});if(n>=0)null!=e.UpI&&e.UpI.length>0&&(e.UpI=e.UpI.filter(function(e){return 1!=e.operationType})),this.challanService.result[n]=e,this.challanService.result=JSON.parse(JSON.stringify(this.challanService.result));else{var r="";null!=this.searchLedger&&null!=this.searchLedger&&(r=this.searchLedger.UIDN);var i=!0;(1==this.isChallanPending&&e.IsBd==this.isChallanPending||""!=r&&e.LI!=r)&&(i=!1),i&&this.challanService.result.unshift(e),this.challanService.result=JSON.parse(JSON.stringify(this.challanService.result))}}}},{key:"OpenLedgerHistoryPopUp",value:function(e){this.currentScrollPosition=document.scrollingElement.scrollTop,this._LedgerId=e,this.showLedgHistory=!0,this.addurl("reports/ledgerhistory"),this.isList=!1}},{key:"onLedgHistoryHide",value:function(){this.showLedgHistory=!0,this.showLedgHistory=!1,this.isList=!0,this.resetUrl(),document.scrollingElement.scrollTop=this.currentScrollPosition,this._LedgerId=0}},{key:"selectAllchange",value:function(e){this.challanService.result.forEach(function(t){t.Ick=e.target.checked})}},{key:"resetUrl",value:function(){var e=this;this.isList=!0;var t=this.router.url;this.route.params.subscribe(function(n){null!=n.id&&""!=n.id&&(t=t.replace("/"+n.id,"")),e.location.go(t)})}},{key:"addurl",value:function(e){var t=this,n=e,r=this.router.url;r=(r=r.substring(0,r.lastIndexOf("/")+0)).substring(0,r.lastIndexOf("/")+0),this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(r=r.replace("/"+e.id,"")),t.location.go("".concat(r,"/").concat(n))}),"reports/ledgerhistory"==e&&(r=(r=r.substring(0,r.lastIndexOf("/")+0)).substring(0,r.lastIndexOf("/")+0))}},{key:"sortPopover",value:function(t){return(0,l.mG)(this,void 0,void 0,e().mark(function n(){var r,i=this;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.popoverController.create({component:x.r,cssClass:"my-custom-class",event:t,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:function(e,t){var n=new A.p(e,t);i.challanService.sortdata=n,r.dismiss()}}});case 2:return r=e.sent,e.next=5,r.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},n,this)}))}},{key:"advSearchM",value:function(){this._SearchModal.show()}},{key:"editOnArrowEvent",value:function(e){this.httpfunction.RolebaseData("Chln")?this.openChallanpopup(e):this.alert.showInfo("Error","You do not have sufficient rights to perform this action. Please contact administrator.")}},{key:"toggleExcelImport",value:function(){this._myImageModal.show()}},{key:"onExcelAdd",value:function(e){this.excelfileData=[];for(var t=0;t<e.length;t++){var n=new I.Q;n.name=e[t].name,n.operationType=0,n.src=e[t].src,n.CompanyId=this.inventoryService.getCompanyId,n.SignupId=this.inventoryService.getSignupId,n.FileLength=e[t].size,n.ModifiedDate=new Date,n.CreatedDate=new Date,n.CreatedBy=this.inventoryService.userid,n.modifyBy=this.inventoryService.userid,this.excelfileData.push(n)}}},{key:"CloseImagePopup",value:function(){this.excelfileData=[],this._myImageModal.hide()}},{key:"ImportTrackByFunction",value:function(e){return e.Index}},{key:"ValidateImportRow",value:function(e){e.comments="",(null==e.ApplicableFrom||""==e.ApplicableFrom)&&(e.comments+="Invalid Date \n"),e.invalidProp=""!=e.comments,this.inValidEntry=null,this.inValidEntry=this.importeddataAPI.filter(function(e){return 1==e.invalidProp}).length}},{key:"onExcelSubmit",value:function(){var e=this;null!=this.excelfileData&&this.excelfileData.length>0?this.challanService.ImportExcel(this.excelfileData).subscribe(function(t){if(null==t.data)return e.alert.showError("Error","Excel column names are incorrect. Please double check your excel column name with predefined format."),void(e.isSubmited=!0);""!=t.data&&null!=t.data?(e.importeddataAPI=t.data,e.inValidEntry=e.importeddataAPI.filter(function(e){return 1==e.invalidProp}).length,e._myImageModal.hide(),e._myInqImportedDataViewModal.show(),e.isSubmited=!0):(e._myImageModal.hide(),e.excelfileData=[])},function(){e.alert.showError("Error","Error while File import.Please Correct Sheet")}):this.alert.showError("Error","Please select atleast one File")}},{key:"ChlImportContinue",value:function(){var e=this,t=this.importeddataAPI.filter(function(e){return 1==e.invalidProp});t.length>0?this.alert.showError("Error","Please modify grid records. we still have "+t.length+" invalid records"):this.importeddataAPI.length>0?this.challanService.ImportDatafromGrid(this.importeddataAPI).subscribe(function(t){t.data.length>0||(e._myImageModal.hide(),e._myInqImportedDataViewModal.hide(),e.alert.showSuccess("Error","Inventory(s) Imported successfully"))},function(){e.alert.showError("Error","Error while File import.Please Correct Sheet")}):this.alert.showError("Error","Inventory Can't imported due to Missing required fields.")}},{key:"toggleNestedTable",value:function(e){this.showNestedTable[e]=!this.showNestedTable[e]}},{key:"ChnDtSelect",value:function(e,t,n){this.importeddataAPI[t].ChallanDate=e,this.ValidateImportRow(n)}},{key:"SelectTaxLedger",value:function(e){var t=this;this.taxLedImport=[];for(var n=function(n){i=t.ledgerService.result.filter(function(t){return t.UIDN==e.GSTDets[n].TLId})[0];var r=t.taxLedImport.concat(i||[]);t.taxLedImport=r},r=0;r<e.GSTDets.length;r++){var i;n(r)}}}]),n}(),kt.\u0275fac=function(e){return new(e||kt)(w.Y36(s.e),w.Y36(y.i),w.Y36(b.Dh),w.Y36(C.gz),w.Y36(q.T3),w.Y36(p.V),w.Y36(f.M),w.Y36(m.I),w.Y36(Z.P),w.Y36(c.Q),w.Y36(L._),w.Y36(C.F0),w.Y36(w.sBO),w.Y36(a.Ye),w.Y36(u.B),w.Y36(S.Rq))},kt.\u0275cmp=w.Xpm({type:kt,selectors:[["app-challan-list"]],viewQuery:function(e,t){var n;1&e&&(w.Gf(j,5,d.w9),w.Gf(K,5),w.Gf(z,5),w.Gf(W,5),w.Gf(X,5),w.Gf(ee,5,d.w9),w.Gf(te,5,d.w9),w.Gf(ne,5),w.Gf(re,5),w.Gf(ie,5),w.Gf(oe,5),w.Gf(ae,5),w.Gf(le,7)),2&e&&(w.iGM(n=w.CRH())&&(t.serachcontrol=n.first),w.iGM(n=w.CRH())&&(t.challanModal=n.first),w.iGM(n=w.CRH())&&(t.BillModal=n.first),w.iGM(n=w.CRH())&&(t.BillModalMobile=n.first),w.iGM(n=w.CRH())&&(t._SearchModal=n.first),w.iGM(n=w.CRH())&&(t.purled=n.first),w.iGM(n=w.CRH())&&(t.taxLedger=n.first),w.iGM(n=w.CRH())&&(t._LedgerHistoryModal=n.first),w.iGM(n=w.CRH())&&(t.formbill=n.first),w.iGM(n=w.CRH())&&(t.infiniteScroll=n.first),w.iGM(n=w.CRH())&&(t.virtualScroll=n.first),w.iGM(n=w.CRH())&&(t._myImageModal=n.first),w.iGM(n=w.CRH())&&(t._myInqImportedDataViewModal=n.first))},hostBindings:function(e,t){1&e&&w.NdJ("popstate",function(e){return t.onPopState(e)},!1,w.Jf7)},features:[w._Bn([u.B,s.e,c.Q,f.M,m.I,p.V,Z.P,L._])],decls:155,vars:47,consts:[[1,"card",3,"hidden"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["id","tableSort",1,"dropdown-menu","arrow_box"],["sortcolumn","ChallanNo","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","MaterialDate","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","Quantity","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","UnitAmount","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","TotalAmount","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","Narration","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","IsBilled","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainerbody",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","option","four","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","option","three","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Export",1,"action-button","option","two","border-0","waves-effect","btn-default","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],["tooltip","Import",1,"action-button","option","one","border-0","waves-effect","btn-purple","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-upload"],[1,"border-0","waves-effect","btn-dark","btn-floating","action-button","plus","abs"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],["accesslevel","Add","mname","Chln","tooltip","Add New",1,"border-0","waves-effect","btn-primary","btn-floating",3,"appRole","SignupId","UserId","clickAllowed"],[1,"fas","fa-plus"],[3,"ChallanredirectOnCancel","ChallanId","ChallanredirectAction",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","30%"],["BillModal","bs-modal"],["class","modal-dialog halfview modal-lg","role","document",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","bg-white"],["BillModalMobile","bs-modal"],["class","container-fluid p-0","style","height: 100%;background-color: white;",4,"ngIf"],[3,"LedgId","IsCallasPopup",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade","bg-white",2,"z-index","99999"],["SearchModal","bs-modal"],[1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","form",3,"ngSubmit"],["f","ngForm"],[1,"container-fluid",2,"margin-bottom","70px"],[1,"row","mt-2"],[1,"md-form","col-md-3"],["name","isChallanPending"],[1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","name","ChallanPending","id","ChallanPending",1,"c-switch-input",3,"ngModel","change","ngModelChange"],[1,"c-switch-slider"],[1,"md-form","col-md-3","col-sm-6"],["for","Site"],["autofocus","","selectOnTab","true","name","Ledger","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["toled2",""],["ng-header-tmp",""],["ng-option-tmp",""],["selectOnTab","true","name","Site","bindLabel","SN","bindValue","UIDN","placeholder","Select Site",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","Inventory"],["selectOnTab","true","name","Site","bindLabel","InvN","bindValue","UIDN","placeholder","Select Inventory",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","Task"],["selectOnTab","true","name","Site","bindLabel","TN","bindValue","UIDN","placeholder","Select Task",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","SubTask"],["selectOnTab","true","name","Site","bindLabel","SN","bindValue","UIDN","placeholder","Select SubTask",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","name"],["autofocus","","type","text","placeholder","Enter Challan No","name","chlnno","id","Vouchertxt",1,"form-control",3,"ngModel","ngModelChange"],["chlnno","ngModel"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dsialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["ImageModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmImage","ngForm"],[1,"modal-body"],[1,"content"],[1,"container"],[1,"form-group","col-md-12","p-0"],[1,"input-group"],[1,"md-form","form-group","col-sm-12","p-0"],["maxFiles","1","required","","maxSize","2","fileExt","xls, xlsx",3,"filelist","uploadStatus"],["Importexcel",""],["target","_blank","href","https://api.accountbook24.com/sample/Challan-Import.xlsx",1,"col-sm-2"],[1,"modal-footer","mt-3"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dsialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"fullModal","fade",2,"width","100%"],["myInqImportedDataViewModal","bs-modal"],["role","document",1,"modal-dialog1","modal-md"],["importcontainer",""],["class","card-body col-md-12","id","tableContainer",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mx-2"],["autofocus","","selectOnTab","true","appendTo","body","name","Ledger","bindLabel","LN","placeholder","Select Account",1,"maxpanel",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["toled",""],[1,"mb-2"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],["dropdown","","role","group",1,"btn-group","mb-2",3,"isOpen","isOpenChange"],["type","button","id","dropdownMenuButton","id","adv-search","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"cil-filter","mr-2"],["aria-labelledby","adv-search","role","menu",1,"dropdown-menu","filterform",2,"min-width","35rem",3,"click"],["ffilter","ngForm"],[1,"row","m-0"],[1,"col-md-6","col-sm-12"],[1,"form-group","col-md-6","col-sm-12"],[1,"text-right","mr-2"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-dark","pull-right",3,"click"],[1,"fas","fa-search"],["title","History","placement","bottom",1,"pl-2"],[1,"fas","fa-history","text-primary",3,"click"],[1,"form-text","text-muted"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],["id","tableContainer",1,"table-responsive"],["class","card-header p-1","id","formHeader",4,"ngIf"],["infinite-scroll","",3,"scrollWindow","scrolled"],["class","table table-bordered table-striped pointer-on-hover",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header","p-1"],[1,"row"],[1,"col","PageNameFsize","pl-1"],[1,"text-right","pl-0","pr-0"],[1,"c-switch","c-switch-pill","c-switch-primary","float-right","mb-2"],[1,"mb-2","float-right","mr-2","small","mt-1","font-weight-bold"],[1,"pl-3","pr-1"],[1,"text-wrap","text-right"],[1,"table","table-bordered","table-striped","pointer-on-hover",3,"fxHeader"],["id","tableContainerHead"],[1,"form-check"],["type","checkbox","id","item_All",1,"form-check-input",3,"checked","ngModel","ngModelChange","change"],["for","item_All",1,"form-check-label"],["sortcolumn","ChallanSrNo",3,"dirsort"],["sortcolumn","ChallanNo",3,"dirsort"],["width","105px","sortcolumn","MaterialDate",3,"dirsort"],["sortcolumn","SiteName",3,"dirsort"],["sortcolumn","TaskName",3,"dirsort"],["sortcolumn","LedgerName",3,"dirsort"],["sortcolumn","UserName",3,"dirsort"],["sortcolumn","Narration",3,"dirsort"],["sortcolumn","IsBilled",3,"dirsort"],["id","tableContainerbody"],["container",""],["autofocus","",3,"rowselected",4,"ngFor","ngForOf"],["autofocus",""],[3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup","click"],["type","checkbox",1,"form-check-input",3,"checked","ngModel","id","ngModelChange"],[1,"form-check-label",3,"for"],["accesslevel","Edit","href","javascript:void(0)","mname","Chln",1,"btn","btn-link",3,"appRole","SignupId","UserId","clickAllowed"],[3,"dateValue"],[1,"font-xs"],["class","font-weight-bold small",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["href","javascript:void(0)","accesslevel","Delete","mname","Chln",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],[1,"fas","fa-trash","fa-lg","text-danger"],["colspan","25"],["class","table table-bordered",3,"hidden",4,"ngIf"],[1,"font-weight-bold","small"],["target","_blank",3,"href","click",4,"ngFor","ngForOf"],["target","_blank",3,"href","click"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"table","table-bordered",3,"hidden"],[4,"ngFor","ngForOf"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["sortcolumn","Name",3,"dirsort"],["sortcolumn","Quantity",3,"dirsort"],["sortcolumn","UnitAmount",3,"dirsort"],["sortcolumn","TotalAmount",3,"dirsort"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","210px",3,"items"],["ionvscroll",""],[4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],["class","text-left",4,"ngIf"],["size","3",1,"text-right","pr-1","p-0"],["size","auto",1,"font-weight-bold","small","text-right"],["size","auto","class","font-weight-bold small text-right",4,"ngIf"],["class","text-right",4,"ngIf"],["class","text-left","size","4",4,"ngIf"],["class","pt-3","size","auto",4,"ngIf"],["size","3","class","pt-2 p-0","size","2.7",4,"ngIf"],[1,"text-right","mt-3"],["href","javascript:void(0)","href","javascript:void(0)","accesslevel","Edit","mname","Chln","class","card-link text-center",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["href","javascript:void(0)","href","javascript:void(0)","accesslevel","Delete","mname","Chln",1,"card-link","text-center",3,"appRole","SignupId","UserId","clickAllowed"],["name","trash-outline","color","danger"],[1,"text-left"],[1,"text-right"],["size","4",1,"text-left"],["size","auto",1,"pt-3"],["href","javascript:void(0)",1,"btn","btn-link","p-0","text-small","font-weight-bold","text-wrap",3,"click"],["size","3","size","2.7",1,"pt-2","p-0"],["class","btn btn-link text-small font-weight-bold text-wrap","target","_blank",3,"href","click",4,"ngFor","ngForOf"],["target","_blank",1,"btn","btn-link","text-small","font-weight-bold","text-wrap",3,"href","click"],["href","javascript:void(0)","href","javascript:void(0)","accesslevel","Edit","mname","Chln",1,"card-link","text-center",3,"appRole","SignupId","UserId","clickAllowed"],["name","create-outline","color","primary"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","100%"],[2,"text-align","-webkit-right"],["animated","",2,"width","60%"],["animated","",2,"width","80%"],["animated","",2,"width","40%"],["animated","",2,"width","90%"],["animated","",2,"width","70%"],[1,"table","table-bordered","table-striped","text-center",3,"fxHeader"],[2,"width","20px"],[2,"width","200px"],[1,"col-md-12","pl-0","pr-0"],[1,"mx-auto","noDataImage"],[1,"text-center"],["type","button","value","Add New","accesslevel","Add","mname","Chln",1,"btn","btn-primary",3,"appRole","SignupId","UserId","clickAllowed"],[3,"ChallanredirectOnCancel","ChallanId","ChallanredirectAction"],["role","document",1,"modal-dialog","halfview","modal-lg"],["id","billContent",1,"modal-content"],[1,"modal-title","mr-4"],[1,"text-danger","pt-1"],[1,"col-sm-12","nopadding"],[1,"card"],[1,"card-body"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["fbill","ngForm"],["id","formContainer",1,"row","form-group"],[1,"md-form","form-group","col-sm-12","col-md-12"],["for","purled"],["required","","appendTo","body","name","purled","bindLabel","LN","placeholder","Select Purchase Account",3,"virtualScroll","ngClass","items","ngModel","loading","ngModelChange"],["purled","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","taxLedger"],["appendTo","body","name","taxLedger","bindLabel","LN","placeholder","Select Tax Account",3,"items","ngModel","loading","ngModelChange","change"],["taxLedger",""],["for","vdate"],["type","text","appDatepicker","","required","","id","vdate",1,"form-control",3,"startDate","ngClass","selected"],["vdate",""],[1,"col-12"],[1,"table","table-bordered","table-account"],[1,"d-flex","flex-wrap"],[1,"col-2","text-center"],[1,"col-4","text-right"],["class","d-flex flex-wrap",4,"ngFor","ngForOf"],["id","formbtnContainer",1,"col-sm-12","text-right","mr-2"],["href","javascript:void(0)",1,"btn","btn-dark","mr-2",3,"click"],[1,"invalid-feedback"],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter Qty",1,"form-control","text-center","accText",3,"ngClass","name","ngModel","change","ngModelChange"],["qty",""],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter Unit price",1,"form-control","text-right","accText",3,"ngClass","name","ngModel","change","ngModelChange"],["ua",""],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Total Amount",1,"form-control","text-right","accText",3,"ngClass","name","ngModel","change","ngModelChange"],["ta",""],[3,"hidden"],["id","billContent",1,"modal-content",2,"height","100%"],[1,"container-fluid"],[1,"md-form","col-sm-12","col-md-12"],[1,"col-3","text-center"],[1,"col-3","text-right"],[1,"col-3","text-center","pt-2"],[3,"LedgId","IsCallasPopup"],["id","tableContainer",1,"card-body","col-md-12"],[3,"executeRefreshOutsideAngularZone","items","parentScroll","vsUpdate"],["scrollImport",""],[1,"table","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerHead",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[2,"min-width","225px","white-space","pre-line"],[2,"min-width","100px"],[2,"min-width","150px"],[2,"white-space","pre-line"],["autofocus","","type","text",1,"form-control",3,"ngModel","name","id","change","ngModelChange"],["autofocus","","type","text","autocomplete","none","appDatepicker","",1,"form-control",3,"startDate","name","id","change","selected"],["ChallanDate",""],["bindLabel","TN","placeholder","Select Task",3,"virtualScroll","items","name","id","ngModel","loading","change","scrollToEnd","ngModelChange"],["Task",""],["bindLabel","SN","placeholder","Select Sub Task",3,"virtualScroll","items","name","id","ngModel","loading","change","scrollToEnd","ngModelChange"],["Stask",""],["bindLabel","InvN","placeholder","Select Inventory",3,"virtualScroll","items","name","id","ngClass","ngModel","loading","scrollToEnd","change","ngModelChange"],["Inv","","Inventory","ngModel"],["bindLabel","SN","placeholder","Select Site",3,"virtualScroll","items","name","id","ngModel","loading","change","scrollToEnd","ngModelChange"],["bindLabel","UN","placeholder","Select Unit",3,"virtualScroll","items","name","id","ngModel","loading","scrollToEnd","ngModelChange"],["required","","selectOnTab","true","bindLabel","LN","placeholder","Select Ledger",3,"virtualScroll","ngClass","items","name","id","ngModel","loading","ngModelChange"],["Ledger","ngModel","led",""]],template:function(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",0),w.YNc(1,he,54,24,"div",1),w.YNc(2,pe,12,0,"div",2),w.TgZ(3,"div",3),w.TgZ(4,"a",4),w._uU(5," By No "),w.qZA(),w.TgZ(6,"a",5),w._uU(7," By Date "),w.qZA(),w.TgZ(8,"a",6),w._uU(9," By Quantity "),w.qZA(),w.TgZ(10,"a",7),w._uU(11," By Amount "),w.qZA(),w.TgZ(12,"a",8),w._uU(13," By Total Amount "),w.qZA(),w.TgZ(14,"a",9),w._uU(15," By Narration "),w.qZA(),w.TgZ(16,"a",10),w._uU(17," By Bill Status "),w.qZA(),w.qZA(),w.YNc(18,qe,5,4,"div",11),w.YNc(19,$e,10,4,"div",12),w.YNc(20,Ye,2,1,"div",13),w.YNc(21,Ke,36,1,"div",13),w.YNc(22,We,6,1,"div",14),w.TgZ(23,"div",15),w.TgZ(24,"div",16),w.TgZ(25,"button",17),w.NdJ("click",function(){return t.exportheader(1)}),w._UZ(26,"i",18),w.qZA(),w.TgZ(27,"button",19),w.NdJ("click",function(){return t.exportheader(2)}),w._UZ(28,"i",20),w.qZA(),w.TgZ(29,"button",21),w.NdJ("click",function(){return t.exportheader(3)}),w._UZ(30,"i",22),w.qZA(),w.TgZ(31,"button",23),w.NdJ("click",function(){return t.toggleExcelImport()}),w._UZ(32,"i",24),w.qZA(),w.TgZ(33,"button",25),w._UZ(34,"i",26),w.qZA(),w.TgZ(35,"button",27),w.NdJ("clickAllowed",function(){return t.openChallanpopup("add")}),w._UZ(36,"i",28),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.YNc(37,Xe,1,2,"app-challan-addedit",29),w.TgZ(38,"div",30,31),w.YNc(40,gt,51,18,"div",32),w.qZA(),w.TgZ(41,"div",33,34),w.YNc(43,wt,54,18,"div",35),w.qZA(),w.YNc(44,yt,1,2,"app-ledgerhistory",36),w.TgZ(45,"div",37,38),w.TgZ(47,"div",39),w.TgZ(48,"div",40),w.TgZ(49,"div",41),w.TgZ(50,"h4",42),w._uU(51,"Advance Search "),w.qZA(),w.TgZ(52,"button",43),w.NdJ("click",function(){return t._SearchModal.hide()}),w.TgZ(53,"span",44),w._uU(54,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(55,"form",45,46),w.NdJ("ngSubmit",function(){return t.FilterData()}),w.TgZ(57,"div",47),w.TgZ(58,"div",48),w.TgZ(59,"div",49),w.TgZ(60,"label",50),w._uU(61,"Pending Challan"),w.qZA(),w._UZ(62,"br"),w.TgZ(63,"label",51),w.TgZ(64,"input",52),w.NdJ("change",function(){return t.FilterData()})("ngModelChange",function(e){return t.isChallanPending=e}),w.qZA(),w._UZ(65,"span",53),w.qZA(),w.qZA(),w.TgZ(66,"div",54),w.TgZ(67,"label",55),w._uU(68,"Select Account"),w.qZA(),w.TgZ(69,"ng-select",56,57),w.NdJ("ngModelChange",function(e){return t.searchLedger=e}),w.YNc(71,bt,2,2,"ng-template",58),w.YNc(72,Ct,4,1,"ng-template",59),w.qZA(),w.qZA(),w.TgZ(73,"div",54),w.TgZ(74,"label",55),w._uU(75,"Site"),w.qZA(),w.TgZ(76,"ng-select",60),w.NdJ("scrollToEnd",function(){return t.siteService.ScrollDown()})("ngModelChange",function(e){return t.siteService.singleresult=e}),w.YNc(77,qt,2,2,"ng-template",58),w.qZA(),w.qZA(),w.TgZ(78,"div",54),w.TgZ(79,"label",61),w._uU(80,"Inventory"),w.qZA(),w.TgZ(81,"ng-select",62),w.NdJ("scrollToEnd",function(){return t.inventoryService.ScrollDown()})("ngModelChange",function(e){return t.inventoryService.singleresult=e}),w.YNc(82,St,2,2,"ng-template",58),w.qZA(),w.qZA(),w.TgZ(83,"div",54),w.TgZ(84,"label",63),w._uU(85,"Task"),w.qZA(),w.TgZ(86,"ng-select",64),w.NdJ("scrollToEnd",function(){return t.taskService.ScrollDown()})("ngModelChange",function(e){return t.taskService.singleresult=e}),w.YNc(87,Mt,2,2,"ng-template",58),w.qZA(),w.qZA(),w.TgZ(88,"div",54),w.TgZ(89,"label",65),w._uU(90,"Sub Task"),w.qZA(),w.TgZ(91,"ng-select",66),w.NdJ("scrollToEnd",function(){return t.subtaskService.ScrollDown()})("ngModelChange",function(e){return t.subtaskService.singleresult=e}),w.YNc(92,Nt,2,2,"ng-template",58),w.qZA(),w.qZA(),w.TgZ(93,"div",54),w.TgZ(94,"label",67),w._uU(95,"Challan No"),w.qZA(),w.TgZ(96,"input",68,69),w.NdJ("ngModelChange",function(e){return t.challanfilterNo=e}),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(98,"nav",70),w.TgZ(99,"ul",71),w.TgZ(100,"li",72),w.TgZ(101,"button",73),w.NdJ("click",function(e){return t.toggleDropdown(e),t._SearchModal.hide()}),w._UZ(102,"i",74),w._uU(103,"Search "),w.qZA(),w.qZA(),w.TgZ(104,"li",75),w.TgZ(105,"button",76),w.NdJ("click",function(e){return t.clearfilterandloadnewdata(),t.toggleDropdown(e),t._SearchModal.hide()}),w._uU(106," Clear Filter "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(107,"div",77,78),w.TgZ(109,"div",79),w.TgZ(110,"div",80),w.TgZ(111,"div",41),w.TgZ(112,"h4",42),w._uU(113," Inventory Challan"),w.qZA(),w.TgZ(114,"button",43),w.NdJ("click",function(){return t.CloseImagePopup()}),w.TgZ(115,"span",44),w._uU(116,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(117,"form",81,82),w.NdJ("ngSubmit",function(){return w.CHM(n),w.MAs(118).form.valid&&t.onExcelSubmit()}),w.TgZ(119,"div",83),w.TgZ(120,"div",84),w.TgZ(121,"div",85),w.TgZ(122,"div",86),w.TgZ(123,"div",87),w.TgZ(124,"div",88),w.TgZ(125,"app-file-upload",89,90),w.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),w.qZA(),w.TgZ(127,"a",91),w._uU(128," Download sample "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(129,"div",92),w.TgZ(130,"button",93),w._uU(131,"Submit"),w.qZA(),w.TgZ(132,"button",94),w.NdJ("click",function(){return t.CloseImagePopup()}),w._uU(133,"Close"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(134,"div",95,96),w.TgZ(136,"div",97),w.TgZ(137,"div",80),w.TgZ(138,"div",41),w.TgZ(139,"h4",42),w._uU(140,"Imported Challan From Sheet "),w.qZA(),w.TgZ(141,"button",43),w.NdJ("click",function(){return w.CHM(n),w.MAs(135).hide()}),w.TgZ(142,"span",44),w._uU(143,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(144,"div",83,98),w.TgZ(146,"div",86),w.TgZ(147,"form",81,82),w.NdJ("ngSubmit",function(){return w.CHM(n),w.MAs(118).form.valid}),w.YNc(149,Ut,8,6,"div",99),w.qZA(),w.qZA(),w.qZA(),w.TgZ(150,"div",100),w.TgZ(151,"button",101),w.NdJ("click",function(){return t.ChlImportContinue()}),w._uU(152,"Challan Import"),w.qZA(),w.TgZ(153,"button",94),w.NdJ("click",function(){return w.CHM(n),w.MAs(135).hide()}),w._uU(154,"Close"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}2&e&&(w.Udp("display",t.showChallanModal||t.showLedgHistory?"none":"block"),w.Q6J("hidden",!t.isList),w.xp6(1),w.Q6J("ngIf",!t.challanService.IsMobileview),w.xp6(1),w.Q6J("ngIf",t.challanService.IsMobileview),w.xp6(2),w.Q6J("dirsort",t.challanService),w.xp6(2),w.Q6J("dirsort",t.challanService),w.xp6(2),w.Q6J("dirsort",t.challanService),w.xp6(2),w.Q6J("dirsort",t.challanService),w.xp6(2),w.Q6J("dirsort",t.challanService),w.xp6(2),w.Q6J("dirsort",t.challanService),w.xp6(2),w.Q6J("dirsort",t.challanService),w.xp6(2),w.Q6J("ngIf",!t.challanService.IsMobileview),w.xp6(1),w.Q6J("ngIf",t.challanService.result.length>0&&t.challanService.IsMobileview),w.xp6(1),w.Q6J("ngIf",0==t.challanService.result.length&&!t.noDataImage&&t.challanService.IsMobileview),w.xp6(1),w.Q6J("ngIf",0==t.challanService.result.length&&!t.noDataImage&&!t.challanService.IsMobileview),w.xp6(1),w.Q6J("ngIf",0==t.challanService.result.length),w.xp6(13),w.Q6J("SignupId",t.SignupId)("UserId",t.UserId),w.xp6(2),w.Q6J("ngIf",t.showChallanModal),w.xp6(3),w.Q6J("ngIf",t.showBillModal),w.xp6(3),w.Q6J("ngIf",t.showBillModal),w.xp6(1),w.Q6J("ngIf",t.showLedgHistory),w.xp6(20),w.Q6J("ngModel",t.isChallanPending),w.xp6(5),w.Q6J("virtualScroll",!0)("items",t.ChallanLedger)("ngModel",t.searchLedger)("loading",t.ledgerService.loading),w.xp6(7),w.Q6J("virtualScroll",!0)("items",t.siteService.result)("ngModel",t.siteService.singleresult)("loading",t.siteService.loading),w.xp6(5),w.Q6J("virtualScroll",!0)("items",t.inventoryService.result)("ngModel",t.inventoryService.singleresult)("loading",t.inventoryService.loading),w.xp6(5),w.Q6J("virtualScroll",!0)("items",t.taskService.result)("ngModel",t.taskService.singleresult)("loading",t.taskService.loading),w.xp6(5),w.Q6J("virtualScroll",!0)("items",t.subtaskService.result)("ngModel",t.subtaskService.singleresult)("loading",t.subtaskService.loading),w.xp6(5),w.Q6J("ngModel",t.challanfilterNo),w.xp6(29),w.Q6J("filelist",t.excelfileData),w.xp6(24),w.Q6J("ngIf",t.isSubmited))},directives:[a.O5,M.n,N.e,D.i9,_.g,U.oB,k._Y,k.JL,k.F,k.Wl,J.x,k.JJ,k.On,d.w9,d.A3,d.Z2,k.Fj,V.u,R.Y,E.TO,b.gu,Q.R,F.n,a.sg,H.a,b.W2,b.nJ,b.Wo,b.aJ,b.Rw,b.ju,b.MB,b.PM,b.Nd,b.wI,b.CK,O.N,k.Q7,a.mk,P.q,k.c5,G.i,B.Vw],pipes:[Y.s],styles:[".pointer-on-hover[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}"]}),kt),Vt=o(28879),Rt=o(86410),Et=o(3359),Qt=o(61362),Ft=o(49457),Ht=o(69521),Ot=o(65978),Pt=o(8746),Gt=["frm"],$t=["myModal"],Bt=["Ledger"],Yt=["TransactionModal"],jt=["ExportLedgModal"],Kt=["SearchModal"],zt=["LedgerHistoryModal"],Wt=["ionvscroll"],Xt=["ImageModal"],en=["myInqImportedDataViewModal"];function tn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"a"),w._uU(1),w.qZA(),w.TgZ(2,"a",92),w.TgZ(3,"i",93),w.NdJ("click",function(){var e=w.CHM(n).item;return w.oxw(2).OpenLedgerHistoryPopUp(e.UIDN)}),w.qZA(),w.qZA()}if(2&e){var r=t.item;w.xp6(1),w.Oqu(r.LN),w.xp6(1),w.Q6J("hidden",1==r.IsGrp)}}function nn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"li",87),w.TgZ(1,"a",94),w.NdJ("click",function(){return w.CHM(n),w.oxw(2).openChangeModal()}),w._uU(2," Change Group "),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(1),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function rn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"li",95),w.TgZ(1,"button",96),w.NdJ("clickAllowed",function(){return w.CHM(n),w.oxw(2).MultipleVoucherDelete()}),w._uU(2," Delete Multiple "),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(1),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function on(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",75),w.TgZ(1,"form",76),w.NdJ("submit",function(){return w.CHM(n),w.oxw().FilterData()}),w.TgZ(2,"ul",77),w.TgZ(3,"li",78),w.TgZ(4,"button",79),w.NdJ("click",function(){return w.CHM(n),w.oxw().goback()}),w._UZ(5,"i",80),w.qZA(),w.qZA(),w.TgZ(6,"li",81),w.TgZ(7,"ng-select",82,38),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().currentLedger=e}),w.YNc(9,tn,4,2,"ng-template",39),w.qZA(),w.qZA(),w.TgZ(10,"li",83),w.TgZ(11,"button",84),w.NdJ("click",function(){return w.CHM(n),w.oxw().FilterData()}),w._UZ(12,"span",85),w.TgZ(13,"span",86),w._uU(14,"Search"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(15,"li",87),w.TgZ(16,"a",88),w.NdJ("click",function(){return w.CHM(n),w.oxw().exportForTally()}),w._uU(17," Export "),w.qZA(),w.qZA(),w.YNc(18,nn,3,2,"li",89),w.YNc(19,rn,3,2,"li",90),w.TgZ(20,"li",91),w.TgZ(21,"a",88),w.NdJ("click",function(){return w.CHM(n),w.oxw().UnusedLedger()}),w._uU(22," UnUsed "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(7),w.Q6J("virtualScroll",!0)("items",r.companyLedgerService.result)("ngModel",r.currentLedger)("loading",r.companyLedgerService.loading),w.xp6(11),w.Q6J("ngIf",r.isMultipleLedgerDelete),w.xp6(1),w.Q6J("ngIf",r.isMultipleLedgerDelete)}}function an(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",97),w.TgZ(1,"ul",77),w.TgZ(2,"li",98),w.TgZ(3,"ion-icon",99),w.NdJ("click",function(){return w.CHM(n),w.oxw().goback()}),w.qZA(),w.qZA(),w.TgZ(4,"li",98),w.TgZ(5,"ion-icon",100),w.NdJ("click",function(){return w.CHM(n),w.oxw().advSearchM()}),w.qZA(),w.qZA(),w.TgZ(6,"li",101),w.TgZ(7,"div",102),w.TgZ(8,"span"),w.TgZ(9,"strong"),w._uU(10,"Chart Of Accounts"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}}function ln(e,t){if(1&e&&(w.TgZ(0,"div",117),w._uU(1,"Total UnUsed Ledger "),w.TgZ(2,"b"),w._uU(3),w.qZA(),w.qZA()),2&e){var n=w.oxw(3);w.xp6(3),w.hij(" ",n.TotalUnusedLEdger,"")}}function cn(e,t){if(1&e&&(w.TgZ(0,"div",117),w._uU(1),w.qZA()),2&e){var n=w.oxw(3);w.xp6(1),w.hij(" ",n.companyLedgerService.currentShowing,"")}}function sn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",107),w.TgZ(1,"div",108),w.TgZ(2,"div",109),w.TgZ(3,"strong"),w._uU(4,"Chart Of Account (Ledger List)"),w.qZA(),w.qZA(),w.TgZ(5,"div",110),w.TgZ(6,"label",111),w.TgZ(7,"input",112),w.NdJ("change",function(){return w.CHM(n),w.oxw(2).showLedgerOnly()})("ngModelChange",function(e){return w.CHM(n),w.oxw(2).OnlyLedgers=e}),w.qZA(),w._UZ(8,"span",22),w.qZA(),w.TgZ(9,"span",113),w._uU(10,"Show Ledger Only"),w.qZA(),w.qZA(),w.TgZ(11,"div",110),w.TgZ(12,"label",111),w.TgZ(13,"input",114),w.NdJ("change",function(){return w.CHM(n),w.oxw(2).showGroupsOnly()})("ngModelChange",function(e){return w.CHM(n),w.oxw(2).OnlyGroups=e}),w.qZA(),w._UZ(14,"span",22),w.qZA(),w.TgZ(15,"span",113),w._uU(16,"Show Group Only"),w.qZA(),w.qZA(),w.TgZ(17,"div",115),w.YNc(18,ln,4,1,"div",116),w.YNc(19,cn,2,1,"div",116),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(7),w.Q6J("ngModel",r.OnlyLedgers),w.xp6(6),w.Q6J("ngModel",r.OnlyGroups),w.xp6(5),w.Q6J("ngIf",1==r.IsUnusedLedger),w.xp6(1),w.Q6J("ngIf",0==r.IsUnusedLedger)}}function dn(e,t){1&e&&(w.TgZ(0,"span",138),w._uU(1,"Group"),w.qZA())}function un(e,t){1&e&&(w.TgZ(0,"span",138),w._uU(1,"Ledger"),w.qZA())}function gn(e,t){if(1&e&&(w.TgZ(0,"span"),w._uU(1),w.ALo(2,"indianCurrency"),w.qZA()),2&e){var n=w.oxw(2).$implicit;w.xp6(1),w.Oqu(w.lcZ(2,1,n.drAmountSum))}}function hn(e,t){1&e&&w._UZ(0,"span")}function pn(e,t){if(1&e&&(w.TgZ(0,"span"),w._uU(1),w.ALo(2,"indianCurrency"),w.qZA()),2&e){var n=w.oxw(2).$implicit;w.xp6(1),w.Oqu(w.lcZ(2,1,n.crAmountSum))}}function fn(e,t){1&e&&w._UZ(0,"span")}function mn(e,t){if(1&e&&(w.TgZ(0,"span"),w._uU(1),w.ALo(2,"indianCurrency"),w.qZA()),2&e){var n=w.oxw(2).$implicit;w.xp6(1),w.Oqu(w.lcZ(2,1,n.balAmountSum))}}function Zn(e,t){1&e&&w._UZ(0,"span")}function vn(e,t){if(1&e&&(w.TgZ(0,"a",140),w._uU(1),w.qZA()),2&e){var n=t.index;w.s9C("href",t.$implicit.src,w.LSH),w.xp6(1),w.hij(" image",n+1," ")}}function Tn(e,t){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,vn,2,2,"a",139),w.qZA()),2&e){var n=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngForOf",n.Uploadimg)}}function An(e,t){1&e&&(w.TgZ(0,"span",141),w._uU(1,"Active"),w.qZA())}function xn(e,t){1&e&&(w.TgZ(0,"span",142),w._uU(1,"InActive"),w.qZA())}function In(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"li",144),w.TgZ(1,"a",147),w.NdJ("click",function(){w.CHM(n);var e=w.oxw(3).$implicit;return w.oxw(3).OpenTrialBalance(e.UIDN)}),w._uU(2,"Open Trial Balance"),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(6);w.xp6(1),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Ln(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"li",144),w.TgZ(1,"a",150),w.NdJ("clickAllowed",function(){w.CHM(n);var e=w.oxw(3).$implicit;return w.oxw(3).companyLedgerService.delete(e.UIDN)}),w._uU(2," Delete "),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(6);w.xp6(1),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function wn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"ul",143),w.TgZ(1,"li",144),w.TgZ(2,"a",145),w.NdJ("click",function(){w.CHM(n);var e=w.oxw(2).$implicit;return w.oxw(3).routingScroll(e.UIDN,"")}),w._uU(3," Edit "),w.qZA(),w.qZA(),w.YNc(4,In,3,2,"li",146),w.TgZ(5,"li",144),w.TgZ(6,"a",147),w.NdJ("click",function(){w.CHM(n);var e=w.oxw(2).$implicit;return w.oxw(3).LedgerHistory(e,1)}),w._uU(7,"Ledger's Trial Balance"),w.qZA(),w.qZA(),w.TgZ(8,"li",144),w.TgZ(9,"a",148),w.NdJ("click",function(){w.CHM(n);var e=w.oxw(2).$implicit;return w.oxw(3).routingScroll(e.UIDN,!0)}),w._uU(10," Add Group "),w.qZA(),w.qZA(),w.TgZ(11,"li",144),w.TgZ(12,"a",149),w.NdJ("click",function(){w.CHM(n);var e=w.oxw(2).$implicit;return w.oxw(3).routingScroll(e.UIDN,!1)}),w._uU(13," Add Ledger "),w.qZA(),w.qZA(),w.YNc(14,Ln,3,2,"li",146),w.qZA()}if(2&e){var r=w.oxw(2).$implicit,i=w.oxw(3);w.xp6(2),w.Q6J("SignupId",i.SignupId)("UserId",i.UserId),w.xp6(2),w.Q6J("ngIf",1==r.IsGrp),w.xp6(2),w.Q6J("SignupId",i.SignupId)("UserId",i.UserId),w.xp6(3),w.Q6J("hidden",0==r.IsGrp)("SignupId",i.SignupId)("UserId",i.UserId),w.xp6(3),w.Q6J("hidden",0==r.IsGrp)("SignupId",i.SignupId)("UserId",i.UserId),w.xp6(2),w.Q6J("ngIf",null==r.RS||""==r.RS)}}function yn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"tr",127),w.NdJ("keydown.enter",function(){w.CHM(n);var e=w.oxw().$implicit;return w.oxw(3).editOnArrowEvent(e.UIDN,"")})("keydown.arrowdown",function(){w.CHM(n);var e=w.oxw().index;return w.oxw(3).companyLedgerService.arrowDownEvent(e+151)})("keydown.arrowup",function(){w.CHM(n);var e=w.oxw().index;return w.oxw(3).companyLedgerService.arrowUpEvent(e+149)}),w.TgZ(1,"td"),w.TgZ(2,"div",120),w.TgZ(3,"input",128),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().$implicit.Ick=e})("change",function(e){w.CHM(n);var t=w.oxw().$implicit;return w.oxw(3).selectSinglechange(e,t.UIDN)}),w.qZA(),w._UZ(4,"label",129),w.qZA(),w.qZA(),w.TgZ(5,"td"),w._uU(6),w.qZA(),w.TgZ(7,"td"),w._uU(8),w.qZA(),w.TgZ(9,"td"),w.YNc(10,dn,2,0,"span",130),w.YNc(11,un,2,0,"span",130),w.qZA(),w.TgZ(12,"td"),w._uU(13),w.ALo(14,"indianCurrency"),w.qZA(),w.TgZ(15,"td"),w._uU(16),w.ALo(17,"indianCurrency"),w.qZA(),w.TgZ(18,"td"),w.YNc(19,gn,3,3,"span",5),w.YNc(20,hn,1,0,"span",5),w.qZA(),w.TgZ(21,"td"),w.YNc(22,pn,3,3,"span",5),w.YNc(23,fn,1,0,"span",5),w.qZA(),w.TgZ(24,"td"),w.YNc(25,mn,3,3,"span",5),w.YNc(26,Zn,1,0,"span",5),w.qZA(),w.TgZ(27,"td"),w.YNc(28,Tn,2,1,"div",5),w.qZA(),w.TgZ(29,"td"),w.YNc(30,An,2,0,"span",131),w.YNc(31,xn,2,0,"span",132),w.qZA(),w.TgZ(32,"td",133),w.TgZ(33,"div",134),w.TgZ(34,"button",135),w._UZ(35,"i",136),w.qZA(),w.YNc(36,wn,15,12,"ul",137),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(),i=r.index,o=r.$implicit;w.s9C("tabindex",i+150),w.xp6(3),w.MGl("id","item_",i,""),w.Q6J("checked",o.Ick)("ngModel",o.Ick),w.xp6(1),w.MGl("for","item_",i,""),w.xp6(1),w.Udp("padding-left",15*o.Level,"px"),w.ekj("boldfont",1==o.IsGrp),w.xp6(1),w.hij(" ",o.LN," "),w.xp6(2),w.Oqu(o.Cat),w.xp6(2),w.Q6J("ngIf",1==o.IsGrp),w.xp6(1),w.Q6J("ngIf",0==o.IsGrp),w.xp6(2),w.Oqu(w.lcZ(14,24,o.OB)),w.xp6(3),w.Oqu(w.lcZ(17,26,o.CB)),w.xp6(3),w.Q6J("ngIf",null!=o.drAmountSum),w.xp6(1),w.Q6J("ngIf",null==o.drAmountSum),w.xp6(2),w.Q6J("ngIf",null!=o.crAmountSum),w.xp6(1),w.Q6J("ngIf",null==o.crAmountSum),w.xp6(2),w.Q6J("ngIf",null!=o.balAmountSum),w.xp6(1),w.Q6J("ngIf",null==o.balAmountSum),w.xp6(2),w.Q6J("ngIf",null!=o.Uploadimg&&o.Uploadimg.length>0),w.xp6(2),w.Q6J("ngIf",1==o.St),w.xp6(1),w.Q6J("ngIf",0==o.St)}}function bn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"tr"),w.TgZ(1,"td"),w.TgZ(2,"a",153),w.NdJ("click",function(){var e=w.CHM(n).$implicit;return w.oxw(6).openTransaction(e.VType,e.VId,e.BId,!1)}),w._uU(3),w.qZA(),w.qZA(),w.TgZ(4,"td"),w._uU(5),w.qZA(),w.TgZ(6,"td"),w._uU(7),w.qZA(),w.TgZ(8,"td"),w._uU(9),w.ALo(10,"indianCurrency"),w.qZA(),w.TgZ(11,"td"),w._UZ(12,"dateformatter",154),w.qZA(),w.TgZ(13,"td"),w._uU(14),w.qZA(),w.TgZ(15,"td"),w._uU(16),w.ALo(17,"indianCurrency"),w.qZA(),w.TgZ(18,"td"),w._uU(19),w.ALo(20,"indianCurrency"),w.qZA(),w.TgZ(21,"td"),w._uU(22),w.qZA(),w.TgZ(23,"td"),w._uU(24),w.qZA(),w.TgZ(25,"td"),w._UZ(26,"dateformatter",155),w.qZA(),w.qZA()}if(2&e){var r=t.$implicit;w.xp6(3),w.hij(" ",r.VNo," "),w.xp6(2),w.hij(" ",r.VType," "),w.xp6(2),w.hij(" ",r.ParentGroupLedger," "),w.xp6(2),w.hij(" ",w.lcZ(10,11,r.OBalance)," "),w.xp6(3),w.s9C("dateValue",r.VDate),w.xp6(2),w.hij(" ",r.Narr," "),w.xp6(2),w.hij(" ",w.lcZ(17,13,r.VDrAmt)," "),w.xp6(3),w.hij(" ",w.lcZ(20,15,r.VCrAmt)," "),w.xp6(3),w.hij(" ",r.ActionModule," "),w.xp6(2),w.hij(" ",r.UserName," "),w.xp6(2),w.s9C("dateValue",r.MD)}}function Cn(e,t){if(1&e&&(w.ynx(0),w.TgZ(1,"tr"),w.TgZ(2,"td",151),w.TgZ(3,"table",152),w.TgZ(4,"tr"),w.TgZ(5,"th"),w._uU(6,"VoucherNo"),w.qZA(),w.TgZ(7,"th"),w._uU(8,"VoucherType"),w.qZA(),w.TgZ(9,"th"),w._uU(10,"Parent"),w.qZA(),w.TgZ(11,"th"),w._uU(12,"OpeningBalance"),w.qZA(),w.TgZ(13,"th"),w._uU(14,"VoucherDate"),w.qZA(),w.TgZ(15,"th"),w._uU(16,"Narration"),w.qZA(),w.TgZ(17,"th"),w._uU(18,"DrAmount"),w.qZA(),w.TgZ(19,"th"),w._uU(20,"CrAmount"),w.qZA(),w.TgZ(21,"th"),w._uU(22,"ActionModule"),w.qZA(),w.TgZ(23,"th"),w._uU(24,"Modified-By"),w.qZA(),w.TgZ(25,"th"),w._uU(26,"Modified/Created DateTime"),w.qZA(),w.qZA(),w.YNc(27,bn,27,17,"tr",125),w.qZA(),w.qZA(),w.qZA(),w.BQk()),2&e){var n=w.oxw(2).$implicit;w.xp6(27),w.Q6J("ngForOf",n.Remarks)}}function qn(e,t){if(1&e&&(w.ynx(0),w.YNc(1,Cn,28,1,"ng-container",5),w.BQk()),2&e){var n=w.oxw().$implicit;w.xp6(1),w.Q6J("ngIf",null!=n.Remarks&&n.Remarks.length>0)}}function Sn(e,t){if(1&e&&(w.ynx(0),w.YNc(1,yn,37,28,"tr",126),w.YNc(2,qn,2,1,"ng-container",5),w.BQk()),2&e){var n=t.$implicit,r=w.oxw(3);w.xp6(1),w.Q6J("ngIf",1==n.IsGrp&&1==r.OnlyGroups||0==r.OnlyGroups),w.xp6(1),w.Q6J("ngIf",1==n.Expd)}}function Mn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"table",118),w.TgZ(1,"thead",119),w.TgZ(2,"tr"),w.TgZ(3,"th"),w.TgZ(4,"div",120),w.TgZ(5,"input",121),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw(2).selectedAll=e})("change",function(e){return w.CHM(n),w.oxw(2).selectAllchange(e)}),w.qZA(),w._UZ(6,"label",122),w.qZA(),w.qZA(),w.TgZ(7,"th"),w._uU(8,"Ledger "),w.qZA(),w.TgZ(9,"th"),w._uU(10,"Category"),w.qZA(),w.TgZ(11,"th"),w._uU(12,"Ledger Type"),w.qZA(),w.TgZ(13,"th"),w._uU(14,"Opening Balance"),w.qZA(),w.TgZ(15,"th"),w._uU(16,"Current Balance"),w.qZA(),w.TgZ(17,"th"),w._uU(18,"Dabit "),w.qZA(),w.TgZ(19,"th"),w._uU(20,"Credit "),w.qZA(),w.TgZ(21,"th"),w._uU(22,"Balance"),w.qZA(),w.TgZ(23,"th"),w._uU(24,"Image"),w.qZA(),w.TgZ(25,"th"),w._uU(26,"Status"),w.qZA(),w.TgZ(27,"th"),w._uU(28,"Actions"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(29,"tbody",123,124),w.YNc(31,Sn,3,2,"ng-container",125),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(5),w.Q6J("checked",r.selectedAll)("ngModel",r.selectedAll),w.xp6(26),w.Q6J("ngForOf",r.ledgerData)}}function Nn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",156),w.TgZ(1,"table",157),w.TgZ(2,"thead",119),w.TgZ(3,"tr"),w.TgZ(4,"th"),w.TgZ(5,"div",120),w.TgZ(6,"input",121),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw(2).selectedAll=e})("change",function(e){return w.CHM(n),w.oxw(2).selectAllchange(e)}),w.qZA(),w._UZ(7,"label",122),w.qZA(),w.qZA(),w.TgZ(8,"th"),w._uU(9,"Ledger "),w.qZA(),w.TgZ(10,"th"),w._uU(11,"Category"),w.qZA(),w.TgZ(12,"th"),w._uU(13,"Ledger Type"),w.qZA(),w.TgZ(14,"th"),w._uU(15,"Opening Balance"),w.qZA(),w.TgZ(16,"th"),w._uU(17,"Current Balance"),w.qZA(),w.TgZ(18,"th"),w._uU(19,"Image"),w.qZA(),w.TgZ(20,"th"),w._uU(21,"Status"),w.qZA(),w.TgZ(22,"th"),w._uU(23,"Actions"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw(2);w.xp6(6),w.Q6J("checked",r.selectedAll)("ngModel",r.selectedAll)}}function Dn(e,t){if(1&e&&(w.TgZ(0,"div",103),w.YNc(1,sn,20,4,"div",104),w.TgZ(2,"div"),w.YNc(3,Mn,32,3,"table",105),w.qZA(),w.YNc(4,Nn,24,2,"div",106),w.qZA()),2&e){var n=w.oxw();w.xp6(1),w.Q6J("ngIf",0==(n.companyLedgerService.isMobile||n.companyLedgerService.IsMobileview)),w.xp6(2),w.Q6J("ngIf",n.ledgerData.length>0),w.xp6(1),w.Q6J("ngIf",n.ledgerData.length>0)}}function _n(e,t){1&e&&(w.TgZ(0,"span",138),w._uU(1,"Group"),w.qZA())}function Un(e,t){1&e&&(w.TgZ(0,"span",138),w._uU(1,"Ledger"),w.qZA())}function kn(e,t){if(1&e&&(w.TgZ(0,"a",173),w._UZ(1,"i",174),w._uU(2,"Group "),w.qZA()),2&e){var n=w.oxw().$implicit,r=w.oxw(2);w.MGl("rLink","/transactions/ledgeradd/",n.UIDN,"/true"),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Jn(e,t){if(1&e&&(w.TgZ(0,"a",175),w._UZ(1,"i",174),w._uU(2,"Ledger "),w.qZA()),2&e){var n=w.oxw().$implicit,r=w.oxw(2);w.MGl("rLink","/transactions/ledgeradd/",n.UIDN,"/false"),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Vn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"ion-card",163),w.NdJ("click",function(){var e=w.CHM(n).$implicit;return e.Ick=!e.Ick}),w.TgZ(1,"div"),w.TgZ(2,"ion-row"),w.TgZ(3,"ion-col"),w.TgZ(4,"div",164),w.TgZ(5,"h5"),w._uU(6),w.qZA(),w.qZA(),w.qZA(),w.TgZ(7,"ion-col",165),w.YNc(8,_n,2,0,"span",130),w.YNc(9,Un,2,0,"span",130),w.qZA(),w.qZA(),w.TgZ(10,"ion-row"),w.TgZ(11,"ion-col",166),w.YNc(12,kn,3,3,"a",167),w.YNc(13,Jn,3,3,"a",168),w.qZA(),w.TgZ(14,"ion-col",165),w.TgZ(15,"a",169),w.NdJ("click",function(){var e=w.CHM(n).$implicit;return w.oxw(2).routingScroll(e.UIDN,"")}),w._UZ(16,"ion-icon",170),w.qZA(),w.TgZ(17,"a",171),w.NdJ("clickAllowed",function(){var e=w.CHM(n).$implicit;return w.oxw(2).companyLedgerService.delete(e.UIDN)}),w._UZ(18,"ion-icon",172),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=t.$implicit,i=w.oxw(2);w.ekj("rowselected",r.Ick),w.xp6(4),w.Udp("padding-left",5*r.Level,"px"),w.ekj("boldfont",1==r.IsGrp),w.xp6(2),w.Oqu(r.LN),w.xp6(2),w.Q6J("ngIf",1==r.IsGrp),w.xp6(1),w.Q6J("ngIf",0==r.IsGrp),w.xp6(3),w.Q6J("ngIf",1==r.IsGrp),w.xp6(1),w.Q6J("ngIf",1==r.IsGrp),w.xp6(2),w.Q6J("SignupId",i.SignupId)("UserId",i.UserId),w.xp6(2),w.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Rn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",158),w.TgZ(1,"ion-content"),w.TgZ(2,"ion-refresher",159),w.NdJ("ionRefresh",function(e){return w.CHM(n),w.oxw().doRefresh(e)}),w._UZ(3,"ion-refresher-content",160),w.qZA(),w.TgZ(4,"ion-virtual-scroll",161),w.YNc(5,Vn,19,15,"ion-card",162),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(4),w.Q6J("items",r.ledgerData)}}function En(e,t){1&e&&(w.TgZ(0,"ion-card",177),w.TgZ(1,"ion-row"),w.TgZ(2,"ion-col"),w._UZ(3,"ion-skeleton-text",178),w.qZA(),w.TgZ(4,"ion-col",179),w._UZ(5,"ion-skeleton-text",178),w.qZA(),w.qZA(),w.TgZ(6,"ion-row"),w.TgZ(7,"ion-col",166),w._UZ(8,"ion-skeleton-text",178),w.qZA(),w.TgZ(9,"ion-col",179),w._UZ(10,"ion-skeleton-text",178),w.qZA(),w.qZA(),w.qZA())}function Qn(e,t){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,En,11,0,"ion-card",176),w.qZA()),2&e){var n=w.oxw();w.xp6(1),w.Q6J("ngForOf",n.companyLedgerService.noImageRepeat)}}function Fn(e,t){1&e&&(w.TgZ(0,"tr"),w.TgZ(1,"td",182),w._UZ(2,"ion-skeleton-text",181),w.qZA(),w.TgZ(3,"td"),w._UZ(4,"ion-skeleton-text",181),w.qZA(),w.TgZ(5,"td"),w._UZ(6,"ion-skeleton-text",181),w.qZA(),w.TgZ(7,"td"),w._UZ(8,"ion-skeleton-text",181),w.qZA(),w.TgZ(9,"td"),w._UZ(10,"ion-skeleton-text",181),w.qZA(),w.TgZ(11,"td"),w._UZ(12,"ion-skeleton-text",181),w.qZA(),w.TgZ(13,"td"),w._UZ(14,"ion-skeleton-text",181),w.qZA(),w.TgZ(15,"td",133),w._UZ(16,"ion-skeleton-text",181),w.qZA(),w.qZA())}function Hn(e,t){if(1&e&&(w.TgZ(0,"div"),w.TgZ(1,"table",180),w.TgZ(2,"thead",119),w.TgZ(3,"tr"),w.TgZ(4,"th"),w._UZ(5,"ion-skeleton-text",181),w.qZA(),w.TgZ(6,"th"),w._UZ(7,"ion-skeleton-text",181),w.qZA(),w.TgZ(8,"th"),w._UZ(9,"ion-skeleton-text",181),w.qZA(),w.TgZ(10,"th"),w._UZ(11,"ion-skeleton-text",181),w.qZA(),w.TgZ(12,"th"),w._UZ(13,"ion-skeleton-text",181),w.qZA(),w.TgZ(14,"th"),w._UZ(15,"ion-skeleton-text",181),w.qZA(),w.TgZ(16,"th"),w._UZ(17,"ion-skeleton-text",181),w.qZA(),w.TgZ(18,"th"),w._UZ(19,"ion-skeleton-text",181),w.qZA(),w.qZA(),w.qZA(),w.TgZ(20,"tbody",123),w.YNc(21,Fn,17,0,"tr",125),w.qZA(),w.qZA(),w.qZA()),2&e){var n=w.oxw();w.xp6(21),w.Q6J("ngForOf",n.companyLedgerService.noImageRepeat)}}function On(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",183),w.TgZ(1,"div",184),w.TgZ(2,"div",185),w.NdJ("click",function(){return w.CHM(n),w.oxw().exportheader(1)}),w._UZ(3,"i",186),w.qZA(),w.TgZ(4,"div",187),w.NdJ("click",function(){return w.CHM(n),w.oxw().exportheader(2)}),w._UZ(5,"i",188),w.qZA(),w.TgZ(6,"div",189),w.NdJ("click",function(){return w.CHM(n),w.oxw().toggleExcelImport()}),w._UZ(7,"i",190),w.qZA(),w.TgZ(8,"div",191),w.NdJ("click",function(){return w.CHM(n),w.oxw().exportheader(3)}),w._UZ(9,"i",192),w.qZA(),w.TgZ(10,"div",193),w._UZ(11,"i",194),w.qZA(),w.TgZ(12,"button",195),w.TgZ(13,"span"),w._uU(14,"L"),w.qZA(),w.qZA(),w.TgZ(15,"button",196),w.TgZ(16,"span"),w._uU(17,"G"),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(12),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId),w.xp6(3),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Pn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",183),w.TgZ(1,"div",184),w.TgZ(2,"button",197),w.NdJ("click",function(){return w.CHM(n),w.oxw().UnusedLedger()}),w._UZ(3,"i",198),w.qZA(),w.TgZ(4,"div",185),w.NdJ("click",function(){return w.CHM(n),w.oxw().exportheader(1)}),w._UZ(5,"i",186),w.qZA(),w.TgZ(6,"div",187),w.NdJ("click",function(){return w.CHM(n),w.oxw().exportheader(2)}),w._UZ(7,"i",188),w.qZA(),w.TgZ(8,"div",199),w.NdJ("click",function(){return w.CHM(n),w.oxw().exportheader(3)}),w._UZ(9,"i",192),w.qZA(),w.TgZ(10,"button",200),w.NdJ("click",function(){return w.CHM(n),w.oxw().MultipleVoucherDelete()}),w._UZ(11,"i",201),w.qZA(),w.TgZ(12,"div",193),w._UZ(13,"i",194),w.qZA(),w.TgZ(14,"button",195),w.TgZ(15,"span"),w._uU(16,"L"),w.qZA(),w.qZA(),w.TgZ(17,"button",196),w.TgZ(18,"span"),w._uU(19,"G"),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(14),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId),w.xp6(3),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Gn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",202),w.TgZ(1,"div",203),w.TgZ(2,"div",14),w.TgZ(3,"h4",15),w._uU(4),w.qZA(),w.TgZ(5,"i",204),w.NdJ("click",function(){w.CHM(n);var e=w.oxw();return e.filterService.changeFilterWithbottomfilter(!0,!0,"Account List"),e.onTransactionSubmit(null)}),w.qZA(),w.qZA(),w.TgZ(6,"div",18),w.TgZ(7,"app-account-addedit",205),w.NdJ("TransactionredirectAction",function(e){return w.CHM(n),w.oxw().onTransactionSubmit(e)}),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(4),w.Oqu(r.VoucherType),w.xp6(3),w.Q6J("TransactionredirectOnCancel",!1)("IsDuplicate",r.Duplicate)("VoucherType",r.VoucherType)("VoucherId",r.VoucherId)}}function $n(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div"),w.TgZ(1,"strong",206),w._uU(2,"To Date :"),w.qZA(),w.TgZ(3,"input",207,208),w.NdJ("selected",function(e){return w.CHM(n),w.oxw().onToDateSelect(e)}),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(3),w.Q6J("startDate",r._Todate)}}function Bn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",202),w.TgZ(1,"div",13),w.TgZ(2,"div",14),w.TgZ(3,"h4",15),w._uU(4,"Ledger History"),w.qZA(),w.TgZ(5,"button",16),w.NdJ("click",function(){return w.CHM(n),w.oxw().onLedgHistoryHide()}),w.TgZ(6,"span",17),w._uU(7,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(8,"div",18),w._UZ(9,"app-ledgerhistory",209),w.qZA(),w._UZ(10,"div",67),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(9),w.Q6J("LedgId",r._LedgerId)("IsCallasPopup",!0)}}function Yn(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"a"),w._uU(1),w.qZA(),w.TgZ(2,"a",92),w.TgZ(3,"i",93),w.NdJ("click",function(){var e=w.CHM(n).item;return w.oxw().OpenLedgerHistoryPopUp(e.UIDN)}),w.qZA(),w.qZA()}if(2&e){var r=t.item;w.xp6(1),w.Oqu(r.LN),w.xp6(1),w.Q6J("hidden",1==r.IsGrp)}}function jn(e,t){1&e&&w._uU(0),2&e&&w.hij(" ",t.item.LN," ")}function Kn(e,t){if(1&e&&(w.TgZ(0,"a"),w._uU(1),w.qZA(),w.TgZ(2,"a",211),w._UZ(3,"i",212),w.qZA()),2&e){var n=t.item,r=w.oxw(2);w.xp6(1),w.Oqu(n.LN),w.xp6(1),w.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function zn(e,t){1&e&&(w.YNc(0,jn,1,1,"ng-template",210),w.YNc(1,Kn,4,3,"ng-template",39))}function Wn(e,t){if(1&e&&(w.TgZ(0,"div",220),w._uU(1," Total "),w.TgZ(2,"b"),w._uU(3),w.qZA(),w._uU(4," inquiry(s) imported And We have found total "),w.TgZ(5,"b"),w._uU(6),w.qZA(),w._uU(7," duplicate inquiry(s). You may download already existed records "),w.qZA()),2&e){var n=w.oxw(2);w.xp6(3),w.Oqu(n.importeddataAPI.length-n.RepeatcontactFromAPI.length),w.xp6(3),w.Oqu(n.RepeatcontactFromAPI.length)}}function Xn(e,t){1&e&&(w.TgZ(0,"thead",119),w.TgZ(1,"tr"),w.TgZ(2,"th",221),w._uU(3,"COMMENTS"),w.qZA(),w.TgZ(4,"th",222),w._uU(5,"LEDGER NAME"),w.qZA(),w.TgZ(6,"th",223),w._uU(7,"PARENT LEDGER NAME"),w.qZA(),w.TgZ(8,"th",222),w._uU(9,"OPENING BALANCE"),w.qZA(),w.TgZ(10,"th",222),w._uU(11,"LEDGER TYPE"),w.qZA(),w.TgZ(12,"th",222),w._uU(13,"AFFECTEDDATE"),w.qZA(),w.TgZ(14,"th",222),w._uU(15,"AADHAR NO"),w.qZA(),w.TgZ(16,"th",222),w._uU(17,"CUSTOMER FULL NAME"),w.qZA(),w.TgZ(18,"th",222),w._uU(19,"CUSTOMER ADDRESS"),w.qZA(),w.TgZ(20,"th",222),w._uU(21,"CONTACT NO"),w.qZA(),w.TgZ(22,"th",222),w._uU(23,"EMAIL"),w.qZA(),w.TgZ(24,"th",222),w._uU(25,"PAN NO"),w.qZA(),w.qZA(),w.qZA())}function er(e,t){if(1&e){var n=w.EpF();w.ynx(0),w.TgZ(1,"tr"),w.TgZ(2,"td",224),w._uU(3),w.qZA(),w.TgZ(4,"td"),w.TgZ(5,"input",225),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.LN=e}),w.qZA(),w.qZA(),w.TgZ(6,"td"),w.TgZ(7,"ng-select",226,227),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.PI=e}),w.qZA(),w.qZA(),w.TgZ(9,"td"),w.TgZ(10,"input",228),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.OB=e}),w.qZA(),w.qZA(),w.TgZ(11,"td"),w.TgZ(12,"input",225),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.LT=e}),w.qZA(),w.qZA(),w.TgZ(13,"td"),w.TgZ(14,"input",229,230),w.NdJ("selected",function(e){var t=w.CHM(n),r=t.index,i=t.$implicit;return w.oxw(2).AffectedDateSelect(e,r,i)}),w.qZA(),w.qZA(),w.TgZ(16,"td"),w.TgZ(17,"input",225),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.AdharNo=e}),w.qZA(),w.qZA(),w.TgZ(18,"td"),w.TgZ(19,"input",225),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.FullNm=e}),w.qZA(),w.qZA(),w.TgZ(20,"td"),w.TgZ(21,"input",225),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Addr=e}),w.qZA(),w.qZA(),w.TgZ(22,"td"),w.TgZ(23,"input",225),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.CNO=e}),w.qZA(),w.qZA(),w.TgZ(24,"td"),w.TgZ(25,"input",225),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Eml=e}),w.qZA(),w.qZA(),w.TgZ(26,"td"),w.TgZ(27,"input",225),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.PanNo=e}),w.qZA(),w.qZA(),w.qZA(),w.BQk()}if(2&e){var r=t.$implicit,i=t.index,o=w.oxw(2);w.xp6(1),w.ekj("negative",r.invalidProp)("positive",r.RepeatContactProp),w.xp6(2),w.hij(" ",r.comments," "),w.xp6(2),w.MGl("name","LN_",i,""),w.MGl("id","LN_",i,""),w.Q6J("ngModel",r.LN),w.xp6(2),w.MGl("id","PN_",i,""),w.MGl("name","PN_",i,""),w.Q6J("items",o.GroupLedgers)("ngModel",r.PI)("loading",o.companyLedgerService.loading),w.xp6(3),w.MGl("name","OB_",i,""),w.MGl("id","OB_",i,""),w.Q6J("ngModel",r.OB),w.xp6(2),w.MGl("name","LT_",i,""),w.MGl("id","LT_",i,""),w.Q6J("ngModel",r.LT),w.xp6(2),w.MGl("name","AffDt_",i,""),w.MGl("id","AffDt_",i,""),w.Q6J("startDate",r.AffDt),w.xp6(3),w.MGl("name","AdharNo_",i,""),w.MGl("id","AdharNo_",i,""),w.Q6J("ngModel",r.AdharNo),w.xp6(2),w.MGl("name","FullNm_",i,""),w.MGl("id","FullNm_",i,""),w.Q6J("ngModel",r.FullNm),w.xp6(2),w.MGl("name","Addr_",i,""),w.MGl("id","Addr_",i,""),w.Q6J("ngModel",r.Addr),w.xp6(2),w.MGl("name","CNO_",i,""),w.MGl("id","CNO_",i,""),w.Q6J("ngModel",r.CNO),w.xp6(2),w.MGl("name","Eml_",i,""),w.MGl("id","Eml_",i,""),w.Q6J("ngModel",r.Eml),w.xp6(2),w.MGl("name","PanNo_",i,""),w.MGl("id","PanNo_",i,""),w.Q6J("ngModel",r.PanNo)}}function tr(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",213),w.TgZ(1,"h5"),w._uU(2),w.qZA(),w.YNc(3,Wn,8,2,"div",214),w.TgZ(4,"virtual-scroller",215,216),w.NdJ("vsUpdate",function(){return w.CHM(n),w.oxw().changeDetectorRef.detectChanges()}),w.TgZ(6,"table",217),w.YNc(7,Xn,26,0,"thead",218),w.TgZ(8,"tbody",123,124),w.YNc(10,er,28,40,"ng-container",219),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.MAs(5),i=w.oxw(),o=w.MAs(138);w.xp6(2),w.HOy("Total Records: ",i.importeddataAPI.length," | Valid Records:",i.importeddataAPI.length-i.inValidEntry," | Invalid Records: ",i.inValidEntry," | Total Unique Records: ",i.importeddataAPI.length-i.uniqueEntry," "),w.xp6(1),w.Q6J("ngIf",i.RepeatcontactFromAPI.length>0),w.xp6(1),w.Q6J("executeRefreshOutsideAngularZone",!0)("items",i.importeddataAPI)("parentScroll",o),w.xp6(3),w.Q6J("ngIf",i.importeddataAPI.length>0),w.xp6(3),w.Q6J("ngForOf",r.viewPortItems)("ngForTrackBy",i.ImportTrackByFunction)}}var nr=function(e){return{"is-invalid":e}},rr=function(){var e=function(){function e(n,r,i,o,a,l,c,s,d,u,g){var p=this;t(this,e),this.changeDetectorRef=n,this.filterService=r,this.companyLedgerService=i,this.natureofTranService=o,this.LedgerhisService=a,this.inventoryService=l,this.route=c,this.router=s,this.alertService=d,this.location=u,this.alert=g,this.popupwindow="",this.isList=!0,this.isCollapsed=!0,this.isScrollEnabled=!0,this.OnlyGroups=!1,this.showTrailBal=!1,this.OnlyLedgers=!1,this.httpfunction=new T.r,this.ledgerData=[],this.isNativeApp=!1,this._sgId=0,this.selectedAll=!1,this.isMultipleLedgerDelete=!1,this.noDataImage=!1,this.GroupLedgers=[],this.GroupLedgersWithoutSelectedItem=[],this.isRoundOffSelected=!1,this.isResevredgroup=!1,this.isIndirectIncome=!1,this.isFixedAssets=!1,this.IsStockLedger=!1,this.IsUnusedLedger=!1,this.TotalUnusedLEdger=0,this.Filter=new Ot.Jw,this._chkOpening=!1,this._LedgerId=0,this.drAmountSum=0,this.crAmountSum=0,this.balAmountSum=0,this.IsImportHidden=!0,this.isSubmited=!1,this.importeddataAPI=[],this.inValidEntry=[],this.uniqueEntry=[],this.RepeatcontactFromAPI=[],this.showLedegrHistoryModal=!1,this.showTransactionModal=!1,this.VoucherType="",this.VoucherId=0,this.currentScrollPosition=0,this.Duplicate=!1,this.SignupId=this.companyLedgerService.getSignupId,this.UserId=this.companyLedgerService.GetUserId,this.companyLedgerService.GetAlldatawithsub(!0),this.companyLedgerService.isGetSubscribe=!0,this.subscription=this.companyLedgerService.resultObs.subscribe(function(){if(p.ledgerData=JSON.parse(JSON.stringify(p.companyLedgerService.result)),p.GroupLedgers=p.companyLedgerService.result.filter(function(e){return 1==e.IsGrp&&2!=e.St}),""!=p.httpfunction.getStorage("_filterData")){var e=JSON.parse(p.httpfunction.getStorage("_filterData"));if(null!=e){var t=e.find(function(e){return"CompanyLedger"==e.Module});(null!=t||null!=t)&&(p.currentLedger=t.SearchFilter,p.FilterData())}}}),this.companyLedgerService.singleresult=new h.dJ,this.parentLedger=null,this.companyLedgerService.singleresult.St=Qt.D.Active,this.companyLedgerService.singleresult.PI=0,this.companyLedgerService.singleresult.CI=this.companyLedgerService.getCompanyId,this.companyLedgerService.singleresult.Cat="",this._Todate=new Date,this.companyLedgerService.ExportColumn=[{title:"Ledger",dataKey:"LN",size:260},{title:"Category",dataKey:"Cat",size:100},{title:"Opening Balance",dataKey:"OB",size:100},{title:"Current Balance",dataKey:"CB",size:100}],this.companyLedgerService.ExportName="CompanyLedger_List",this.companyLedgerService.ExportCompanyName=this.companyLedgerService.getCompanyData.CN}return r(e,[{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList)}},{key:"cancel",value:function(){this.httpfunction.scrolltop(),this.isScrollEnabled=!0}},{key:"doRefresh",value:function(e){this.filterService.updatedata(!0,"Chart Of Accounts"),this.companyLedgerService.refreshEvent=e.target,this.FilterData()}},{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.companyLedgerService.arrowDownEvent(150)},800),setTimeout(function(){e.filterService.changeFilterWithbottomfilter(!1,!1,"Chart Of Accounts"),e.companyLedgerService.arrowDownEvent(e.companyLedgerService.selectedRowIndex)},200),this.SignupId=this.companyLedgerService.getSignupId,this.UserId=this.companyLedgerService.GetUserId,this.httpfunction.scrolltop(),this.isScrollEnabled=!0,this.companyLedgerService.refreshEvent=null,setTimeout(function(){null!=e.searchControl&&e.searchControl.focus()},200);var t=this;if(null!=this.transactionModal&&(this.transactionModal.onEsc=function(){t.showTransactionModal=!1,t.transactionModal.hide(),document.scrollingElement.scrollTop=t.currentScrollPosition}),null!=this._LedgerHistoryModal){var n=this;this._LedgerHistoryModal.onEsc=function(){n._LedgerHistoryModal.hide(),document.scrollingElement.scrollTop=n.currentScrollPosition,this._LedgerId=0}}this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this)),this.GroupLedgers=this.companyLedgerService.result.filter(function(e){return 1==e.IsGrp&&2!=e.St})}},{key:"goback",value:function(){this.location.back()}},{key:"routingScroll",value:function(e,t){scrollposition=document.scrollingElement.scrollTop,this.router.navigate(""===t?["/transactions/ledgeredit/"+e]:["/transactions/ledgeradd/"+e+"/"+t])}},{key:"ngOnDestroy",value:function(){null!=this.subscription&&this.subscription.unsubscribe()}},{key:"showTrialBal",value:function(){var e=this;this.ledgerData.forEach(function(t){e.LedgerhisService.LedgerHistoryById(t.UIDN).subscribe(function(e){t.drAmountSum=e.data.reduce(function(e,t){return e+t.VDrAmt},0),t.crAmountSum=e.data.reduce(function(e,t){return e+t.VCrAmt},0),t.balAmountSum=t.drAmountSum-t.crAmountSum})})}},{key:"LedgerHistory",value:function(e,t){e.Expd?setTimeout(function(){e.Expd=!e.Expd},1e3):(e.Expd=!e.Expd,this.LedgerHistoryById(e,t))}},{key:"LedgerHistoryById",value:function(e,t){null!=e.UIDN&&e.UIDN>0&&(this.LedgerhisService.showMessage=!1,null!=e.Remarks&&e.Remarks.length>0||this.LedgerhisService.LedgerHistoryById(e.UIDN).subscribe(function(n){1==t?(e.drAmountSum=n.data.reduce(function(e,t){return e+t.VDrAmt},0),e.crAmountSum=n.data.reduce(function(e,t){return e+t.VCrAmt},0),e.balAmountSum=e.drAmountSum-e.crAmountSum):e.Remarks=n.data}))}},{key:"showGroupsOnly",value:function(){this.httpfunction.IsMobileview()||this.showMobileGroupsOnly()}},{key:"showMobileGroupsOnly",value:function(){var e=this;this.ledgerData=this.OnlyGroups?this.companyLedgerService.result.filter(null!=this.currentLedger&&this.currentLedger.UIDN>0?function(t){return 1==t.IsGrp&&(t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString()))}:function(e){return 1==e.IsGrp}):null!=this.currentLedger&&this.currentLedger.UIDN>0?this.companyLedgerService.result.filter(function(t){return t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString())}):this.companyLedgerService.result}},{key:"showLedgerOnly",value:function(){this.httpfunction.IsMobileview()||this.showMobileLedgersOnly()}},{key:"showMobileLedgersOnly",value:function(){var e=this;this.ledgerData=this.OnlyLedgers?this.companyLedgerService.result.filter(null!=this.currentLedger&&this.currentLedger.UIDN>0?function(t){return 0==t.IsGrp&&(t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString()))}:function(e){return 0==e.IsGrp}):null!=this.currentLedger&&this.currentLedger.UIDN>0?this.companyLedgerService.result.filter(function(t){return t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString())}):this.companyLedgerService.result}},{key:"FilterData",value:function(){var e=this;if(window.scrollTo(0,0),null!=this.currentLedger&&this.currentLedger.UIDN>0){var t=this.companyLedgerService.result.filter(function(t){return t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString())});this.filterService.fillLocalData(t[0],"CompanyLedger")}else this.filterService.fillLocalData("","CompanyLedger");this.showMobileGroupsOnly(),document.scrollingElement.scrollTop=scrollposition,scrollposition=0,this.companyLedgerService.hidesearch()}},{key:"OnKeydown",value:function(e){var t=e.key||e.keyCode;("g"==t||"F1"==t)&&e.altKey&&(this.OnlyGroups=!this.OnlyGroups),"p"==t&&e.altKey&&this.exportheader(1),"s"==t&&e.altKey&&this.exportheader(2),"e"==t&&e.altKey&&e.ctrlKey&&this.exportheader(3)}},{key:"OnCancel",value:function(){this._chkOpening=!1,this._ExportLedgModal.hide()}},{key:"onToDateSelect",value:function(e){this._Todate=e}},{key:"exportheader",value:function(e){var t="All";null!=this.currentLedger&&null!=this.currentLedger&&(t=this.currentLedger.LN),this.companyLedgerService.filterHeader="  Ledger : "+t+" ",this.companyLedgerService.Export(e)}},{key:"OnExportSubmit",value:function(){var e=new A.p;e.chkOpening=this._chkOpening,e.Todate=this._Todate,e.CompanyId=this.companyLedgerService.getCompanyId,e.SignupId=this.companyLedgerService.getSignupId,this.companyLedgerService.page=1,this.companyLedgerService.ExportLedger(e).subscribe(function(e){var t=new Date,n=new Blob([e.data],{type:"text/xml"});(0,Ft.saveAs)(n,"LedgerExport_"+t.toISOString()+".xml")})}},{key:"exportForTally",value:function(){this._ExportLedgModal.show(),this._SearchModal.hide()}},{key:"openTransaction",value:function(e,t,n,r){n>0&&null!=n&&this.router.navigate(["/marketing/bookingform/"+n]),""==t&&(t=0),this.currentScrollPosition=document.scrollingElement.scrollTop,this.VoucherType=e,this.showTransactionModal=!0,this.VoucherId=t,this.Duplicate=r,this.transactionModal.show()}},{key:"onTransactionSubmit",value:function(e){(null==e||e.isHide)&&(this.showTransactionModal=!1,this.transactionModal.hide()),document.scrollingElement.scrollTop=this.currentScrollPosition}},{key:"OpenLedgerHistoryPopUp",value:function(e){this.currentScrollPosition=document.scrollingElement.scrollTop,this._LedgerId=e,this.showLedegrHistoryModal=!0,this._LedgerHistoryModal.show()}},{key:"onLedgHistoryHide",value:function(){this.showLedegrHistoryModal=!1,this._LedgerHistoryModal.hide(),document.scrollingElement.scrollTop=this.currentScrollPosition,this._LedgerId=0}},{key:"preventpopup",value:function(e){e.stopPropagation()}},{key:"toggleDropdown",value:function(){$("#adv-search").dropdown("hide")}},{key:"advSearchM",value:function(){this._SearchModal.show()}},{key:"ClearFilter",value:function(){this.currentLedger=null,this.OnlyGroups=null,this.showTrailBal=null,this.FilterData()}},{key:"editOnArrowEvent",value:function(e,t){this.routingScroll(e,t)}},{key:"selectAllchange",value:function(e){this.ledgerData.forEach(function(t){t.Ick=e.target.checked});var t=this.ledgerData.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN}).length;this.isMultipleLedgerDelete=0!=t}},{key:"selectSinglechange",value:function(e,t){var n=this,r=e.target.checked,i=this.ledgerData.find(function(e){return e.UIDN===t});i&&(i.Ick=r,i.IsGrp&&function e(t){n.ledgerData.filter(function(e){return e.PI===t}).forEach(function(t){t.Ick=r,t.IsGrp&&e(t.UIDN)})}(i.UIDN));var o=this.ledgerData.filter(function(e){return 1==e.Ick}).length;this.isMultipleLedgerDelete=0!=o,this.selectedAll=this.companyLedgerService.result.length==o}},{key:"MultipleVoucherDelete",value:function(){var e=this,t=this.ledgerData.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});t.length>0?this.httpfunction.IsMobileview()?this.alertService.showMobileConfirm("Confirm Delete","Are you sure you want to delete this record","No","Delete").then(function(n){if(null!=n&&1==n.data)for(var r=0;r<t.length;r++)e.companyLedgerService.deleteMob(t[r])}):this.alertService.showconfirm("Confirm","Are you sure you want to delete this record",["Yes","No"],null).subscribe(function(n){null!=n&&"Yes"==n.answer&&e.companyLedgerService.MultipleVoucherdelete(t).subscribe(function(){e.FilterData();for(var n=function(n){(i=e.ledgerData.findIndex(function(e){return e.UIDN==t[n]}))>-1&&e.ledgerData.splice(i,1)},r=0;r<t.length;r++){var i;n(r)}})}):this.alertService.showError("Error","Please select atleast one record")}},{key:"ChangeGroup",value:function(){var e,t=this;e=this.ledgerData.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN}),this.Filter.LedId=e,this.Filter.ParentLedgerId=this.parentLedger.UIDN,e.length>0?this.companyLedgerService.GroupChange(this.Filter).subscribe(function(e){if(e.data.m_Item2>0){t._modalChangeGroup.hide(),t.httpfunction.getStorage("_legData"+t.companyLedgerService.getCompanyId+"_"+t.companyLedgerService.getSignupId)&&t.httpfunction.removeItem("_legData"+t.companyLedgerService.getCompanyId+"_"+t.companyLedgerService.getSignupId);for(var n={},r=0;r<e.data.m_Item1.length;r++)null==n[e.data.m_Item1[r].PI]&&(n[e.data.m_Item1[r].PI]=[]),n[e.data.m_Item1[r].PI].push(e.data.m_Item1[r]);t.companyLedgerService.result=t.companyLedgerService.hierarhySort(n,0,[]),t.companyLedgerService.totalItems=t.companyLedgerService.result.length,t.companyLedgerService.pageWithoutLoad=t.companyLedgerService.totalItems/t.companyLedgerService.pageSize,t.httpfunction.setStorage("_legData"+t.companyLedgerService.getCompanyId+"_"+t.companyLedgerService.getSignupId,JSON.stringify(t.companyLedgerService.result)),t.FilterData()}},function(){}):this.alertService.showError("Error","Please select atleast one record to change Group")}},{key:"openChangeModal",value:function(){if(this.ledgerData.filter(function(e){return 1==e.Ick}).length>0){var e=this.ledgerData.filter(function(e){return 1==e.Ick&&2!=e.St}).map(function(e){return e.PI});this.GroupLedgersWithoutSelectedItem=this.GroupLedgers.filter(function(t){return!e.includes(t.UIDN)}),this._modalChangeGroup.show(),event.stopPropagation(),event.preventDefault()}else this.alertService.showError("Error","Please select atleast one record")}},{key:"parentSelectionChange",value:function(e){if(this.isRoundOffSelected=!1,null==this.companyLedgerService.singleresult.RS||""==this.companyLedgerService.singleresult.RS||null==this.companyLedgerService.singleresult.RS)if(null==e||null==e)this.isParentSelected=!1,this.companyLedgerService.singleresult.Cat="",this.companyLedgerService.singleresult.IsBank=!1,this.companyLedgerService.singleresult.IsCash=!1,this.companyLedgerService.singleresult.IsSD=!1,this.companyLedgerService.singleresult.IsSC=!1,this.companyLedgerService.singleresult.IsPU=!1,this.companyLedgerService.singleresult.IsSL=!1,this.companyLedgerService.singleresult.isTL=!1,this.companyLedgerService.singleresult.IsBWOn=!1;else{this.isParentSelected=!0;var t=this.companyLedgerService.result.filter(function(e){return"Stock-in-hand"==e.RS});if("Stock-in-hand"==e.RS)this.IsStockLedger=!0;else if("Stock-in-hand"!=e.RS)if(t.length>0)for(var n=0;n<e.ancestor.length;n++){if(e.ancestor[n]==this.companyLedgerService.result.filter(function(e){return"Indirect Expenses"==e.RS})[0].UIDN&&(this.isRoundOffSelected=!0),e.ancestor[n]==t[0].UIDN){this.IsStockLedger=!0;break}this.IsStockLedger=!1,this.isIndirectIncome=!1;for(var r=0;r<e.ancestor.length;r++)e.ancestor[r]==this.companyLedgerService.result.filter(function(e){return"Indirect Incomes"==e.RS})[0].UIDN&&(this.isIndirectIncome=!0);this.isFixedAssets=!1;for(var i=0;i<e.ancestor.length;i++)e.ancestor[i]==this.companyLedgerService.result.filter(function(e){return"Fixed Assets"==e.RS})[0].UIDN&&(this.isFixedAssets=!0)}else this.IsStockLedger=!1;else this.IsStockLedger=!1;this.companyLedgerService.singleresult.Cat=e.Cat,this.companyLedgerService.singleresult.IsBank=e.IsBank,this.companyLedgerService.singleresult.IsCash=e.IsCash,this.companyLedgerService.singleresult.IsSD=e.IsSD,this.companyLedgerService.singleresult.IsSC=e.IsSC,this.companyLedgerService.singleresult.IsPU=e.IsPU,this.companyLedgerService.singleresult.IsSL=e.IsSL,this.companyLedgerService.singleresult.isTL=e.isTL,this.companyLedgerService.singleresult.IsBWOn=e.IsBWOn,(e.IsSC||e.IsSD)&&!e.IsGrp&&(this.companyLedgerService.singleresult.RT="Regular"),e.IsPU?(this.transactiontype=this.natureofTranService.result.filter(function(e){return 0==e.IsSP}),this.companyLedgerService.singleresult.NTId=this.transactiontype.filter(function(e){return"Not Applicable"==e.NA})[0].UIDN):e.IsSL&&(this.transactiontype=this.natureofTranService.result.filter(function(e){return 1==e.IsSP}),this.companyLedgerService.singleresult.NTId=this.transactiontype.filter(function(e){return"Not Applicable"==e.NA})[0].UIDN)}}},{key:"UnusedLedger",value:function(){var e=this;this.IsUnusedLedger=!this.IsUnusedLedger,0==this.IsUnusedLedger?this.FilterData():this.companyLedgerService.GetAllUnusedLedger().subscribe(function(t){e.FilterData();var n=t.data.m_Item1.map(function(e){return e.UIDN});e.ledgerData=e.ledgerData.filter(function(e){var t=e.UIDN;return n.includes(t)}),e.TotalUnusedLEdger=t.data.m_Item2})}},{key:"OpenTrialBalance",value:function(e){this.router.navigate(["reports/trialbalance/"+e])}},{key:"toggleExcelImport",value:function(){this._myImageModal.show(),this.IsImportHidden=!this.IsImportHidden}},{key:"CloseImagePopup",value:function(){this._myImageModal.hide()}},{key:"onExcelAdd",value:function(e){this.excelfileData=[];for(var t=0;t<e.length;t++){var n=new I.Q;n.name=e[t].name,n.operationType=0,n.src=e[t].src,n.CompanyId=this.companyLedgerService.getCompanyId,n.SignupId=this.companyLedgerService.getSignupId,n.FileLength=e[t].size,n.ModifiedDate=new Date,n.CreatedDate=new Date,n.CreatedBy=this.companyLedgerService.userid,n.modifyBy=this.companyLedgerService.userid,this.excelfileData.push(n)}}},{key:"onExcelSubmit",value:function(){var e=this;null!=this.excelfileData&&this.excelfileData.length>0?(this.companyLedgerService.ImportExcel(this.excelfileData).subscribe(function(t){if(null==t.data.m_Item1)return e.alert.showError("Error","Excel column names are incorrect. Please double check your excel column name with predefined format."),void(e.isSubmited=!0);""!=t.data.m_Item1&&null!=t.data.m_Item1&&(e.importeddataAPI=t.data.m_Item1,e.inValidEntry=e.importeddataAPI.filter(function(e){return 1==e.invalidProp}).length,e.uniqueEntry=e.importeddataAPI.filter(function(e){return 1==e.RepeatContactProp}).length,e._myInqImportedDataViewModal.show(),e.isSubmited=!0),e.excelfileData=[],e.IsImportHidden=!e.IsImportHidden},function(){e.excelfileData=[],e.IsImportHidden=!e.IsImportHidden}),this.SiteIdUpload=[],this._myImageModal.hide(),this.IsImportHidden=!this.IsImportHidden):this.alertService.showError("Error","Please select atleast one File")}},{key:"ValidateImportRow",value:function(e){e.comments="",(null==e.LN||""==e.LN)&&(e.comments+="Invalid ledger name \n"),(null==e.PN||""==e.PN)&&(e.comments+="Invalid parent name \n"),null==e.OB&&(e.comments+="Invalid opening balance \n"),(null==e.LT||""==e.LT)&&(e.comments+="Invalid ledger type \n"),(null==e.AffDt||""==e.AffDt)&&(e.comments+="Invalid Affected Date \n"),e.invalidProp=""!=e.comments,this.inValidEntry=null,this.inValidEntry=this.importeddataAPI.filter(function(e){return 1==e.invalidProp}).length,this.uniqueEntry=null,this.uniqueEntry=this.importeddataAPI.filter(function(e){return 1==e.RepeatContactProp}).length}},{key:"ValidateAffectedDate",value:function(e,t){null==e&&(t.AffDt=null),this.ValidateImportRow(t)}},{key:"AffectedDateSelect",value:function(e,t,n){this.importeddataAPI[t].AffDt=e,this.ValidateImportRow(n)}},{key:"LedgerImportContinue",value:function(){var e=this,t=this.importeddataAPI.filter(function(e){return 1==e.invalidProp});t.length>0?this.alert.showError("Error","Please modify grid records. we still have "+t.length+" invalid records"):this.importeddataAPI.length>0?(this.RepeatcontactFromAPI=[],this.companyLedgerService.ImportDatafromGrid(this.importeddataAPI).subscribe(function(t){t.data.length>0?e.RepeatcontactFromAPI=t.data:(e._myImageModal.hide(),e._myInqImportedDataViewModal.hide(),e.alert.showSuccess("Error","Ledger(s) Imported successfully"))},function(){e.alert.showError("Error","Error while File import.Please Correct Sheet")})):this.alert.showError("Error","Ledger Can't imported due to Missing required fields.")}},{key:"ImportTrackByFunction",value:function(e){return e.Index}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w.Y36(w.sBO),w.Y36(y.i),w.Y36(c.Q),w.Y36(Pt.F),w.Y36(Ht.I),w.Y36(p.V),w.Y36(C.gz),w.Y36(C.F0),w.Y36(S.Rq),w.Y36(a.Ye),w.Y36(S.Rq))},e.\u0275cmp=w.Xpm({type:e,selectors:[["app-companyledger-list"]],viewQuery:function(e,t){var n;(1&e&&(w.Gf(Gt,5),w.Gf($t,5),w.Gf(Bt,7,d.w9),w.Gf(Yt,7),w.Gf(jt,7),w.Gf(Kt,5),w.Gf(zt,7),w.Gf(Wt,5),w.Gf(Xt,5),w.Gf(en,7)),2&e)&&(w.iGM(n=w.CRH())&&(t.form=n.first),w.iGM(n=w.CRH())&&(t._modalChangeGroup=n.first),w.iGM(n=w.CRH())&&(t.searchControl=n.first),w.iGM(n=w.CRH())&&(t.transactionModal=n.first),w.iGM(n=w.CRH())&&(t._ExportLedgModal=n.first),w.iGM(n=w.CRH())&&(t._SearchModal=n.first),w.iGM(n=w.CRH())&&(t._LedgerHistoryModal=n.first),w.iGM(n=w.CRH())&&(t.virtualScroll=n.first),w.iGM(n=w.CRH())&&(t._myImageModal=n.first),w.iGM(n=w.CRH())&&(t._myInqImportedDataViewModal=n.first))},hostBindings:function(e,t){1&e&&w.NdJ("popstate",function(e){return t.onPopState(e)},!1,w.Jf7)},features:[w._Bn([Ht.I,c.Q])],decls:148,vars:28,consts:[[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainerbody","class","tableContainerbodymobile",4,"ngIf"],[4,"ngIf"],["class","add-panel",3,"toggleAction",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["TransactionModal","bs-modal"],["class","modal-dialog fullview modal-lg","role","document",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["ExportLedgModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content"],[1,"c-switch","c-switch-pill","c-switch-primary","float-left","mr-3","mb-3"],["type","checkbox",1,"c-switch-input",3,"checked","change"],[1,"c-switch-slider"],[1,"modal-footer","mt-3",2,"padding-top","50px"],["type","button",1,"btn","btn-dark",3,"click"],["type","button",1,"btn","btn-primary","waves-effect",3,"click"],["LedgerHistoryModal","bs-modal"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade",2,"z-index","99999"],["SearchModal","bs-modal"],["role","document",1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],["role","form",3,"ngSubmit"],["ffilter","ngForm"],[1,"container-fluid"],[1,"row","mt-2"],[1,"col-md-6","col-sm-12"],["for","Ledger"],["selectOnTab","true","name","Ledger1","bindLabel","LN","placeholder","Select Ledger/Group",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["Ledger1","ngModel"],["ng-option-tmp",""],["for","customSwitch1"],[1,"c-switch","c-switch-pill","c-switch-primary"],["type","checkbox","name","OnlyGroups","id","OnlyGroups",1,"c-switch-input",3,"ngModel","ngModelChange"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","button",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["bsModal","","data-backdrop","false","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["myModal","bs-modal"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmSite","ngForm"],[1,"form-group","col-md-12","p-0"],[1,"md-form","form-group","col-sm-12","p-0"],["selectOnTab","true","name","ParentGroup","bindLabel","LN","placeholder","Select Group",3,"virtualScroll","disabled","ngClass","required","items","ngModel","loading","change","ngModelChange"],["grpled","","ParentGroup","ngModel"],["ng-header-tmp",""],[1,"modal-footer"],["type","submit",1,"btn","btn-primary","text-left"],["ImageModal","bs-modal"],["frmImage","ngForm"],[1,"container"],[1,"input-group"],["target","_blank","href","https://api.accountbook24.com/sample/CompanyLedgerImport.xlsx",1,"col-sm-2"],["maxFiles","1","required","","maxSize","2","fileExt","xls, xlsx",3,"filelist","uploadStatus"],["Importexcel",""],[1,"modal-footer","mt-3"],["type","submit",1,"btn","btn-primary"],["bsModal","","tabindex","-1","role","dsialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"fullModal","fade",2,"width","100%"],["myInqImportedDataViewModal","bs-modal"],["role","document",1,"modal-dialog1","modal-md"],["importcontainer",""],["class","card-body col-md-12","id","tableContainer",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"customsearch"],[3,"submit"],[1,"c-header-nav"],[1,"mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mr-1"],["appendTo","body","selectOnTab","true","name","Ledger1","bindLabel","LN","placeholder","Select Ledger/Group",1,"maxpanel",3,"virtualScroll","items","ngModel","loading","ngModelChange"],[1,"mb-2"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],[1,"ml-1","pb-2"],["href","javascript:void(0)",1,"mb-2","font-weight-bold",3,"click"],["class","ml-1 pb-2",4,"ngIf"],["class","mx-2 mb-3",4,"ngIf"],[1,"ml-2","pb-2"],["title","History","placement","bottom",1,"pl-2","d-none",3,"hidden"],[1,"fas","fa-history","text-primary","display-6",3,"click"],["href","javascript:void(0)","accesslevel","Edit","mname","Led",1,"mb-2","font-weight-bold","text-info",3,"appRole","SignupId","UserId","click"],[1,"mx-2","mb-3"],["type","button","accesslevel","Delete","mname","Led",1,"btn","btn-link","text-danger","font-weight-bold","mt-2","pr-3","pl-0",3,"appRole","SignupId","UserId","clickAllowed"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],["id","tableContainer",1,"table-responsive"],["class","card-header p-1 pt-2","id","formHeader",4,"ngIf"],["class","table table-left table-bordered table-striped",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header","p-1","pt-2"],[1,"row"],[1,"col-md-5","col-sm-12","PageNameFsize"],[1,"col-md-2","col-sm-12"],[1,"c-switch","c-switch-pill","c-switch-primary","float-right"],["type","checkbox","name","OnlyLedgers","id","OnlyLedgers",1,"c-switch-input",3,"ngModel","change","ngModelChange"],[1,"mb-2","float-right","mr-2","font-weight-bold","sg"],["type","checkbox","name","OnlyGroups","id","OnlyGroups",1,"c-switch-input",3,"ngModel","change","ngModelChange"],[1,"col-md-3","col-sm-12"],["class","mx-2 text-wrap text-right pr-4",4,"ngIf"],[1,"mx-2","text-wrap","text-right","pr-4"],[1,"table","table-left","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerHead"],[1,"form-check"],["type","checkbox","id","item_All",1,"form-check-input",3,"checked","ngModel","ngModelChange","change"],["for","item_All",1,"form-check-label"],["id","tableContainerbody"],["container",""],[4,"ngFor","ngForOf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup",4,"ngIf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],["type","checkbox",1,"form-check-input",3,"checked","ngModel","id","ngModelChange","change"],[1,"form-check-label",3,"for"],["class","badge badge-primary",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[2,"width","8%"],["dropdown","","container","body",1,"btn-group","actionmenu"],["id","button-state-change","dropdownToggle","","type","button","aria-controls","dropdown-state-change",1,"border-0","waves-effect","btn-primary","btn-floating","btn-sm"],[1,"fas","fa-ellipsis-v"],["id","dropdown-state-change","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-state-change",4,"dropdownMenu"],[1,"badge","badge-primary"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["id","dropdown-state-change","role","menu","aria-labelledby","button-state-change",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["href","javascript:void(0)","accesslevel","Edit","mname","Led",1,"dropdown-item",3,"appRole","SignupId","UserId","click"],["role","menuitem",4,"ngIf"],["accesslevel","View","mname","Led","href","javascript:void(0)",1,"dropdown-item",3,"appRole","SignupId","UserId","click"],["href","javascript:void(0)","accesslevel","Add","mname","Led",1,"dropdown-item",3,"hidden","appRole","SignupId","UserId","click"],["accesslevel","Add","mname","Led",1,"dropdown-item",3,"hidden","appRole","SignupId","UserId","click"],["href","javascript:void(0)","accesslevel","Delete","mname","Led",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["colspan","13"],[1,"table","table-bordered"],["target","blank",3,"click"],[3,"dateValue"],["isDate","false",3,"dateValue"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["id","tableContainerbody",1,"tableContainerbodymobile"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","88px",3,"items"],[3,"rowselected","click",4,"virtualItem"],[3,"click"],[1,"text-dark"],["size","4",1,"text-right"],[1,"text-left","mr-1"],["class","btn btn-primary btn-esm btn-rounded waves-effect waves-light","href","javascript:void(0)","accesslevel","Add","mname","Led",3,"appRole","rLink","SignupId","UserId",4,"ngIf"],["href","javascript:void(0)","class","btn btn-primary btn-esm btn-rounded waves-effect waves-light ml-2","accesslevel","Add","mname","Led",3,"appRole","rLink","SignupId","UserId",4,"ngIf"],["href","javascript:void(0)","accesslevel","Edit","mname","Led",1,"card-link","text-center",3,"appRole","SignupId","UserId","click"],["name","create-outline","color","primary"],["href","javascript:void(0)","accesslevel","Delete","mname","Led",1,"card-link","text-center",3,"appRole","SignupId","UserId","clickAllowed"],["name","trash-outline","color","danger"],["href","javascript:void(0)","accesslevel","Add","mname","Led",1,"btn","btn-primary","btn-esm","btn-rounded","waves-effect","waves-light",3,"appRole","rLink","SignupId","UserId"],["aria-hidden","true",1,"fas","fa-plus","pr-2","pt-1"],["href","javascript:void(0)","accesslevel","Add","mname","Led",1,"btn","btn-primary","btn-esm","btn-rounded","waves-effect","waves-light","ml-2",3,"appRole","rLink","SignupId","UserId"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","80%"],["size","4",2,"text-align","-webkit-right"],[1,"table","table-bordered","table-striped","text-center",3,"fxHeader"],["animated","",2,"width","100%"],[2,"width","40%"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","bottom2","option","four","border-0","waves-effect","btn-amber","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","bottom2","option","three","border-0","waves-effect","btn-purple","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Import",1,"action-button","bottom2","option","two","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-upload"],["tooltip","Export",1,"action-button","bottom2","option","one","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],[1,"border-0","waves-effect","btn-dark","btn-floating","btn-lg","action-button","plus","abs","bottom2"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],["accesslevel","Add","mname","Led","rLink","/transactions/ledgeradd/0/false","tooltip","Add Ledger",1,"border-0","waves-effect","btn-primary","btn-floating","btn-lg","abs","bottom1",3,"appRole","SignupId","UserId"],["accesslevel","Add","mname","Led","rLink","/transactions/ledgeradd/0/true","tooltip","Add Group",1,"border-0","waves-effect","btn-primary","btn-floating",3,"appRole","SignupId","UserId"],["tooltip","UnUsed Ledger",1,"action-button","bottom2","option","five","border-0","waves-effect","btn-success","btn-floating",3,"click"],["aria-hidden","true",1,"fa","fa-briefcase"],["tooltip","Export",1,"action-button","bottom2","option","two","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["tooltip","Multiple Delete",1,"action-button","bottom2","option","one","border-0","waves-effect","btn-danger","btn-floating",3,"click"],[1,"fas","fa-trash"],["role","document",1,"modal-dialog","fullview","modal-lg"],["id","voucherContent",1,"modal-content"],[1,"fas","fa-times","fa-lg",3,"click"],[3,"TransactionredirectOnCancel","IsDuplicate","VoucherType","VoucherId","TransactionredirectAction"],["id","lblTodate"],["type","text","appDatepicker","","id","ToDate","name","ToDate",1,"form-control",3,"startDate","selected"],["ToDate",""],[3,"LedgId","IsCallasPopup"],["ng-label-tmp",""],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1","d-none",3,"appRole","SignupId","UserId"],[1,"fas","fa-pen","text-primary","display-6"],["id","tableContainer",1,"card-body","col-md-12"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"executeRefreshOutsideAngularZone","items","parentScroll","vsUpdate"],["scrollImport",""],[1,"table","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerHead",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","alert",1,"alert","alert-danger"],[2,"min-width","225px","white-space","pre-line"],[2,"min-width","100px"],[2,"min-width","250px"],[2,"white-space","pre-line"],["autofocus","","type","text",1,"form-control",3,"ngModel","name","id","change","ngModelChange"],["name","PN","bindLabel","LN","bindValue","UIDN","placeholder","Select GroupLedgers","required","",3,"items","ngModel","loading","id","name","change","ngModelChange"],["PN","ngModel"],["autofocus","","type","number",1,"form-control",3,"ngModel","name","id","change","ngModelChange"],["type","text","appDatepicker","","placeholder","Select Affected Date","autocomplete","none",1,"form-control",3,"startDate","name","id","selected"],["AffDt",""]],template:function(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",0),w.YNc(1,on,23,6,"div",1),w.YNc(2,an,11,0,"div",2),w.YNc(3,Dn,5,3,"div",3),w.YNc(4,Rn,6,1,"div",4),w.YNc(5,Qn,2,1,"div",5),w.YNc(6,Hn,22,1,"div",5),w.YNc(7,On,18,4,"div",6),w.YNc(8,Pn,20,4,"div",6),w.qZA(),w.TgZ(9,"div",7,8),w.YNc(11,Gn,8,5,"div",9),w.qZA(),w.TgZ(12,"div",10,11),w.TgZ(14,"div",12),w.TgZ(15,"div",13),w.TgZ(16,"div",14),w.TgZ(17,"h4",15),w._uU(18,"Exporting List of Ledgers"),w.qZA(),w.TgZ(19,"button",16),w.NdJ("click",function(){return t.OnCancel()}),w.TgZ(20,"span",17),w._uU(21,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(22,"div",18),w.TgZ(23,"div",19),w.TgZ(24,"strong"),w._uU(25,"Export closing balance as opening :"),w.qZA(),w.TgZ(26,"label",20),w.TgZ(27,"input",21),w.NdJ("change",function(){return t._chkOpening=!("1"==t._chkOpening||1==t._chkOpening)}),w.qZA(),w._UZ(28,"span",22),w.qZA(),w.YNc(29,$n,5,1,"div",5),w.qZA(),w.TgZ(30,"div",23),w.TgZ(31,"button",24),w.NdJ("click",function(){return t.OnCancel()}),w._uU(32,"No"),w.qZA(),w.TgZ(33,"button",25),w.NdJ("click",function(){return t.OnExportSubmit()}),w._uU(34,"Yes"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(35,"div",7,26),w.YNc(37,Bn,11,2,"div",9),w.qZA(),w.TgZ(38,"div",27,28),w.TgZ(40,"div",29),w.TgZ(41,"div",30),w.TgZ(42,"div",14),w.TgZ(43,"h4",15),w._uU(44,"Advance Search "),w.qZA(),w.TgZ(45,"button",16),w.NdJ("click",function(){return t._SearchModal.hide()}),w.TgZ(46,"span",17),w._uU(47,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(48,"form",31,32),w.NdJ("ngSubmit",function(){return t.FilterData()}),w.TgZ(50,"div",33),w.TgZ(51,"div",34),w.TgZ(52,"div",35),w.TgZ(53,"label",36),w._uU(54,"Select Ledger/Group"),w.qZA(),w.TgZ(55,"ng-select",37,38),w.NdJ("ngModelChange",function(e){return t.currentLedger=e}),w.YNc(57,Yn,4,2,"ng-template",39),w.qZA(),w.qZA(),w.TgZ(58,"div",35),w.TgZ(59,"label",40),w._uU(60," Show Group"),w.qZA(),w._UZ(61,"br"),w.TgZ(62,"label",41),w.TgZ(63,"input",42),w.NdJ("ngModelChange",function(e){return t.OnlyGroups=e}),w.qZA(),w._UZ(64,"span",22),w.qZA(),w.qZA(),w.TgZ(65,"nav",43),w.TgZ(66,"ul",44),w.TgZ(67,"li",45),w.TgZ(68,"button",46),w.NdJ("click",function(){return t.FilterData(),t._SearchModal.hide()}),w._UZ(69,"i",47),w._uU(70,"Search "),w.qZA(),w.qZA(),w.TgZ(71,"li",48),w.TgZ(72,"button",24),w.NdJ("click",function(){return t.ClearFilter(),t._SearchModal.hide()}),w._uU(73," Clear Filter "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(74,"div",49,50),w.TgZ(76,"div",12),w.TgZ(77,"div",13),w.TgZ(78,"div",14),w.TgZ(79,"h4",15),w._uU(80,"Select Group "),w.qZA(),w.TgZ(81,"button",16),w.NdJ("click",function(){return w.CHM(n),w.MAs(75).hide(),t.parentLedger=null}),w.TgZ(82,"span",17),w._uU(83,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(84,"form",51,52),w.NdJ("ngSubmit",function(){return w.CHM(n),w.MAs(85).form.valid&&t.ChangeGroup()}),w.TgZ(86,"div",18),w.TgZ(87,"div",19),w.TgZ(88,"div",53),w.TgZ(89,"div",54),w.TgZ(90,"ng-select",55,56),w.NdJ("change",function(e){return t.parentSelectionChange(e)})("ngModelChange",function(e){return t.parentLedger=e}),w.YNc(93,zn,2,0,"ng-template",57),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(94,"div",58),w.TgZ(95,"button",24),w.NdJ("click",function(){return w.CHM(n),w.MAs(75).hide(),t.parentLedger=null}),w._uU(96,"Close"),w.qZA(),w.TgZ(97,"button",59),w._uU(98," Change Site "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(99,"div",10,60),w.TgZ(101,"div",12),w.TgZ(102,"div",13),w.TgZ(103,"div",14),w.TgZ(104,"h4",15),w._uU(105,"Import Ledger"),w.qZA(),w.TgZ(106,"button",16),w.NdJ("click",function(){return t.CloseImagePopup()}),w.TgZ(107,"span",17),w._uU(108,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(109,"form",51,61),w.NdJ("ngSubmit",function(){return w.CHM(n),w.MAs(110).form.valid&&t.onExcelSubmit()}),w.TgZ(111,"div",18),w.TgZ(112,"div",19),w.TgZ(113,"div",62),w.TgZ(114,"div",53),w.TgZ(115,"div",63),w.TgZ(116,"div",54),w.TgZ(117,"a",64),w._uU(118," Download sample "),w.qZA(),w.qZA(),w.TgZ(119,"div",54),w.TgZ(120,"app-file-upload",65,66),w.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(122,"div",67),w.TgZ(123,"button",68),w._uU(124,"Upload File"),w.qZA(),w.TgZ(125,"button",24),w.NdJ("click",function(){return t.CloseImagePopup()}),w._uU(126,"Close"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(127,"div",69,70),w.TgZ(129,"div",71),w.TgZ(130,"div",13),w.TgZ(131,"div",14),w.TgZ(132,"h4",15),w._uU(133,"Imported Ledger From Sheet "),w.qZA(),w.TgZ(134,"button",16),w.NdJ("click",function(){return w.CHM(n),w.MAs(128).hide()}),w.TgZ(135,"span",17),w._uU(136,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(137,"div",18,72),w.TgZ(139,"div",53),w.TgZ(140,"form",51,61),w.NdJ("ngSubmit",function(){return w.CHM(n),w.MAs(110).form.valid}),w.YNc(142,tr,11,11,"div",73),w.qZA(),w.qZA(),w.qZA(),w.TgZ(143,"div",58),w.TgZ(144,"button",74),w.NdJ("click",function(){return t.LedgerImportContinue()}),w._uU(145,"Inquiry Import"),w.qZA(),w.TgZ(146,"button",24),w.NdJ("click",function(){return w.CHM(n),w.MAs(128).hide()}),w._uU(147,"Close"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.MAs(85),i=w.MAs(92);w.xp6(1),w.Q6J("ngIf",!t.companyLedgerService.IsMobileview),w.xp6(1),w.Q6J("ngIf",t.companyLedgerService.IsMobileview),w.xp6(1),w.Q6J("ngIf",!t.companyLedgerService.IsMobileview),w.xp6(1),w.Q6J("ngIf",t.ledgerData.length>0&&t.companyLedgerService.IsMobileview),w.xp6(1),w.Q6J("ngIf",0==t.ledgerData.length&&t.companyLedgerService.IsMobileview),w.xp6(1),w.Q6J("ngIf",0==t.ledgerData.length&&!t.companyLedgerService.IsMobileview),w.xp6(1),w.Q6J("ngIf",!t.companyLedgerService.IsMobileview),w.xp6(1),w.Q6J("ngIf",t.companyLedgerService.IsMobileview),w.xp6(3),w.Q6J("ngIf",t.showTransactionModal),w.xp6(16),w.Q6J("checked",1==t._chkOpening),w.xp6(2),w.Q6J("ngIf",1==t._chkOpening),w.xp6(8),w.Q6J("ngIf",t.showLedegrHistoryModal),w.xp6(18),w.Q6J("virtualScroll",!0)("items",t.companyLedgerService.result)("ngModel",t.currentLedger)("loading",t.companyLedgerService.loading),w.xp6(8),w.Q6J("ngModel",t.OnlyGroups),w.xp6(27),w.Q6J("virtualScroll",!0)("disabled",t.isResevredgroup)("ngClass",w.VKq(26,nr,r.submitted&&i.invalid))("required",!t.companyLedgerService.singleresult.IsGrp)("items",t.GroupLedgersWithoutSelectedItem)("ngModel",t.parentLedger)("loading",t.companyLedgerService.loading),w.xp6(30),w.Q6J("filelist",t.excelfileData),w.xp6(22),w.Q6J("ngIf",t.isSubmited)}},directives:[a.O5,U.oB,k._Y,k.JL,k.F,d.w9,k.JJ,k.On,J.x,d.Z2,k.Wl,V.u,a.mk,k.Q7,d.A3,R.Y,_.g,b.gu,F.n,a.sg,E.TO,E.Mq,E.Hz,H.a,b.W2,b.nJ,b.Wo,b.aJ,b.Rw,b.PM,b.Nd,b.wI,b.CK,N.e,D.i9,Vt.L,P.q,G.i,d.bb,B.Vw,k.Fj,k.wV],pipes:[Y.s],styles:[".boldfont[_ngcontent-%COMP%]{font-weight:bold}.positive[_ngcontent-%COMP%]{background-color:#d6f3d6!important}.negative[_ngcontent-%COMP%]{background-color:#ffeff7!important}"]}),e}(),ir=o(80762),or=function(){var e=function(){function e(n,r,i){t(this,e),this.reportService=n,this.alert=r,this.router=i,this.ShowTally=!1,this.showfilter=!0,this.scrolleddata=0,this.previousButton="Cancel",this.ledgerresult=[]}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var e=this;this.companyLedgerService.Saveimport(this.companyLedgerService.result).subscribe(function(t){e.alert.showSuccess("Success","All Ledgers imported successfully"),e.showfilter=!1,e.excelfileData=[],e.showfilter=!0,e.router.navigate(["/transactions/ledgerList"]),e.scrolleddata=0},function(t){e.alert.showError("Error","There is some error while importing file. Please try again or contact administrator"),e.excelfileData=[],e.showfilter=!0})}},{key:"expand",value:function(e){e.isDisplay?this.companyLedgerService.result.filter(function(t){return t.PI==e.UIDN&&0==t.IsGrp}).forEach(function(e){return e.isDisplay=!1}):this.companyLedgerService.result.filter(function(t){return t.PI==e.UIDN&&0==t.IsGrp}).forEach(function(e){return e.isDisplay=!0}),e.isDisplay=!e.isDisplay}},{key:"onExcelAdd",value:function(e){var t=this;this.excelfileData=[];for(var n=0;n<e.length;n++){var r=new I.Q;r.name=e[n].name,r.operationType=0,r.ModifiedDate=new Date,r.CreatedDate=new Date,r.CreatedBy=this.reportService.userid,r.modifyBy=this.reportService.userid,r.CompanyId=this.reportService.getCompanyId,r.SignupId=this.reportService.getSignupId,r.FileLength=null==e[n].PK_Id?e[n].size:e[n].FileLength,r.src=e[n].src,this.excelfileData.push(r)}this.reportService.ImportbankStatement(this.excelfileData).subscribe(function(e){t.excelfileData=[],t.alert.showSuccess("Success","All vouchers imported successfully"),t.router.navigate(["/transactions/daybook"])},function(e){t.alert.showError("Error","Error while voucher import.Please contact administrator"),t.excelfileData=[],t.showfilter=!0,t.scrolleddata=0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w.Y36(ir.r),w.Y36(S.Rq),w.Y36(C.F0))},e.\u0275cmp=w.Xpm({type:e,selectors:[["app-bankstatement"]],features:[w._Bn([ir.r])],decls:18,vars:1,consts:[[1,"col-sm-12","nopadding"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],["id","tableFilter",1,"card-header"],[1,"col-sm-12"],["for","Importexcel",2,"font-weight","bold"],[1,"input-group"],["maxFiles","1","maxSize","2","fileExt","xls, xlsx",2,"width","100%",3,"filelist","uploadStatus"],["Importexcel",""],["target","_blank","href","https://api.accountbook24.com/sample/AllLedger.xlsx"],["href","javascript:void(0)",3,"click"]],template:function(e,t){1&e&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w.TgZ(3,"div",3),w.TgZ(4,"div",4),w.TgZ(5,"div",5),w.TgZ(6,"div",2),w.TgZ(7,"div",6),w.TgZ(8,"label",7),w._uU(9,"Upload Voucher file"),w.qZA(),w.TgZ(10,"div",8),w.TgZ(11,"app-file-upload",9,10),w.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),w.qZA(),w.qZA(),w.TgZ(13,"a",11),w._uU(14,"Download sample file"),w.qZA(),w._uU(15,"\xa0\xa0\xa0 "),w.TgZ(16,"a",12),w.NdJ("click",function(){return t.ShowTally=!t.ShowTally}),w._uU(17,"Show Steps to Export Ledgers from Tally "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&e&&(w.xp6(11),w.Q6J("filelist",t.excelfileData))},directives:[R.Y],styles:[""]}),e}(),ar=o(33433),lr=o(75477),cr=o(65178),sr=["f"],dr=["voucherrow"],ur=["vtype"],gr=["RefModal"];function hr(e,t){1&e&&(w.TgZ(0,"ng-option",28),w._uU(1," Purchase"),w.qZA())}function pr(e,t){1&e&&(w.TgZ(0,"ng-option",29),w._uU(1," Receipt"),w.qZA())}function fr(e,t){1&e&&(w.TgZ(0,"ng-option",30),w._uU(1," Payment"),w.qZA())}function mr(e,t){1&e&&(w.TgZ(0,"ng-option",31),w._uU(1,"Credit Note"),w.qZA())}function Zr(e,t){1&e&&(w.TgZ(0,"ng-option",32),w._uU(1,"Debit Note"),w.qZA())}function vr(e,t){1&e&&(w.TgZ(0,"ng-option",33),w._uU(1," Receipt Note"),w.qZA())}function Tr(e,t){1&e&&(w.TgZ(0,"ng-option",34),w._uU(1," Delivery Note"),w.qZA())}function Ar(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"required"),w.qZA())}function xr(e,t){if(1&e&&(w.TgZ(0,"div",35),w.YNc(1,Ar,2,0,"div",36),w.qZA()),2&e){w.oxw();var n=w.MAs(9);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}function Ir(e,t){1&e&&w._uU(0),2&e&&w.hij(" ",t.item.LN," ")}function Lr(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"required"),w.qZA())}function wr(e,t){if(1&e&&(w.TgZ(0,"div",35),w.YNc(1,Lr,2,0,"div",36),w.qZA()),2&e){w.oxw();var n=w.MAs(25);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}function yr(e,t){1&e&&w._uU(0),2&e&&w.hij(" ",t.item.LN," ")}function br(e,t){1&e&&w.YNc(0,yr,1,1,"ng-template",22)}function Cr(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"a",67),w.NdJ("click",function(){w.CHM(n);var e=w.oxw().index,t=w.oxw().index;return w.oxw(2).openReferencepopup(t,e)}),w.TgZ(1,"span"),w._uU(2),w.qZA(),w._uU(3),w.TgZ(4,"strong"),w._uU(5),w.qZA(),w.qZA()}if(2&e){var r=t.$implicit;w.xp6(2),w.hij(" ",r.Ref_Type," "),w.xp6(1),w.hij("-",r.Ref_Tag,"-- "),w.xp6(2),w.AsE(" ",r.Balance," ",r.AmtType," ")}}function qr(e,t){if(1&e&&(w.TgZ(0,"a"),w._uU(1),w.qZA()),2&e){var n=t.item;w.xp6(1),w.Oqu(n.LN)}}function Sr(e,t){if(1&e){var n=w.EpF();w.ynx(0),w.TgZ(1,"tr"),w.TgZ(2,"td",46),w.TgZ(3,"div"),w.TgZ(4,"input",47,48),w.NdJ("selectedindex",function(e){return w.CHM(n),w.oxw(3).onVoucherDateSelect(e)}),w.qZA(),w.qZA(),w.qZA(),w.TgZ(6,"td",46),w.TgZ(7,"div"),w.TgZ(8,"ng-select",49,50),w.NdJ("ngModelChange",function(e){return w.CHM(n).$implicit.LedDet=e})("ngModelChange",function(){w.CHM(n);var e=w.oxw().index,t=w.oxw(2);return t.calculateBank(e),t.finalcalculation(e)}),w.YNc(10,br,1,0,"ng-template",51),w.qZA(),w.qZA(),w.TgZ(11,"div",52),w.YNc(12,Cr,6,4,"a",53),w.qZA(),w.qZA(),w.TgZ(13,"td",54),w.TgZ(14,"a",55),w.NdJ("click",function(){var e=w.CHM(n).index,t=w.oxw().index;return w.oxw(2).openReferencepopup(t,e)}),w._uU(15," Reference "),w.qZA(),w.qZA(),w.TgZ(16,"td",46),w.TgZ(17,"input",56,57),w.NdJ("ngModelChange",function(e){return w.CHM(n).$implicit.DrAmt=e})("change",function(){w.CHM(n);var e=w.oxw().index;return w.oxw(2).finalcalculation(e)}),w.qZA(),w.qZA(),w.TgZ(19,"td",58),w.TgZ(20,"ng-select",59,60),w.NdJ("ngModelChange",function(e){return w.CHM(n).$implicit.TaxLedger=e})("change",function(){w.CHM(n);var e=w.oxw().index;return w.oxw(2).finalcalculation(e)}),w.YNc(22,qr,2,1,"ng-template",61),w.qZA(),w.qZA(),w.TgZ(23,"td",46),w.TgZ(24,"input",62,57),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().$implicit.Narr=e}),w.qZA(),w.qZA(),w.TgZ(26,"td",63),w._uU(27),w.qZA(),w.TgZ(28,"td",64),w.TgZ(29,"a",65),w.NdJ("click",function(){w.CHM(n);var e=w.oxw().index;return w.oxw(2).deleteLedger(e)}),w._UZ(30,"i",66),w.qZA(),w.qZA(),w.qZA(),w.BQk()}if(2&e){var r=t.$implicit,i=w.oxw(),o=i.index,a=i.$implicit,l=w.oxw(2);w.xp6(4),w.MGl("name","ChkDt_",o,""),w.MGl("id","ChkDt_",o,""),w.Q6J("tabindex",r.TabIndex)("startDate",a.VDt)("index",o),w.xp6(4),w.MGl("name","Ledger_",r.Index,""),w.Q6J("tabIndex",r.TabIndex)("virtualScroll",!0)("items",l.ToLedger)("ngModel",r.LedDet)("loading",l.companyLedgerService.loading),w.xp6(4),w.Q6J("ngForOf",l.getreference(r.LedDet,o)),w.xp6(2),w.Q6J("tabIndex",r.TabIndex),w.xp6(3),w.MGl("name","amt__",r.Index,""),w.MGl("id","amt__",r.Index,""),w.Q6J("tabIndex",r.TabIndex)("ngModel",r.DrAmt),w.xp6(3),w.MGl("name","TaxLedger_",r.Index,""),w.Q6J("tabIndex",r.TabIndex)("multiple",!0)("items",l.TaxLedger)("ngModel",r.TaxLedger)("loading",l.companyLedgerService.loading),w.xp6(4),w.MGl("name","Narr__",r.Index,""),w.MGl("id","Narr__",r.Index,""),w.Q6J("tabIndex",r.TabIndex)("ngModel",a.Narr),w.xp6(3),w.hij(" ",a.TotalAmt," "),w.xp6(2),w.Q6J("tabIndex",r.TabIndex)}}function Mr(e,t){if(1&e&&(w.ynx(0),w.YNc(1,Sr,31,29,"ng-container",44),w.BQk()),2&e){var n=t.$implicit;w.xp6(1),w.Q6J("ngForOf",n.VDet)}}function Nr(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",37),w.TgZ(1,"div",38),w.TgZ(2,"table",39),w.TgZ(3,"thead"),w.TgZ(4,"tr"),w.TgZ(5,"th",40),w._uU(6," Voucher Date"),w.qZA(),w.TgZ(7,"th",40),w._uU(8," Select Account"),w.qZA(),w.TgZ(9,"th",41),w._uU(10," Reference"),w.qZA(),w.TgZ(11,"th",42),w.TgZ(12,"span"),w._uU(13,"Amount"),w.qZA(),w.qZA(),w.TgZ(14,"th",42),w._uU(15,"Tax"),w.qZA(),w.TgZ(16,"th",42),w._uU(17,"Narration"),w.qZA(),w.TgZ(18,"th",42),w._uU(19,"Total Amount"),w.qZA(),w.TgZ(20,"th",41),w._uU(21,"Actions"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(22,"tbody",null,43),w.YNc(24,Mr,2,1,"ng-container",44),w.qZA(),w.qZA(),w.qZA(),w.TgZ(25,"div"),w.TgZ(26,"input",45),w.NdJ("click",function(){return w.CHM(n),w.oxw().adddNewTransaction()}),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(24),w.Q6J("ngForOf",r.VoucherMasters),w.xp6(2),w.Q6J("tabIndex",500)}}function Dr(e,t){1&e&&(w.TgZ(0,"div",4),w.TgZ(1,"div",68),w.TgZ(2,"button",69,70),w._uU(4," Save "),w.qZA(),w.qZA(),w.qZA())}function _r(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"Ref. type is required"),w.qZA())}function Ur(e,t){if(1&e&&(w.TgZ(0,"div",35),w.YNc(1,_r,2,0,"div",36),w.qZA()),2&e){w.oxw();var n=w.MAs(3);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}function kr(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"required"),w.qZA())}function Jr(e,t){if(1&e&&(w.TgZ(0,"div",35),w.YNc(1,kr,2,0,"div",36),w.qZA()),2&e){w.oxw();var n=w.MAs(2);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}var Vr=function(e){return{"is-invalid":e}};function Rr(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"td"),w.TgZ(1,"input",104,105),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw().$implicit.Ref_Tag=e}),w.qZA(),w.YNc(3,Jr,2,1,"div",17),w.qZA()}if(2&e){var r=w.MAs(2),i=w.oxw(),o=i.index,a=i.$implicit;w.oxw(3);var l=w.MAs(2);w.xp6(1),w.MGl("name","refTag__",o,""),w.Q6J("ngClass",w.VKq(5,Vr,l.submitted&&r.invalid))("disabled","AgainstRef"==a.Ref_Type||"OnAccount"==a.Ref_Type)("ngModel",a.Ref_Tag),w.xp6(2),w.Q6J("ngIf",l.submitted&&r.invalid)}}function Er(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"td"),w.TgZ(1,"input",106,107),w.NdJ("selected",function(e){return w.CHM(n),w.oxw().$implicit.DueDate=e}),w.qZA(),w.qZA()}if(2&e){var r=w.MAs(2),i=w.oxw(),o=i.index,a=i.$implicit;w.oxw(3);var l=w.MAs(2);w.xp6(1),w.MGl("name","refdate__",o,""),w.MGl("id","refdate__",o,""),w.Q6J("disabled","AgainstRef"==a.Ref_Type||"OnAccount"==a.Ref_Type)("ngClass",w.VKq(5,Vr,l.submitted&&r.invalid))("startDate",a.DueDate)}}function Qr(e,t){if(1&e&&w._uU(0),2&e){var n=t.item;w.HOy(" ",n.Ref_Type,"- ",n.Ref_Tag,"- ",n.Dr>0?n.Dr:n.Cr,"",n.Dr>0?"Dr":"Cr"," ")}}function Fr(e,t){if(1&e&&(w._uU(0),w.TgZ(1,"b"),w._uU(2," Available Balance "),w.qZA(),w._uU(3)),2&e){var n=t.item;w.HOy(" ",n.Ref_Type,"- ",n.Ref_Tag,"- ",n.Dr>0?n.Dr:n.Cr,"",n.Dr>0?"Dr":"Cr"," - "),w.xp6(3),w.AsE("-",n.OrgBalance>0?n.OrgBalance:-1*n.OrgBalance,"",n.OrgBalance>0?"Dr":"Cr"," ")}}function Hr(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"ng-select",110,111),w.NdJ("ngModelChange",function(e){return w.CHM(n),w.oxw(2).$implicit.Agnst_Ref_Id=e})("change",function(e){w.CHM(n);var t=w.oxw(2).$implicit;return w.oxw(4).onAgainstRefChange(e,t)}),w.YNc(2,Qr,1,4,"ng-template",22),w.YNc(3,Fr,4,6,"ng-template",61),w.qZA()}if(2&e){var r=w.oxw(2),i=r.index,o=r.$implicit,a=w.oxw(4);w.MGl("name","agReferences",i,""),w.Q6J("items",a.LedagainstRefList)("ngModel",o.Agnst_Ref_Id)}}function Or(e,t){if(1&e&&(w.TgZ(0,"td",108),w.YNc(1,Hr,4,3,"ng-select",109),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(1),w.Q6J("ngIf","AgainstRef"==n.Ref_Type)}}function Pr(e,t){1&e&&(w.TgZ(0,"div"),w._uU(1,"required"),w.qZA())}function Gr(e,t){if(1&e&&(w.TgZ(0,"div",35),w.YNc(1,Pr,2,0,"div",36),w.qZA()),2&e){w.oxw();var n=w.MAs(18);w.xp6(1),w.Q6J("ngIf",n.errors.required)}}function $r(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"tr",90),w.TgZ(1,"td"),w.TgZ(2,"ng-select",91,92),w.NdJ("ngModelChange",function(e){return w.CHM(n).$implicit.Ref_Type=e}),w.TgZ(4,"ng-option",93),w._uU(5,"New Ref"),w.qZA(),w.TgZ(6,"ng-option",94),w._uU(7,"OnAccount"),w.qZA(),w.TgZ(8,"ng-option",95),w._uU(9,"Advance"),w.qZA(),w.TgZ(10,"ng-option",96),w._uU(11,"AgainstRef"),w.qZA(),w.qZA(),w.YNc(12,Ur,2,1,"div",17),w.qZA(),w.YNc(13,Rr,4,7,"td",36),w.YNc(14,Er,3,7,"td",36),w.YNc(15,Or,2,1,"td",97),w.TgZ(16,"td"),w.TgZ(17,"input",98,99),w.NdJ("change",function(){var e=w.CHM(n).$implicit;return w.oxw(4).onReferenceAmountChange(e)})("ngModelChange",function(e){return w.CHM(n).$implicit.Balance=e}),w.qZA(),w.YNc(19,Gr,2,1,"div",17),w.qZA(),w.TgZ(20,"td"),w.TgZ(21,"ng-select",100),w.NdJ("ngModelChange",function(e){return w.CHM(n).$implicit.AmtType=e}),w.TgZ(22,"ng-option",101),w._uU(23,"DR"),w.qZA(),w.TgZ(24,"ng-option",102),w._uU(25,"CR"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(26,"td"),w.TgZ(27,"a",103),w.NdJ("click",function(){var e=w.CHM(n).$implicit;return w.oxw(4).RemoveReference(e.Index)}),w._UZ(28,"i",66),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=t.$implicit,i=t.index,o=w.MAs(3),a=w.MAs(18);w.oxw(3);var l=w.MAs(2);w.xp6(2),w.MGl("name","rafdrp",i,""),w.Q6J("disabled","AgainstRef"!=r.Ref_Type&&r.UIDN>0)("ngModel",r.Ref_Type)("ngClass",w.VKq(14,Vr,l.submitted&&o.invalid)),w.xp6(10),w.Q6J("ngIf",l.submitted&&o.invalid),w.xp6(1),w.Q6J("ngIf","AgainstRef"!=r.Ref_Type),w.xp6(1),w.Q6J("ngIf","AgainstRef"!=r.Ref_Type),w.xp6(1),w.Q6J("ngIf","AgainstRef"==r.Ref_Type),w.xp6(2),w.MGl("name","Refamt__",i,""),w.Q6J("ngModel",r.Balance)("ngClass",w.VKq(16,Vr,l.submitted&&a.invalid)),w.xp6(2),w.Q6J("ngIf",l.submitted&&a.invalid),w.xp6(2),w.MGl("name","AmtType__",i,""),w.Q6J("ngModel",r.AmtType)}}function Br(e,t){if(1&e&&(w.TgZ(0,"table",87,88),w.TgZ(2,"thead"),w.TgZ(3,"tr"),w.TgZ(4,"th"),w._uU(5,"Ref. Method"),w.qZA(),w.TgZ(6,"th"),w._uU(7,"Ref. Tag"),w.qZA(),w.TgZ(8,"th"),w._uU(9,"Due Date"),w.qZA(),w.TgZ(10,"th"),w._uU(11,"Amount"),w.qZA(),w.TgZ(12,"th"),w._uU(13,"Dr/Cr"),w.qZA(),w.TgZ(14,"th"),w._uU(15,"Action"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(16,"tbody"),w.YNc(17,$r,29,18,"tr",89),w.qZA(),w.qZA()),2&e){var n=w.oxw(3);w.xp6(17),w.Q6J("ngForOf",n.getreferenceforpopup())}}function Yr(e,t){if(1&e&&(w.TgZ(0,"div",85),w.YNc(1,Br,18,1,"table",86),w.qZA()),2&e){var n=w.oxw(2);w.xp6(1),w.Q6J("ngIf",!n.companyLedgerService.IsMobileview)}}function jr(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",71),w.TgZ(1,"form",72,73),w.NdJ("ngSubmit",function(){w.CHM(n);var e=w.MAs(2),t=w.oxw();return e.form.valid&&t.Savereference()}),w.TgZ(3,"div",74),w.TgZ(4,"div",75),w.TgZ(5,"h4",76),w._uU(6,"Add/Edit Reference "),w.qZA(),w.TgZ(7,"button",77),w.NdJ("click",function(){w.CHM(n);var e=w.oxw(),t=w.MAs(32);return e.showReferencepopup=!1,t.hide()}),w.TgZ(8,"span",78),w._uU(9,"\xd7"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(10,"div",79),w.YNc(11,Yr,2,1,"div",80),w.TgZ(12,"button",81),w.NdJ("click",function(){return w.CHM(n),w.oxw().addNewreference()}),w._uU(13,"Add new row"),w.qZA(),w.qZA(),w.TgZ(14,"div",82),w.TgZ(15,"button",83),w._uU(16,"Save Changes"),w.qZA(),w.TgZ(17,"button",84),w.NdJ("click",function(){w.CHM(n);var e=w.oxw(),t=w.MAs(32);return e.showReferencepopup=!1,t.hide()}),w._uU(18,"Close"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var r=w.oxw();w.xp6(11),w.Q6J("ngIf",r.curReference.length>0)}}var Kr=[],zr=[{path:"",data:{title:"Transactions"},children:[{path:"challan",component:Jt,data:{title:"Challan List",ViewType:"View",component:"ChallanListComponent"},canActivate:[ar.i]},{path:"challan/:label",component:Jt,data:{title:"Challan List - Billwise",ViewType:"View",component:"ChallanListComponent"},canActivate:[ar.i]},{path:"challan/:id",component:O.N,data:{title:"Add/Edit Challan",ViewType:"View",component:"ChallanAddeditComponent"},canActivate:[ar.i]},{path:"daybook",component:Rt.C,data:{title:"Day Book",ViewType:"View",component:"AccountListComponent"},canActivate:[ar.i]},{path:"ledger",component:Rt.C,data:{title:"Ledger Report",ViewType:"View",component:"AccountListComponent"},canActivate:[ar.i]},{path:"group",component:Rt.C,data:{title:"Group Report",ViewType:"View",component:"AccountListComponent"},canActivate:[ar.i]},{path:"finalize",component:Rt.C,data:{title:"Finalize Report",ViewType:"View",component:"AccountListComponent"},canActivate:[ar.i]},{path:"restorevoucher",component:Rt.C,data:{title:"voucher History",ViewType:"View",component:"AccountListComponent"},canActivate:[ar.i]},{path:"hiddenvoucher",component:Rt.C,data:{title:"Hidden Vouchers",ViewType:"View",component:"AccountListComponent"},canActivate:[ar.i]},{path:"daybook/:ledgerid",component:Rt.C,data:{title:"DayBook",ViewType:"View",component:"AccountListComponent"},canActivate:[ar.i]},{path:"accountadd",component:function(){var e=function(){function e(n,r,i,o){t(this,e),this.accountService=n,this.companyLedgerService=r,this.alertService=i,this.router=o,this.vouchertypeclass="",this.taxledgerDetails=[],this.VoucherMasters=[],this.FinalVoucherMasters=[],this.VoucherIndex=0,this.AccountText="Select Ledger",this.httpfunction=new T.r,this.bankDetails=[],this.curReference=[],this.allagainstRefList=[],this.modalReferenceIndex=0,this.showReferencepopup=!1,this.modalDrAmt=0,this.modalCrAmt=0,this.VoucherId=0,this.Total="0.0 Dr",this.TotalTax="0.0 Dr",this.GrandTotal="0.0 Dr",this.RoundOFFTotal="0.0 Dr",this.Totalroundoff=0,this.IsRoundOff=!1,this.ReferendeIndex=0,this.modalLedger=null,this.LedagainstRefList=[],this.IsShowLedger=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;null!=this.serachcontrol&&null!=this.serachcontrol&&this.serachcontrol.focus(),this.companyLedgerService.GetAllledaccount(!0);var t=new g.VN,n=new g.eK;n.TabIndex=n.Index+21,t.VDet=[],t.VDet.push(n),this.VoucherMasters.push(t),this.Refsubscription=this.accountService.resultObs.subscribe(function(){e.allagainstRefList=e.allagainstRefList.concat(e.accountService.result),e.setcurrentreference()})}},{key:"ngOnDestroy",value:function(){null!=this.Refsubscription&&this.Refsubscription.unsubscribe()}},{key:"setcurrentreference",value:function(){var e=this;this.LedagainstRefList=JSON.parse(JSON.stringify(this.allagainstRefList.filter(function(t){return t.L_Id==e.curReferenceedger&&t.VoucherMaster_PK_Id!=e.VoucherId})));for(var t=function(t){var n=e.LedagainstRefList[t];n.Balance<0&&(n.Balance=-1*n.Balance),n.OrgBalance=n.Balance,null!=(r=e.getreferenceforpopup().filter(function(e){return e.Agnst_VoucherMst_Id==n.voucherMasterId&&e.Agnst_Ref_Id==n.UIDN}))&&null!=r&&r.length>0&&(n.OrgBalance+=r[0].Dr>0?r[0].Dr:r[0].Cr,r[0].OrgBalance=n.OrgBalance)},n=0;n<this.LedagainstRefList.length;n++){var r;t(n)}}},{key:"getreferenceforpopup",value:function(){return this.curReference.filter(function(e){return 1!=e.operationType})}},{key:"adddNewTransaction",value:function(){if(!this.httpfunction.IsMobileview()){var e=this.VoucherMasters.length-1;if(null!=this.VoucherMasters[e].VDet[0].LedDet&&null!=this.VoucherMasters[e].VDet[0].LedDet&&null!=this.VoucherMasters[e].VDet[0].DrAmt&&null!=this.VoucherMasters[e].VDet[0].DrAmt&&0!=this.VoucherMasters[e].VDet[0].DrAmt){this.VoucherIndex=this.VoucherIndex+1;var t=new g.VN,n=new g.eK;n.Index=this.VoucherIndex,n.TabIndex=this.VoucherIndex+21,t.VDet=[],t.VDet.push(n),this.VoucherMasters.push(t)}}}},{key:"isNumeric",value:function(e){return null!=e&&/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(e.toString())}},{key:"getNumeric",value:function(e){return this.isNumeric(e)?(e=parseFloat(e),parseFloat(e.toFixed(2))):parseFloat("0")}},{key:"SelectVoucherType",value:function(){var e=this;this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.ReceiptNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()?this.AccountText="Party Name":this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.DeliveryNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()?this.AccountText="Customer":this.accountVoucherType.toLowerCase()==h.$f.Receipt.toLowerCase()?this.AccountText="Receipt In Account":this.accountVoucherType.toLowerCase()==h.$f.Payment.toLowerCase()?this.AccountText="Payment From":this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()?this.AccountText="Deposit To":this.accountVoucherType.toLowerCase()==h.$f.Contra.toLowerCase()&&(this.AccountText="Deposit In");var t=JSON.parse(this.httpfunction.getStorage("VoucherType"));this.IsShowLedger=t.filter(function(t){return t.NA.toUpperCase()==e.accountVoucherType.toUpperCase()})[0].IsShowLed,this.getFromLedger(),this.getToLedger(),this.getTaxLedger()}},{key:"getFromLedger",value:function(){this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DeliveryNote.toLocaleLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()?(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 1==e.IsSL&&0==e.IsGrp&&1==e.St}),this.IsShowLedger&&(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))):this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.ReceiptNote.toLocaleLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()?(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 1==e.IsPU&&0==e.IsGrp&&1==e.St}),this.IsShowLedger&&(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))):this.accountVoucherType.toLocaleLowerCase()==h.$f.Payment.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Receipt.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Contra.toLocaleLowerCase()?this.FromLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash)&&0==e.IsGrp&&1==e.St}):this.accountVoucherType.toLocaleLowerCase()==h.$f.Journal.toLocaleLowerCase()&&(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))}},{key:"getToLedger",value:function(){this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DeliveryNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.SalesOrder.toLocaleLowerCase()?this.ToLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSD)&&0==e.IsGrp&&1==e.St}):this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.ReceiptNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.PurchaseOrder.toLocaleLowerCase()?this.ToLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSC)&&0==e.IsGrp&&1==e.St}):this.accountVoucherType.toLocaleLowerCase()==h.$f.Payment.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Receipt.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Journal.toLocaleLowerCase()?this.ToLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}):this.accountVoucherType.toLocaleLowerCase()==h.$f.Contra.toLocaleLowerCase()&&(this.ToLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash)&&0==e.IsGrp&&1==e.St}))}},{key:"getTaxLedger",value:function(){this.TaxLedger=this.companyLedgerService.result.filter(function(e){return 1==e.isTL&&0==e.IsGrp&&1==e.St})}},{key:"getreference",value:function(e,t){if(null!=e)return null!=e&&null!=this.VoucherMasters[t]&&null!=this.VoucherMasters[t].referencemaster?this.VoucherMasters[t].referencemaster.filter(function(t){return t.L_Id==e.UIDN&&1!=t.operationType}):null}},{key:"openReferencepopup",value:function(e,t){var n=this;if(this.curReferenceedger=null,this.curReference=[],-1==e)if(this.httpfunction.IsMobileview())if(this.accountVoucherType.toLowerCase()!=h.$f.Contra.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Purchase.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Sales.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.DebitNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.CreditNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.DeliveryNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.ReceiptNote.toLowerCase()){if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else{if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else if(e>-1)if(this.httpfunction.IsMobileview())if(this.accountVoucherType.toLowerCase()!=h.$f.Contra.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Purchase.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Sales.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.DebitNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.CreditNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.DeliveryNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.ReceiptNote.toLowerCase()){if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else{if(null==this.VoucherMasters[e].VDet[t].LedDet||null==this.VoucherMasters[e].VDet[t].LedDet)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.VoucherMasters[e].VDet[t].LedDet.UIDN}null!=this.VoucherMasters[e].referencemaster&&this.VoucherMasters[e].referencemaster.length>0?this.httpfunction.IsMobileview()?e>-1?(this.curReference=JSON.parse(JSON.stringify(this.VoucherMasters[e].referencemaster.filter(function(t){return t.L_Id==n.curReferenceedger&&t.Index==e}))),null!=this.curReference&&this.curReference.length>0||this.addNewreference()):this.addNewreference():(this.curReference=JSON.parse(JSON.stringify(this.VoucherMasters[e].referencemaster.filter(function(e){return e.L_Id==n.curReferenceedger}))),null!=this.curReference&&this.curReference.length>0||this.addNewreference()):this.addNewreference(),0==this.allagainstRefList.filter(function(e){return e.L_Id==n.curReferenceedger&&e.VoucherMaster_PK_Id!=n.VoucherId}).length&&(this.accountService.filterArg=new Ot.Jw,this.accountService.filterArg.LedgerId=this.curReferenceedger,this.accountService.filterArg.voucherMasterId=this.VoucherId,this.accountService.isGetSubscribe=!0,this.accountService.GetAgainstRefDetail()),this.modalReferenceIndex=e,this.showReferencepopup=!0,this.httpfunction.IsMobileview()||this.RefModal.show()}},{key:"onAgainstRefChange",value:function(e,t){null!=t.Agnst_Ref_Id&&this.curReference.filter(function(t){return 1!=t.operationType&&t.Agnst_Ref_Id==e.UIDN}).length>1?(this.alertService.showError("Error","This reference is already in use as against reference. Please select another reference"),setTimeout(function(){t.Agnst_Ref_Id=null,t.OrgBalance=0,t.Agnst_VoucherMst_Id=null},250)):(t.Balance=e.Balance,t.OrgBalance=e.OrgBalance,t.Agnst_VoucherMst_Id=e.VoucherMaster_PK_Id,t.AmtType=e.Cr>0?"Dr":"Cr")}},{key:"Savereference",value:function(){var e=this,t=!0,n=[];if(this.httpfunction.IsMobileview()){if(null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster&&this.VoucherMasters[this.modalReferenceIndex].referencemaster.length>0)if(-1==this.modalReferenceIndex){var r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id==e.curReferenceedger}),i=this.curReference.concat(r||[]);this.curReference=i}else if(this.modalReferenceIndex>-1){var o=this.VoucherMasters[this.modalReferenceIndex].referencemaster.findIndex(function(t){return t.Index==e.modalReferenceIndex});this.VoucherMasters[this.modalReferenceIndex].referencemaster[o]=this.curReference[0],this.curReference=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return void 0!==e})}if(this.curReference.length>0){var a=this.curReference.length;null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster&&this.VoucherMasters[this.modalReferenceIndex].referencemaster.length>0&&-1==this.modalReferenceIndex&&(n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}));for(var l=0;l<a;l++){if("Dr"==this.curReference[l].AmtType?(this.curReference[l].Dr=this.getNumeric(this.curReference[l].Balance),this.curReference[l].Cr=0):(this.curReference[l].Cr=this.getNumeric(this.curReference[l].Balance),this.curReference[l].Dr=0),"AgainstRef"==this.curReference[l].Ref_Type){var c=this.getNumeric(this.curReference[l].OrgBalance);c<0&&(c*=-1),this.getNumeric(this.curReference[l].Balance)>c&&(t=!1)}n.push(this.curReference[l])}this.modalDrAmt=this.TotalAmount,this.VoucherMasters[this.modalReferenceIndex].referencemaster=n}else n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}),this.VoucherMasters[this.modalReferenceIndex].referencemaster=n}else if(this.curReference.length>0){var s=this.curReference.length;null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster&&this.VoucherMasters[this.modalReferenceIndex].referencemaster.length>0&&(n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}));for(var d=0;d<s;d++){if("Dr"==this.curReference[d].AmtType?(this.curReference[d].Dr=this.getNumeric(this.curReference[d].Balance),this.curReference[d].Cr=0):(this.curReference[d].Cr=this.getNumeric(this.curReference[d].Balance),this.curReference[d].Dr=0),"AgainstRef"==this.curReference[d].Ref_Type){var u=this.getNumeric(this.curReference[d].OrgBalance);u<0&&(u*=-1),this.getNumeric(this.curReference[d].Balance)>u&&(t=!1)}n.push(this.curReference[d])}this.VoucherMasters[this.modalReferenceIndex].referencemaster=n}else n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}),this.VoucherMasters[this.modalReferenceIndex].referencemaster=n;t?(this.showReferencepopup=!1,this.httpfunction.IsMobileview()||this.RefModal.hide(),this.calculateAmount(this.modalReferenceIndex),this.finalcalculation(this.modalReferenceIndex),this.httpfunction.IsMobileview()||setTimeout(function(){},200)):this.alertService.showError("Error","Against reference should not have more amount than the outstanding amount")}},{key:"calculateAmount",value:function(e){var t=this;if(null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster&&null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster){var n=null;if(this.httpfunction.IsMobileview())if(null!=this.modalLedger&&null!=this.modalLedger){n=this.modalLedger;var r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return e.L_Id==t.modalLedger.UIDN&&1!=e.operationType})}else n=this.companyLedgerService.singleresult,r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return e.L_Id==n.UIDN&&1!=e.operationType});else null!=this.VoucherMasters[e]&&this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&e.LedDet.UIDN==t.curReferenceedger}).length>0?(n=this.VoucherMasters[e].VDet.filter(function(e){return e.LedDet.UIDN==t.curReferenceedger})[0],r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return e.L_Id==n.LedDet.UIDN&&1!=e.operationType})):(n=this.companyLedgerService.singleresult,r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return e.L_Id==n.UIDN&&1!=e.operationType}));for(var i=0,o=0,a=0;a<r.length;a++)o+=r[a].Dr,i+=r[a].Cr;n.DrAmt=o-i,n.DrAmt<0&&(n.DrAmt=-1*n.DrAmt),this.httpfunction.IsMobileview()&&(this.modalDrAmt=n.DrAmt),this.httpfunction.IsMobileview()?null!=this.VoucherMasters[e]&&this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&e.LedDet.UIDN==t.curReferenceedger}).length>0||((this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase())&&this.VoucherMasters[e].VDet.length>0&&null!=this.VoucherMasters[e].VDet&&(this.VoucherMasters[e].VDet[0].DrAmt=n.DrAmt),this.modalDrAmt=n.DrAmt,this.modalDrAmt<0&&(this.modalDrAmt=-1*n.DrAmt)):null!=this.VoucherMasters[e]&&this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&e.LedDet.UIDN==t.curReferenceedger}).length>0||(this.VoucherMasters[e].VDet[0].DrAmt=n.DrAmt)}else{var l=0,c=null;null!=(c=this.VoucherMasters[e])&&null!=c&&(l=c.Disc,c.DrAmt=this.getNumeric(c.actqty*c.rate),null!=l&&(c.DrAmt=this.getNumeric(c.DrAmt-c.DrAmt*l/100)),c.DrAmt<0&&(c.DrAmt=-1*c.DrAmt))}}},{key:"onReferenceAmountChange",value:function(e){"NewRef"==e.Ref_Type&&(e.Balance<e.Dr-e.OrgBalance||e.Balance<e.Cr-e.OrgBalance)&&(this.alertService.showError("Error","You can not reduce amount which is already paid as against reference"),e.Balance=e.Dr>0?e.Dr:e.Cr)}},{key:"addNewreference",value:function(){var e=new cr.eS;e.Ref_Type=lr.l.NewRef,e.L_Id=this.curReferenceedger,e.AmtType=this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.DeliveryNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Payment.toLowerCase()?"Dr":this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.ReceiptNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Receipt.toLowerCase()?"Cr":"Dr",e.operationType=0,this.ReferendeIndex=this.ReferendeIndex+1,e.Index=this.ReferendeIndex,this.curReference.push(e)}},{key:"calculateBank",value:function(e){var t=this,n=new Array,r=null,i=0;if(this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()){if(null==this.VoucherMasters[e].VDet||null==this.VoucherMasters[e].VDet)return}else if(null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult)return;if(this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()){if(this.VoucherMasters[e].VDet[0].LedDet.IsBank){for(var o=0;o<this.VoucherMasters[e].VDet.length;o++)i+=this.getNumeric(this.VoucherMasters[e].VDet[o].DrAmt);(l=new g.eK).LId=this.companyLedgerService.singleresult.UIDN,l.L_Name=this.companyLedgerService.singleresult.LN,l.LedDet=new h.dJ,l.LedDet.UIDN=this.companyLedgerService.singleresult.UIDN,l.LedDet.LN=this.companyLedgerService.singleresult.LN,l.LedDet.IsBank=this.companyLedgerService.singleresult.IsBank,i>0?l.DrAmt=i:(l.CrAmt=i,l.CrAmt<0&&(l.CrAmt=-1*l.CrAmt)),null!=this.VoucherMasters[e].VDet[0].TaxLedger&&null!=this.VoucherMasters[e].VDet[0].TaxLedger&&this.VoucherMasters[e].VDet[0].TaxLedger.length>0&&(l.TaxLedger=this.VoucherMasters[e].VDet[0].TaxLedger),n.push(JSON.parse(JSON.stringify(l)))}}else if(this.companyLedgerService.singleresult.IsBank){for(var a=0;a<this.VoucherMasters[e].VDet.length;a++)i+=this.getNumeric(this.VoucherMasters[e].VDet[a].DrAmt);var l;(l=new g.eK).LId=this.companyLedgerService.singleresult.UIDN,l.L_Name=this.companyLedgerService.singleresult.LN,l.LedDet=new h.dJ,l.LedDet.UIDN=this.companyLedgerService.singleresult.UIDN,l.LedDet.LN=this.companyLedgerService.singleresult.LN,l.LedDet.IsBank=this.companyLedgerService.singleresult.IsBank,i>0?l.DrAmt=i:(l.CrAmt=i,l.CrAmt<0&&(l.CrAmt=-1*l.CrAmt)),n.push(JSON.parse(JSON.stringify(l)))}r=this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()?JSON.parse(JSON.stringify(this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&1==e.LedDet.IsBank}))):JSON.parse(JSON.stringify(this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt})));for(var c=0;c<r.length;c++)r[c].DrAmt<0?(r[c].DrAmt=-1*r[c].DrAmt,r[c].CrAmt=0):(r[c].CrAmt=r[c].DrAmt,r[c].DrAmt=0);if((n=n.concat(r?JSON.parse(JSON.stringify(r)):[])).length>0){this.VoucherMasters[e].bankDetails=[],this.bankDetails=[];for(var s=0;s<n.length;s++){var d=0,u=0,p=null;if((n[s].DrAmt>0||n[s].CrAmt>0)&&1==n[s].LedDet.IsBank&&(d=2,u=n[s].LedDet.UIDN,p=n[s].LedDet.LN),d>0){var f=null;if(2==d){if(f=new Array,0==n[s].DrAmt||null==n[s].DrAmt){if(this.accountVoucherType.toLowerCase()==h.$f.Contra.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Payment.toLowerCase())var m=n.filter(function(e){return e.LedDet.UIDN!=u&&e.DrAmt>0})[0];else m=n.filter(function(e){return e.LedDet.UIDN!=u&&0==e.LedDet.IsBank&&e.DrAmt>0})[0];null!=m&&null!=m&&f.push(m)}else null!=(m=this.accountVoucherType.toLowerCase()==h.$f.Contra.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Payment.toLowerCase()?n.filter(function(e){return e.LedDet.UIDN!=u&&e.CrAmt>0})[0]:this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()?n.filter(function(e){return e.LedDet.UIDN!=u&&e.DrAmt>0})[0]:this.accountVoucherType?n.filter(function(e){return null==e.InventoryDetails}).filter(function(e){return e.LedDet.UIDN!=u})[0]:n.filter(function(e){return e.LedDet.UIDN!=u&&0==e.LedDet.IsBank&&e.CrAmt>0})[0])&&null!=m&&f.push(m);var Z=new g.eK,v=n[s],T=0;if(Z.DrAmt=this.getNumeric(v.DrAmt),null!=v.TaxLedger&&null!=v.TaxLedger)for(var A=0;A<v.TaxLedger.length;A++)1==v.TaxLedger[A].IsInclusive?(T+=this.getNumeric(v.DrAmt*v.TaxLedger[A].TR/100),Z.DrAmt=Z.DrAmt-this.getNumeric(v.DrAmt*v.TaxLedger[A].TR/100)):Z.DrAmt=Z.DrAmt+this.getNumeric(v.DrAmt*v.TaxLedger[A].TR/100);for(var x=function(){L=t.bankDetails.filter(function(e){return e.BLId==u&&e.LId==f[I].LedDet.UIDN});var r=t.getNumeric(0==n[s].DrAmt||null==n[s].DrAmt?0:n[s].DrAmt),i=t.getNumeric(0==n[s].DrAmt||null==n[s].DrAmt?n[s].CrAmt:0);if(null!=f[I].TaxLedger&&null!=f[I].TaxLedger)for(var o=0;o<f[I].TaxLedger.length;o++)0==i?1==f[I].TaxLedger[o].IsInclusive?(T+=t.getNumeric(f[I].CrAmt*f[I].TaxLedger[o].TR/100),r-=t.getNumeric(f[I].CrAmt*f[I].TaxLedger[o].TR/100)):r+=t.getNumeric(f[I].CrAmt*f[I].TaxLedger[o].TR/100):1==f[I].TaxLedger[o].IsInclusive?(T+=t.getNumeric(f[I].DrAmt*f[I].TaxLedger[o].TR/100),i-=t.getNumeric(f[I].DrAmt*f[I].TaxLedger[o].TR/100)):i+=t.getNumeric(f[I].DrAmt*f[I].TaxLedger[o].TR/100);if(L.length>0)L[0].Led_Dr=t.getNumeric(L[0].Led_Dr)+t.getNumeric(r);else{var a=new g.oy;a.BankName="",a.TType="Cheque/DD",t.httpfunction.IsMobileview()&&(a.TType="0"),a.ChkDt=new Date,a.ChkNo="",a.BRecoDt=null,null!=t.VoucherMasters[e].bankDetails&&null!=t.VoucherMasters[e].bankDetails&&(0==(w=t.VoucherMasters[e].bankDetails.filter(function(e){return e.BLId==u&&e.LId==f[I].LedDet.UIDN})).length&&(w=t.VoucherMasters[e].bankDetails.filter(function(e){return(e.BLId==u||e.LId==f[I].LedDet.UIDN)&&e.Led_Dr==r})),0==w.length&&(w=t.VoucherMasters[e].bankDetails.filter(function(e){return(e.BLId==u||e.LId==f[I].LedDet.UIDN)&&e.Led_Dr==f[I].DrAmt})),w.length>0&&(a.BankName=w[0].BankName,a.TType=w[0].TType,a.ChkDt=w[0].ChkDt,a.ChkNo=w[0].ChkNo,a.BRecoDt=w[0].BRecoDt,w[0].Led_Dr=r)),a.InclusiveAmount=T,a.BLId=u,a.BL_Name=p,a.LId=f[I].LedDet.UIDN,a.L_Name=f[I].LedDet.LN,t.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||t.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||t.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||t.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()?(a.Led_Dr=parseFloat(i.toFixed(2)),a.Led_Cr=parseFloat(r.toFixed(2))):(a.Led_Dr=parseFloat(r.toFixed(2)),a.Led_Cr=parseFloat(i.toFixed(2))),a.bankTabIndex=t.bankDetails.length+1010,t.bankDetails.push(a),t.VoucherMasters[e].bankDetails=t.bankDetails}},I=0;I<f.length;I++){var L,w;x()}}}}}}},{key:"DebitOrCreditByCategory",value:function(e,t){var n="";if(this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()&&1==t)return"CREDIT";if(this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()&&0==t)return"DEBIT";if(this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.DeliveryNote.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()&&0==t)return"DEBIT";if(this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.DeliveryNote.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()&&1==t)return"CREDIT";if(this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.ReceiptNote.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()&&0==t)return"CREDIT";if(this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.ReceiptNote.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()&&1==t)return"DEBIT";n=this.accountVoucherType.toLowerCase()==h.$f.Receipt.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Contra.toLowerCase()?"Increase":"Decrease",t&&(n="Decrease"==n?"Increase":"Decrease");var r="";if("Increase"==n)switch(e){case"Assets":case"Expenses":r="DEBIT";break;case"Liability":case"Income":r="CREDIT"}else switch(e){case"Assets":case"Expenses":r="CREDIT";break;case"Liability":case"Income":r="DEBIT"}return r}},{key:"finalcalculation",value:function(e){if(null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult){for(var t=this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt}),n=0,r=0,i=0,o=0,a=0,l=0;l<t.length;l++){var c;c=this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()?this.DebitOrCreditByCategory(this.VoucherMasters[l].VDet[0].L_Cat,!0):this.DebitOrCreditByCategory(this.companyLedgerService.singleresult.Cat,!0);var s=0,d=0;if(t[l].LedDet.isTL?"DEBIT"==c?this.getNumeric(t[l].DrAmt)<0?i+=this.getNumeric(-1*t[l].DrAmt):o+=this.getNumeric(t[l].DrAmt):this.getNumeric(t[l].DrAmt)<0?o+=this.getNumeric(-1*t[l].DrAmt):i+=this.getNumeric(t[l].DrAmt):"DEBIT"==c?this.getNumeric(t[l].DrAmt)<0?(d=this.getNumeric(-1*t[l].DrAmt),n+=this.getNumeric(d)):(s=this.getNumeric(t[l].DrAmt),r+=this.getNumeric(s)):this.getNumeric(t[l].DrAmt)<0?(s=this.getNumeric(-1*t[l].DrAmt),r+=this.getNumeric(s)):(d=this.getNumeric(t[l].DrAmt),n+=this.getNumeric(d)),null!=t[l].TaxLedger&&null!=t[l].TaxLedger)for(var u=0;u<t[l].TaxLedger.length;u++)s>0&&(o+=this.getNumeric(s*t[l].TaxLedger[u].TR/100),t[l].TaxLedger[u].IsInclusive&&(a+=this.getNumeric(s*t[l].TaxLedger[u].TR/100))),d>0&&(i+=this.getNumeric(d*t[l].TaxLedger[u].TR/100),t[l].TaxLedger[u].IsInclusive&&(a+=this.getNumeric(d*t[l].TaxLedger[u].TR/100)));var g=r-n,p=o-i;this.Total=g>0?parseFloat((g-1*a).toString()).toFixed(2)+" Dr":parseFloat((-1*g-1*a).toString()).toFixed(2)+" Cr",this.TotalTax=p>0?parseFloat((1*p).toString()).toFixed(2)+" Dr":parseFloat((-1*p*1).toString()).toFixed(2)+" Cr",this.GrandTotal=g+p>0?this.Totalroundoff>0?parseFloat((1*(g+p-a-this.Totalroundoff)).toString()).toFixed(2)+" Dr":parseFloat((1*(g+p-this.Totalroundoff-a)).toString()).toFixed(2)+" Dr":this.Totalroundoff>0?parseFloat((1*(-1*(g+p)-a-this.Totalroundoff)).toString()).toFixed(2)+" Cr":parseFloat((1*(-1*(g+p)-this.Totalroundoff-a)).toString()).toFixed(2)+" Cr"}this.VoucherMasters[e].TotalAmt=Number(this.GrandTotal.replace("Cr","").replace("Dr","")),this.calculateBank(e)}}},{key:"onVoucherDateSelect",value:function(e){this.VoucherMasters[e.index].VDt=e.startDate}},{key:"IsvalidDate",value:function(e){if(null!=this.VoucherMasters[e].VDt&&null!=this.VoucherMasters[e].VDt){var t=this.httpfunction.getCompanyvariale();return!(moment(t.StDt).format("YYYY-MM-DD")>moment(this.VoucherMasters[e].VDt).format("YYYY-MM-DD")&&(this.alertService.showError("Error","Voucher date must be greater than a company creation date: "+moment(this.companyLedgerService.getCompanyData.StDt).format("YYYY-MM-DD")+"."),1))}return!1}},{key:"GenerateTableLedger",value:function(e,t){if(0==t){this.taxledgerDetails=[];var n,r=new g.eK;return n=this.DebitOrCreditByCategory(this.comapny_LedgerAccount.Cat,!0),r.isMainled=!1,r.LId=e.LedDet.UIDN,r.L_Name=e.LedDet.LN,r.L_PId=e.LedDet.PI,r.L_Cat=e.LedDet.Cat,r.L_anc=e.LedDet.ancestor,r.CrAmt=e.DrAmt,r.deletedreference=e.deletedreference,r.TT=e.TT,r.TTA=e.TTA,r.challan=e.challan,r.IsBank=e.LedDet.IsBank,r.TCN=e.TCN,"DEBIT"==n?(r.CrAmt=0,r.DrAmt=this.getNumeric(e.DrAmt),this.getNumeric(e.DrAmt)<0&&(r.CrAmt=-1*this.getNumeric(e.DrAmt),r.DrAmt=0)):(r.DrAmt=0,r.CrAmt=this.getNumeric(e.DrAmt),this.getNumeric(e.DrAmt)<0&&(r.DrAmt=-1*this.getNumeric(e.DrAmt),r.CrAmt=0)),r.InventoryId=0,r.Quantity=0,r.UnitCost=0,r.IsTax=!1,null!=e.TaxLedger&&null!=e.TaxLedger&&e.TaxLedger.length>0?(r.TaxLedger=e.TaxLedger,r.TaxLedgerId=0,r.TaxRate=0):(r.TaxLedgerId=0,r.TaxRate=0),this.taxledgerDetails.push(r),this.taxledgerDetails}if(this.taxledgerDetails=[],null!=e.TaxLedger&&null!=e.TaxLedger){for(var i=0;i<e.TaxLedger.length;i++){var o;o=this.DebitOrCreditByCategory(this.comapny_LedgerAccount.Cat,!0);var a=new g.eK;a.isMainled=!1,a.IsTax=!0,a.LId=e.TaxLedger[i].UIDN,a.L_Name=e.TaxLedger[i].LN,a.L_PId=e.TaxLedger[i].PI,a.L_Cat=e.TaxLedger[i].Cat,a.L_anc=e.TaxLedger[i].ancestor,a.TaxLedgerId=e.TaxLedger[i].UIDN,a.TaxRate=e.TaxLedger[i].TR,a.isInclusive=e.TaxLedger[i].IsInclusive,null!=e.InventoryDetails&&null!=e.InventoryDetails&&(a.InventoryId=e.InventoryDetails.UIDN),"DEBIT"==o?(a.DrAmt=parseFloat((e.DrAmt*e.TaxLedger[i].TR/100).toFixed(2)),a.CrAmt=0):(a.CrAmt=parseFloat((e.DrAmt*e.TaxLedger[i].TR/100).toFixed(2)),a.DrAmt=0),this.taxledgerDetails.push(a)}return this.taxledgerDetails}return null}},{key:"deleteLedger",value:function(e){this.VoucherMasters.splice(e,1)}},{key:"RemoveReference",value:function(e){var t=this,n=this.curReference.findIndex(function(t){return t.Index==e});if(this.httpfunction.IsMobileview())if(0==this.curReference[n].operationType){var r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.findIndex(function(e){return e.Index==t.modalReferenceIndex});this.VoucherMasters[this.modalReferenceIndex].referencemaster.splice(r,1),this.curReference.splice(n,1)}else"NewRef"==this.curReference[n].Ref_Type&&this.curReference[n].Balance>this.curReference[n].OrgBalance?this.alertService.showError("Error","This reference already have against reference. Please delete against reference first"):(r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.findIndex(function(e){return e.Index==t.modalReferenceIndex}),this.VoucherMasters[this.modalReferenceIndex].referencemaster[r].operationType=1,this.curReference[n].operationType=1);else 0==this.curReference[n].operationType?this.curReference.splice(n,1):"NewRef"==this.curReference[n].Ref_Type&&this.curReference[n].Balance>this.curReference[n].OrgBalance?this.alertService.showError("Error","This reference already have against reference. Please delete against reference first"):this.curReference[n].operationType=1;this.calculateAmount(this.modalReferenceIndex),this.finalcalculation(this.modalReferenceIndex)}},{key:"onSubmit",value:function(){this.form.valid&&this.formvalid()}},{key:"formvalid",value:function(){var e=this;this.FinalVoucherMasters=[];for(var t=1,n=0;n<this.VoucherMasters.length;n++)this.IsvalidDate(n)?this.form.valid&&(null!=this.VoucherMasters[n].VDt&&this.VoucherMasters[n].VDet.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt}).length>0?(this.FinalVoucherMasters[n]=new g.VN,this.AddUpdateVoucher(n),t=0):(t+=1,this.alertService.showInfo("Info","Please enter proper detail in account."))):(t+=1,this.alertService.showInfo("Info","Please enter proper detail in account."));0==t&&this.accountService.addQuickVoucher(this.FinalVoucherMasters).subscribe(function(t){e.router.navigate(["/transactions/daybook"])},function(){})}},{key:"AddVoucher",value:function(e){this.accountService.waitforMessage=!1,this.accountService.isPopUpMessage=!1,this.accountVoucherType.toLowerCase()!=h.$f.Contra.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Payment.toLowerCase()&&(this.FinalVoucherMasters[e].VDet=this.FinalVoucherMasters[e].VDet.sort(function(e,t){return e.isMainled===t.isMainled?0:e.isMainled?-1:1})),this.FinalVoucherMasters[e].referencemaster=this.VoucherMasters[e].referencemaster}},{key:"AddUpdateVoucher",value:function(e){var t=null,n=[];this.comapny_LedgerAccount=null;var r=this.VoucherMasters[e].VDet;this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()?(t=r.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt}),this.comapny_LedgerAccount=r.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt})[0].LedDet,(n=n.concat(t?JSON.parse(JSON.stringify(t)):[]))[0].LedDet=this.companyLedgerService.singleresult):(n=r.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt}),this.comapny_LedgerAccount=this.companyLedgerService.singleresult),this.FinalVoucherMasters[e].VT=this.accountVoucherType,this.FinalVoucherMasters[e].Narr=this.VoucherMasters[e].Narr,this.FinalVoucherMasters[e].VDt=this.VoucherMasters[e].VDt,this.FinalVoucherMasters[e].VDet=[];var i=new g.eK;i.LId=this.comapny_LedgerAccount.UIDN,i.L_Name=this.comapny_LedgerAccount.LN,i.L_PId=this.comapny_LedgerAccount.PI,i.L_Cat=this.comapny_LedgerAccount.Cat,i.L_anc=this.comapny_LedgerAccount.ancestor,i.challan=this.comapny_LedgerAccount.challan,i.TaxLedgerId=0,i.TaxRate=0,i.InventoryId=0,i.Quantity=0,i.UnitCost=0,i.IsTax=!1,i.isMainled=!0,i.IsBank=this.comapny_LedgerAccount.IsBank;for(var o=!0,a=0;a<n.length;a++){var l=this.GenerateTableLedger(n[a],!1);if(this.FinalVoucherMasters[e].STA=null==n[a].State?JSON.parse(this.httpfunction.getStorage("_company")).Ste:n[a].State,null!=n[a].TaxLedger&&null!=n[a].TaxLedger&&(this.taxxxledger=this.GenerateTableLedger(n[a],!0),null!=l[0].TaxLedger))for(var c=0;c<l[0].TaxLedger.length;c++)l[0].TaxLedger[c].IsInclusive&&(l[0].DrAmt>0?l[0].DrAmt=l[0].DrAmt-this.getNumeric(l[0].DrAmt*l[0].TaxLedger[c].TR/100):l[0].CrAmt=l[0].CrAmt-this.getNumeric(l[0].CrAmt*l[0].TaxLedger[c].TR/100));if(null!=n[a].TaxLedger&&null!=n[a].TaxLedger&&null!=this.taxxxledger&&null!=this.taxxxledger)for(var s=0;s<this.taxxxledger.length;s++)this.taxxxledger[s].TaxLedgerId=l[0].LId,this.FinalVoucherMasters[e].VDet.push(this.taxxxledger[s]);if(null==l){o=!1;break}this.FinalVoucherMasters[e].VDet.push(l[0])}var d=this.FinalVoucherMasters[e].VDet.find(function(e){return 1==e.isMainled});if(null==d&&null==d)for(var u=0;u<this.FinalVoucherMasters[e].VDet.length;u++)if(null==this.FinalVoucherMasters[e].VDet){o=!1;break}if(0==n.length&&(o=!1),o){var p=0,f=0;if("DEBIT"==this.DebitOrCreditByCategory(this.comapny_LedgerAccount.Cat,!1)){for(var m=0;m<this.FinalVoucherMasters[e].VDet.length;m++)p+=parseFloat(this.FinalVoucherMasters[e].VDet[m].CrAmt.toFixed(2)),p-=parseFloat(this.FinalVoucherMasters[e].VDet[m].DrAmt.toFixed(2));(p=parseFloat(p.toFixed(2)))>0?(i.CrAmt=0,i.DrAmt=p):(i.DrAmt=0,i.CrAmt=-1*p)}else{for(var Z=0;Z<this.FinalVoucherMasters[e].VDet.length;Z++)f+=parseFloat(this.FinalVoucherMasters[e].VDet[Z].DrAmt.toFixed(2)),f-=parseFloat(this.FinalVoucherMasters[e].VDet[Z].CrAmt.toFixed(2));f=parseFloat(f.toFixed(2)),p>0?(i.DrAmt=0,i.CrAmt=f):(i.CrAmt=0,i.DrAmt=-1*f)}this.FinalVoucherMasters[e].VDet.push(i);for(var v=0;v<this.FinalVoucherMasters[e].VDet.length;v++)parseFloat(this.FinalVoucherMasters[e].VDet[v].DrAmt.toFixed(2))<0?(this.FinalVoucherMasters[e].VDet[v].CrAmt=-1*parseFloat(this.FinalVoucherMasters[e].VDet[v].DrAmt.toFixed(2)),this.FinalVoucherMasters[e].VDet[v].DrAmt=0):parseFloat(this.FinalVoucherMasters[e].VDet[v].CrAmt.toFixed(2))<0&&(this.FinalVoucherMasters[e].VDet[v].DrAmt=-1*parseFloat(this.FinalVoucherMasters[e].VDet[v].CrAmt.toFixed(2)),this.FinalVoucherMasters[e].VDet[v].CrAmt=0);p=0,f=0;for(var T=0;T<this.FinalVoucherMasters[e].VDet.length;T++)f+=parseFloat(this.FinalVoucherMasters[e].VDet[T].DrAmt.toFixed(2)),p+=parseFloat(this.FinalVoucherMasters[e].VDet[T].CrAmt.toFixed(2));(p=parseFloat(p.toFixed(2)))!=(f=parseFloat(f.toFixed(2)))?this.alertService.showError("Error","Debit and Credit amount is not matched, Please select proper Account."):(this.FinalVoucherMasters[e].ActionId=0,this.AddBankdetails(e))}else this.alertService.showError("Error","Please enter proper debit or credit amount for reference.")}},{key:"AddBankdetails",value:function(e){for(var t=this,n=!1,r=this.VoucherMasters[e].bankDetails,i=function(i){var o=r[i],l=o.Led_Cr>0?o.Led_Cr:o.Led_Dr;a=t.FinalVoucherMasters[e].VDet.filter(function(e){return e.LId==o.BLId});for(var c=0,s=function(n){if(c+=a[n].CrAmt>0?null==o.InclusiveAmount&&null==o.InclusiveAmount?t.getNumeric(a[n].CrAmt):t.getNumeric(a[n].CrAmt)-o.InclusiveAmount:null==o.InclusiveAmount&&null==o.InclusiveAmount?t.getNumeric(a[n].DrAmt):t.getNumeric(a[n].DrAmt)-o.InclusiveAmount,null!=a[n].TaxLedger&&null!=a[n].TaxLedger)for(var r=function(r){var i,o;o=a[n].TaxLedger[r],i=t.FinalVoucherMasters[e].VDet.filter(function(e){return e.LId==o.UIDN&&e.TaxLedgerId==a[n].LId&&1==e.IsTax})[0],a[n].CrAmt>0?i.isInclusive?c-=t.getNumeric(i.CrAmt):c+=t.getNumeric(i.CrAmt):i.isInclusive?c-=t.getNumeric(i.DrAmt):c+=t.getNumeric(i.DrAmt)},i=0;i<a[n].TaxLedger.length;i++)r(i)},d=0;d<a.length;d++)s(d);if(l!=c)return n=!0,"break"},o=0;o<r.length;o++){var a;if("break"===i(o))break}n?this.alertService.showError("Error","Bank amount is not matched with the voucher amount. Please enter proper amount"):(this.FinalVoucherMasters[e].bankDetails=this.VoucherMasters[e].bankDetails,this.finalSave(e))}},{key:"finalSave",value:function(e){this.FinalVoucherMasters[e].CI=this.accountService.getCompanyId,this.FinalVoucherMasters[e].SI=this.accountService.getSignupId;var t=this.httpfunction.getStorage("_roledata");t&&"null"!=t&&null!=t&&JSON.parse(this.httpfunction.getStorage("_roledata"));var n=JSON.parse(this.httpfunction.getStorage("_company"));null!=n.CL&&null!=n&&n.CL.length>0&&(this.FinalVoucherMasters[e].logoname=n.CL[0].name),this.AddVoucher(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w.Y36(u.B),w.Y36(c.Q),w.Y36(S.Rq),w.Y36(C.F0))},e.\u0275cmp=w.Xpm({type:e,selectors:[["app-account"]],viewQuery:function(e,t){var n;(1&e&&(w.Gf(sr,5),w.Gf(dr,5),w.Gf(ur,7,d.w9),w.Gf(gr,7)),2&e)&&(w.iGM(n=w.CRH())&&(t.form=n.first),w.iGM(n=w.CRH())&&(t.ITableRef=n.first),w.iGM(n=w.CRH())&&(t.serachcontrol=n.first),w.iGM(n=w.CRH())&&(t.RefModal=n.first))},features:[w._Bn([c.Q])],decls:34,vars:27,consts:[[3,"ngClass"],[1,"card"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],[1,"row"],[1,"md-form","col-4"],["for","Voucher"],["autofocus","","selectOnTab","true","name","vtype","id","vtype","placeholder","Select Voucher",3,"tabIndex","ngClass","ngModel","ngModelChange","change"],["vtype","ngModel"],["value","Sales"],["value","Purchase",4,"ngIf"],["value","Receipt",4,"ngIf"],["value","Payment",4,"ngIf"],["value","Credit Note",4,"ngIf"],["value","Debit Note",4,"ngIf"],["value","Receipt Note",4,"ngIf"],["value","Delivery Note",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"col-4"],["for","AccountText"],["selectOnTab","true","dropdownPosition","bottom","required","","name","FLedger","bindLabel","LN",3,"tabIndex","virtualScroll","items","ngModel","ngClass","loading","placeholder","ngModelChange"],["led","","FLedger","ngModel"],["ng-label-tmp",""],["class","col-md-12 p-0",4,"ngIf"],["class","row",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modalNew","fade"],["RefModal","bs-modal"],["class","modal-lg","role","document","id","myModalRef",4,"ngIf"],["value","Purchase"],["value","Receipt"],["value","Payment"],["value","Credit Note"],["value","Debit Note"],["value","Receipt Note"],["value","Delivery Note"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-md-12","p-0"],[1,"my-custom-scrollbar"],[1,"table","table-bordered","table-account"],[1,"text-left"],["scope","col",1,"text-center"],["scope","col",1,"text-left"],["voucherrow",""],[4,"ngFor","ngForOf"],["type","button","value","Add Item",1,"btn","btn-primary","btn-sm","lighten-3",3,"tabIndex","click"],["scope","row",1,"text-left"],["autofocus","","type","text","appDatepicker","","placeholder","Select Voucher Date",1,"form-control",3,"tabindex","name","startDate","index","id","selectedindex"],["ChkDt",""],["autofocus","","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Account","selectOnTab","true","appendTo","body",1,"maxpanel",3,"tabIndex","virtualScroll","items","name","ngModel","loading","ngModelChange"],["toled",""],["ng-header-tmp",""],[1,"clearfix","text-left","ml-2","font-italic","font-weight-light"],["href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],["scope","row",1,"text-center"],["href","javascript:void(0)",1,"btn","btn-link",3,"tabIndex","click"],["type","number","placeholder","Enter Amount","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"min-width","75px",3,"tabIndex","name","ngModel","id","ngModelChange","change"],["dramt",""],["scope","row"],["selectOnTab","true","appendTo","body","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",1,"maxpanel",2,"min-width","140px",3,"tabIndex","multiple","items","name","ngModel","loading","ngModelChange","change"],["toTax",""],["ng-option-tmp",""],["type","text","placeholder","Enter Narration",1,"form-control",2,"min-width","75px",3,"tabIndex","name","ngModel","id","ngModelChange"],["scope","row",1,"text-left","pt-1","pl-2",2,"min-width","75px"],["scope","row",1,"text-center",2,"background","white"],["href","javascript:void(0)","title","Delete Ledger","placement","bottom",2,"text-decoration","none",3,"tabIndex","click"],[1,"fas","fa-trash","text-danger","mr-1"],["href","javascript:void(0)",3,"click"],["id","formbtnContainer",1,"col-sm-12","p-0","text-right"],["tabindex","1020","type","submit","name","btnsubmit","id","btnsubmit",1,"btn","btn-primary"],["btnsubmit",""],["role","document","id","myModalRef",1,"modal-lg"],["role","form",3,"ngSubmit"],["frefitem","ngForm"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","table-responsive refTable",4,"ngIf"],["type","button",1,"btn","btn-link","p-0","m-0",3,"click"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-primary"],["type","button",1,"btn","btn-sm","btn-dark",3,"click"],[1,"table-responsive","refTable"],["class","table table-account table-bordered",4,"ngIf"],[1,"table","table-account","table-bordered"],["refTable",""],["class","md-form",4,"ngFor","ngForOf"],[1,"md-form"],["required","","appendTo","body","placeholder","Select Ref Type",2,"width","130px",3,"name","disabled","ngModel","ngClass","ngModelChange"],["RefType","ngModel"],["value","NewRef"],["value","OnAccount"],["value","Advance"],["value","AgainstRef"],["colspan","2",4,"ngIf"],["type","number","required","","placeholder","Enter Amount",1,"accText","form-control",2,"width","130px",3,"name","ngModel","ngClass","change","ngModelChange"],["Refamt","ngModel"],["placeholder","Select","appendTo","body",2,"min-width","65px",3,"name","ngModel","ngModelChange"],["value","Dr"],["value","Cr"],["href","javascript:void(0)",2,"text-decoration","none",3,"click"],["type","text","required","","placeholder","Reference Tag",1,"form-control","accText",2,"min-width","130px",3,"ngClass","disabled","name","ngModel","ngModelChange"],["refTag","ngModel"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",2,"width","85px",3,"disabled","ngClass","startDate","name","id","selected"],["refdate",""],["colspan","2"],["style","min-width:200px;","selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",3,"items","name","ngModel","ngModelChange","change",4,"ngIf"],["selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",2,"min-width","200px",3,"items","name","ngModel","ngModelChange","change"],["agReferences",""]],template:function(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"form",2,3),w.NdJ("ngSubmit",function(){return w.CHM(n),w.MAs(3).form.valid&&t.onSubmit()}),w.TgZ(4,"div",4),w.TgZ(5,"div",5),w.TgZ(6,"label",6),w._uU(7," Voucher"),w.qZA(),w.TgZ(8,"ng-select",7,8),w.NdJ("ngModelChange",function(e){return t.accountVoucherType=e})("change",function(){return t.SelectVoucherType()}),w.TgZ(10,"ng-option",9),w._uU(11," Sales"),w.qZA(),w.YNc(12,hr,2,0,"ng-option",10),w.YNc(13,pr,2,0,"ng-option",11),w.YNc(14,fr,2,0,"ng-option",12),w.YNc(15,mr,2,0,"ng-option",13),w.YNc(16,Zr,2,0,"ng-option",14),w.YNc(17,vr,2,0,"ng-option",15),w.YNc(18,Tr,2,0,"ng-option",16),w.qZA(),w.YNc(19,xr,2,1,"div",17),w.qZA(),w.TgZ(20,"div",18),w.TgZ(21,"label",19),w._uU(22,"Select Ledger"),w.qZA(),w.TgZ(23,"ng-select",20,21),w.NdJ("ngModelChange",function(e){return t.companyLedgerService.singleresult=e}),w.YNc(26,Ir,1,1,"ng-template",22),w.qZA(),w.YNc(27,wr,2,1,"div",17),w.qZA(),w.qZA(),w.TgZ(28,"div",4),w.YNc(29,Nr,27,2,"div",23),w.qZA(),w.YNc(30,Dr,5,0,"div",24),w.qZA(),w.qZA(),w.TgZ(31,"div",25,26),w.YNc(33,jr,19,1,"div",27),w.qZA(),w.qZA()}if(2&e){var r=w.MAs(3),i=w.MAs(9),o=w.MAs(25);w.Q6J("ngClass",t.vouchertypeclass),w.xp6(8),w.Q6J("tabIndex",1)("ngClass",w.VKq(23,Vr,r.submitted&&i.invalid))("ngModel",t.accountVoucherType),w.xp6(4),w.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),w.xp6(1),w.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),w.xp6(1),w.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),w.xp6(1),w.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),w.xp6(1),w.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),w.xp6(1),w.Q6J("ngIf","Trading"==t.accountService.getCompanyData.Type),w.xp6(1),w.Q6J("ngIf","Trading"==t.accountService.getCompanyData.Type),w.xp6(1),w.Q6J("ngIf",r.submitted&&i.invalid),w.xp6(4),w.s9C("placeholder",t.AccountText),w.Q6J("tabIndex",2)("virtualScroll",!0)("items",t.FromLedger)("ngModel",t.companyLedgerService.singleresult)("ngClass",w.VKq(25,Vr,r.submitted&&o.invalid))("loading",t.companyLedgerService.loading),w.xp6(4),w.Q6J("ngIf",r.submitted&&o.invalid),w.xp6(2),w.Q6J("ngIf",!t.accountService.IsMobileview),w.xp6(1),w.Q6J("ngIf",!t.accountService.isMobile),w.xp6(3),w.Q6J("ngIf",t.showReferencepopup)}},directives:[a.mk,k._Y,k.JL,k.F,V.u,d.w9,J.x,k.JJ,k.On,d.xv,a.O5,k.Q7,d.bb,U.oB,a.sg,P.q,d.A3,k.wV,k.Fj,k.c5,d.Z2],styles:[""]}),e}(),data:{title:"Add Transaction",ViewType:"View",component:"AccountComponent"},canActivate:[ar.i]},{path:"accountaddedit/:id",component:Vt.L,data:{title:"Add Transaction",ViewType:"View",component:"AccountAddeditComponent"},canActivate:[ar.i]},{path:"account/:Type",component:Vt.L,data:{title:"Add Transaction",ViewType:"View",component:"AccountAddeditComponent"},canActivate:[ar.i]},{path:"account/:Type/:Id",component:Vt.L,data:{title:"Edit Transaction",ViewType:"View",component:"AccountAddeditComponent"},canActivate:[ar.i]},{path:"ledgerList",component:rr,data:{title:"Ledger List",ViewType:"View",component:"CompanyledgerListComponent"},canActivate:[ar.i]},{path:"ledgeradd/:parentid/:group",component:Et.k,data:{title:"Add/Edit Ledger",ViewType:"View",component:"CompanyledgerAddeditComponent"},canActivate:[ar.i]},{path:"ledgeredit/:cmpledgerid",component:Et.k,data:{title:"Add/Edit Ledger",ViewType:"View",component:"CompanyledgerAddeditComponent"},canActivate:[ar.i]},{path:"bankstatement",component:or,data:{title:"Bank Statement",ViewType:"View",component:"BankstatementComponent"},canActivate:[ar.i]}]}],Wr=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=w.oAB({type:e}),e.\u0275inj=w.cJS({imports:[[C.Bz.forChild(zr)],C.Bz]}),e}(),Xr=o(26246),ei=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=w.oAB({type:e}),e.\u0275inj=w.cJS({providers:[Kr],imports:[[a.ez,Wr,B.Lr,b.Pc.forRoot(),Xr.p.forRoot()]]}),e}()}}])}();