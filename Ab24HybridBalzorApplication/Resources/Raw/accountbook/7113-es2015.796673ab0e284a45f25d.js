"use strict";(self.webpackChunkaccoubtbook=self.webpackChunkaccoubtbook||[]).push([[7113],{70309:function(e,t,i){i.d(t,{ht:function(){return d},QV:function(){return a}});var n=i(77393),r=i(59193),s=i(25917),o=i(67574);class l{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,r.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new l("N",e):l.undefinedValueNotification}static createError(e){return new l("E",void 0,e)}static createComplete(){return l.completeNotification}}function a(e,t=0){return function(i){return i.lift(new c(e,t))}}l.completeNotification=new l("C"),l.undefinedValueNotification=new l("N",void 0);class c{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new d(e,this.scheduler,this.delay))}}class d extends n.L{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(d.dispatch,this.delay,new g(e,this.destination)))}_next(e){this.scheduleMessage(l.createNext(e))}_error(e){this.scheduleMessage(l.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(l.createComplete()),this.unsubscribe()}}class g{constructor(e,t){this.notification=e,this.destination=t}}},57771:function(e,t,i){i.d(t,{c:function(){return o},N:function(){return s}});var n=i(36465),r=i(16102);const s=new class extends r.v{}(class extends n.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}),o=s},48291:function(e,t,i){i.d(t,{p:function(){return rt}});var n=i(64762),r=i(33018),s=i(24498),o=i(32364),l=i(27541),a=i(70609),c=i(61362);class d extends c.X{}var g=i(82316),u=i(39478),h=i(65529),p=i(84306),m=i(12868),f=i(44667),Z=i(38583),v=i(89525),A=i(92859),T=i(89401),b=i(78980),S=i(43647),x=i(3679),C=i(66496),I=i(85895),q=i(37919),M=i(91113),k=i(25575),N=i(48429),y=i(6642),w=i(58679),_=i(87520),D=i(21974),P=i(10743),U=i(3359);const O=["SearchModal"],E=["ImageModal"],J=["ChannelPartner"],L=["search"],F=["f"],Q=["ionInfinitescroll"],R=["ionvscroll"];function B(e,t){if(1&e&&(r.TgZ(0,"small",94),r._uU(1),r.qZA()),2&e){const e=r.oxw(4);r.xp6(1),r.AsE(" Loaded ",e.siteService.result.length," of ",e.siteService.totalItems," ")}}function Y(e,t){if(1&e&&(r.TgZ(0,"small",94),r._uU(1),r.qZA()),2&e){const e=r.oxw(4);r.xp6(1),r.AsE(" Loaded ",e.userService.result.length," of ",e.userService.totalItems," ")}}function G(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",79),r.NdJ("click",function(t){return r.CHM(e),r.oxw(3).preventpopup(t)}),r.TgZ(1,"form",10,80),r.NdJ("ngSubmit",function(){return r.CHM(e),r.oxw(3).FilterData("")}),r.TgZ(3,"div",12),r.TgZ(4,"div",81),r.TgZ(5,"label",82),r._uU(6,"Search"),r.qZA(),r.TgZ(7,"input",83,84),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).filtertext=t}),r.qZA(),r.qZA(),r.TgZ(9,"div",81),r.TgZ(10,"div",85),r._uU(11,"Site"),r.qZA(),r.TgZ(12,"ng-select",86),r.NdJ("scrollToEnd",function(){return r.CHM(e),r.oxw(3).siteService.ScrollDown()})("ngModelChange",function(t){return r.CHM(e),r.oxw(3).cpfilter.CPSiteId=t}),r.YNc(13,B,2,2,"ng-template",87),r.qZA(),r.qZA(),r.TgZ(14,"div",81),r.TgZ(15,"div",88),r._uU(16,"Select User"),r.qZA(),r.TgZ(17,"ng-select",89),r.NdJ("scrollToEnd",function(){return r.CHM(e),r.oxw(3).userService.ScrollDown()})("ngModelChange",function(t){return r.CHM(e),r.oxw(3).cpfilter.CPUserId=t}),r.YNc(18,Y,2,2,"ng-template",87),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",90),r.TgZ(20,"div",90),r.TgZ(21,"button",91),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3);return t.toggleDropdown(),t.clearfilterandloadnewdata()}),r._uU(22," Clear Filter "),r.qZA(),r.TgZ(23,"button",92),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).toggleDropdown()}),r._UZ(24,"i",93),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(7),r.Q6J("ngModel",e.filtertext),r.xp6(5),r.Q6J("items",e.siteService.result)("ngModel",e.cpfilter.CPSiteId)("loading",e.siteService.loading),r.xp6(5),r.Q6J("items",e.userService.result)("ngModel",e.cpfilter.CPUserId)("loading",e.userService.loading)}}function H(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",68),r.TgZ(1,"ul",69),r.TgZ(2,"li",70),r.TgZ(3,"button",71),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).goback()}),r._UZ(4,"i",72),r.qZA(),r.qZA(),r.TgZ(5,"li",73),r.TgZ(6,"div",14),r._UZ(7,"span",15),r._UZ(8,"input",16),r.qZA(),r.YNc(9,G,25,7,"div",74),r.qZA(),r.TgZ(10,"li",75),r.TgZ(11,"button",76),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).toggleDropdown()}),r._UZ(12,"span",77),r.TgZ(13,"span",78),r._uU(14,"Search"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(9),r.Q6J("ngIf",!e.channelParnerService.IsMobileview)}}function V(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",95),r.TgZ(1,"ul",69),r.TgZ(2,"li",96),r.TgZ(3,"ion-icon",97),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).goback()}),r.qZA(),r.qZA(),r.TgZ(4,"li",96),r.TgZ(5,"ion-icon",98),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).advSearchM()}),r.qZA(),r.qZA(),r.TgZ(6,"li",99),r.TgZ(7,"div",100),r.TgZ(8,"strong"),r._uU(9,"Channel Partner List"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"li",101),r.TgZ(11,"ion-icon",102),r.NdJ("click",function(t){return r.CHM(e),r.oxw(2).sortPopover(t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function K(e,t){if(1&e&&(r.TgZ(0,"div",108),r.TgZ(1,"div",109),r.TgZ(2,"div",110),r.TgZ(3,"strong"),r._uU(4,"Channel Partner List"),r.qZA(),r.qZA(),r.TgZ(5,"div",111),r.TgZ(6,"div",112),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(7),r.Oqu(e.channelParnerService.currentShowing)}}function W(e,t){1&e&&(r.TgZ(0,"span",137),r._uU(1,"Active"),r.qZA())}function j(e,t){1&e&&(r.TgZ(0,"span",138),r._uU(1,"InActive"),r.qZA())}function z(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ul",139),r.TgZ(1,"li",140),r.TgZ(2,"a",141),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(4).edit(t.UIDN)}),r._uU(3," Edit Channel Partner "),r.qZA(),r.qZA(),r.TgZ(4,"li",140),r.TgZ(5,"a",142),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(4).channelParnerService.delete(t.UIDN)}),r._uU(6," Delete Channel Partner "),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5);r.xp6(2),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(3),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function X(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",129),r.NdJ("keydown.enter",function(){const t=r.CHM(e).$implicit;return r.oxw(4).editOnArrowEvent(t.UIDN)})("keydown.arrowdown",function(){const t=r.CHM(e).index;return r.oxw(4).channelParnerService.arrowDownEvent(t+151)})("keydown.arrowup",function(){const t=r.CHM(e).index;return r.oxw(4).channelParnerService.arrowUpEvent(t+149)}),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r._uU(18),r.qZA(),r.TgZ(19,"td"),r._uU(20),r.qZA(),r.TgZ(21,"td"),r.YNc(22,W,2,0,"span",130),r.YNc(23,j,2,0,"span",131),r.qZA(),r.TgZ(24,"td",132),r.TgZ(25,"div",133),r.TgZ(26,"button",134),r._UZ(27,"i",135),r.qZA(),r.YNc(28,z,7,4,"ul",136),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.s9C("tabindex",t.index+150),r.xp6(2),r.Oqu(e.CPcode),r.xp6(2),r.Oqu(e.CP),r.xp6(2),r.Oqu(e.AP),r.xp6(2),r.Oqu(e.add),r.xp6(2),r.Oqu(e.CN),r.xp6(2),r.Oqu(e.EId),r.xp6(2),r.Oqu(e.RERA),r.xp6(2),r.Oqu(e.GST),r.xp6(2),r.Oqu(e.SiteNm),r.xp6(2),r.Oqu(e.UserNm),r.xp6(2),r.Q6J("ngIf",1==e.St),r.xp6(1),r.Q6J("ngIf",0==e.St)}}function ee(e,t){if(1&e&&(r.TgZ(0,"table",113),r.TgZ(1,"thead",114),r.TgZ(2,"tr"),r.TgZ(3,"th",115),r._uU(4,"Channel Partner Code"),r.qZA(),r.TgZ(5,"th",116),r._uU(6,"Channel Partner Firm"),r.qZA(),r.TgZ(7,"th",117),r._uU(8,"Authorised Person"),r.qZA(),r.TgZ(9,"th",118),r._uU(10,"Address"),r.qZA(),r.TgZ(11,"th",119),r._uU(12,"Contact No"),r.qZA(),r.TgZ(13,"th",120),r._uU(14,"Email ID"),r.qZA(),r.TgZ(15,"th",121),r._uU(16,"RERA No"),r.qZA(),r.TgZ(17,"th",122),r._uU(18,"GST No"),r.qZA(),r.TgZ(19,"th",123),r._uU(20,"Site Name"),r.qZA(),r.TgZ(21,"th",124),r._uU(22,"User Dedicated"),r.qZA(),r.TgZ(23,"th",125),r._uU(24,"Status"),r.qZA(),r.TgZ(25,"th"),r._uU(26,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"tbody",126,127),r.YNc(29,X,29,13,"tr",128),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(3),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(6),r.Q6J("ngForOf",e.channelParnerService.result)}}function te(e,t){if(1&e&&(r.TgZ(0,"div",108),r.TgZ(1,"div",109),r.TgZ(2,"div",110),r.TgZ(3,"strong"),r._uU(4,"Channel Partner List"),r.qZA(),r.qZA(),r.TgZ(5,"div",111),r.TgZ(6,"div",112),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(4);r.xp6(7),r.Oqu(e.channelParnerService.currentShowing)}}function ie(e,t){if(1&e&&(r.TgZ(0,"div",143),r.YNc(1,te,8,1,"div",104),r.TgZ(2,"table",144),r.TgZ(3,"thead",114),r.TgZ(4,"tr"),r.TgZ(5,"th",115),r._uU(6,"Channel Partner Code"),r.qZA(),r.TgZ(7,"th",116),r._uU(8,"Channel Partner Firm"),r.qZA(),r.TgZ(9,"th",117),r._uU(10,"Authorised Person"),r.qZA(),r.TgZ(11,"th",118),r._uU(12,"Address"),r.qZA(),r.TgZ(13,"th",119),r._uU(14,"Contact No"),r.qZA(),r.TgZ(15,"th",120),r._uU(16,"Email ID"),r.qZA(),r.TgZ(17,"th",121),r._uU(18,"RERA No"),r.qZA(),r.TgZ(19,"th",122),r._uU(20,"GST No"),r.qZA(),r.TgZ(21,"th",123),r._uU(22,"Site Name"),r.qZA(),r.TgZ(23,"th",124),r._uU(24,"User Dedicated"),r.qZA(),r.TgZ(25,"th",125),r._uU(26,"Status"),r.qZA(),r.TgZ(27,"th"),r._uU(28,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",0==(e.channelParnerService.isMobile||e.channelParnerService.IsMobileview)),r.xp6(4),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService)}}function ne(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",103),r.YNc(1,K,8,1,"div",104),r.TgZ(2,"div",105),r.NdJ("scrolled",function(t){return r.CHM(e),r.oxw(2).onCPScroll(t)}),r.YNc(3,ee,30,12,"table",106),r.qZA(),r.YNc(4,ie,29,12,"div",107),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",0==(e.channelParnerService.isMobile||e.channelParnerService.IsMobileview)),r.xp6(1),r.Q6J("scrollWindow",!0),r.xp6(1),r.Q6J("ngIf",e.channelParnerService.result.length>0),r.xp6(1),r.Q6J("ngIf",e.channelParnerService.result.length>0)}}function re(e,t){if(1&e&&(r.TgZ(0,"ion-col",154),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" CP Code: ",e.CPcode," ")}}function se(e,t){if(1&e&&(r.TgZ(0,"ion-col",161),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" Authority: ",e.AP," ")}}function oe(e,t){if(1&e&&(r.TgZ(0,"ion-col",154),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" Site ",e.SiteNm," ")}}function le(e,t){if(1&e&&(r.TgZ(0,"ion-col",161),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" User: ",e.UserNm," ")}}function ae(e,t){if(1&e&&(r.TgZ(0,"ion-col",154),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.add," ")}}function ce(e,t){if(1&e&&(r.TgZ(0,"ion-col",161),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.CN," ")}}function de(e,t){if(1&e&&(r.TgZ(0,"ion-col",154),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.EId," ")}}function ge(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ion-card"),r.TgZ(1,"ion-row"),r.YNc(2,re,2,1,"ion-col",153),r.TgZ(3,"ion-col",154),r.TgZ(4,"h5"),r._uU(5),r.qZA(),r.qZA(),r.YNc(6,se,2,1,"ion-col",155),r.qZA(),r.TgZ(7,"ion-row"),r.YNc(8,oe,2,1,"ion-col",153),r.YNc(9,le,2,1,"ion-col",155),r.qZA(),r.TgZ(10,"ion-row"),r.YNc(11,ae,2,1,"ion-col",153),r.YNc(12,ce,2,1,"ion-col",155),r.qZA(),r.TgZ(13,"ion-row"),r.YNc(14,de,2,1,"ion-col",153),r.TgZ(15,"ion-col",156),r.TgZ(16,"a",157),r.NdJ("clickAllowed",function(){const t=r.CHM(e).$implicit;return r.oxw(3).edit(t.UIDN)}),r._UZ(17,"ion-icon",158),r.qZA(),r.TgZ(18,"a",159),r.NdJ("clickAllowed",function(){const t=r.CHM(e).$implicit;return r.oxw(3).channelParnerService.delete(t.UIDN)}),r._UZ(19,"ion-icon",160),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,i=r.oxw(3);r.xp6(2),r.Q6J("ngIf",null!=e.CPcode),r.xp6(3),r.hij(" ",e.CP," "),r.xp6(1),r.Q6J("ngIf",null!=e.AP),r.xp6(2),r.Q6J("ngIf",""!=e.SiteNm),r.xp6(1),r.Q6J("ngIf",""!=e.UserNm),r.xp6(2),r.Q6J("ngIf",null!=e.add),r.xp6(1),r.Q6J("ngIf",null!=e.CN),r.xp6(2),r.Q6J("ngIf",null!=e.EId),r.xp6(2),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId),r.xp6(2),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function ue(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",126),r.TgZ(1,"ion-content"),r.TgZ(2,"ion-refresher",145),r.NdJ("ionRefresh",function(t){return r.CHM(e),r.oxw(2).doRefresh(t)}),r._UZ(3,"ion-refresher-content",146),r.qZA(),r.TgZ(4,"ion-virtual-scroll",147,148),r.YNc(6,ge,20,12,"ion-card",149),r.qZA(),r.TgZ(7,"ion-infinite-scroll",150,151),r.NdJ("ionInfinite",function(t){return r.CHM(e),r.oxw(2).onCPScroll(t)}),r._UZ(9,"ion-infinite-scroll-content",152),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Udp("height",e.channelParnerService.mobileContainer),r.xp6(4),r.Q6J("approxItemHeight",500)("items",e.channelParnerService.result),r.xp6(5),r.s9C("loadingText",e.channelParnerService.nextloading)}}function he(e,t){1&e&&(r.TgZ(0,"ion-card",163),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col"),r._UZ(3,"ion-skeleton-text",164),r.qZA(),r.TgZ(4,"ion-col"),r._UZ(5,"ion-skeleton-text",165),r.qZA(),r.TgZ(6,"ion-col",166),r._UZ(7,"ion-skeleton-text",164),r.qZA(),r.qZA(),r.qZA())}function pe(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,he,8,0,"ion-card",162),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",e.channelParnerService.noImageRepeat)}}function me(e,t){1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._UZ(2,"ion-skeleton-text",168),r.qZA(),r.TgZ(3,"td",169),r._UZ(4,"ion-skeleton-text",168),r.qZA(),r.TgZ(5,"td",170),r._UZ(6,"ion-skeleton-text",168),r.qZA(),r.qZA())}function fe(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"table",113),r.TgZ(2,"thead",167),r.TgZ(3,"tr"),r.TgZ(4,"th"),r._UZ(5,"ion-skeleton-text",168),r.qZA(),r.TgZ(6,"th",169),r._UZ(7,"ion-skeleton-text",168),r.qZA(),r.TgZ(8,"th",170),r._UZ(9,"ion-skeleton-text",168),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"tbody"),r.YNc(11,me,7,0,"tr",171),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(11),r.Q6J("ngForOf",e.channelParnerService.noImageRepeat)}}function Ze(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r._UZ(1,"div",173),r._UZ(2,"br"),r.TgZ(3,"div",174),r._uU(4,"Add your first record by clicking in below button. "),r._UZ(5,"br"),r._UZ(6,"br"),r.TgZ(7,"input",175),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(3).edit("")}),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(7),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function ve(e,t){if(1&e&&(r.TgZ(0,"div",172),r._UZ(1,"br"),r._UZ(2,"br"),r.YNc(3,Ze,8,2,"div",52),r._UZ(4,"br"),r._UZ(5,"br"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(3),r.Q6J("ngIf",e.noDataImage)}}function Ae(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",44),r.YNc(1,H,15,1,"div",45),r.YNc(2,V,12,0,"div",46),r.TgZ(3,"div",47),r.TgZ(4,"a",48),r._uU(5," By Channel Partner Name "),r.qZA(),r.TgZ(6,"a",49),r._uU(7," By Status "),r.qZA(),r.qZA(),r.YNc(8,ne,5,4,"div",50),r.YNc(9,ue,10,5,"div",51),r.YNc(10,pe,2,1,"div",52),r.YNc(11,fe,12,1,"div",52),r.YNc(12,ve,6,1,"div",53),r.TgZ(13,"div",54),r.TgZ(14,"div",55),r.TgZ(15,"button",56,17),r.NdJ("click",function(){r.CHM(e);const t=r.MAs(16);return r.oxw().exportheader(t.value,1)}),r._UZ(17,"i",57),r.qZA(),r.TgZ(18,"button",58,17),r.NdJ("click",function(){r.CHM(e);const t=r.MAs(16);return r.oxw().exportheader(t.value,2)}),r._UZ(20,"i",59),r.qZA(),r.TgZ(21,"button",60),r.NdJ("click",function(){return r.CHM(e),r.oxw().toggleExcelImport()}),r._UZ(22,"i",61),r.qZA(),r.TgZ(23,"button",62,17),r.NdJ("click",function(){r.CHM(e);const t=r.MAs(16);return r.oxw().exportheader(t.value,3)}),r._UZ(25,"i",63),r.qZA(),r.TgZ(26,"button",64),r._UZ(27,"i",65),r.qZA(),r.TgZ(28,"button",66),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw().edit("")}),r._UZ(29,"i",67),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",!e.channelParnerService.IsMobileview),r.xp6(1),r.Q6J("ngIf",e.channelParnerService.IsMobileview),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("dirsort",e.channelParnerService),r.xp6(2),r.Q6J("ngIf",!e.channelParnerService.IsMobileview),r.xp6(1),r.Q6J("ngIf",e.channelParnerService.result.length>0&&e.channelParnerService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.channelParnerService.result.length&&!e.noDataImage&&e.channelParnerService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.channelParnerService.result.length&&!e.noDataImage&&!e.channelParnerService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.channelParnerService.result.length),r.xp6(16),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Te(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",68),r.TgZ(1,"ul",69),r.TgZ(2,"li",70),r.TgZ(3,"button",71),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).cancel(null)}),r._UZ(4,"i",72),r.qZA(),r.qZA(),r.TgZ(5,"li",223),r.TgZ(6,"strong"),r._uU(7,"Channel Partner"),r.qZA(),r.TgZ(8,"small"),r._uU(9," Add/Edit"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function be(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Save"),r.qZA())}function Se(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Update"),r.qZA())}function xe(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",95),r.TgZ(1,"ul",69),r.TgZ(2,"li",96),r.TgZ(3,"ion-icon",97),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).goback()}),r.qZA(),r.qZA(),r.TgZ(4,"li",99),r.TgZ(5,"strong"),r._uU(6,"Channel Partner"),r.qZA(),r.TgZ(7,"small"),r._uU(8," Add/Edit"),r.qZA(),r.qZA(),r.TgZ(9,"li",224),r.TgZ(10,"a",225),r.NdJ("click",function(t){return r.CHM(e),r.oxw(),r.MAs(6).onSubmit(t)}),r.YNc(11,be,2,0,"span",52),r.YNc(12,Se,2,0,"span",52),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(11),r.Q6J("ngIf",0==e._sgId),r.xp6(1),r.Q6J("ngIf",e._sgId>0)}}function Ce(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Channel Partner Firm required "),r.qZA())}function Ie(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,Ce,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(14);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function qe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Channel Partner Code required "),r.qZA())}function Me(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,qe,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(20);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function ke(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Authorised Person required "),r.qZA())}function Ne(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,ke,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(26);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function ye(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Channel Partner Address required "),r.qZA())}function we(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,ye,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(32);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function _e(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Channel Partner Contact required "),r.qZA())}function De(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,_e,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(38);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Pe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Channel Partner Email required "),r.qZA())}function Ue(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,Pe,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(44);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Oe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Channel Partner RERA required "),r.qZA())}function Ee(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,Oe,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(50);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Je(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Channel Partner GST required "),r.qZA())}function Le(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,Je,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(56);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Fe(e,t){if(1&e&&(r.TgZ(0,"small",94),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.AsE("Loaded ",e.siteService.result.length," of ",e.siteService.totalItems,"")}}function Qe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Site Name is required"),r.qZA())}function Re(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,Qe,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(62);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Be(e,t){if(1&e&&(r.TgZ(0,"small",94),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.AsE(" Loaded ",e.userService.result.length," of ",e.userService.result.length," ")}}function Ye(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"User selection is required"),r.qZA())}function Ge(e,t){if(1&e&&(r.TgZ(0,"div",226),r.YNc(1,Ye,2,0,"div",52),r.qZA()),2&e){r.oxw();const e=r.MAs(69);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function He(e,t){1&e&&r._uU(0),2&e&&r.hij(" ",t.item.LN," ")}function Ve(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a"),r._uU(1),r.qZA(),r.TgZ(2,"a",230),r.NdJ("click",function(){const t=r.CHM(e).item;return r.oxw(3).openLedgerPopup(t.UIDN)}),r._UZ(3,"i",231),r.qZA()}if(2&e){const e=t.item,i=r.oxw(3);r.xp6(1),r.Oqu(e.LN),r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ke(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"small",94),r.TgZ(1,"a",227),r.NdJ("click",function(){r.CHM(e),r.oxw();const t=r.MAs(76);return r.oxw().addNewCustomer(t)}),r._uU(2," Add New Customer "),r.qZA(),r.qZA(),r.YNc(3,He,1,1,"ng-template",228),r.YNc(4,Ve,4,3,"ng-template",229)}}function $e(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Save"),r.qZA())}function We(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Update"),r.qZA())}function je(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",232),r.TgZ(1,"button",233),r.YNc(2,$e,2,0,"span",52),r.YNc(3,We,2,0,"span",52),r.qZA(),r.TgZ(4,"a",234),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).cancel(null)}),r._uU(5,"Cancel"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Q6J("ngIf",0==e._sgId),r.xp6(1),r.Q6J("ngIf",e._sgId>0)}}function ze(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Save"),r.qZA())}function Xe(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Update"),r.qZA())}function et(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"nav",18),r.TgZ(1,"ul",19),r.TgZ(2,"li",20),r.TgZ(3,"button",41),r.YNc(4,ze,2,0,"span",52),r.YNc(5,Xe,2,0,"span",52),r.qZA(),r.qZA(),r.TgZ(6,"li",23),r.TgZ(7,"a",234),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).cancel(null)}),r._uU(8,"Cancel"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(4),r.Q6J("ngIf",0==e._sgId),r.xp6(1),r.Q6J("ngIf",e._sgId>0)}}const tt=function(e){return{"is-invalid":e}};function it(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",176),r.YNc(1,Te,10,0,"div",45),r.YNc(2,xe,13,2,"div",46),r.TgZ(3,"div",44),r.TgZ(4,"div",177),r.TgZ(5,"form",178,11),r.NdJ("ngSubmit",function(){r.CHM(e);const t=r.MAs(6),i=r.oxw();return t.form.valid&&i.onSubmit()}),r.TgZ(7,"div",179),r.TgZ(8,"div",180),r.TgZ(9,"label",181),r._uU(10,"Channel Partner Firm"),r.TgZ(11,"span",182),r._uU(12,"*"),r.qZA(),r.qZA(),r.TgZ(13,"input",183,184),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.CP=t}),r.qZA(),r.YNc(15,Ie,2,1,"div",185),r.qZA(),r.TgZ(16,"div",180),r.TgZ(17,"label",186),r._uU(18,"Channel Partner Code"),r.qZA(),r.TgZ(19,"input",187,188),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.CPcode=t}),r.qZA(),r.YNc(21,Me,2,1,"div",185),r.qZA(),r.TgZ(22,"div",180),r.TgZ(23,"label",189),r._uU(24,"Authorised Person"),r.qZA(),r.TgZ(25,"input",190,191),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.AP=t}),r.qZA(),r.YNc(27,Ne,2,1,"div",185),r.qZA(),r.TgZ(28,"div",180),r.TgZ(29,"label",192),r._uU(30,"Address"),r.qZA(),r.TgZ(31,"input",193,194),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.add=t}),r.qZA(),r.YNc(33,we,2,1,"div",185),r.qZA(),r.TgZ(34,"div",180),r.TgZ(35,"label",195),r._uU(36,"Contact No"),r.qZA(),r.TgZ(37,"input",196,197),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.CN=t}),r.qZA(),r.YNc(39,De,2,1,"div",185),r.qZA(),r.TgZ(40,"div",180),r.TgZ(41,"label",198),r._uU(42,"Email ID"),r.qZA(),r.TgZ(43,"input",199,200),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.EId=t}),r.qZA(),r.YNc(45,Ue,2,1,"div",185),r.qZA(),r.TgZ(46,"div",180),r.TgZ(47,"label",201),r._uU(48,"RERA No"),r.qZA(),r.TgZ(49,"input",202,203),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.RERA=t}),r.qZA(),r.YNc(51,Ee,2,1,"div",185),r.qZA(),r.TgZ(52,"div",180),r.TgZ(53,"label",204),r._uU(54,"GST No"),r.qZA(),r.TgZ(55,"input",205,206),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.GST=t}),r.qZA(),r.YNc(57,Le,2,1,"div",185),r.qZA(),r.TgZ(58,"div",180),r.TgZ(59,"label",207),r._uU(60,"Site Name"),r.qZA(),r.TgZ(61,"ng-select",208,209),r.NdJ("scrollToEnd",function(){return r.CHM(e),r.oxw().siteService.ScrollDown()})("ngModelChange",function(t){return r.CHM(e),r.oxw().siteService.singleresult=t}),r.YNc(63,Fe,2,2,"ng-template",87),r.qZA(),r.YNc(64,Re,2,1,"div",185),r.qZA(),r.TgZ(65,"div",180),r.TgZ(66,"label",210),r._uU(67,"Select User"),r.qZA(),r.TgZ(68,"ng-select",211,212),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().userService.singleresult=t}),r.YNc(70,Be,2,2,"ng-template",87),r.qZA(),r.YNc(71,Ge,2,1,"div",185),r.qZA(),r.TgZ(72,"div",180),r.TgZ(73,"label",213),r._uU(74," Customer Account "),r.qZA(),r.TgZ(75,"ng-select",214,215),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().channelParnerService.singleresult.CPLedId=t}),r.YNc(77,Ke,5,0,"ng-template",87),r.qZA(),r.qZA(),r.TgZ(78,"div",216),r.TgZ(79,"strong",217),r._uU(80,"Is Active"),r.qZA(),r.TgZ(81,"div"),r.TgZ(82,"label",218),r.TgZ(83,"input",219),r.NdJ("change",function(){r.CHM(e);const t=r.oxw();return t.channelParnerService.singleresult.St=!("1"==t.channelParnerService.singleresult.St||1==t.channelParnerService.singleresult.St)}),r.qZA(),r._UZ(84,"span",220),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(85,je,6,2,"div",221),r.YNc(86,et,9,2,"nav",222),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(6),t=r.MAs(14),i=r.MAs(20),n=r.MAs(26),s=r.MAs(32),o=r.MAs(38),l=r.MAs(44),a=r.MAs(50),c=r.MAs(56),d=r.MAs(62),g=r.MAs(69),u=r.oxw();r.Udp("display",u.showCompanyLedgerpopup?"none":"block"),r.xp6(1),r.Q6J("ngIf",!u.channelParnerService.isMobile),r.xp6(1),r.Q6J("ngIf",u.channelParnerService.isMobile),r.xp6(11),r.Q6J("ngClass",r.VKq(46,tt,e.submitted&&t.invalid))("ngModel",u.channelParnerService.singleresult.CP),r.xp6(2),r.Q6J("ngIf",e.submitted&&t.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(48,tt,e.submitted&&i.invalid))("ngModel",u.channelParnerService.singleresult.CPcode),r.xp6(2),r.Q6J("ngIf",e.submitted&&i.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(50,tt,e.submitted&&n.invalid))("ngModel",u.channelParnerService.singleresult.AP),r.xp6(2),r.Q6J("ngIf",e.submitted&&n.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(52,tt,e.submitted&&s.invalid))("ngModel",u.channelParnerService.singleresult.add),r.xp6(2),r.Q6J("ngIf",e.submitted&&s.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(54,tt,e.submitted&&o.invalid))("ngModel",u.channelParnerService.singleresult.CN),r.xp6(2),r.Q6J("ngIf",e.submitted&&o.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(56,tt,e.submitted&&l.invalid))("ngModel",u.channelParnerService.singleresult.EId),r.xp6(2),r.Q6J("ngIf",e.submitted&&l.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(58,tt,e.submitted&&a.invalid))("ngModel",u.channelParnerService.singleresult.RERA),r.xp6(2),r.Q6J("ngIf",e.submitted&&a.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(60,tt,e.submitted&&c.invalid))("ngModel",u.channelParnerService.singleresult.GST),r.xp6(2),r.Q6J("ngIf",e.submitted&&c.invalid),r.xp6(4),r.Q6J("virtualScroll",!0)("ngClass",r.VKq(62,tt,e.submitted&&d.invalid))("items",u.siteService.result)("ngModel",u.siteService.singleresult)("loading",u.siteService.loading),r.xp6(3),r.Q6J("ngIf",e.submitted&&d.invalid),r.xp6(4),r.Q6J("virtualScroll",!0)("ngClass",r.VKq(64,tt,e.submitted&&g.invalid))("items",u.userService.result)("ngModel",u.userService.singleresult)("loading",u.userService.loading),r.xp6(3),r.Q6J("ngIf",e.submitted&&g.invalid),r.xp6(4),r.Q6J("items",u.Customers)("ngModel",u.channelParnerService.singleresult.CPLedId)("loading",u.channelParnerService.loading),r.xp6(8),r.Q6J("checked",1==u.channelParnerService.singleresult.St),r.xp6(2),r.Q6J("ngIf",!u.channelParnerService.isMobile),r.xp6(1),r.Q6J("ngIf",u.channelParnerService.isMobile)}}function nt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"app-companyledger-addedit",235),r.NdJ("redirectAction",function(t){return r.CHM(e),r.oxw().popupAction(t)}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("isMobilePopup",!1)("inputLedgerId",e.ledgerIdVal)("CompanyIdforReport",e.channelParnerService.getCompanyId)("redirectOnCancel",!1)}}let rt=(()=>{class e{constructor(e,t,i,n,s,o,a,g,u,h,m){this.channelParnerService=e,this.userService=t,this.siteService=i,this.page=n,this.route=s,this.router=o,this.location=a,this.filterService=g,this.popoverController=u,this.alertService=h,this.companyledgerservice=m,this.isList=!0,this.IsImportHidden=!0,this.httpfunction=new l.r,this._sgId=0,this.isBusy=!0,this.currentScrollPosition=0,this.Customers=[],this.showCompanyLedgerpopup=!1,this.cpfilter=new p.yz,this.isScrollEnabled=!0,this.noDataImage=!1,this.sortarray=[{order:this.channelParnerService.sortorder,column:"ChannelPartner",title:"By Channel Partner Name"},{order:this.channelParnerService.sortorder,column:"Status",title:"By Status"}],this.redirectOnCancelonChannelist=!0,this.redirectActiononChannelist=new r.vpe,this.CompanyIdforReport=0,this.isMobilePopup=!1,this.SignupId=this.channelParnerService.getSignupId,this.UserId=this.channelParnerService.GetUserId,this.channelParnerService.singleresult=new d,this.channelParnerService.singleresult.SI=this.channelParnerService.getSignupId,this.channelParnerService.singleresult.St=c.D.Active,this.route.params.subscribe(e=>{this.router.url.startsWith("/marketing/bookingform")?this.isList=!1:null!=e.id&&""!=e.id?(this.isList=!1,this.edit(e.id)):"/masters/source/Add"==this.router.url||"/marketing/inquiry"==this.router.url?this.isList=!1:this.resetUrl()}),this.channelParnerService.ExportColumn=[{title:"Channel Partner Code",dataKey:"CPcode",size:40},{title:"Channel Partner",dataKey:"CP",size:120},{title:"Authorised Person",dataKey:"AP",size:70},{title:"Address",dataKey:"add",size:135},{title:"Contact No",dataKey:"CN",size:55},{title:"Email",dataKey:"EId",size:120},{title:"RERA No",dataKey:"RERA",size:90},{title:"GST No",dataKey:"GST",size:90}],this.channelParnerService.ExportName="Channel_Partner_List"}onPopState(e){this.isList||(this.isList=!this.isList)}ngOnInit(){setTimeout(()=>{this.channelParnerService.arrowDownEvent(150)},500),setTimeout(()=>{this.filterService.changeFilter(!0,!0,"Source List")},200),null!=this.serchcontrol&&null!=this.serchcontrol&&setTimeout(()=>{this.serchcontrol.nativeElement.focus()},200),this.SignupId=this.channelParnerService.getSignupId,this.UserId=this.channelParnerService.GetUserId,0==this.siteService.result.length&&this.siteService.GetAllsitesforsInventoryCP(),this.companyledgerservice.isGetSubscribe=!0,this.companyledgerservice.GetAlldatawithsub(!0),this.subscription=this.companyledgerservice.resultObs.subscribe(()=>{this.Customers=this.companyledgerservice.result.filter(e=>0==e.IsGrp)}),this.userService.GetAlluserforfacebook(),this.siteService.isGetSubscribe=!0,this.sitesubscription=this.siteService.resultObs.subscribe(e=>{}),this.channelParnerService.GetAlldata(),this.channelParnerService.isGetSubscribe=!0,this.channelParnerService.refreshEvent=null,this.Srcsubscription=this.channelParnerService.resultObs.subscribe(e=>{1==this.isBusy&&(this.isBusy=!1),0==this.channelParnerService.result.length&&(this.noDataImage=!0)}),this.httpfunction.scrolltop(),this.isScrollEnabled=!0,this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this))}OnKeydown(e){var t=e.key||e.keyCode;("Backspace"==t&&e.altKey||"Escape"==t)&&(this.isList=!0,this.resetUrl(),setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.channelParnerService.arrowDownEvent(this.channelParnerService.selectedRowIndex)},150))}ngOnDestroy(){null!=this.Srcsubscription&&this.Srcsubscription.unsubscribe(),null!=this.sitesubscription&&this.sitesubscription.unsubscribe(),null!=this.subscription&&this.subscription.unsubscribe()}goback(){this.location.back()}onCPScroll(e){null!=this.infiniteScroll&&(this.channelParnerService.mobileinfinitescroll=this.infiniteScroll,this.channelParnerService.mobilevirtualscroll=this.virtualScroll,this.channelParnerService.refreshEvent=e.target),this.channelParnerService.ScrollDown()}FilterData(e){return this.cpfilter.filterstr=this.filtertext,null==this.cpfilter.CPSiteId&&null==this.cpfilter.CPSiteId&&(this.cpfilter.CPSiteId=0),null==this.cpfilter.CPUserId&&null==this.cpfilter.CPUserId&&(this.cpfilter.CPUserId=0),this.channelParnerService.filterArg=this.cpfilter,this.channelParnerService.page=0,!1}advSearchM(){this._SearchModal.show()}sortPopover(e){return(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:s.r,cssClass:"my-custom-class",event:e,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:(e,i)=>{let n=new o.p(e,i);this.channelParnerService.sortdata=n,t.dismiss()}}});return yield t.present()})}editOnArrowEvent(e){this.httpfunction.RolebaseData("CpM")?this.edit(e):this.alertService.showInfo("Error","You do not have sufficient rights to perform this action. Please contact administrator.")}edit(e){setTimeout(()=>{this.filterService.hideQuickFilter(!1,!1,"Source (Add/Edit)",!1)},200),setTimeout(()=>{null!=this.inputName&&null!=this.inputName&&this.inputName.nativeElement.focus()},200),this.currentScrollPosition=document.scrollingElement.scrollTop,this.isScrollEnabled=!1;let t="Add";e>0?(this._sgId=e,t=e.toString(),this.channelParnerService.result.filter(t=>t.UIDN==e).length>0?(this.channelParnerService.singleresult=Object.assign({},this.channelParnerService.result.filter(t=>t.UIDN==e)[0]),this.channelParnerService.singleresult.User>0&&(this.userService.singleresult=Object.assign({},this.userService.result.filter(e=>e.UIDN==this.channelParnerService.singleresult.User)[0])),this.channelParnerService.singleresult.STI>0&&(this.siteService.singleresult=Object.assign({},this.siteService.result.filter(e=>e.UIDN==this.channelParnerService.singleresult.STI)[0]))):this.router.navigate(["masters/ChannelPartner"])):(this.channelParnerService.singleresult=new d,this.channelParnerService.singleresult.SI=this.channelParnerService.getSignupId,this.channelParnerService.singleresult.St=c.D.Active);let i=this.router.url;this.route.params.subscribe(e=>{null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),this.location.go(`${i}/${t}`)}),this.isList=!1}doRefresh(e){this.filterService.updatedata(!0,"Source List"),this.channelParnerService.refreshEvent=e.target,this.FilterData("")}exportheader(e,t){let i="All";new Date,null!=e&&""!=e&&(i=e),this.channelParnerService.filterHeader=" SearchBy : "+i+" ",this.channelParnerService.Export(t)}cancel(e){this.redirectOnCancelonChannelist?(setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.filterService.changeFilter(!0,!0,"Source List")},200),null!=this.serchcontrol&&null!=this.serchcontrol&&setTimeout(()=>{this.serchcontrol.nativeElement.focus()},200),this.form.resetForm(),this.resetUrl(),this.httpfunction.scrolltop(),this.isScrollEnabled=!0,setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.channelParnerService.arrowDownEvent(this.channelParnerService.selectedRowIndex)},150)):this.redirectActiononChannelist.emit(e)}onSubmit(){this.form.valid&&(this.channelParnerService.singleresult.User=null!=this.channelParnerService.singleresult&&null!=this.channelParnerService.singleresult&&null!=this.userService.singleresult?this.userService.singleresult.UIDN:0,null!=this.siteService.singleresult&&(this.channelParnerService.singleresult.STI=this.siteService.singleresult.UIDN,this.channelParnerService.singleresult.SiteNm=this.siteService.singleresult.SN),null!=this.userService.singleresult&&(this.channelParnerService.singleresult.User=this.userService.singleresult.UIDN,this.channelParnerService.singleresult.UserNm=this.userService.singleresult.UN),this.channelParnerService.singleresult.CI=this.channelParnerService.getCompanyId,this.channelParnerService.singleresult.SI=this.channelParnerService.getSignupId,null==this.channelParnerService.singleresult.UIDN||0==this.channelParnerService.singleresult.UIDN?this.channelParnerService.add(this.channelParnerService.singleresult).subscribe(e=>{this.cancel(e)},e=>{}):this.channelParnerService.edit(this.channelParnerService.singleresult).subscribe(e=>{setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.channelParnerService.arrowDownEvent(this.channelParnerService.selectedRowIndex)},150),this.cancel(e)},e=>{}))}ClearFilter(){this.serchcontrol.nativeElement.value="",this.FilterData("")}resetUrl(){this.isList=!0;let e=this.router.url;this.route.params.subscribe(t=>{null!=t.id&&""!=t.id&&(e=e.replace("/"+t.id,"")),this.location.go(e)}),this._sgId=0}toggleExcelImport(){this._myImageModal.show(),this.IsImportHidden=!this.IsImportHidden}CloseImagePopup(){this._myImageModal.hide()}onExcelAdd(e){this.excelfileData=[];for(let t=0;t<e.length;t++){let i=new g.Q;i.name=e[t].name,i.operationType=0,i.src=e[t].src,i.CompanyId=this.channelParnerService.getCompanyId,i.SignupId=this.channelParnerService.getSignupId,i.FileLength=e[t].size,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.channelParnerService.userid,i.modifyBy=this.channelParnerService.userid,this.excelfileData.push(i)}}onExcelSubmit(){null!=this.excelfileData&&this.excelfileData.length>0?(this.channelParnerService.ImportExcel(this.excelfileData).subscribe(()=>{this.excelfileData=[],this.IsImportHidden=!this.IsImportHidden},()=>{this.excelfileData=[],this.IsImportHidden=!this.IsImportHidden}),this._myImageModal.hide(),this.IsImportHidden=!this.IsImportHidden):this.alertService.showError("Error","Please select atleast one File")}clearfilterandloadnewdata(){this.cpfilter.CPSiteId=null,this.cpfilter.CPUserId=null,this.filtertext="",this.FilterData("")}preventpopup(e){e.stopPropagation()}toggleDropdown(){$("#adv-search").dropdown("hide")}openLedgerPopup(e){return this.ledgerIdVal=e.toString(),this.showCompanyLedgerpopup=!0,!0}popupAction(e){this.showCompanyLedgerpopup=!1,null!=e&&(this.channelParnerService.singleresult.CPLedId=e.UIDN,this.Customers=this.Customers.concat(e))}addNewCustomer(e){e.close(),this.showCompanyLedgerpopup=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.W),r.Y36(h.K),r.Y36(u.P),r.Y36(m.T3),r.Y36(f.gz),r.Y36(f.F0),r.Y36(Z.Ye),r.Y36(v.i),r.Y36(A.Dh),r.Y36(T.Rq),r.Y36(b.Q))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-channel-partner"]],viewQuery:function(e,t){if(1&e&&(r.Gf(O,5),r.Gf(E,5),r.Gf(J,5,r.SBq),r.Gf(L,7,r.SBq),r.Gf(F,5),r.Gf(Q,5),r.Gf(R,5)),2&e){let e;r.iGM(e=r.CRH())&&(t._SearchModal=e.first),r.iGM(e=r.CRH())&&(t._myImageModal=e.first),r.iGM(e=r.CRH())&&(t.inputName=e.first),r.iGM(e=r.CRH())&&(t.serchcontrol=e.first),r.iGM(e=r.CRH())&&(t.form=e.first),r.iGM(e=r.CRH())&&(t.infiniteScroll=e.first),r.iGM(e=r.CRH())&&(t.virtualScroll=e.first)}},hostBindings:function(e,t){1&e&&r.NdJ("popstate",function(e){return t.onPopState(e)},!1,r.Jf7)},inputs:{redirectOnCancelonChannelist:"redirectOnCancelonChannelist",CompanyIdforReport:"CompanyIdforReport",InputChannelPartnerId:"InputChannelPartnerId",isMobilePopup:"isMobilePopup"},outputs:{redirectActiononChannelist:"redirectActiononChannelist"},features:[r._Bn([a.W,u.P,h.K])],decls:57,vars:4,consts:[["class","card",4,"ngIf"],["class","nopadding",3,"display",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade",2,"z-index","99999"],["SearchModal","bs-modal"],["role","document",1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","form",3,"ngSubmit"],["f","ngForm"],[1,"row","m-0"],[1,"md-form","col","mt-3"],["data-toggle","dropdown","aria-expanded","false","id","adv-search",1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control"],["search",""],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["ImageModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmImage","ngForm"],[1,"modal-body"],[1,"content"],[1,"container"],[1,"form-group","col-md-12","p-0"],[1,"input-group"],[1,"md-form","form-group","col-sm-12","p-0"],["maxFiles","1","required","","maxSize","2","fileExt","xls, xlsx",3,"filelist","uploadStatus"],["Importexcel",""],["target","_blank","href","https://api.accountbook24.com/sample/ChannelPartner.xlsx",1,"col-sm-2"],[1,"modal-footer","mt-3"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-dark",3,"click"],[3,"isMobilePopup","inputLedgerId","CompanyIdforReport","redirectOnCancel","redirectAction",4,"ngIf"],[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["id","tableSort",1,"dropdown-menu","arrow_box"],["sortcolumn","ChannelPartner","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","Status","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainerbody",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0 margin140",4,"ngIf"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","option","four","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","option","three","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Import",1,"action-button","option","two","border-0","waves-effect","btn-purple","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-upload"],["tooltip","Export",1,"action-button","option","one","border-0","waves-effect","btn-default","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],[1,"border-0","waves-effect","btn-dark","btn-floating","action-button","plus","abs"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],["accesslevel","Add","mname","CpM","tooltip","Add New",1,"border-0","waves-effect","btn-primary","btn-floating",3,"appRole","SignupId","UserId","clickAllowed"],[1,"fas","fa-plus"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mx-2"],["aria-labelledby","adv-search","class","dropdown-menu filterform",3,"click",4,"ngIf"],[1,"mb-3"],["type","submit",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],["aria-labelledby","adv-search",1,"dropdown-menu","filterform",3,"click"],["ffilter","ngForm"],[1,"md-form","col-md-6","col-sm-12"],["for","Search"],["type","text","name","filterstr","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange"],["filterstr","ngModel"],["for","Site"],["selectOnTab","true","name","Site1","bindLabel","SN","bindValue","UIDN","placeholder","Select Site",3,"items","ngModel","loading","scrollToEnd","ngModelChange"],["ng-header-tmp",""],["for","user"],["selectOnTab","true","name","user","bindLabel","UN","bindValue","UIDN","placeholder","Select User",3,"items","ngModel","loading","scrollToEnd","ngModelChange"],[1,"text-right","mr-3"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-dark","pull-right",3,"click"],[1,"fas","fa-search"],[1,"form-text","text-muted"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],["id","tableContainer",1,"table-responsive"],["class","card-header","id","formHeader",4,"ngIf"],["infinite-scroll","",3,"scrollWindow","scrolled"],["class","table table-bordered table-striped text-center",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header"],[1,"row"],[1,"col-md-6","col-sm-12","PageNameFsize"],[1,"col-md-6","col-sm-12"],[1,"mx-2","text-wrap","text-right","LeftLi"],[1,"table","table-bordered","table-striped","text-center",3,"fxHeader"],["id","tableContainerHead"],["sortcolumn","ChannelPartnerCode",3,"dirsort"],["sortcolumn","ChannelPartner",3,"dirsort"],["sortcolumn","AP",3,"dirsort"],["sortcolumn","Address",3,"dirsort"],["sortcolumn","ContactNo",3,"dirsort"],["sortcolumn","EmailID",3,"dirsort"],["sortcolumn","RERANo",3,"dirsort"],["sortcolumn","GSTNo",3,"dirsort"],["sortcolumn","SiteId",3,"dirsort"],["sortcolumn","AssignedUser",3,"dirsort"],["sortcolumn","Status",3,"dirsort"],["id","tableContainerbody"],["container",""],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup",4,"ngFor","ngForOf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[2,"width","7%"],["dropdown","","container","body",1,"btn-group","actionmenu"],["id","button-state-change","dropdownToggle","","type","button","aria-controls","dropdown-state-change",1,"border-0","waves-effect","btn-primary","btn-floating","btn-sm"],[1,"fas","fa-ellipsis-v"],["id","dropdown-state-change","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-state-change",4,"dropdownMenu"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["id","dropdown-state-change","role","menu","aria-labelledby","button-state-change",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["href","javascript:void(0)","accesslevel","Edit","mname","CpM",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["href","javascript:void(0)","accesslevel","Delete","mname","CpM",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","36px",3,"approxItemHeight","items"],["ionvscroll",""],[4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],["class","text-left",4,"ngIf"],[1,"text-left"],["class","text-right",4,"ngIf"],[1,"text-right","mr-1"],["href","javascript:void(0)","accesslevel","Edit","mname","CpM",1,"card-link",3,"appRole","SignupId","UserId","clickAllowed"],["name","create-outline","color","primary"],["href","javascript:void(0)","accesslevel","Delete","mname","CpM",1,"card-link",3,"appRole","SignupId","UserId","clickAllowed"],["name","trash-outline","color","danger"],[1,"text-right"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","90%"],["animated","",2,"width","80%"],[2,"text-align","-webkit-right"],["id","tableContainerHead1"],["animated","",2,"width","100%"],[2,"width","30%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"col-md-12","pl-0","pr-0","margin140"],[1,"mx-auto","noDataImage"],[1,"text-center"],["type","button","value","Add New","accesslevel","Add","mname","CpM",1,"btn","btn-primary",3,"appRole","SignupId","UserId","clickAllowed"],[1,"nopadding"],[1,"mt-2","mb-5"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["id","formContainer",1,"row"],[1,"md-form","col-sm-6","col-md-3"],["for","ChannelPartner"],[1,"ml-1","text-danger","font-weight-bold","h5"],["type","text","required","","name","ChannelPartner","id","ChannelPartner","placeholder","Enter Channel Partner Firm",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["ChannelPartner","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","cpCode"],["type","text","name","cpCode","id","cpCode","placeholder","Enter Channel Partner Code",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["cpCode","ngModel"],["for","authPer"],["type","text","name","authPer","id","authPer","placeholder","Enter Authorised Person",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["authPer","ngModel"],["for","Address"],["type","text","name","Address","id","Address","placeholder","Enter Address",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Address","ngModel"],["for","Contact"],["type","text","name","Contact","id","Contact","placeholder","Enter Contact No",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Contact","ngModel"],["for","EmailID`"],["type","text","name","EmailID","id","EmailID","placeholder","Enter Email ID",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["EmailID","ngModel"],["for","RERA"],["type","text","name","RERA","id","RERA","placeholder","Enter RERA No",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["RERA","ngModel"],["for","GST"],["type","text","name","GST","id","GST","placeholder","Enter GST No",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["GST","ngModel"],["for","SiteName"],["name","SiteName","bindLabel","SN","placeholder","Select Site",3,"virtualScroll","ngClass","items","ngModel","loading","scrollToEnd","ngModelChange"],["SiteName","ngModel"],["for","UserName"],["selectOnTab","true","placeholder","Select User","name","AttBy","bindLabel","FN",3,"virtualScroll","ngClass","items","ngModel","loading","ngModelChange"],["AttBy","ngModel"],["for","custledgename"],["selectOnTab","true","name","custledgename","bindLabel","LN","bindValue","UIDN","placeholder","Customer Ledger",3,"items","ngModel","loading","ngModelChange"],["custledgename",""],[1,"form-group","col-sm-6"],["for","DocTypeStatus"],[1,"c-switch","c-switch-pill","c-switch-primary","m-2"],["type","checkbox",1,"c-switch-input",3,"checked","change"],[1,"c-switch-slider"],["class","col-sm-12 text-right","id","formbtnContainer",4,"ngIf"],["class","navbar fixed-bottom navbar-expand-sm navbar-dark bg-light",4,"ngIf"],[1,"text-center","mb-3","LeftLi"],[1,"text-center","mb-2","float-right"],[1,"btn","btn-link",3,"click"],[1,"invalid-feedback"],["href","javascript:void(0);",1,"addLeg",3,"click"],["ng-label-tmp",""],["ng-option-tmp",""],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["id","formbtnContainer",1,"col-sm-12","text-right"],["type","submit",1,"btn","btn-primary","mr-1"],["href","javascript:void(0)",1,"btn","btn-dark",3,"click"],[3,"isMobilePopup","inputLedgerId","CompanyIdforReport","redirectOnCancel","redirectAction"]],template:function(e,t){if(1&e){const e=r.EpF();r.YNc(0,Ae,30,11,"div",0),r.YNc(1,it,87,66,"div",1),r.TgZ(2,"div",2,3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r.TgZ(7,"h4",7),r._uU(8,"Advance Search "),r.qZA(),r.TgZ(9,"button",8),r.NdJ("click",function(){return t._SearchModal.hide()}),r.TgZ(10,"span",9),r._uU(11,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"form",10,11),r.NdJ("ngSubmit",function(){return r.CHM(e),r.MAs(13).form.valid}),r.TgZ(14,"div",12),r.TgZ(15,"div",13),r.TgZ(16,"div",14),r._UZ(17,"span",15),r._UZ(18,"input",16,17),r.qZA(),r.qZA(),r.TgZ(20,"nav",18),r.TgZ(21,"ul",19),r.TgZ(22,"li",20),r.TgZ(23,"button",21),r.NdJ("click",function(){r.CHM(e);const i=r.MAs(19);return t.FilterData(i.value),t._SearchModal.hide()}),r._UZ(24,"i",22),r._uU(25,"Search "),r.qZA(),r.qZA(),r.TgZ(26,"li",23),r.TgZ(27,"button",24),r.NdJ("click",function(){return t.ClearFilter(),t._SearchModal.hide()}),r._uU(28," Clear Filter "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",25,26),r.TgZ(31,"div",27),r.TgZ(32,"div",28),r.TgZ(33,"div",6),r.TgZ(34,"h4",7),r._uU(35,"Import Channel Partner through sheet"),r.qZA(),r.TgZ(36,"button",8),r.NdJ("click",function(){return t.CloseImagePopup()}),r.TgZ(37,"span",9),r._uU(38,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(39,"form",29,30),r.NdJ("ngSubmit",function(){return r.CHM(e),r.MAs(40).form.valid&&t.onExcelSubmit()}),r.TgZ(41,"div",31),r.TgZ(42,"div",32),r.TgZ(43,"div",33),r.TgZ(44,"div",34),r.TgZ(45,"div",35),r.TgZ(46,"div",36),r.TgZ(47,"app-file-upload",37,38),r.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),r.qZA(),r.TgZ(49,"a",39),r._uU(50," Download sample "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(51,"div",40),r.TgZ(52,"button",41),r._uU(53,"Submit"),r.qZA(),r.TgZ(54,"button",42),r.NdJ("click",function(){return t.CloseImagePopup()}),r._uU(55,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(56,nt,1,4,"app-companyledger-addedit",43)}2&e&&(r.Q6J("ngIf",t.isList),r.xp6(1),r.Q6J("ngIf",!t.isList),r.xp6(46),r.Q6J("filelist",t.excelfileData),r.xp6(9),r.Q6J("ngIf",t.showCompanyLedgerpopup))},directives:[Z.O5,S.oB,x._Y,x.JL,x.F,C.u,I.Y,q.n,M.e,k.i9,N.g,x.Fj,x.JJ,x.On,y.x,w.w9,w.A3,A.gu,_.R,D.n,Z.sg,P.TO,P.Mq,P.Hz,A.W2,A.nJ,A.Wo,A.aJ,A.Rw,A.ju,A.MB,A.PM,A.Nd,A.wI,A.CK,x.Q7,Z.mk,w.bb,w.Z2,U.k],styles:[""]}),e})()},63713:function(e,t,i){i.d(t,{y:function(){return d}});var n=i(78446),r=i(32364),s=i(33018),o=i(91841),l=i(89401),a=i(86845),c=i(44667);let d=(()=>{class e extends n.a{constructor(e,t,i,n,r){super(e,t,i,n,r),this._config=t}GetAlldata(){super.GetAlldata(r.qE.Bank_GetAll)}GetAlldataforBooking(){super.GetAlldata(r.qE.Bank_GetAllForBooking)}getById(e){return super.getById(e,r.qE.Bank_GetById)}edit(e){return super.edit(e,r.qE.Bank_Update)}add(e){return super.add(e,r.qE.Bank_Add)}delete(e){super.delete(e,r.qE.Bank_Delete)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.eN),s.LFG(r.De),s.LFG(l.Rq),s.LFG(a.D),s.LFG(c.F0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},57475:function(e,t,i){i.d(t,{v:function(){return c}});var n=i(32364),r=i(78446),s=i(33018),o=i(91841),l=i(89401),a=i(86845);let c=(()=>{class e extends r.a{constructor(e,t,i,n){super(e,t,i,n),this._config=t}GetAlldata(){super.GetAlldata(n.Sv.Customer_GetAll)}getById(e){return super.getById(e,n.Sv.Customer_GetById)}getByforbookingId(e){return super.getById(e,n.Sv.Customer_GetbyIdforbooking)}edit(e){return super.edit(e,n.Sv.Customer_Update)}add(e){return super.add(e,n.Sv.Customer_Add)}delete(e){super.delete(e,n.Sv.Customer_Delete)}CustomerImport(e,t){return super.changeInquirySite(0,e,t,n.Sv.Customer_Import)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.eN),s.LFG(n.De),s.LFG(l.Rq),s.LFG(a.D))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},27317:function(e,t,i){i.d(t,{P:function(){return c}});var n=i(32364),r=i(78446),s=i(33018),o=i(91841),l=i(89401),a=i(86845);let c=(()=>{class e extends r.a{constructor(e,t,i,n){super(e,t,i,n),this._config=t}GetAlldata(){super.GetAlldata(n.I5.EmailTemplate_GetAll)}GetAlldataBooking(){super.GetAlldata(n.I5.EmailTemplate_GetAllForBooking)}getById(e){return super.getById(e,n.I5.EmailTemplate_GetById)}getByName(e){return super.getById(e,n.I5.EmailTemplate_GetByName)}edit(e){return super.edit(e,n.I5.EmailTemplate_Update)}add(e){return super.add(e,n.I5.EmailTemplate_Add)}delete(e){super.delete(e,n.I5.EmailTemplate_Delete)}GetAllImages(){return super.GetAllGeneral(n.I5.EmailTemplate_GetAllImages)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.eN),s.LFG(n.De),s.LFG(l.Rq),s.LFG(a.D))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},74071:function(e,t,i){i.d(t,{M:function(){return d}});var n=i(32364),r=i(78446),s=i(27541),o=i(33018),l=i(91841),a=i(89401),c=i(86845);let d=(()=>{class e extends r.a{constructor(e,t,i,n){super(e,t,i,n),this._config=t,this.httpfunction=new s.r}GetAlldata(){this.isGetSubscribe=!0,super.GetAlldata(n.lV.Site_GetAll),null==this.subscription&&(this.subscription=this.resultObs.subscribe(e=>{let t=this.getRoleData;if(t&&"null"!=t&&null!=t){let e=t.AlwSt;this.result=this.result.filter(function(t){return e.indexOf(t.UIDN.toString())>-1}),this.totalItems=this.result.length}}))}GetAllrelatedData(){super.GetAlldata(n.lV.getAllSiteForAllCompany)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(l.eN),o.LFG(n.De),o.LFG(a.Rq),o.LFG(c.D))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},41895:function(e,t,i){i.d(t,{E:function(){return c}});var n=i(32364),r=i(78446),s=i(33018),o=i(91841),l=i(89401),a=i(86845);let c=(()=>{class e extends r.a{constructor(e,t,i,n){super(e,t,i,n),this._config=t}GetAlldata(){super.GetAlldata(n.cA.Template_GetAll)}GetAlldataForCompany(){super.GetAlldata(n.cA.Template_GetAllForCompany)}GetInqSMSTemplates(){super.GetAlldata(n.cA.Template_GetInqSMSTemplates)}Gettemplateforbulksms(){return super.GetAllGeneral(n.cA.Template_Gettemplatebulksms)}getById(e){return super.getById(e,n.cA.Template_GetById)}getByName(e){return super.getById(e,n.cA.Template_GetByName)}edit(e){return super.edit(e,n.cA.Template_Update)}add(e){return super.add(e,n.cA.Template_Add)}delete(e){super.delete(e,n.cA.Template_Delete)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.eN),s.LFG(n.De),s.LFG(l.Rq),s.LFG(a.D))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},99165:function(e,t,i){i.d(t,{V:function(){return Ct}});var n=i(33018),r=i(3306),s=i(25039),o=i(62411),l=i(78980),a=i(27541),c=i(65529),d=i(82316),g=i(39302),u=i(39478),h=i(44667),p=i(38583),m=i(89401),f=i(70609),Z=i(3679),v=i(66496),A=i(58679),T=i(6642),b=i(85895),S=i(92859),x=i(3001),C=i(48429),I=i(3359),q=i(48291);const M=["Termform"],k=["f"];function N(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",46),n.TgZ(1,"ul",47),n.TgZ(2,"li",48),n.TgZ(3,"button",49),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n._UZ(4,"i",50),n.qZA(),n.qZA(),n.TgZ(5,"li",51),n.TgZ(6,"strong"),n._uU(7,"Booking"),n.qZA(),n.TgZ(8,"small"),n._uU(9," Add/Edit"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}function y(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",52),n.TgZ(1,"ul",47),n.TgZ(2,"li",53),n.TgZ(3,"ion-icon",54),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n.qZA(),n.qZA(),n.TgZ(4,"li",55),n.TgZ(5,"strong"),n._uU(6,"Booking"),n.qZA(),n.TgZ(7,"small"),n._uU(8," Add/Edit"),n.qZA(),n.qZA(),n.TgZ(9,"li",56),n.TgZ(10,"a",57),n.NdJ("click",function(t){return n.CHM(e),n.oxw(),n.MAs(7).onSubmit(t)}),n._uU(11," Save "),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}function w(e,t){1&e&&(n.TgZ(0,"div",58),n.TgZ(1,"div",59),n._uU(2," Since the booking was finalized, changes are restricted. "),n.qZA(),n.qZA())}function _(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Site selection is required"),n.qZA())}function D(e,t){if(1&e&&(n.TgZ(0,"div",60),n.YNc(1,_,2,0,"div",61),n.qZA()),2&e){n.oxw();const e=n.MAs(18);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function P(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Booking Status selection is required"),n.qZA())}function U(e,t){if(1&e&&(n.TgZ(0,"div",60),n.YNc(1,P,2,0,"div",61),n.qZA()),2&e){n.oxw();const e=n.MAs(26);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function O(e,t){if(1&e&&(n.TgZ(0,"small",62),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.AsE(" Loaded ",e.userService.result.length," of ",e.userService.result.length," ")}}function E(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Sales By selection is required"),n.qZA())}function J(e,t){if(1&e&&(n.TgZ(0,"div",60),n.YNc(1,E,2,0,"div",61),n.qZA()),2&e){n.oxw();const e=n.MAs(44);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function L(e,t){if(1&e&&(n.ynx(0),n._UZ(1,"img",63),n.BQk()),2&e){const e=t.$implicit;n.xp6(1),n.Q6J("src",e.src,n.LSH)("alt",e.name)}}function F(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@CustomerAccount@@"),n.qZA())}function Q(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function R(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",133),n.NdJ("click",function(){const t=n.CHM(e).item;return n.oxw(4).openLedgerPopup(t.UIDN)}),n._UZ(3,"i",134),n.qZA()}if(2&e){const e=t.item,i=n.oxw(4);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function B(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",62),n.TgZ(1,"a",130),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(16);return n.oxw(2).addNewCustomer(t)}),n._uU(2," Add New Customer "),n.qZA(),n.qZA(),n.YNc(3,Q,1,1,"ng-template",131),n.YNc(4,R,4,3,"ng-template",132)}}function Y(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@AllotmentDate@@"),n.qZA())}function G(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Please enter date"),n.qZA())}function H(e,t){if(1&e&&(n.TgZ(0,"div",60),n.YNc(1,G,2,0,"div",61),n.qZA()),2&e){n.oxw();const e=n.MAs(25);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function V(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@AgreementDate@@"),n.qZA())}function K(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Please enter date"),n.qZA())}function $(e,t){if(1&e&&(n.TgZ(0,"div",60),n.YNc(1,K,2,0,"div",61),n.qZA()),2&e){n.oxw();const e=n.MAs(32);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function W(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@cpcompanyname@@"),n.qZA())}function j(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",62),n.TgZ(1,"a",130),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(40);return n.oxw(2).openChannelPartnerPopup(t)}),n._uU(2," Add New Channel Partner "),n.qZA(),n.qZA()}}function z(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"selection is required"),n.qZA())}function X(e,t){if(1&e&&(n.TgZ(0,"div",60),n.YNc(1,z,2,0,"div",61),n.qZA()),2&e){n.oxw();const e=n.MAs(39);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function ee(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@CusAdharNo@@"),n.qZA())}function te(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@CusFullName@@"),n.qZA())}function ie(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@CusFullAddress@@"),n.qZA())}function ne(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@CusContactNo@@"),n.qZA())}function re(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@CusEmail@@"),n.qZA())}function se(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@CusPanNo@@"),n.qZA())}const oe=function(e){return{"is-invalid":e}};function le(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",135),n.TgZ(1,"div",66),n.TgZ(2,"div",136),n.TgZ(3,"h5",68),n.TgZ(4,"button",137),n._uU(5," CUSTOMER'S INFORMATION FROM ACCOUNT LEDGER "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"div",138),n.TgZ(7,"div",139),n.TgZ(8,"div",9),n.TgZ(9,"div",12),n.TgZ(10,"label",140),n._uU(11," Aadhar No"),n.YNc(12,ee,2,0,"span",87),n.qZA(),n.TgZ(13,"input",141,142),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).updateAdharNo(t)}),n.qZA(),n.qZA(),n.TgZ(15,"div",12),n.TgZ(16,"label",143),n._uU(17," Name on Agreement (as per Aadhar)"),n.YNc(18,te,2,0,"span",87),n.qZA(),n.TgZ(19,"input",144,145),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).updateName(t)}),n.qZA(),n.qZA(),n.TgZ(21,"div",12),n.TgZ(22,"label",146),n._uU(23," Full Address (as per Aadhar)"),n.YNc(24,ie,2,0,"span",87),n.qZA(),n.TgZ(25,"input",147,148),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).updateAddress(t)}),n.qZA(),n.qZA(),n.TgZ(27,"div",12),n.TgZ(28,"label",149),n._uU(29," Contact No"),n.YNc(30,ne,2,0,"span",87),n.qZA(),n.TgZ(31,"input",150,151),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).updateContact(t)}),n.qZA(),n.qZA(),n.TgZ(33,"div",12),n.TgZ(34,"label",152),n._uU(35," Email"),n.YNc(36,re,2,0,"span",87),n.qZA(),n.TgZ(37,"input",153,154),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).updateEmail(t)}),n.qZA(),n.qZA(),n.TgZ(39,"div",12),n.TgZ(40,"label",155),n._uU(41," PAN No"),n.YNc(42,se,2,0,"span",87),n.qZA(),n.TgZ(43,"input",156,157),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).updatePAN(t)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(14),t=n.MAs(20),i=n.MAs(26),r=n.MAs(32),s=n.MAs(38),o=n.MAs(44),l=n.oxw(3),a=n.MAs(7);n.xp6(12),n.Q6J("ngIf",1==l.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(18,oe,a.submitted&&e.invalid))("ngModel",null==l.companyledgerservice.singleresult?null:l.companyledgerservice.singleresult.AdharNo),n.xp6(5),n.Q6J("ngIf",1==l.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(20,oe,a.submitted&&t.invalid))("ngModel",null==l.companyledgerservice.singleresult?null:l.companyledgerservice.singleresult.FullNm),n.xp6(5),n.Q6J("ngIf",1==l.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(22,oe,a.submitted&&i.invalid))("ngModel",null==l.companyledgerservice.singleresult?null:l.companyledgerservice.singleresult.Addr),n.xp6(5),n.Q6J("ngIf",1==l.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(24,oe,a.submitted&&r.invalid))("ngModel",null==l.companyledgerservice.singleresult?null:l.companyledgerservice.singleresult.CNO),n.xp6(5),n.Q6J("ngIf",1==l.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(26,oe,a.submitted&&s.invalid))("ngModel",null==l.companyledgerservice.singleresult?null:l.companyledgerservice.singleresult.Eml),n.xp6(5),n.Q6J("ngIf",1==l.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(28,oe,a.submitted&&o.invalid))("ngModel",null==l.companyledgerservice.singleresult?null:l.companyledgerservice.singleresult.PanNo)}}function ae(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"span"),n.TgZ(1,"input",165,166),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Value=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.xp6(1),n.MGl("placeholder","enter ",t.trms,""),n.MGl("name","termsvaluesown_",i,""),n.MGl("id","termsvaluesown_",i,""),n.Q6J("ngModel",t.Value)}}function ce(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"ng-select",168,169),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).$implicit.Value=t}),n.qZA()}if(2&e){const e=n.MAs(1),t=n.oxw(2),i=t.index,r=t.$implicit;n.MGl("name","termsValuesOwns_",i,""),n.MGl("id","termsValuesOwns_",i,""),n.Q6J("items",r.DropDownValues)("ngClass",n.VKq(6,oe,e.invalid))("placeholder","Select an option")("ngModel",r.Value)}}function de(e,t){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,ce,2,8,"ng-select",167),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf","OWNER_FIELD_DROPDOWN"===e.FType)}}function ge(e,t){if(1&e&&(n.TgZ(0,"div",163),n.TgZ(1,"label",164),n._uU(2),n.qZA(),n.YNc(3,ae,3,4,"span",61),n.YNc(4,de,2,1,"span",61),n.qZA()),2&e){const e=t.$implicit,i=t.index;n.xp6(1),n.MGl("for","term_",i,""),n.xp6(1),n.Oqu(e.Trms),n.xp6(1),n.Q6J("ngIf","OWNER_FIELD_DROPDOWN"!==e.FType),n.xp6(1),n.Q6J("ngIf","OWNER_FIELD_DROPDOWN"===e.FType)}}function ue(e,t){if(1&e&&(n.TgZ(0,"div",158),n.TgZ(1,"div",66),n.TgZ(2,"div",159),n.TgZ(3,"h5",68),n.TgZ(4,"button",160),n._uU(5," OWNER'S DETAILS "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"div",161),n.TgZ(7,"div",139),n.TgZ(8,"div",9),n.YNc(9,ge,5,4,"div",162),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(3);n.xp6(9),n.Q6J("ngForOf",e.sitestrService.singleresult.OwnersFields)}}function he(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",163),n.TgZ(1,"div",173),n.TgZ(2,"label",164),n._uU(3),n.qZA(),n.TgZ(4,"input",165,174),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Value=t}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index;n.xp6(2),n.MGl("for","term_",i,""),n.xp6(1),n.Oqu(e.Trms),n.xp6(1),n.MGl("placeholder","Enter ",e.Trms,""),n.MGl("name","term_",i,""),n.MGl("id","term_",i,""),n.Q6J("ngModel",e.Value)}}function pe(e,t){if(1&e&&(n.TgZ(0,"div",158),n.TgZ(1,"div",66),n.TgZ(2,"div",170),n.TgZ(3,"h5",68),n.TgZ(4,"button",171),n._uU(5," CO-OWNER'S DETAILS "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"div",172),n.TgZ(7,"div",139),n.TgZ(8,"div",9),n.YNc(9,he,6,6,"div",162),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(3);n.xp6(9),n.Q6J("ngForOf",e.sitestrService.singleresult.siteTermsForCoowner)}}function me(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@BookTokenAmount@@"),n.qZA())}function fe(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@LoanAmount@@"),n.qZA())}function Ze(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@Bank@@"),n.qZA())}function ve(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@PostBookingStatus@@"),n.qZA())}function Ae(e,t){1&e&&(n.TgZ(0,"span",129),n._uU(1,"@@PostBookingReason@@"),n.qZA())}function Te(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Remarks is required"),n.qZA())}function be(e,t){if(1&e&&(n.TgZ(0,"div",60),n.YNc(1,Te,2,0,"div",61),n.qZA()),2&e){n.oxw();const e=n.MAs(5);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Se(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",175),n.TgZ(1,"label",176),n._uU(2,"Remarks of Post Booking if any"),n.YNc(3,Ae,2,0,"span",87),n.qZA(),n.TgZ(4,"textarea",177,178),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).sitestrService.singleresult.bkStatusReason=t}),n.qZA(),n.YNc(6,be,2,1,"div",17),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw(3),i=n.MAs(7);n.xp6(3),n.Q6J("ngIf",1==t.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(4,oe,i.submitted&&e.invalid))("ngModel",t.sitestrService.singleresult.bkStatusReason),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function xe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",179),n.TgZ(1,"label",180),n._uU(2," Annual Interest Rate "),n.qZA(),n.TgZ(3,"input",181,182),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).sitestrService.singleresult.BookingWiseOutstandingIntrestRate=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(3);n.xp6(3),n.Q6J("ngModel",e.sitestrService.singleresult.BookingWiseOutstandingIntrestRate)}}function Ce(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",82),n.TgZ(1,"div",66),n.TgZ(2,"div",83),n.TgZ(3,"h5",68),n.TgZ(4,"button",84),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).toggleCollapse1()}),n.TgZ(5,"span",70),n._uU(6,"CUSTOMER'S PERSONAL DETAILS"),n.qZA(),n.TgZ(7,"span",71),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",85),n.TgZ(10,"div",73),n.TgZ(11,"div",12),n.TgZ(12,"label",86),n._uU(13," Customer Account "),n.YNc(14,F,2,0,"span",87),n.qZA(),n.TgZ(15,"ng-select",88,89),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).sitestrService.singleresult.CusLedgerId=t})("change",function(){return n.CHM(e),n.oxw(2).ledSelcted()}),n.YNc(17,B,5,0,"ng-template",30),n.qZA(),n.qZA(),n.TgZ(18,"div",12),n.TgZ(19,"label",90),n._uU(20,"Allotment Date:"),n.TgZ(21,"span",14),n._uU(22,"*"),n.qZA(),n.YNc(23,Y,2,0,"span",87),n.qZA(),n.TgZ(24,"input",91,92),n.NdJ("selected",function(t){return n.CHM(e),n.oxw(2).onAllotmentdateSelect(t)}),n.qZA(),n.YNc(26,H,2,1,"div",17),n.qZA(),n.TgZ(27,"div",12),n.TgZ(28,"label",93),n._uU(29,"Agreement Date: "),n.YNc(30,V,2,0,"span",87),n.qZA(),n.TgZ(31,"input",94,95),n.NdJ("selected",function(t){return n.CHM(e),n.oxw(2).onAgreementdateSelect(t)}),n.qZA(),n.YNc(33,$,2,1,"div",17),n.qZA(),n.TgZ(34,"div",12),n.TgZ(35,"label",96),n._uU(36,"Select Broker (Channel Partner): "),n.YNc(37,W,2,0,"span",87),n.qZA(),n.TgZ(38,"ng-select",97,98),n.NdJ("scrollToEnd",function(){return n.CHM(e),n.oxw(2).channelPartnerService.ScrollDown()})("ngModelChange",function(t){return n.CHM(e),n.oxw(2).sitestrService.singleresult.CpId=t}),n.YNc(41,j,3,0,"ng-template",30),n.qZA(),n.YNc(42,X,2,1,"div",17),n.qZA(),n.YNc(43,le,45,30,"div",99),n.YNc(44,ue,10,1,"div",100),n.YNc(45,pe,10,1,"div",100),n.TgZ(46,"div",12),n.TgZ(47,"label",101),n._uU(48," Token/DownPayment Amount "),n.YNc(49,me,2,0,"span",87),n.qZA(),n.TgZ(50,"input",102,103),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).sitestrService.singleresult.TokenAmount=t}),n.qZA(),n.qZA(),n.TgZ(52,"div",12),n.TgZ(53,"label",104),n._uU(54," Loan Amount "),n.YNc(55,fe,2,0,"span",87),n.qZA(),n.TgZ(56,"input",105,106),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).sitestrService.singleresult.LoanAmount=t})("change",function(){return n.CHM(e),n.oxw(2).changeLoan()}),n.qZA(),n.qZA(),n.TgZ(58,"div",12),n.TgZ(59,"label",107),n._uU(60," Bank"),n.YNc(61,Ze,2,0,"span",87),n.qZA(),n.TgZ(62,"ng-select",108,109),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).sitestrService.singleresult.BankLedger=t}),n.qZA(),n.qZA(),n.TgZ(64,"div",12),n.TgZ(65,"label",110),n._uU(66,"Post Booking Status"),n.YNc(67,ve,2,0,"span",87),n.qZA(),n.TgZ(68,"ng-select",111,112),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).sitestrService.singleresult.bkStatus=t}),n.TgZ(70,"ng-option",113),n._uU(71,"Registration Done"),n.qZA(),n.TgZ(72,"ng-option",114),n._uU(73,"Booking Finalized"),n.qZA(),n.TgZ(74,"ng-option",115),n._uU(75,"Postpone"),n.qZA(),n.TgZ(76,"ng-option",116),n._uU(77,"In Progress"),n.qZA(),n.TgZ(78,"ng-option",117),n._uU(79,"Loan Issue"),n.qZA(),n.TgZ(80,"ng-option",118),n._uU(81,"Booking Cancelled"),n.qZA(),n.qZA(),n.qZA(),n.YNc(82,Se,7,6,"div",119),n.TgZ(83,"div",120),n.TgZ(84,"label",121),n._uU(85," Insert Sales/Journal Entry "),n.qZA(),n._UZ(86,"br"),n.TgZ(87,"label",122),n.TgZ(88,"input",123),n.NdJ("change",function(){n.CHM(e);const t=n.oxw(2);return t.sitestrService.singleresult.IsSalesEntry=1!=t.sitestrService.singleresult.IsSalesEntry}),n.qZA(),n._UZ(89,"span",35),n.qZA(),n.qZA(),n.TgZ(90,"div",120),n.TgZ(91,"label",124),n._uU(92," Is Final Booking? "),n.qZA(),n._UZ(93,"br"),n.TgZ(94,"label",122),n.TgZ(95,"input",125),n.NdJ("change",function(){n.CHM(e);const t=n.oxw(2);return t.sitestrService.singleresult.IsFinalBook=1!=t.sitestrService.singleresult.IsFinalBook}),n.qZA(),n._UZ(96,"span",35),n.qZA(),n.qZA(),n.TgZ(97,"div",120),n.TgZ(98,"div",9),n.TgZ(99,"div"),n.TgZ(100,"label",126),n._uU(101," Want to add interest on Due? "),n.qZA(),n._UZ(102,"br"),n.TgZ(103,"label",122),n.TgZ(104,"input",127),n.NdJ("change",function(){n.CHM(e);const t=n.oxw(2);return t.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding=1!=t.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding}),n.qZA(),n._UZ(105,"span",35),n.qZA(),n.qZA(),n.YNc(106,xe,5,1,"div",128),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(25),t=n.MAs(32),i=n.MAs(39),r=n.oxw(2),s=n.MAs(7);n.xp6(4),n.uIk("aria-expanded",r.isCollapsed1?"false":"true"),n.xp6(4),n.Oqu(r.isCollapsed1?"+":"-"),n.xp6(6),n.Q6J("ngIf",1==r.IsTagView),n.xp6(1),n.Q6J("items",r.Customers)("ngModel",r.sitestrService.singleresult.CusLedgerId)("loading",r.companyledgerservice.loading),n.xp6(8),n.Q6J("ngIf",1==r.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(39,oe,s.submitted&&e.invalid))("startDate",r.sitestrService.singleresult.AllotmentDate),n.xp6(2),n.Q6J("ngIf",s.submitted&&e.invalid),n.xp6(4),n.Q6J("ngIf",1==r.IsTagView),n.xp6(1),n.Q6J("ngClass",n.VKq(41,oe,s.submitted&&t.invalid))("startDate",r.sitestrService.singleresult.AgreementDate),n.xp6(2),n.Q6J("ngIf",s.submitted&&t.invalid),n.xp6(4),n.Q6J("ngIf",1==r.IsTagView),n.xp6(1),n.Q6J("virtualScroll",!0)("items",r.channelPartnerService.result)("ngClass",n.VKq(43,oe,s.submitted&&i.invalid))("ngModel",r.sitestrService.singleresult.CpId)("loading",r.channelPartnerService.loading),n.xp6(4),n.Q6J("ngIf",s.submitted&&i.invalid),n.xp6(1),n.Q6J("ngIf",null!=r.sitestrService.singleresult.CusLedgerId||null!=r.sitestrService.singleresult.CusLedgerId),n.xp6(1),n.Q6J("ngIf",r.sitestrService.singleresult.OwnersFields.length>0),n.xp6(1),n.Q6J("ngIf",r.sitestrService.singleresult.siteTermsForCoowner.length>0),n.xp6(4),n.Q6J("ngIf",1==r.IsTagView),n.xp6(1),n.Q6J("ngModel",r.sitestrService.singleresult.TokenAmount),n.xp6(5),n.Q6J("ngIf",1==r.IsTagView),n.xp6(1),n.Q6J("ngModel",r.sitestrService.singleresult.LoanAmount),n.xp6(5),n.Q6J("ngIf",1==r.IsTagView),n.xp6(1),n.Q6J("items",r.bankMaster)("ngModel",r.sitestrService.singleresult.BankLedger),n.xp6(5),n.Q6J("ngIf",1==r.IsTagView),n.xp6(1),n.Q6J("ngModel",r.sitestrService.singleresult.bkStatus),n.xp6(14),n.Q6J("ngIf",null!=r.sitestrService.singleresult.bkStatus),n.xp6(6),n.Q6J("checked",1==r.sitestrService.singleresult.IsSalesEntry),n.xp6(7),n.Q6J("checked",1==r.sitestrService.singleresult.IsFinalBook),n.xp6(9),n.Q6J("checked",1==r.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding)("disabled",1!=r.OutstndInterstShow),n.xp6(2),n.Q6J("ngIf",1==r.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding)}}function Ie(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"span"),n.TgZ(1,"input",165,166),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Value=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.xp6(1),n.MGl("placeholder","enter ",t.trms,""),n.MGl("name","termsvaluesown_",i,""),n.MGl("id","termsvaluesown_",i,""),n.Q6J("ngModel",t.Value)}}function qe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"ng-select",168,169),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).$implicit.Value=t}),n.qZA()}if(2&e){const e=n.MAs(1),t=n.oxw(2),i=t.index,r=t.$implicit;n.MGl("name","termsValuesOwns_",i,""),n.MGl("id","termsValuesOwns_",i,""),n.Q6J("items",r.DropDownValuess)("ngClass",n.VKq(6,oe,e.invalid))("placeholder","Select option(s)")("ngModel",r.Value)}}function Me(e,t){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,qe,2,8,"ng-select",167),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf","PROJECT_FIELD_DROPDOWN"===e.FType)}}function ke(e,t){if(1&e&&(n.TgZ(0,"div",163),n.TgZ(1,"label",164),n._uU(2),n.qZA(),n.YNc(3,Ie,3,4,"span",61),n.YNc(4,Me,2,1,"span",61),n.qZA()),2&e){const e=t.$implicit,i=t.index;n.xp6(1),n.MGl("for","term_",i,""),n.xp6(1),n.Oqu(e.Trms),n.xp6(1),n.Q6J("ngIf","PROJECT_FIELD_DROPDOWN"!==e.FType),n.xp6(1),n.Q6J("ngIf","PROJECT_FIELD_DROPDOWN"===e.FType)}}function Ne(e,t){if(1&e&&(n.TgZ(0,"div",183),n.TgZ(1,"div",66),n.TgZ(2,"div",184),n.TgZ(3,"h5",68),n.TgZ(4,"button",185),n._uU(5," PROJECT'S DATAILS "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"div",186),n.TgZ(7,"div",139),n.TgZ(8,"div",9),n.YNc(9,ke,5,4,"div",162),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.xp6(9),n.Q6J("ngForOf",e.sitestrService.singleresult.ProjectsFields)}}function ye(e,t){if(1&e&&(n.TgZ(0,"span",192),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.ArMeasType," ")}}function we(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"number"),n.qZA()),2&e){const e=n.oxw(2).$implicit;n.xp6(1),n.hij(" sq m. ",n.xi3(2,1,.092903*e.Value,"1.2-2")," ")}}function _e(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"number"),n.qZA()),2&e){const e=n.oxw(2).$implicit;n.xp6(1),n.hij(" Sq ft ",n.xi3(2,1,10.764*e.Value,"1.2-2")," ")}}function De(e,t){if(1&e&&(n.TgZ(0,"span",193),n.TgZ(1,"small"),n._uU(2," In "),n.YNc(3,we,3,4,"span",61),n.YNc(4,_e,3,4,"span",61),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(3),n.Q6J("ngIf","Sq. Foot"==e.ArMeasType),n.xp6(1),n.Q6J("ngIf","Sq. Meter"==e.ArMeasType)}}function Pe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",194,174),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Value=t})("keyup",function(t){n.CHM(e);const i=n.oxw(),r=i.$implicit,s=i.index,o=n.oxw(2);return o.IsAutoCalcAgrAmt&&("RERA_AREA_FIELD"===r.FType||"RATE_FIELD"===r.FType)&&o.ChangeAgreementValue(t,s),o.calculateAmountOnOrder(r.order,r.Value,1),o.changeLoan(),o.ChangeTotalAmtValue(t)}),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.MGl("placeholder","Enter ",t.Trms,""),n.MGl("name","SDterm_",i,""),n.MGl("id","SDterm_",i,""),n.Q6J("ngModel",t.Value)}}function Ue(e,t){if(1&e&&(n.TgZ(0,"span",129),n._uU(1),n.qZA()),2&e){const e=n.oxw(3).$implicit;n.xp6(1),n.hij("",e.Token,"SqMeter@@")}}function Oe(e,t){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,Ue,2,1,"span",87),n.qZA()),2&e){const e=n.oxw(4);n.xp6(1),n.Q6J("ngIf",e.IsTagView)}}function Ee(e,t){if(1&e&&(n.TgZ(0,"span",129),n._uU(1),n.qZA()),2&e){const e=n.oxw(3).$implicit;n.xp6(1),n.hij("",e.Token,"SqFoot@@")}}function Je(e,t){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,Ee,2,1,"span",87),n.qZA()),2&e){const e=n.oxw(4);n.xp6(1),n.Q6J("ngIf",e.IsTagView)}}function Le(e,t){if(1&e&&(n.TgZ(0,"span",195),n.YNc(1,Oe,2,1,"span",61),n.YNc(2,Je,2,1,"span",61),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf","Sq. Foot"==e.ArMeasType),n.xp6(1),n.Q6J("ngIf","Sq. Meter"==e.ArMeasType)}}function Fe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"ng-select",168,196),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).$implicit.Value=t}),n.qZA()}if(2&e){const e=n.MAs(1),t=n.oxw(2),i=t.index,r=t.$implicit;n.MGl("name","termsValuesSitFie_",i,""),n.MGl("id","termsValuesSitFie_",i,""),n.Q6J("items",r.DropDownValuess)("ngClass",n.VKq(6,oe,e.invalid))("placeholder","Select option(s)")("ngModel",r.Value)}}function Qe(e,t){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,Fe,2,8,"ng-select",167),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf","DROPDOWN_FIELD"===e.FType)}}function Re(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",197,198),n.NdJ("selectedindex",function(t){n.CHM(e);const i=n.oxw().index;return n.oxw(2).onSiteDateSelect(t,i)}),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.MGl("placeholder","Enter ",t.Trms,""),n.MGl("name","SDterm_",i,""),n.MGl("id","SDterm_",i,""),n.Q6J("startDate",t.Value)}}function Be(e,t){if(1&e&&(n.TgZ(0,"div",12),n.TgZ(1,"label",18),n._uU(2),n.YNc(3,ye,2,1,"span",187),n.YNc(4,De,5,2,"span",188),n.qZA(),n.YNc(5,Pe,2,4,"input",189),n.YNc(6,Le,3,2,"span",190),n.YNc(7,Qe,2,1,"span",61),n.YNc(8,Re,2,4,"input",191),n.qZA()),2&e){const e=t.$implicit;n.xp6(2),n.hij("",e.Trms," "),n.xp6(1),n.Q6J("ngIf","TOTALAREA_FIELD"==e.FType||"RERA_AREA_FIELD"==e.FType),n.xp6(1),n.Q6J("ngIf",!("TOTALAREA_FIELD"!=e.FType&&"RERA_AREA_FIELD"!=e.FType||"Sq. Foot"!=e.ArMeasType&&"Sq. Meter"!=e.ArMeasType)),n.xp6(1),n.Q6J("ngIf","DATE_FIELD"!=e.FType&&"DROPDOWN_FIELD"!=e.FType),n.xp6(1),n.Q6J("ngIf",!("TOTALAREA_FIELD"!=e.FType&&"RERA_AREA_FIELD"!=e.FType||"Sq. Foot"!=e.ArMeasType&&"Sq. Meter"!=e.ArMeasType)),n.xp6(1),n.Q6J("ngIf","DROPDOWN_FIELD"===e.FType),n.xp6(1),n.Q6J("ngIf","DATE_FIELD"==e.FType)}}function Ye(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",202,174),n.NdJ("keyup",function(t){return n.CHM(e),n.oxw(3).ChangeTotalAmtValue(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Value=t})("change",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw(2).calculateAmountOnOrder(t.order,t.Value,0)}),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.MGl("placeholder","Enter ",t.Trms,""),n.MGl("name","PaySterm_22",i,""),n.MGl("id","PaySterm_22",i,""),n.Q6J("ngModel",t.Value)}}function Ge(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",202,174),n.NdJ("keyup",function(t){return n.CHM(e),n.oxw(3).ChangeTotalAmtValue(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Value=t})("change",function(t){n.CHM(e);const i=n.oxw().$implicit,r=n.oxw(2);return r.calculateAmountOnOrder(i.order,i.Value,0),r.changeLoan(),r.ChangeTotalAmtValue(t)}),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.MGl("placeholder","Enter ",t.Trms,""),n.MGl("name","PaySterm_22",i,""),n.MGl("id","PaySterm_22",i,""),n.Q6J("ngModel",t.Value)}}function He(e,t){1&e&&(n.TgZ(0,"div",203),n._uU(1," Auto Count (AREA * RATE)"),n.qZA())}function Ve(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",202,174),n.NdJ("keyup",function(t){return n.CHM(e),n.oxw(3).ChangeTotalAmtValue(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Value=t})("change",function(){n.CHM(e);const t=n.oxw().$implicit,i=n.oxw(2);return i.calculateAmountOnOrder(t.order,t.Value,0),i.changeLoan()}),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.MGl("placeholder","Enter ",t.Trms,""),n.MGl("name","PaySterm_22",i,""),n.MGl("id","PaySterm_22",i,""),n.Q6J("ngModel",t.Value)}}function Ke(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",202,174),n.NdJ("keyup",function(t){return n.CHM(e),n.oxw(3).ChangeTotalAmtValue(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Value=t})("change",function(){n.CHM(e);const t=n.oxw().$implicit,i=n.oxw(2);return i.calculateAmountOnOrder(t.order,t.Value,0),i.changeLoan()}),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.MGl("placeholder","Enter ",t.Trms,""),n.MGl("name","PaySterm_22",i,""),n.MGl("id","PaySterm_22",i,""),n.Q6J("ngModel",t.Value)}}function $e(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",204,174),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Value=t})("change",function(){n.CHM(e);const t=n.oxw().$implicit,i=n.oxw(2);return i.calculateAmountOnOrder(t.order,t.Value,0),i.changeLoan()}),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.MGl("placeholder","Enter ",t.Trms,""),n.MGl("name","PaySterm_22",i,""),n.MGl("id","PaySterm_22",i,""),n.Q6J("ngModel",t.Value)}}function We(e,t){if(1&e&&(n.TgZ(0,"div",12),n.TgZ(1,"label",18),n._uU(2),n.qZA(),n.YNc(3,Ye,2,4,"input",199),n.YNc(4,Ge,2,4,"input",199),n.YNc(5,He,2,0,"div",200),n.YNc(6,Ve,2,4,"input",199),n.YNc(7,Ke,2,4,"input",199),n.YNc(8,$e,2,4,"input",201),n.qZA()),2&e){const e=t.$implicit,i=n.oxw(2);n.xp6(2),n.Oqu(e.Trms),n.xp6(1),n.Q6J("ngIf","AGREEMENT_VALUE"!=e.FType&&"OTHER_INLUDEAGREEMENT"!=e.FType&&"OTHER_EXCLUDEAGREEMENT"!=e.FType&&"GST_AGREEMENT"!=e.FType&&"TOTAL_AMOUNT"!=e.FType),n.xp6(1),n.Q6J("ngIf","AGREEMENT_VALUE"==e.FType||"GST_AGREEMENT"==e.FType),n.xp6(1),n.Q6J("ngIf",i.IsAutoCalcAgrAmt&&"AGREEMENT_VALUE"==e.FType),n.xp6(1),n.Q6J("ngIf","OTHER_INLUDEAGREEMENT"==e.FType),n.xp6(1),n.Q6J("ngIf","OTHER_EXCLUDEAGREEMENT"==e.FType),n.xp6(1),n.Q6J("ngIf","TOTAL_AMOUNT"==e.FType)}}function je(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n.TgZ(4,"input",213,214),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Value=t}),n.qZA(),n.qZA(),n.TgZ(6,"td"),n.TgZ(7,"input",215,216),n.NdJ("selectedindex",function(t){const i=n.CHM(e).index;return n.oxw(4).onEstimatedDateOCR_IncAgreement(t,i)}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index;n.xp6(2),n.hij(" ",e.Trms," "),n.xp6(2),n.MGl("name","Agrterm_1112",i,""),n.MGl("id","Agrterm_1112",i,""),n.Q6J("ngModel",e.Value),n.xp6(3),n.MGl("name","Agrterm_1152",i,""),n.MGl("id","Agrterm_1152",i,""),n.Q6J("startDate",e.CommitmentDate)}}function ze(e,t){if(1&e&&(n.TgZ(0,"div",210),n.TgZ(1,"table",211),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th",212),n._uU(5,"Term"),n.qZA(),n.TgZ(6,"th",212),n._uU(7,"OCR Amount"),n.qZA(),n.TgZ(8,"th",212),n._uU(9,"Due Date"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"tbody"),n.YNc(11,je,9,7,"tr",40),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(3);n.xp6(11),n.Q6J("ngForOf",e.sitestrService.singleresult.siteTermsForpayment_IncAgreement)}}function Xe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",205),n.TgZ(1,"div",66),n.TgZ(2,"div",206),n.TgZ(3,"h5",68),n.TgZ(4,"button",207),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).toggleCollapse4()}),n.TgZ(5,"span",70),n._uU(6,"OCR PAYMENT FIELDS"),n.qZA(),n.TgZ(7,"span",71),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",208),n.YNc(10,ze,12,1,"div",209),n.ALo(11,"lowercase"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(4),n.uIk("aria-expanded",e.isCollapsed1?"false":"true"),n.xp6(4),n.Oqu(e.isCollapsed4?"+":"-"),n.xp6(2),n.Q6J("ngIf","unsold"!=n.lcZ(11,3,e.sitestrService.singleresult.BookSts))}}function et(e,t){1&e&&(n.TgZ(0,"span",14),n._uU(1,"Dynamic booking terms can't be undo once booking made, "),n._UZ(2,"br"),n._uU(3," You've to DELETE this for to do so."),n.qZA())}function tt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",229),n.TgZ(1,"label",230),n._uU(2,"Want to Add/Edit Terms? "),n._UZ(3,"br"),n.YNc(4,et,4,0,"span",231),n.qZA(),n.TgZ(5,"div"),n.TgZ(6,"label",122),n.TgZ(7,"input",232),n.NdJ("change",function(){n.CHM(e);const t=n.oxw(3);return t.sitestrService.singleresult.IsDynBookTrm=1!=t.sitestrService.singleresult.IsDynBookTrm}),n.qZA(),n._UZ(8,"span",35),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(3);n.xp6(4),n.Q6J("ngIf",e.IsdynamicBooking),n.xp6(3),n.Q6J("checked",e.sitestrService.singleresult.IsDynBookTrm&&e.IsDynamicPayTrms)("disabled",!e.IsDynamicPayTrms||e.IsdynamicBooking)}}function it(e,t){1&e&&(n.TgZ(0,"div",60),n._uU(1," Payment Terms is Already Exist! "),n.qZA())}function nt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",245),n.TgZ(1,"label",263),n._uU(2,"Estimated Date:"),n.qZA(),n.TgZ(3,"input",264,265),n.NdJ("selected",function(t){return n.CHM(e),n.oxw(4).onEstimatedateSelectLoanOCR(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw(4).newLoanOcrTerms.EDt=t}),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(4);n.oxw();const t=n.MAs(1),i=n.oxw(3);n.xp6(3),n.Q6J("ngClass",n.VKq(3,oe,t.submitted&&e.invalid))("ngModel",i.newLoanOcrTerms.EDt)("startDate",i.newLoanOcrTerms.EDt)}}function rt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"form",233,234),n.NdJ("ngSubmit",function(t){n.CHM(e);const i=n.MAs(1),r=n.oxw(3);return i.form.valid&&r.AddNewLoanOCRTerm(t)}),n.TgZ(2,"div",11),n.TgZ(3,"div",235),n.TgZ(4,"label",236),n._uU(5,"Order:"),n.qZA(),n.TgZ(6,"input",237,238),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).newLoanOcrTerms.order=t}),n.qZA(),n.qZA(),n.TgZ(8,"div",175),n.TgZ(9,"label",239),n._uU(10,"Particular:"),n.qZA(),n.TgZ(11,"input",240,241),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).newLoanOcrTerms.Trms=t})("change",function(t){return n.CHM(e),n.oxw(3).IsAlredyexistTerm(null,t)}),n.qZA(),n.YNc(13,it,2,0,"div",17),n.qZA(),n.TgZ(14,"div",235),n.TgZ(15,"label",242),n._uU(16,"Percentage:"),n.qZA(),n.TgZ(17,"input",243,244),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).newLoanOcrTerms.Prcntge=t}),n.qZA(),n.qZA(),n.TgZ(19,"div",245),n.TgZ(20,"label",246),n._uU(21,"Payment Date Type:"),n.qZA(),n.TgZ(22,"ng-select",247,248),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).newLoanOcrTerms.PayDateType=t}),n.TgZ(24,"ng-option",249),n._uU(25,"ALLOTMENT_DATE"),n.qZA(),n.TgZ(26,"ng-option",250),n._uU(27,"ESTIMATION_DATE"),n.qZA(),n.TgZ(28,"ng-option",251),n._uU(29,"TERM_COMPLETED"),n.qZA(),n.qZA(),n.qZA(),n.YNc(30,nt,5,5,"div",252),n.TgZ(31,"div",235),n.TgZ(32,"label",253),n._uU(33,"Additional Days:"),n.qZA(),n.TgZ(34,"input",254,255),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).newLoanOcrTerms.PayDays=t}),n.qZA(),n.qZA(),n.TgZ(36,"div",235),n.TgZ(37,"label",256),n._uU(38,"Reference:"),n.qZA(),n.TgZ(39,"input",257,258),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).newLoanOcrTerms.RefName=t}),n.qZA(),n.qZA(),n.TgZ(41,"div",175),n.TgZ(42,"label",259),n._uU(43,"Loan/OCR Token:"),n.qZA(),n.TgZ(44,"input",260,261),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).newLoanOcrTerms.Token=t}),n.qZA(),n.qZA(),n.TgZ(46,"div",235),n.TgZ(47,"button",262),n._uU(48," Add "),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(1),t=n.MAs(7),i=n.MAs(12),r=n.MAs(18),s=n.MAs(23),o=n.MAs(35),l=n.MAs(40),a=n.MAs(45),c=n.oxw(3);n.xp6(6),n.Q6J("ngClass",n.VKq(16,oe,e.submitted&&t.invalid))("ngModel",c.newLoanOcrTerms.order),n.xp6(5),n.Q6J("ngClass",n.VKq(18,oe,e.submitted&&i.invalid||c.newLoanOcrTerms.IsAlreadyExist))("ngModel",c.newLoanOcrTerms.Trms),n.xp6(2),n.Q6J("ngIf",c.newLoanOcrTerms.IsAlreadyExist),n.xp6(4),n.Q6J("ngClass",n.VKq(20,oe,e.submitted&&r.invalid))("ngModel",c.newLoanOcrTerms.Prcntge),n.xp6(5),n.Q6J("ngClass",n.VKq(22,oe,e.submitted&&s.invalid))("ngModel",c.newLoanOcrTerms.PayDateType),n.xp6(8),n.Q6J("ngIf","ESTIMATION_DATE"==c.newLoanOcrTerms.PayDateType||"TERM_COMPLETED"==c.newLoanOcrTerms.PayDateType),n.xp6(4),n.Q6J("ngClass",n.VKq(24,oe,e.submitted&&o.invalid))("ngModel",c.newLoanOcrTerms.PayDays),n.xp6(5),n.Q6J("ngClass",n.VKq(26,oe,e.submitted&&l.invalid))("ngModel",c.newLoanOcrTerms.RefName),n.xp6(5),n.Q6J("ngClass",n.VKq(28,oe,e.submitted&&a.invalid))("ngModel",c.newLoanOcrTerms.Token)}}function st(e,t){1&e&&(n.TgZ(0,"div",60),n._uU(1," Payment Terms is Already Exist! "),n.qZA())}function ot(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1," Payment Terms is required "),n.qZA())}function lt(e,t){if(1&e&&(n.TgZ(0,"div",60),n.YNc(1,ot,2,0,"div",61),n.qZA()),2&e){n.oxw();const e=n.MAs(8);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function at(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",173),n.TgZ(1,"input",290,291),n.NdJ("selected",function(t){n.CHM(e);const i=n.oxw().index;return n.oxw(4).onEstimatedDateOCR(t,i)}),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(2),t=n.oxw(),i=t.index,r=t.$implicit;n.oxw(4);const s=n.MAs(7);n.xp6(1),n.MGl("name","Estimateddate___LO_",i,""),n.MGl("id","Estimateddate___LO_",i,""),n.Q6J("ngClass",n.VKq(4,oe,s.submitted&&e.invalid))("startDate",r.EDt)}}function ct(e,t){1&e&&(n.TgZ(0,"div",292),n._uU(1,"Input exceeds 75 characters!"),n.qZA())}function dt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n.TgZ(2,"div",173),n.TgZ(3,"input",273,274),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.order=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(5,"td"),n.TgZ(6,"div",173),n.TgZ(7,"input",275,276),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Trms=t})("change",function(){const t=n.CHM(e).index;return n.oxw(4).IsAlredyexistTerm(t,null)}),n.qZA(),n.YNc(9,st,2,0,"div",17),n.YNc(10,lt,2,1,"div",17),n.qZA(),n.qZA(),n.TgZ(11,"td"),n.TgZ(12,"div",173),n.TgZ(13,"input",277,278),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Prcntge=t})("change",function(){return n.CHM(e),n.oxw(4).changeLoan()}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"td"),n.TgZ(16,"ng-select",279,280),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.PayDateType=t}),n.TgZ(18,"ng-option",249),n._uU(19,"ALLOTMENT_DATE"),n.qZA(),n.TgZ(20,"ng-option",250),n._uU(21,"ESTIMATION_DATE"),n.qZA(),n.TgZ(22,"ng-option",251),n._uU(23,"TERM_COMPLETED"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"td"),n.YNc(25,at,3,6,"div",281),n.qZA(),n.TgZ(26,"td"),n.TgZ(27,"input",282,283),n.NdJ("change",function(){return n.CHM(e),n.oxw(4).DateGetFromTerms()})("ngModelChange",function(t){return n.CHM(e).$implicit.PayDays=t}),n.qZA(),n.qZA(),n.TgZ(29,"td"),n.TgZ(30,"input",284,285),n.NdJ("input",function(t){const i=n.CHM(e).index;return n.oxw(4).validateInput(t.target.value,i)})("ngModelChange",function(t){return n.CHM(e).$implicit.RefName=t}),n.qZA(),n.YNc(32,ct,2,0,"div",286),n.qZA(),n.TgZ(33,"td"),n.TgZ(34,"input",287,288),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Token=t}),n.qZA(),n.qZA(),n.TgZ(36,"td"),n.TgZ(37,"a",289),n.NdJ("click",function(){const t=n.CHM(e).index;return n.oxw(4).RemovePaymentTerm(t,1)}),n._uU(38,"Delete"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index,r=n.MAs(8),s=n.oxw(4),o=n.MAs(7);n.xp6(3),n.MGl("name","order__LO_",i,""),n.Q6J("ngModel",e.order),n.xp6(4),n.MGl("name","ptermsLO_",i,""),n.MGl("id","ptermsLO_",i,""),n.Q6J("ngClass",n.VKq(24,oe,o.submitted&&r.invalid||e.IsAlreadyExist))("ngModel",e.Trms),n.xp6(2),n.Q6J("ngIf",e.IsAlreadyExist),n.xp6(1),n.Q6J("ngIf",o.submitted&&r.invalid),n.xp6(3),n.MGl("name","PercentageLO_",i,""),n.MGl("id","PercentageLO_",i,""),n.Q6J("ngModel",e.Prcntge),n.xp6(3),n.MGl("name","PayDateTypeLO_",i,""),n.Q6J("ngModel",e.PayDateType),n.xp6(9),n.Q6J("ngIf","ESTIMATION_DATE"==e.PayDateType||"TERM_COMPLETED"==e.PayDateType),n.xp6(2),n.MGl("name","daysLO_",i,""),n.MGl("id","PDaysLO_",i,""),n.Q6J("ngModel",e.PayDays),n.xp6(3),n.MGl("name","RNameLO_",i,""),n.MGl("id","RNameLO_",i,""),n.Q6J("ngModel",e.RefName),n.xp6(2),n.Q6J("ngIf",s.isInputTooLong[i]),n.xp6(2),n.MGl("name","TokenLO_",i,""),n.MGl("id","TokenLO_",i,""),n.Q6J("ngModel",e.Token)}}function gt(e,t){if(1&e&&(n.TgZ(0,"div",266),n.TgZ(1,"table",267),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th",268),n._uU(5," LOAN OCR TERMS"),n.qZA(),n.qZA(),n.TgZ(6,"tr"),n.TgZ(7,"th",269),n._uU(8,"Order"),n.qZA(),n.TgZ(9,"th",270),n._uU(10,"Particular"),n.qZA(),n.TgZ(11,"th"),n._uU(12,"Terms Percentage:"),n.qZA(),n.TgZ(13,"th"),n._uU(14,"Payment Date Type:"),n.qZA(),n.TgZ(15,"th"),n._uU(16,"Estimated Date:"),n.qZA(),n.TgZ(17,"th",271),n._uU(18,"Additional Days:"),n.qZA(),n.TgZ(19,"th",272),n._uU(20,"Reference:"),n.qZA(),n.TgZ(21,"th",272),n._uU(22,"Token:"),n.qZA(),n.TgZ(23,"th"),n._uU(24,"Action"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(25,"tbody"),n.YNc(26,dt,39,26,"tr",40),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(3);n.xp6(26),n.Q6J("ngForOf",e.sitestrService.singleresult.siteTermsForLoanOCR)}}function ut(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.hij(" - ",e.Prcntge,"%")}}function ht(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",301,296),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.OCRAmt=t}),n.qZA()}if(2&e){const e=n.oxw(),t=e.index,i=e.$implicit;n.MGl("name","term_113",t,""),n.MGl("id","term_113",t,""),n.Q6J("readonly",!0)("ngModel",i.OCRAmt)}}function pt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",302,303),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.LoanAmt=t}),n.qZA()}if(2&e){const e=n.oxw(),t=e.index,i=e.$implicit;n.MGl("name","term_112",t,""),n.MGl("id","term_112",t,""),n.Q6J("readonly",!0)("ngModel",i.LoanAmt)}}function mt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.YNc(3,ut,2,1,"span",61),n.qZA(),n.TgZ(4,"td"),n.TgZ(5,"input",295,296),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Value=t}),n.qZA(),n.qZA(),n.TgZ(7,"td"),n.YNc(8,ht,2,4,"input",297),n.qZA(),n.TgZ(9,"td"),n.YNc(10,pt,2,4,"input",298),n.qZA(),n.TgZ(11,"td"),n.TgZ(12,"input",299,300),n.NdJ("selectedindex",function(t){const i=n.CHM(e).index;return n.oxw(4).onEstimatedDateOCR(t,i)}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index;n.xp6(2),n.hij(" ",e.Trms," "),n.xp6(1),n.Q6J("ngIf","AGREEMENT_TERMS"==e.FType),n.xp6(2),n.MGl("name","term_111",i,""),n.MGl("id","term_111",i,""),n.Q6J("readonly",!0)("ngModel",e.Value),n.xp6(3),n.Q6J("ngIf","AGREEMENT_TERMS"==e.FType),n.xp6(2),n.Q6J("ngIf","AGREEMENT_TERMS"==e.FType),n.xp6(2),n.Q6J("disabled",!0)("startDate",e.CommitmentDate)}}function ft(e,t){if(1&e&&(n.TgZ(0,"div",293),n.TgZ(1,"table",294),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th",212),n._uU(5,"Term"),n.qZA(),n.TgZ(6,"th",212),n._uU(7,"Total Amount"),n.qZA(),n.TgZ(8,"th",212),n._uU(9,"OCR Amount"),n.qZA(),n.TgZ(10,"th",212),n._uU(11,"Loan Amount"),n.qZA(),n.TgZ(12,"th",212),n._uU(13,"Due Date"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"tbody"),n.YNc(15,mt,14,10,"tr",40),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(3);n.xp6(15),n.Q6J("ngForOf",e.sitestrService.singleresult.siteTermsForLoanOCR)}}function Zt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",217),n.TgZ(1,"div",66),n.TgZ(2,"div",218),n.TgZ(3,"h5",68),n.TgZ(4,"button",219),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).toggleCollapse5()}),n.TgZ(5,"span",70),n._uU(6,"PAYMENT TERMS"),n.qZA(),n.TgZ(7,"span",71),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",220),n.TgZ(10,"div",221),n.TgZ(11,"div",66),n.TgZ(12,"div",222),n.TgZ(13,"h5",68),n.TgZ(14,"button",223),n._uU(15," WOULD YOU LIKE TO DYNAMIC TERMS FOR THIS BOOKING? "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"div",224),n.TgZ(17,"div",139),n.YNc(18,tt,9,3,"div",225),n.ALo(19,"lowercase"),n.YNc(20,rt,49,30,"form",226),n.YNc(21,gt,27,1,"div",227),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(22,ft,16,1,"div",228),n.ALo(23,"lowercase"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(4),n.uIk("aria-expanded",e.isCollapsed1?"false":"true"),n.xp6(4),n.Oqu(e.isCollapsed5?"+":"-"),n.xp6(10),n.Q6J("ngIf","unsold"!=n.lcZ(19,6,e.sitestrService.singleresult.BookSts)),n.xp6(2),n.Q6J("ngIf",e.sitestrService.singleresult.IsDynBookTrm&&e.IsDynamicPayTrms),n.xp6(1),n.Q6J("ngIf",e.sitestrService.singleresult.IsDynBookTrm&&e.IsDynamicPayTrms),n.xp6(1),n.Q6J("ngIf","unsold"!=n.lcZ(23,8,e.sitestrService.singleresult.BookSts))}}function vt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",9),n.YNc(1,Ce,107,45,"div",64),n.ALo(2,"lowercase"),n.TgZ(3,"div",65),n.TgZ(4,"div",66),n.TgZ(5,"div",67),n.TgZ(6,"h5",68),n.TgZ(7,"button",69),n.NdJ("click",function(){return n.CHM(e),n.oxw().toggleCollapse2()}),n.TgZ(8,"span",70),n._uU(9,"SITE FIELDS"),n.qZA(),n.TgZ(10,"span",71),n._uU(11),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"div",72),n.TgZ(13,"div",73),n.YNc(14,Ne,10,1,"div",74),n.YNc(15,Be,9,7,"div",75),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"div",76),n.TgZ(17,"div",66),n.TgZ(18,"div",77),n.TgZ(19,"h5",68),n.TgZ(20,"button",78),n.NdJ("click",function(){return n.CHM(e),n.oxw().toggleCollapse3()}),n.TgZ(21,"span",70),n._uU(22,"PAYMENT FIELDS"),n.qZA(),n.TgZ(23,"span",71),n._uU(24),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(25,"div",79),n.TgZ(26,"div",73),n.YNc(27,We,9,7,"div",75),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(28,Xe,12,5,"div",80),n.ALo(29,"lowercase"),n.YNc(30,Zt,24,10,"div",81),n.ALo(31,"lowercase"),n.qZA()}if(2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null!=e.sitestrService.singleresult.SI&&"unsold"!=n.lcZ(2,10,e.sitestrService.singleresult.BookSts)),n.xp6(6),n.uIk("aria-expanded",e.isCollapsed1?"false":"true"),n.xp6(4),n.Oqu(e.isCollapsed2?"+":"-"),n.xp6(3),n.Q6J("ngIf",e.sitestrService.singleresult.ProjectsFields.length>0),n.xp6(1),n.Q6J("ngForOf",e.sitestrService.singleresult.siteTermsForSite),n.xp6(5),n.uIk("aria-expanded",e.isCollapsed1?"false":"true"),n.xp6(4),n.Oqu(e.isCollapsed3?"+":"-"),n.xp6(3),n.Q6J("ngForOf",e.sitestrService.singleresult.siteTermsForpayment),n.xp6(1),n.Q6J("ngIf","unsold"!=n.lcZ(29,12,e.sitestrService.singleresult.BookSts)),n.xp6(2),n.Q6J("ngIf","unsold"!=n.lcZ(31,14,e.sitestrService.singleresult.BookSts))}}function At(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",308),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2);return t.DeleteStructure(2,t.sitestrService.singleresult.UIDN)}),n._uU(1,"Cancel Booking"),n.qZA()}}function Tt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",304),n.YNc(1,At,2,0,"a",305),n.ALo(2,"lowercase"),n.TgZ(3,"button",306),n._uU(4),n.qZA(),n.TgZ(5,"a",307),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n._uU(6,"Cancel"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf","Update Booking"==e.saveText&&"unsold"!=n.lcZ(2,3,e.sitestrService.singleresult.BookSts)&&!e.sitestrService.singleresult.IsFinalBook),n.xp6(2),n.Q6J("hidden",e.IsFinalBooking),n.xp6(1),n.Oqu(e.saveText)}}function bt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"nav",309),n.TgZ(1,"ul",310),n.TgZ(2,"li",311),n.TgZ(3,"button",312),n._uU(4,"Save"),n.qZA(),n.qZA(),n.TgZ(5,"li",313),n.TgZ(6,"a",307),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel()}),n._uU(7,"Cancel"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}function St(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-companyledger-addedit",314),n.NdJ("redirectAction",function(t){return n.CHM(e),n.oxw().popupAction(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("isMobilePopup",!1)("inputLedgerId",e.ledgerIdVal)("CompanyIdforReport",e.sitestrService.getCompanyId)("redirectOnCancel",!1)}}function xt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-channel-partner",315),n.NdJ("redirectActiononChannelist",function(t){return n.CHM(e),n.oxw().ChannelPartnerAdded(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("isMobilePopup",!0)("redirectOnCancelonChannelist",!1)("CompanyIdforReport",e.CompanyIdforReport)("InputChannelPartnerId",e.ChannelPartnerIdVal)}}let Ct=(()=>{class e{constructor(e,t,i,l,c,d,g,u,h){this.sitestrService=e,this.siteservice=t,this.route=i,this.location=l,this.router=c,this.companyledgerservice=d,this.alertService=g,this.userService=u,this.channelPartnerService=h,this.siteTerms=[],this.locationname="",this.sfilter=new r.e,this.paymentTerms=[],this.LoanOcrTerms=[],this.newLoanOcrTerms=new s.j6,this.FieldsList=[],this.isInputTooLong=[],this.Valid=!0,this.isLedgerpopupopen=!1,this.siteStrList=[],this.isList=!0,this._sgId=0,this.isMobilePopup=!1,this.BookingredirectOnCancel=!0,this.CompanyIdforReport=0,this.TaxLedgers=[],this.curAddLedgerLoc=0,this.taxLedger=[],this.TermLoanOCR=[],this.BookingredirectAction=new n.vpe,this.totLoan=0,this.totOCR=0,this.CustomerGroupLedger=[],this.Customers=[],this.showCompanyLedgerpopup=!1,this.OutstndInterstShow=!1,this.bankMaster=[],this.files=[],this.isChannelPartnerpopupopen=!1,this.IsTagView=!1,this.IsAutoCalcAgrAmt=!1,this.IsDynamicPayTrms=!1,this.WantToChangeTrms=!1,this.IsdynamicBooking=!1,this.isCollapsed1=!0,this.isCollapsed2=!0,this.isCollapsed3=!0,this.isCollapsed4=!0,this.isCollapsed5=!0,this.httpfunction=new a.r,this.TotalAgrAmtWithoutGst=0,this.IsFinalBooking=!1,this.saveText="Confirm Booking",this.TotalAgrAmt=0,this.totaltermamount=0,this.SignupId=this.sitestrService.getSignupId,this.CompanyId=this.sitestrService.getCompanyId,this.UserId=this.sitestrService.GetUserId,e.singleresult=new o.T,e.singleresult.SI=null,this.channelPartnerService.singleresult=null,this.sitestrService.singleresult.CI=this.sitestrService.getCompanyId,this.ledSelcted(),this.route.params.subscribe(e=>{null!=e.id&&""!=e.id&&"add"!=e.id.toLowerCase()?this.getData(2,e.id):null!=e.id&&""!=e.id&&"add"==e.id.toLowerCase()&&this.getData(1,0),null!=e.location&&""!=e.location&&("booking"==e.location.toLowerCase()?this.locationname="booking":"ledgerhistory"==e.location.toLowerCase()&&(this.locationname="ledgerhistory"))})}ngOnDestroy(){null!=this.subscription&&this.subscription.unsubscribe()}cancel(){if(this.BookingredirectOnCancel){if(""!=this.httpfunction.getStorage("_filterData")){let t=JSON.parse(this.httpfunction.getStorage("_filterData")).reverse();if(null!=t&&null!=t){var e=t.find(e=>"Daybook"==e.Module||"Outstanding Payable"==e.Module||"Outstanding Receivable"==e.Module);if(null!=e||null!=e)return"Ledger"==e.SearchFilter[0].PageType?void this.router.navigate(["/transactions/ledger"]):"Group"==e.SearchFilter[0].PageType?void this.router.navigate(["/transactions/group"]):"Monthly Summary"==e.SearchFilter[0].PageType?void this.router.navigate(["/reports/monthlysummary/"+e.SearchFilter[0].LedgerId]):"Finalize"==e.SearchFilter[0].PageType?void this.router.navigate(["/transactions/finalize"]):"Restorevoucher"==e.SearchFilter[0].PageType?void this.router.navigate(["/transactions/restorevoucher"]):"Daybook"==e.SearchFilter[0].PageType?void this.router.navigate(["/transactions/daybook"]):"Outstanding Payable"==e.SearchFilter[0].PageType?void this.router.navigate(["/reports/outstandingpayble"]):"Outstanding Receivable"==e.SearchFilter[0].PageType?void this.router.navigate(["/reports/outstandingrecivable"]):this.router.url.toLowerCase().indexOf("bookingform")>=0?void this.router.navigate(["/marketing/bookinglist"]):void this.router.navigate(["/masters/sitestructure"]);this.router.url.toLowerCase().indexOf("bookingform")>=0?this.router.navigate(["/marketing/bookinglist"]):this.router.navigate(["/masters/sitestructure"])}else this.router.url.toLowerCase().indexOf("bookingform")>=0?this.router.navigate(["/marketing/bookinglist"]):this.router.navigate(["/masters/sitestructure"])}}else this.BookingredirectAction.emit(null)}SiteChange(e){this.getData(3,this.sitestrService.singleresult.SI)}getData(e,t){1==e?(this.sfilter.siteid=0,this.sfilter.sitestructureid=0,this.sfilter.action=1):2==e?(this.sfilter.siteid=0,this.sfilter.sitestructureid=t,this.sfilter.action=2):(this.sfilter.siteid=t,this.sfilter.action=3),this.sitestrService.filterArg=this.sfilter,this.sitestrService.GetAllDynamicData().subscribe(e=>{var i,n;if(this.sitestrService.singleresult.IsBookingFromInquiry=!1,this.companyledgerservice.singleresult=this.companyledgerservice.result.filter(e=>e.UIDN==this.sitestrService.singleresult.CusLedgerId)[0],1==this.sfilter.action)this.siteservice.result=e.site,this.sitestrService.singleresult=e.siteStructure,this.sitestrService.singleresult.St=1,this.bankMaster=e.bankdetails,this.channelPartnerService.result=e.channelPartnerMasters;else if(2==this.sfilter.action)this.siteservice.result=e.site,this.sitestrService.singleresult=e.siteStructure,this.userService.singleresult=Object.assign({},this.userService.result.filter(e=>e.UIDN==this.sitestrService.singleresult.SalBy)[0]),this.bankMaster=e.bankdetails,this.channelPartnerService.result=e.channelPartnerMasters,this.OutstndInterstShow=e.site[0].IntrestOnOutstanding,1!=this.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding&&1==e.site[0].IntrestOnOutstanding&&null!=e.site[0].IntrestOnOutstanding&&(this.sitestrService.singleresult.BookingWiseOutstandingIntrestRate=e.site[0].IntrestOutstanding),1==e.siteStructure.IsFinalBook&&(this.IsFinalBooking=e.siteStructure.IsFinalBook),this.saveText="Update Booking",this.SiteStructureId>0&&(this.sitestrService.singleresult.IsBookingFromInquiry=!0,this.sitestrService.singleresult.InqI=this.InquiryId,this.sitestrService.singleresult.BookSts="Sold",this.sitestrService.singleresult.NameOnAgreement=this.CustomerName),this.companyledgerservice.singleresult=this.companyledgerservice.result.filter(e=>e.UIDN==this.sitestrService.singleresult.CusLedgerId)[0],this.files=e.files;else if(3==this.sfilter.action){let i=this.sitestrService.singleresult.BookSts,n=this.sitestrService.singleresult.St;this.sitestrService.singleresult=e.siteStructure,this.channelPartnerService.result=e.channelPartnerMasters,this.sitestrService.singleresult.CI=this.sitestrService.getCompanyId,this.sitestrService.singleresult.SI=t,this.sitestrService.singleresult.BookSts=i,this.sitestrService.singleresult.St=n,this.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding=e.site[0].IntrestOnOutstanding,this.OutstndInterstShow=e.site[0].IntrestOnOutstanding,this.sitestrService.singleresult.BookingWiseOutstandingIntrestRate=e.site[0].IntrestOutstanding}this.siteservice.result.filter(e=>e.UIDN==this.sitestrService.singleresult.SI).length>0&&(this.IsAutoCalcAgrAmt=!!this.siteservice.result.filter(e=>e.UIDN==this.sitestrService.singleresult.SI)[0].IsAutoCalcAgrAmt,this.IsDynamicPayTrms=!!this.siteservice.result.filter(e=>e.UIDN==this.sitestrService.singleresult.SI)[0].IsDynamicpayTrm),this.IsdynamicBooking=null===(n=null===(i=this.sitestrService)||void 0===i?void 0:i.singleresult)||void 0===n?void 0:n.IsDynBookTrm,this.sitestrService.singleresult.siteTermsForCoowner=this.sitestrService.singleresult.siteTerms.filter(e=>"CO_OWNER_FIELD"==e.FType).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)}),this.sitestrService.singleresult.OwnersFields=this.sitestrService.singleresult.siteTerms.filter(e=>"OWNERS_FIELD"==e.FType||"OWNER_FIELD_DROPDOWN"==e.FType).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)});for(let t=0;t<this.sitestrService.singleresult.OwnersFields.length;t++){const e=this.sitestrService.singleresult.OwnersFields[t];"OWNER_FIELD_DROPDOWN"===e.FType&&(e.DropDownValues=e.SiteDropdownVal.split(","))}this.sitestrService.singleresult.ProjectsFields=this.sitestrService.singleresult.siteTerms.filter(e=>"PROJECT_FIELD"==e.FType||"PROJECT_FIELD_DROPDOWN"==e.FType).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)});for(let t=0;t<this.sitestrService.singleresult.ProjectsFields.length;t++){const e=this.sitestrService.singleresult.ProjectsFields[t];"PROJECT_FIELD_DROPDOWN"===e.FType&&(e.DropDownValuess=e.SiteDropdownVal.split(","))}this.sitestrService.singleresult.siteTermsForSite=this.sitestrService.singleresult.siteTerms.filter(e=>"TOTALAREA_FIELD"==e.FType||"RATE_FIELD"==e.FType||"TEXT_FIELD"==e.FType||"DATE_FIELD"==e.FType||"WING_FIELD"==e.FType||"FLATNO_FIELD"==e.FType||"BUILDING_FIELD"==e.FType||"RERA_AREA_FIELD"==e.FType||"DROPDOWN_FIELD"==e.FType).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)});for(let t=0;t<this.sitestrService.singleresult.siteTermsForSite.length;t++){const e=this.sitestrService.singleresult.siteTermsForSite[t];"DROPDOWN_FIELD"===e.FType&&(e.DropDownValuess=e.SiteDropdownVal.split(","))}this.sitestrService.singleresult.siteTermsForpayment=this.sitestrService.singleresult.siteTerms.filter(e=>"AGREEMENT_VALUE"==e.FType||"OTHER_INLUDEAGREEMENT"==e.FType||"OTHER_EXCLUDEAGREEMENT"==e.FType||"OTHER_EXCLUDEAGREEMENT_EXC_GST"==e.FType||"GST_AGREEMENT"==e.FType||"GST_OTHER"==e.FType||"TOTAL_AMOUNT"==e.FType||"BROKERAGE_AMOUNT"==e.FType).sort((e,t)=>parseFloat(e.order)-parseFloat(t.order)).map(e=>{if(null!=e.Value&&""!=e.Value&&null!=e.Value){const t=parseFloat(e.Value).toFixed(2);e.Value=parseFloat(t)==parseInt(t)?parseInt(t):t}return e}),this.sitestrService.singleresult.siteTermsForpayment_IncAgreement=this.sitestrService.singleresult.siteTerms.filter(e=>"OTHER_EXCLUDEAGREEMENT"==e.FType||"OTHER_EXCLUDEAGREEMENT_EXC_GST"==e.FType||"OTHER_INLUDEAGREEMENT"==e.FType||"GST_AGREEMENT"==e.FType||"GST_OTHER"==e.FType).sort((e,t)=>parseFloat(e.order)-parseFloat(t.order)),this.sitestrService.singleresult.siteTermsForLoanOCR=this.sitestrService.singleresult.siteTerms.filter(e=>"AGREEMENT_TERMS"==e.FType&&"GST_AGREEMENT"!=e.FType).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)});for(let t=0;t<this.sitestrService.singleresult.siteTermsForpayment_IncAgreement.length;t++){const e=this.sitestrService.singleresult.siteTermsForpayment_IncAgreement[t];if(null!=e.CommitmentDate||""!=e.CommitmentDate)if("ALLOTMENT_DATE"==e.PayDateType&&null!=this.sitestrService.singleresult.AllotmentDate){var r=moment(this.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),s=moment(r).add(e.PayDays,"days").format("YYYY MM DD");e.CommitmentDate=s}else"TERM_COMPLETED"!=e.PayDateType&&"ESTIMATION_DATE"!=e.PayDateType||null==e.EDt||(r=moment(e.EDt).format("YYYY MM DD"),s=moment(r).add(e.PayDays,"days").format("YYYY MM DD"),e.CommitmentDate=s)}for(let t=0;t<this.sitestrService.singleresult.siteTermsForLoanOCR.length;t++){const e=this.sitestrService.singleresult.siteTermsForLoanOCR[t];null==e.CommitmentDate&&""==e.CommitmentDate||("ALLOTMENT_DATE"==e.PayDateType&&null!=this.sitestrService.singleresult.AllotmentDate?(r=moment(this.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),s=moment(r).add(e.PayDays,"days").format("YYYY MM DD"),e.CommitmentDate=s):"TERM_COMPLETED"!=e.PayDateType&&"ESTIMATION_DATE"!=e.PayDateType||null==e.EDt||(r=moment(e.EDt).format("YYYY MM DD"),s=moment(r).add(e.PayDays,"days").format("YYYY MM DD"),e.CommitmentDate=s))}this.sitestrService.singleresult.siteTerms.filter(e=>"AGREEMENT_VALUE"==e.FType||"OTHER_INLUDEAGREEMENT"==e.FType).forEach(e=>{parseFloat(e.Value)>0&&(this.TotalAgrAmt+=parseFloat(e.Value))}),this.sitestrService.singleresult.siteTermsForLoanOCR.forEach(e=>{parseFloat(e.Value)>0&&(this.totaltermamount+=parseFloat(e.Value))}),this.changeLoan(),this.calculateMaxGridorderAndSet()})}changeLoan(){var e=0;this.sitestrService.singleresult.siteTerms.filter(e=>"AGREEMENT_VALUE"==e.FType||"OTHER_INLUDEAGREEMENT"==e.FType).forEach(t=>{parseFloat(t.Value)>0&&(e+=parseFloat(t.Value))});let t=this.getNumeric(this.sitestrService.singleresult.LoanAmount),i=e-t;if(e>=0&&null!=this.sitestrService.singleresult.siteTermsForLoanOCR&&null!=this.sitestrService.singleresult.siteTermsForLoanOCR&&this.sitestrService.singleresult.siteTermsForLoanOCR.length>0)for(var n=0;n<this.sitestrService.singleresult.siteTermsForLoanOCR.length;n++){let r=this.sitestrService.singleresult.siteTermsForLoanOCR[n];i=parseFloat(i.toFixed(2));let s=0,o=0,l=this.getNumeric(e*r.Prcntge/100);l=parseFloat(l.toFixed(2)),i>0?i>=l?(s=0,o=parseFloat(l.toFixed(2)),i-=l):(o=i,s=l-o,i=0,t-=s):(o=0,s=l,t-=l),this.sitestrService.singleresult.siteTermsForLoanOCR[n].LoanAmt=s,this.sitestrService.singleresult.siteTermsForLoanOCR[n].OCRAmt=o,this.sitestrService.singleresult.siteTermsForLoanOCR[n].Value=l}}isNumeric(e){return null!=e&&/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(e.toString())}getNumeric(e){return this.isNumeric(e)?parseFloat(e):parseFloat("0")}calculateAmountOnOrder(e,t,i){if(null!=e&&this.isNumeric(e)&&null!=t&&this.isNumeric(t)){var n=null;if(1==i&&this.IsAutoCalcAgrAmt){var r=this.sitestrService.singleresult.siteTermsForpayment.filter(e=>"AGREEMENT_VALUE"==e.FieldType);r.length>0&&(t=r[0].Value,n=this.sitestrService.singleresult.siteTermsForpayment.filter(e=>e.FieldValPer==r[0].order))}else n=this.sitestrService.singleresult.siteTermsForpayment.filter(t=>t.FieldValPer==e);for(let e=0;e<n.length;e++){const i=n[e];i.Value=Number(t)*i.Prcntge/100,this.calculateAmountOnOrder(i.order,i.Value,0)}}}onEstimatedDateOCR(e,t){if(null!=e.startDate)this.sitestrService.singleresult.siteTermsForLoanOCR[t].EDt=e.startDate;else{const i="2023-09-20T00:00:00",n=new Date(e),r=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}${i.slice(10)}`;this.sitestrService.singleresult.siteTermsForLoanOCR[t].EDt=r}this.DateGetFromTerms()}onEstimatedDateOCR_IncAgreement(e,t){this.sitestrService.singleresult.siteTermsForpayment_IncAgreement[t].CommitmentDate=e.startDate}onAgreementdateSelect(e){this.sitestrService.singleresult.AgreementDate=e}onAllotmentdateSelect(e){this.sitestrService.singleresult.AllotmentDate=e;for(let n=0;n<this.sitestrService.singleresult.siteTermsForLoanOCR.length;n++){const e=this.sitestrService.singleresult.siteTermsForLoanOCR[n];if("ALLOTMENT_DATE"==e.PayDateType){var t=moment(this.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),i=moment(t).add(e.PayDays,"days").format("YYYY MM DD");e.CommitmentDate=i}}for(let n=0;n<this.sitestrService.singleresult.siteTermsForpayment_IncAgreement.length;n++){const e=this.sitestrService.singleresult.siteTermsForpayment_IncAgreement[n];"ALLOTMENT_DATE"==e.PayDateType&&(t=moment(this.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),i=moment(t).add(e.PayDays,"days").format("YYYY MM DD"),e.CommitmentDate=i)}}onSiteDateSelect(e,t){this.sitestrService.singleresult.siteTermsForSite[t].Value=e.startDate}onSubmit(){if(this.form.valid){if(!("sold"!==this.sitestrService.singleresult.BookSts.toLowerCase()&&"onhold"!==this.sitestrService.singleresult.BookSts.toLowerCase()&&"tenent"!==this.sitestrService.singleresult.BookSts.toLowerCase()&&"member"!==this.sitestrService.singleresult.BookSts.toLowerCase()||1!=this.sitestrService.singleresult.IsSalesEntry||null!=this.sitestrService.singleresult.CusLedgerId&&0!=this.sitestrService.singleresult.CusLedgerId))return void this.alertService.showInfo("Info","Please select customer ledger");if(("sold"===this.sitestrService.singleresult.BookSts.toLowerCase()||"onhold"===this.sitestrService.singleresult.BookSts.toLowerCase()||"tenent"===this.sitestrService.singleresult.BookSts.toLowerCase()||"member"===this.sitestrService.singleresult.BookSts.toLowerCase())&&null==this.sitestrService.singleresult.AllotmentDate)return void this.alertService.showInfo("Info","Please Enter Allotment Date");this.sitestrService.singleresult.SalBy=null!=this.sitestrService.singleresult&&null!=this.sitestrService.singleresult&&null!=this.userService.singleresult?this.userService.singleresult.UIDN:0;let e=this.sitestrService.singleresult.siteTermsForSite.concat(this.sitestrService.singleresult.siteTermsForpayment.filter(e=>"AGREEMENT_VALUE"==e.FType||"TOTAL_AMOUNT"==e.FType||"BROKERAGE_AMOUNT"==e.FType)).concat(this.sitestrService.singleresult.siteTermsForLoanOCR).concat(this.sitestrService.singleresult.siteTermsForpayment_IncAgreement).concat(this.sitestrService.singleresult.siteTermsForCoowner).concat(this.sitestrService.singleresult.OwnersFields).concat(this.sitestrService.singleresult.ProjectsFields);this.sitestrService.singleresult.siteTerms=e;for(let t=0;t<this.sitestrService.singleresult.siteTerms.length;t++){const e=this.sitestrService.singleresult.siteTerms[t];null==e.Value&&(e.Value="")}this.sitestrService.add(this.sitestrService.singleresult).subscribe(e=>{if(""!=e||null!=e)if("0"==e)this.alertService.showInfo("Error","There is some issue while storing data.");else{if(!this.BookingredirectOnCancel&&(""!=e||null!=e)){var t=window.open(e,"_blank");t.focus(),t.print()}this.cancel()}})}}popupAction(e){this.showCompanyLedgerpopup=!1,null!=e&&(this.sitestrService.singleresult.CusLedgerId=e.UIDN,this.Customers=this.Customers.concat(e),this.ledSelcted())}ngOnInit(){this.SiteStructureId>0&&(console.log("this.SiteStructureId"+this.SiteStructureId),this.getData(2,this.SiteStructureId)),this.userService.GetAlldata(),this.companyledgerservice.isGetSubscribe=!0,this.companyledgerservice.GetAlldatawithsub(!0),this.subscription=this.companyledgerservice.resultObs.subscribe(()=>{this.Customers=this.companyledgerservice.result.filter(e=>0==e.IsGrp),this.CustomerGroupLedger=this.companyledgerservice.result.filter(e=>1==e.IsGrp)})}IsTagViews(e){this.IsTagView=e}ChangeAgreementValue(e,t){this.IsAutoCalcAgrAmt&&this.sitestrService.singleresult.siteTerms.filter(e=>"AGREEMENT_VALUE"===e.FType).forEach(e=>{var t,i;const n=parseFloat(null===(t=this.sitestrService.singleresult.siteTerms.find(e=>"RATE_FIELD"===e.FType))||void 0===t?void 0:t.Value)||0,r=parseFloat(null===(i=this.sitestrService.singleresult.siteTerms.find(e=>"RERA_AREA_FIELD"===e.FType))||void 0===i?void 0:i.Value)||0;if(n>=0&&r>=0){const t=(n*r).toString();e.Value=t}})}ChangeTotalAmtValue(e){const t=this.sitestrService.singleresult.siteTermsForpayment,i=t.filter(e=>"TOTAL_AMOUNT"===e.FType);i.length>0&&i.forEach(e=>{const i=e.TtlCal.split(/\+|-/).filter(Boolean),n=e.TtlCal.match(/[-+]/g)||[];let r=0;i.forEach((e,i)=>{const s=t.filter(t=>parseInt(e)===t.order&&"TOTAL_AMOUNT"!==t.FType&&"OTHER_INLUDEAGREEMENT"!==t.FType&&null!==t.Value&&""!==t.Value).reduce((e,t)=>(null!==t.Value&&""!==t.Value&&(e+=parseFloat(t.Value)),e),0);0===i||"+"===n[i-1]?r+=s:"-"===n[i-1]&&(r-=s)}),e.Value=r.toString()})}DynamicTermOption(e){this.WantToChangeTrms=e}AddNewLoanOCRTerm(e){var t,i;"COMPLETION_DATE"==(null===(t=this.sitestrService.singleresult.siteTermsForLoanOCR[0])||void 0===t?void 0:t.PayDateType)&&null==this.newLoanOcrTerms.EDt?this.alertService.showInfo("Info","Please select estimation date"):(this.paymentTerms.filter(e=>e.Trms==this.newLoanOcrTerms.Trms).length>0&&this.alertService.showInfo("Info","You already have "+this.newLoanOcrTerms.Trms+", in your LOAN OCR TERMS list. Please update the record from list instead of adding new."),this.paymentTerms.filter(e=>e.order==this.newLoanOcrTerms.order).length>0&&this.alertService.showInfo("Info","You already have order number:"+this.newLoanOcrTerms.order+", in your LOAN OCR TERMS list. Please update the record from list instead of adding new."),null==this.newLoanOcrTerms.Prcntge&&(this.newLoanOcrTerms.Prcntge=0),this.newLoanOcrTerms.SiteMaster_PK_Id=this.sitestrService.singleresult.SI,this.newLoanOcrTerms.FType="AGREEMENT_TERMS",this.newLoanOcrTerms.FieldType="AGREEMENT_TERMS",this.sitestrService.singleresult.siteTermsForLoanOCR.push(this.newLoanOcrTerms),this.changeLoan(),this.newLoanOcrTerms=new s.j6,this.newLoanOcrTerms.FType="AGREEMENT_TERMS",null===(i=this.formLoanOCR)||void 0===i||i.reset()),this.calculateMaxGridorderAndSet(),this.DateGetFromTerms()}onEstimatedateSelectLoanOCR(e){this.newLoanOcrTerms.EDt=null==e?null:moment(e).format("DD-MM-YYYY")}RemovePaymentTerm(e,t){0==t?this.paymentTerms.splice(e,1):1==t?this.sitestrService.singleresult.siteTermsForLoanOCR.splice(e,1):this.FieldsList.splice(e,1),this.calculateMaxGridorderAndSet()}validateInput(e,t){this.isInputTooLong[t]=e&&e.length>75,e.length>75?(this.Valid=!1,this.alertService.showInfo("Info","Input exceeds 75 characters in Reference")):this.Valid=!0}handleCheckboxChange(){this.alertService.showError("Error","You can't off Add/Edit Terms.")}DeleteStructure(e,t){this.httpfunction.IsMobileview()?this.alertService.showMobileConfirm("Confirm Delete","Are you sure you want to delete this record","No","Delete").then(i=>{null!=i&&1==i.data&&(1==e?this.sitestrService.delete(t).subscribe(e=>{this.siteStrList=this.siteStrList.filter(e=>e.PK_Id!=t)}):this.sitestrService.DeleteBooking(t).subscribe(e=>{this.siteStrList=this.siteStrList.filter(e=>e.PK_Id!=t),this.router.navigate(["/marketing/bookinglist"])}))}):this.alertService.showconfirm("Confirm","Are you sure you want to delete this record",["Yes","No"],null).subscribe(i=>{null!=i&&"Yes"==i.answer&&(1==e?this.sitestrService.delete(t).subscribe(e=>{this.siteStrList=this.siteStrList.filter(e=>e.PK_Id!=t)}):this.sitestrService.DeleteBooking(t).subscribe(e=>{this.siteStrList=this.siteStrList.filter(e=>e.PK_Id!=t),this.router.navigate(["/marketing/bookinglist"])}))})}AssurityFinalizeBooking(){this.httpfunction.IsMobileview()?this.alertService.showMobileConfirm("Confirm Delete","Are you sure you want to finalize this booking? After finalization, you won't be able to edit this booking.","No","Delete").then(e=>{null!=e&&1==e.data&&this.onSubmit()}):this.alertService.showconfirm("Confirm","Are you sure you want to finalize this booking? After finalization, you won't be able to edit this booking.",["Yes","No"],null).subscribe(e=>{null!=e&&"Yes"==e.answer&&this.onSubmit()})}DateGetFromTerms(){for(let i=0;i<this.sitestrService.singleresult.siteTermsForLoanOCR.length;i++){const n=this.sitestrService.singleresult.siteTermsForLoanOCR[i];if(null!=n.CommitmentDate||""!=n.CommitmentDate)if("ALLOTMENT_DATE"==n.PayDateType&&null!=this.sitestrService.singleresult.AllotmentDate){var e=moment(this.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),t=moment(e).add(n.PayDays,"days").format("YYYY MM DD");n.CommitmentDate=t}else"TERM_COMPLETED"!=n.PayDateType&&"ESTIMATION_DATE"!=n.PayDateType||null==n.EDt||(n.EDt.length<=10?(e=moment(n.EDt,"DD-MM-YYYY").format("YYYY MM DD"),t=moment(e).add(n.PayDays,"days").format("YYYY MM DD"),n.CommitmentDate=t):(e=moment(n.EDt).format("YYYY MM DD"),t=moment(e).add(n.PayDays,"days").format("YYYY MM DD"),n.CommitmentDate=t))}}addNewCustomer(e){e.close(),this.showCompanyLedgerpopup=!0}openLedgerPopup(e){return this.ledgerIdVal=e.toString(),this.showCompanyLedgerpopup=!0,!0}ledSelcted(){var e;this.companyledgerservice.singleresult=null,this.companyledgerservice.result=JSON.parse(this.httpfunction.getStorage("_legData"+this.CompanyId+"_"+this.SignupId)),this.companyledgerservice.singleresult=null===(e=this.companyledgerservice.result)||void 0===e?void 0:e.filter(e=>e.UIDN==this.sitestrService.singleresult.CusLedgerId)[0]}toggleCollapse1(){event.preventDefault(),this.isCollapsed1=!this.isCollapsed1}toggleCollapse2(){event.preventDefault(),this.isCollapsed2=!this.isCollapsed2}toggleCollapse3(){event.preventDefault(),this.isCollapsed3=!this.isCollapsed3}toggleCollapse4(){event.preventDefault(),this.isCollapsed4=!this.isCollapsed4}toggleCollapse5(){event.preventDefault(),this.isCollapsed5=!this.isCollapsed5}calculateMaxGridorderAndSet(){const e=Math.max(...this.sitestrService.singleresult.siteTermsForLoanOCR.map(e=>e.order),0);this.newLoanOcrTerms.order=e+1}IsAlredyexistTerm(e,t){const i=null!=t?this.newLoanOcrTerms.Trms:e>=0?this.sitestrService.singleresult.siteTermsForLoanOCR[e].Trms.trim():null;if(null!==i){const n=-1!==this.sitestrService.singleresult.siteTermsForLoanOCR.findIndex((n,r)=>null!=t?n.Trms===i:e>=0&&r!==e&&n.Trms.trim()===i);null!=e&&e>=0?this.sitestrService.singleresult.siteTermsForLoanOCR[e].IsAlreadyExist=n:this.newLoanOcrTerms.IsAlreadyExist=n}}openChannelPartnerPopup(e){return this.ChannelPartnerIdVal="0",e.close(),this.isChannelPartnerpopupopen=!0,this.addurl("masters/ChannelPartner/Add"),this.isList=!1,!0}ChannelPartnerAdded(e){null!=e&&(this.channelPartnerService.GetAlldata(),this.channelPartnerService.result.push(e),this.channelPartnerService.singleresult=e,this.sitestrService.singleresult.CpId=e.UIDN),this.isList=!0,this.resetUrl(),this.isChannelPartnerpopupopen=!1}updateProperty(e,t){this.companyledgerservice.singleresult&&(this.companyledgerservice.singleresult[e]=t)}updateAdharNo(e){this.updateProperty("AdharNo",e)}updateName(e){this.updateProperty("FullNm",e)}updateAddress(e){this.updateProperty("Addr",e)}updateContact(e){this.updateProperty("CNO",e)}updateEmail(e){this.updateProperty("Eml",e)}updatePAN(e){this.updateProperty("PanNo",e)}resetUrl(){this.isList=!0,this.isList=!0;let e=this.router.url;this.route.params.subscribe(t=>{this.isList||null!=t.id&&""!=t.id&&(e=e.replace("/"+t.id,"")),this.location.go(e)}),this._sgId=0}addurl(e){let t=e,i=this.router.url;i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0),this.route.params.subscribe(e=>{null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),this.location.go(`${i}/${t}`)})}onImageAdd(e){this.sitestrService.singleresult.Imgs=[];for(let t=0;t<e.length;t++){let i=new d.Q;i.name=e[t].name,i.operationType=e[t].operationType,i.src=e[t].src,i.src=e[t].src,i.BuildingMaster_PK_Id=e[t].Booking_Pk_Id,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.sitestrService.userid,i.modifyBy=this.sitestrService.userid,i.CompanyId=this.sitestrService.getCompanyId,i.SignupId=this.sitestrService.getSignupId,i.FileLength=null==e[t].PK_Id?e[t].size:e[t].FileLength,i.PK_Id=e[t].PK_Id,this.sitestrService.singleresult.Imgs.push(i)}}ClearUserData(){this.sitestrService.singleresult.CusLedgerId=null,this.sitestrService.singleresult.AllotmentDate=null,this.sitestrService.singleresult.AgreementDate=null,this.sitestrService.singleresult.CpId=null,this.sitestrService.singleresult.OwnersFields=null,this.sitestrService.singleresult.siteTermsForCoowner=null,this.sitestrService.singleresult.ProjectsFields=null,this.sitestrService.singleresult.TokenAmount=null,this.sitestrService.singleresult.LoanAmount=null,this.sitestrService.singleresult.BankLedger=null,this.sitestrService.singleresult.bkStatus=null,this.sitestrService.singleresult.bkStatusReason=null,this.sitestrService.singleresult.IsSalesEntry=null,this.sitestrService.singleresult.IsFinalBook=null,this.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding=null,this.sitestrService.singleresult.BookingWiseOutstandingIntrestRate=null}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(g.l),n.Y36(u.P),n.Y36(h.gz),n.Y36(p.Ye),n.Y36(h.F0),n.Y36(l.Q),n.Y36(m.Rq),n.Y36(c.K),n.Y36(f.W))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-sitestructure-add"]],viewQuery:function(e,t){if(1&e&&(n.Gf(M,7),n.Gf(k,7)),2&e){let e;n.iGM(e=n.CRH())&&(t.formLoanOCR=e.first),n.iGM(e=n.CRH())&&(t.form=e.first)}},inputs:{isMobilePopup:"isMobilePopup",InquiryId:"InquiryId",SiteStructureId:"SiteStructureId",CustomerName:"CustomerName",customerId:"customerId",BookingredirectOnCancel:"BookingredirectOnCancel",CompanyIdforReport:"CompanyIdforReport"},outputs:{BookingredirectAction:"BookingredirectAction"},features:[n._Bn([l.Q,c.K])],decls:67,vars:33,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css","integrity","sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm","crossorigin","anonymous"],[1,"nopadding"],[1,"card","p-2"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],[1,"mt-2","mb-5"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],["id","formContainer"],[1,"row"],["class","input-group bg-danger p-2 text-white",4,"ngIf"],[1,"input-group"],[1,"md-form","col-sm-6","col-md-3"],["for","Site"],[1,"ml-1","text-danger","font-weight-bold","h5"],["name","Site","required","","bindLabel","SN","placeholder","Select Site","bindValue","UIDN",3,"virtualScroll","ngClass","items","ngModel","ngModelChange","change"],["Site","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","Status"],["name","BookStatus","placeholder","Select Status","id","BookStatus","required","",3,"ngClass","ngModel","ngModelChange"],["BookStatus","ngModel"],["value",""],["value","UnSold"],["value","OnHold"],["value","Sold"],["value","Tenent"],["value","Member"],["for","SalesBy"],["selectOnTab","true","placeholder","Select Sales By","name","SalesBy","bindLabel","FN",3,"virtualScroll","ngClass","items","ngModel","loading","ngModelChange","scrollToEnd"],["SalesBy","ngModel"],["ng-header-tmp",""],[1,"form-group","col-sm-6","col-md-1"],[1,"c-switch","c-switch-pill","c-switch-primary"],["type","checkbox",1,"c-switch-input",3,"checked","change"],["inputEl",""],[1,"c-switch-slider"],[1,"form-group","col-md-*","pl-4","ml-2"],["for","CompanyLogo"],["maxFiles","10","maxSize","2","fileExt","JPG, GIF, PNG, PDF, JPEG, DOC, DOCX",3,"filelist","uploadStatus"],["fileUpload",""],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["class","col-sm-12 text-right mt-2","id","formbtnContainer",4,"ngIf"],["class","navbar fixed-bottom navbar-expand-sm navbar-dark bg-light mt-2",4,"ngIf"],[3,"isMobilePopup","inputLedgerId","CompanyIdforReport","redirectOnCancel","redirectAction",4,"ngIf"],[3,"isMobilePopup","redirectOnCancelonChannelist","CompanyIdforReport","InputChannelPartnerId","redirectActiononChannelist",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"text-center","mb-3","LeftLi"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"text-center","mb-2","float-right"],[1,"btn","btn-link",3,"click"],[1,"input-group","bg-danger","p-2","text-white"],[1,"md-form","col-md-12","col-sm-12","text-center","font-weight-bold"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-text","text-muted"],[3,"src","alt"],["id","accordion","class","md-form col-sm-12 col-md-12","id","myAccordion1",4,"ngIf"],["id","accordion","id","myAccordion2",1,"md-form","col-sm-12","col-md-12"],[1,"card","m-0"],["id","heading2",1,"card-header","text-white","bg-primary","pt-1","pb-1"],[1,"mb-0"],["data-toggle","collapse","data-target","#collapse2",1,"btn","btn-link","custom-button",3,"click"],[1,"white-text","text-left"],[1,"white-text","font-weight-bold",2,"font-size","20px"],["id","collapse2","aria-labelledby","heading2","data-parent","#myAccordion2",1,"collapse"],[1,"row","p-2"],["id","accordion","class","md-form col-sm-12 col-md-12 mb-2",4,"ngIf"],["class","md-form col-sm-6 col-md-3",4,"ngFor","ngForOf"],["id","accordion","id","myAccordion3",1,"md-form","col-sm-12","col-md-12"],["id","heading3",1,"card-header","text-white","bg-primary","pt-1","pb-1"],["data-toggle","collapse","data-target","#collapse3",1,"btn","btn-link","custom-button",3,"click"],["id","collapse3","aria-labelledby","heading3","data-parent","#myAccordion3",1,"collapse"],["id","accordion","class","md-form col-sm-12 col-md-12","id","myAccordion4",4,"ngIf"],["id","accordion","class","md-form col-sm-12 col-md-12","id","myAccordion5",4,"ngIf"],["id","accordion","id","myAccordion1",1,"md-form","col-sm-12","col-md-12"],["id","heading1",1,"card-header","text-white","bg-primary","pt-1","pb-1"],["data-toggle","collapse","data-target","#collapse1",1,"btn","btn-link","custom-button",3,"click"],["id","collapse1","aria-labelledby","heading1","data-parent","#myAccordion1",1,"collapse"],["for","custledgename"],["class","small text-primary ml-2",4,"ngIf"],["selectOnTab","true","name","custledgename","bindLabel","LN","bindValue","UIDN","placeholder","Customer Ledger",3,"items","ngModel","loading","ngModelChange","change"],["custledgename",""],["for","AltDate"],["type","text","required","","appDatepicker","","autocomplete","off","name","AltDate","id","AltDate",1,"form-control",3,"ngClass","startDate","selected"],["AltDate",""],["for","AgrDate"],["type","text","required","","appDatepicker","","name","AgrDate","id","AgrDate",1,"form-control",3,"ngClass","startDate","selected"],["AgrDate",""],["for","txtref"],["name","CPart","id","CPart","bindLabel","CP","bindValue","UIDN","placeholder","Select Channel Partner",3,"virtualScroll","items","ngClass","ngModel","loading","scrollToEnd","ngModelChange"],["CPart","ngModel","Chnprt",""],["id","accordion","class","md-form col-sm-12 col-md-12","id","myAccordion",4,"ngIf"],["id","accordion","class","md-form col-sm-12 col-md-12",4,"ngIf"],["for","txtTokenAmount"],["type","text","name","txtTokenAmount","placeholder","Please enter Token/DownPayment Amount","id","txtTokenAmount",1,"form-control",3,"ngModel","ngModelChange"],["txtTokenAmount","ngModel"],["for","txtloanAmount"],["type","text","name","txtloanAmount","placeholder","Please Enter Loan Amount","id","txtloanAmount",1,"form-control",3,"ngModel","ngModelChange","change"],["txtloanAmount","ngModel"],["for","Bankdetail"],["selectOnTab","true","name","Bankdetail","bindLabel","BN","bindValue","UIDN","placeholder","Select Bank",3,"items","ngModel","ngModelChange"],["Bankdetail",""],["for","bkStatus"],["name","bkStatus","id","bkStatus","placeholder","Select Post Book Status",3,"ngModel","ngModelChange"],["bkStatus","ngModel"],["value","Registration Done"],["value","Booking Finalized"],["value","Postpone"],["value","In Progress"],["value","Loan Issue"],["value","Booking Cancelled"],["class","md-form col-md-3 col-sm-6",4,"ngIf"],[1,"md-form","col-sm-6","col-md-2"],["for","txtIsSales"],[1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","id","customSwitch1",1,"c-switch-input",3,"checked","change"],["for","IsFinalBook"],["type","checkbox","id","IsFinalBook",1,"c-switch-input",3,"checked","change"],["for","OutIntrest"],["type","checkbox","id","OutIntrest",1,"c-switch-input",3,"checked","disabled","change"],["class","mt-4",4,"ngIf"],[1,"small","text-primary","ml-2"],["href","javascript:void(0);",1,"addLeg",3,"click"],["ng-label-tmp",""],["ng-option-tmp",""],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["id","accordion","id","myAccordion",1,"md-form","col-sm-12","col-md-12"],["id","CusLedheading1",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#Cuscollapse1","aria-expanded","true","aria-controls","Cuscollapse1","onclick","event.preventDefault();",1,"btn","btn-link"],["id","Cuscollapse1","aria-labelledby","CusLedheading1","data-parent","#myAccordion",1,"collapse"],[1,"card-body"],["for","Aadhar"],["type","text","readonly","true","name","Aadhar","placeholder","Please enter Customer Name","value","Aadhar","id","Aadhar",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Aadhar","ngModel"],["for","txtNameOnAgr"],["type","text","readonly","true","name","txtNameOnAgr","placeholder","Please enter Customer Name","value","txtNameOnAgr","id","txtNameOnAgr",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["txtNameOnAgr","ngModel"],["for","Addr"],["type","text","readonly","true","name","Addr","placeholder","Please enter Full Address","value","Addr","id","Addr",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Addr","ngModel"],["for","CNO"],["type","text","readonly","true","name","CNO","placeholder","Please enter Contact No","value","CNO","id","CNO",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["CNO","ngModel"],["for","Eml"],["type","text","readonly","true","name","Eml","placeholder","Please enter Email","value","","id","Eml",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Eml","ngModel"],["for","PanNo"],["type","text","readonly","true","name","PanNo","placeholder","Please enter PAN","value","","id","PanNo",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["PanNo","ngModel"],["id","accordion",1,"md-form","col-sm-12","col-md-12"],["id","headingOwners",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#Ownerscollaps","aria-expanded","true","aria-controls","Ownerscollaps","onclick","event.preventDefault();",1,"btn","btn-link"],["id","Ownerscollaps","aria-labelledby","headingOwners","data-parent","#Ownerscollaps",1,"collapse"],["class","col-sm-6 col-md-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-3"],[3,"for"],["type","text",1,"form-control",3,"placeholder","ngModel","name","id","ngModelChange"],["termsvaluesown","ngModel"],["bindLabel","$this","bindValue","$this",3,"name","id","items","ngClass","placeholder","ngModel","ngModelChange",4,"ngIf"],["bindLabel","$this","bindValue","$this",3,"name","id","items","ngClass","placeholder","ngModel","ngModelChange"],["termsValuesOwns","ngModel"],["id","headingOwner",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#Ownercollapse2","aria-expanded","true","aria-controls","Ownercollapse2","onclick","event.preventDefault();",1,"btn","btn-link"],["id","Ownercollapse2","aria-labelledby","headingOwner","data-parent","#Ownercollapse2",1,"collapse"],[1,"md-form"],["termsValues","ngModel"],[1,"md-form","col-md-3","col-sm-6"],["for","bkStatusReason"],["autofocus","","name","bkStatusReason","id","bkStatusReason","placeholder","Enter Remarks",1,"md-textarea","form-control",3,"ngClass","ngModel","ngModelChange"],["bkStatusReason","ngModel"],[1,"mt-4"],["for","BookingWiseOutstandingIntrestRate",1,"text-primary"],["type","text","name","BookingWiseOutstandingIntrestRate","placeholder","Please Enter IntestRate","id","BookingWiseOutstandingIntrestRate",1,"form-control",3,"ngModel","ngModelChange"],["BookingWiseOutstandingIntrestRate","ngModel"],["id","accordion",1,"md-form","col-sm-12","col-md-12","mb-2"],["id","headingProject",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#Projectscollaps","aria-expanded","true","aria-controls","Projectscollaps","onclick","event.preventDefault();",1,"btn","btn-link"],["id","Projectscollaps","aria-labelledby","headingProject","data-parent","#Projectscollaps",1,"collapse"],["class","small text-primary",4,"ngIf"],["class","ml-1 text-danger small font-weight-bold h6","style","font-size: 14px;",4,"ngIf"],["type","text","class","form-control",3,"placeholder","ngModel","name","id","ngModelChange","keyup",4,"ngIf"],["class","ml-1 text-danger font-weight-bold h6","style","font-size: 14px;",4,"ngIf"],["type","text","class","form-control","appDatepicker","","autocomplete","off",3,"placeholder","name","id","startDate","selectedindex",4,"ngIf"],[1,"small","text-primary"],[1,"ml-1","text-danger","small","font-weight-bold","h6",2,"font-size","14px"],["type","text",1,"form-control",3,"placeholder","ngModel","name","id","ngModelChange","keyup"],[1,"ml-1","text-danger","font-weight-bold","h6",2,"font-size","14px"],["termsValuesSitFie","ngModel"],["type","text","appDatepicker","","autocomplete","off",1,"form-control",3,"placeholder","name","id","startDate","selectedindex"],["termsValues",""],["type","text","class","form-control",3,"placeholder","ngModel","name","id","keyup","ngModelChange","change",4,"ngIf"],["style","font-size: 8px;","class","text-danger font-weight-bold",4,"ngIf"],["disabled","","type","text","class","form-control",3,"placeholder","ngModel","name","id","ngModelChange","change",4,"ngIf"],["type","text",1,"form-control",3,"placeholder","ngModel","name","id","keyup","ngModelChange","change"],[1,"text-danger","font-weight-bold",2,"font-size","8px"],["disabled","","type","text",1,"form-control",3,"placeholder","ngModel","name","id","ngModelChange","change"],["id","accordion","id","myAccordion4",1,"md-form","col-sm-12","col-md-12"],["id","heading4",1,"card-header","text-white","bg-primary","pt-1","pb-1"],["data-toggle","collapse","data-target","#collapse4",1,"btn","btn-link","custom-button",3,"click"],["id","collapse4","aria-labelledby","heading4","data-parent","#myAccordion4",1,"collapse"],["class","col-sm-12 col-md-12 table-responsive",4,"ngIf"],[1,"col-sm-12","col-md-12","table-responsive"],[1,"table-sm","table","table-striped","col-sm-12","col-md-12",2,"margin-bottom","40px"],[1,"grey","lighten-1","text-black","font-weight-bold"],["type","text","placeholder","Enter Total amount",1,"form-control",3,"ngModel","name","id","ngModelChange"],["termsValues_Agr","ngModel"],["type","text","appDatepicker","","required","",1,"form-control",3,"startDate","name","id","selectedindex"],["CompDate_Agr",""],["id","accordion","id","myAccordion5",1,"md-form","col-sm-12","col-md-12"],["id","heading5",1,"card-header","text-white","bg-primary","pt-1","pb-1"],["data-toggle","collapse","data-target","#collapse5",1,"btn","btn-link","custom-button",3,"click"],["id","collapse5","aria-labelledby","heading5","data-parent","#myAccordion5",1,"collapse"],["id","accordion",1,"mt-4","md-form","col-sm-12","col-md-12"],["id","headingDyTerms",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#DyTerms","aria-expanded","true","aria-controls","DyTerms","onclick","event.preventDefault();",1,"btn","btn-link"],["id","DyTerms","aria-labelledby","headingDyTerms","data-parent","#DyTerms",1,"collapse"],["class","form-group col",4,"ngIf"],["name","formLoanOCR","novalidate","",3,"ngSubmit",4,"ngIf"],["class","table-responsive m-2",4,"ngIf"],["class","mt-3 col-sm-12 col-md-12 table-responsive",4,"ngIf"],[1,"form-group","col"],["for","IsDynBookTrm"],["class","ml-1 text-danger font-weight-bold h5",4,"ngIf"],["type","checkbox","id","IsDynBookTrm",1,"c-switch-input",3,"checked","disabled","change"],["name","formLoanOCR","novalidate","",3,"ngSubmit"],["Termform","ngForm"],[1,"md-form","col-md-2","col-sm-6"],["for","orforsite1",1,"mr-2"],["type","number","placeholder","Enter Order","name","orforsite1","id","orforsite1","disabled","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["orforsite1","ngModel"],["for","termsfrsite1",1,"mr-2"],["type","text","placeholder","Enter Terms","name","termsforsite1","id","termsfrsite1",1,"form-control",3,"ngClass","ngModel","ngModelChange","change"],["termsforsite1","ngModel"],["for","perGST1",1,"mr-2"],["type","number","placeholder","Enter Percentage","required","","name","perGST1","id","perGST1",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["perGST1","ngModel"],[1,"md-form","col-md-2","col-sm-3"],["for","payDateType1",1,"mr-2"],["name","payDateType1","required","","placeholder","Payment Date Type",3,"ngClass","ngModel","ngModelChange"],["payDateType1","ngModel"],["value","ALLOTMENT_DATE"],["value","ESTIMATION_DATE"],["value","TERM_COMPLETED"],["class","md-form col-md-2 col-sm-3",4,"ngIf"],["for","PayDays1",1,"mr-2"],["type","number","placeholder","Enter Days","required","","name","PayDays1","id","PayDays1",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["PayDays1","ngModel"],["for","orref1",1,"mr-2"],["type","text","placeholder","Enter Reference Name","required","","name","orref1","id","orref1",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["orref1","ngModel"],["for","Tokenfr1site",1,"mr-2"],["type","text","placeholder","Enter Token","name","Tokenfr1site","id","Tokenfr1site","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Tokenfr1site","ngModel"],["type","submit",1,"btn","btn-primary","mt-4"],["for","Estdate1",1,"mr-2"],["type","text","placeholder","Select Estimated Date","aria-colspan","form-control","required","","appDatepicker","","autocomplete","off","autocomplete","none","name","EDt","id","Estdate1",1,"form-control",3,"ngClass","ngModel","startDate","selected","ngModelChange"],["EDt","ngModel"],[1,"table-responsive","m-2"],[1,"table","table-bordered"],["colspan","12"],[2,"min-width","50px"],[2,"min-width","250px"],[2,"min-width","75px"],[2,"min-width","130px"],["type","number","name","txtOrder","id","txtOrder",1,"form-control",3,"ngModel","name","ngModelChange"],["txtOrder",""],["type","text",1,"form-control","minWidth",3,"ngClass","ngModel","name","id","ngModelChange","change"],["pterms","ngModel"],["type","number",1,"form-control",3,"ngModel","name","id","ngModelChange","change"],["txtperc11",""],["placeholder","Payment Date Type",3,"name","ngModel","ngModelChange"],["PDateType11","ngModel"],["class","md-form",4,"ngIf"],["type","number",1,"form-control",3,"ngModel","name","id","change","ngModelChange"],["txtPayDays11",""],["type","text",1,"form-control",3,"ngModel","name","id","input","ngModelChange"],["txtRef11",""],["class","text-danger font-weight-bold",4,"ngIf"],["type","text",1,"form-control",3,"ngModel","name","id","ngModelChange"],["txtRef12",""],["href","javascript:void(0)",3,"click"],["autocomplete","off","autofocus","","type","text","appDatepicker","","required","","placeholder","Select Date",1,"form-control","datecontrol",3,"ngClass","startDate","name","id","selected"],["Estimateddate11",""],[1,"text-danger","font-weight-bold"],[1,"mt-3","col-sm-12","col-md-12","table-responsive"],[1,"table-sm","table","table-bordered","table-striped","col-sm-12","col-md-12",2,"margin-bottom","40px"],["type","text","placeholder","Enter Total amount",1,"form-control",3,"readonly","ngModel","name","id","ngModelChange"],["termsValues_OCR","ngModel"],["type","text","placeholder","Enter OCR","class","form-control",3,"readonly","ngModel","name","id","ngModelChange",4,"ngIf"],["type","text","placeholder","Enter Loan Amount","class","form-control",3,"readonly","ngModel","name","id","ngModelChange",4,"ngIf"],["type","text","appDatepicker","","required","","name","term_115{i}}","id","term_115{i}}",1,"form-control",3,"disabled","startDate","selectedindex"],["CompDate_OCR",""],["type","text","placeholder","Enter OCR",1,"form-control",3,"readonly","ngModel","name","id","ngModelChange"],["type","text","placeholder","Enter Loan Amount",1,"form-control",3,"readonly","ngModel","name","id","ngModelChange"],["termsValues_Loan","ngModel"],["id","formbtnContainer",1,"col-sm-12","text-right","mt-2"],["href","javascript:void(0)","class","btn btn-danger mr-1",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","mr-1",3,"hidden"],["href","javascript:void(0)",1,"btn","btn-dark",3,"click"],["href","javascript:void(0)",1,"btn","btn-danger","mr-1",3,"click"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light","mt-2"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary"],[1,"nav-item","active","mr-2"],[3,"isMobilePopup","inputLedgerId","CompanyIdforReport","redirectOnCancel","redirectAction"],[3,"isMobilePopup","redirectOnCancelonChannelist","CompanyIdforReport","InputChannelPartnerId","redirectActiononChannelist"]],template:function(e,t){if(1&e){const e=n.EpF();n._UZ(0,"link",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.YNc(3,N,10,0,"div",3),n.YNc(4,y,12,0,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"form",6,7),n.NdJ("ngSubmit",function(){n.CHM(e);const i=n.MAs(7);return t.sitestrService.singleresult.IsFinalBook?i.form.valid&&t.AssurityFinalizeBooking():i.form.valid&&t.onSubmit()}),n.ynx(8,8),n.TgZ(9,"div",9),n.YNc(10,w,3,0,"div",10),n.TgZ(11,"div",11),n.TgZ(12,"div",12),n.TgZ(13,"label",13),n._uU(14,"Site"),n.TgZ(15,"span",14),n._uU(16,"*"),n.qZA(),n.qZA(),n.TgZ(17,"ng-select",15,16),n.NdJ("ngModelChange",function(e){return t.sitestrService.singleresult.SI=e})("change",function(e){return t.sitestrService.singleresult.SI>0&&t.SiteChange(e)}),n.qZA(),n.YNc(19,D,2,1,"div",17),n.qZA(),n.TgZ(20,"div",12),n.TgZ(21,"label",18),n._uU(22,"Status"),n.TgZ(23,"span",14),n._uU(24,"*"),n.qZA(),n.qZA(),n.TgZ(25,"ng-select",19,20),n.NdJ("ngModelChange",function(e){return t.sitestrService.singleresult.BookSts=e}),n.TgZ(27,"ng-option",21),n._uU(28,"Select Booking Status"),n.qZA(),n.TgZ(29,"ng-option",22),n._uU(30,"UnSold"),n.qZA(),n.TgZ(31,"ng-option",23),n._uU(32,"OnHold"),n.qZA(),n.TgZ(33,"ng-option",24),n._uU(34,"Sold"),n.qZA(),n.TgZ(35,"ng-option",25),n._uU(36,"Tenent"),n.qZA(),n.TgZ(37,"ng-option",26),n._uU(38,"Member"),n.qZA(),n.qZA(),n.YNc(39,U,2,1,"div",17),n.qZA(),n.TgZ(40,"div",12),n.TgZ(41,"label",27),n._uU(42,"Sales By"),n.qZA(),n.TgZ(43,"ng-select",28,29),n.NdJ("ngModelChange",function(e){return t.userService.singleresult=e})("scrollToEnd",function(){return t.userService.ScrollDown()}),n.YNc(45,O,2,2,"ng-template",30),n.qZA(),n.YNc(46,J,2,1,"div",17),n.qZA(),n.TgZ(47,"div",31),n.TgZ(48,"strong",18),n._uU(49,"Is TagView"),n.qZA(),n.TgZ(50,"div"),n.TgZ(51,"label",32),n.TgZ(52,"input",33,34),n.NdJ("change",function(){n.CHM(e);const i=n.MAs(53);return t.IsTagViews(i.checked)}),n.qZA(),n._UZ(54,"span",35),n.qZA(),n.qZA(),n.qZA(),n.TgZ(55,"div",36),n.TgZ(56,"label",37),n._uU(57,"Image"),n.qZA(),n.TgZ(58,"div",11),n.TgZ(59,"app-file-upload",38,39),n.NdJ("uploadStatus",function(e){return t.onImageAdd(e)}),n.YNc(61,L,2,2,"ng-container",40),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(62,vt,32,16,"div",41),n.BQk(),n.YNc(63,Tt,7,5,"div",42),n.YNc(64,bt,8,0,"nav",43),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(65,St,1,4,"app-companyledger-addedit",44),n.YNc(66,xt,1,4,"app-channel-partner",45)}if(2&e){const e=n.MAs(7),i=n.MAs(18),r=n.MAs(26),s=n.MAs(44);n.xp6(1),n.Udp("display",t.showCompanyLedgerpopup||t.isChannelPartnerpopupopen?"none":"block"),n.xp6(2),n.Q6J("ngIf",!t.sitestrService.isMobile),n.xp6(1),n.Q6J("ngIf",t.sitestrService.isMobile),n.xp6(6),n.Q6J("ngIf",t.IsFinalBooking),n.xp6(7),n.Q6J("virtualScroll",!0)("ngClass",n.VKq(27,oe,e.submitted&&i.invalid))("items",t.siteservice.result)("ngModel",t.sitestrService.singleresult.SI),n.xp6(2),n.Q6J("ngIf",e.submitted&&i.invalid),n.xp6(6),n.Q6J("ngClass",n.VKq(29,oe,e.submitted&&r.invalid))("ngModel",t.sitestrService.singleresult.BookSts),n.xp6(14),n.Q6J("ngIf",e.submitted&&r.invalid),n.xp6(4),n.Q6J("virtualScroll",!0)("ngClass",n.VKq(31,oe,e.submitted&&s.invalid))("items",t.userService.result)("ngModel",t.userService.singleresult)("loading",t.userService.loading),n.xp6(3),n.Q6J("ngIf",e.submitted&&s.invalid),n.xp6(6),n.Q6J("checked",1==t.IsTagView),n.xp6(7),n.Q6J("filelist",t.files),n.xp6(2),n.Q6J("ngForOf",t.files),n.xp6(1),n.Q6J("ngIf",null!=t.sitestrService.singleresult.SI),n.xp6(1),n.Q6J("ngIf",!t.sitestrService.isMobile),n.xp6(1),n.Q6J("ngIf",t.sitestrService.isMobile),n.xp6(1),n.Q6J("ngIf",t.showCompanyLedgerpopup),n.xp6(1),n.Q6J("ngIf",t.isChannelPartnerpopupopen)}},directives:[p.O5,Z._Y,Z.JL,Z.F,v.u,A.w9,Z.Q7,p.mk,Z.JJ,Z.On,T.x,A.xv,A.A3,b.Y,p.sg,S.gu,x.q,Z.Fj,A.bb,A.Z2,C.g,Z.wV,I.k,q.p],pipes:[p.i8,p.JJ],styles:[".white-text[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.custom-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:left}.custom-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:right}"]}),e})()},60181:function(e,t,i){i.d(t,{d:function(){return xn}});var n=i(64762),r=i(33018),s=i(14254),o=i(3306),l=i(40411),a=i(82316),c=i(32364),d=i(27541),g=i(24498),u=i(41895),h=i(78980),p=i(89525),m=i(92859),f=i(39302),Z=i(89401),v=i(12868),A=i(39478),T=i(44667),b=i(38583),S=i(43647),x=i(3679),C=i(6642),I=i(58679),q=i(66496),M=i(85895),k=i(10743),N=i(87520),y=i(21974),w=i(37919),_=i(48429),D=i(91113),P=i(25575),U=i(62411),O=i(66203),E=i(85121),J=i(61362);class L extends J.X{constructor(){super(...arguments),this.IsDoccharge=!1,this.Ismainchrge=!1,this.Isothchar=!1,this.agrval=0,this.FltCst=0,this.agrledId=null,this.GSTLedId=null,this.StmpLedId=null,this.docledId=null,this.MaintledId=null,this.Othval=0,this.OthLedId=null,this.BankId=null,this.BankName="",this.LoanAmt=0,this.p_Terms=[],this.BkNoc="",this.AgreementLetter="",this.AllotmentLetter="",this.RegNo="",this.TtlAmt=0,this.ISFAgree=!1,this.IsDueDt=!1,this.IsSJ=!0,this.rcvAmt=0,this.DemandLetter="",this.OtherGSTLedId=null,this.carParkingLedId=null,this.buildingProtectionLedId=null,this.addCoOwner=!1}}class F{constructor(){this.OCRsplit=!1,this.spitOfIndex=-1,this.PaytpId=""}}var Q=i(78446),R=i(91841),B=i(86845);let Y=(()=>{class e extends Q.a{constructor(e,t,i,n){super(e,t,i,n),this._config=t}GetAlldata(){super.GetAlldata(c.IH.BookingForm_GetAll)}getById(e){return super.getById(e,c.IH.BookingForm_GetById)}Update(e){return super.edit(e,c.IH.BookingForm_Update)}GenerateDemand(e,t,i,n){return super.getById(e+"/"+t+"/"+i+"/"+n,c.IH.BookingForm_GenerateDemand)}add(e){return super.add(e,c.IH.BookingForm_Add)}directDelete(e,t){return super.directDelete(e,c.IH.BookingForm_Delete,t,!1)}GenerateNOC(e,t,i){return super.getById(e+"/"+t+"/"+i,c.IH.BookingForm_GenerateNOC)}GenerateAgreement(e,t,i){return super.getById(e+"/"+t+"/"+i,c.IH.BookingForm_GenerateAgreement)}AddImage(e,t){return super.changeInquirySite(0,t,e,c.IH.BookingForm_AddImageDocument)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(R.eN),r.LFG(c.De),r.LFG(Z.Rq),r.LFG(B.D))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var G=i(57475),H=i(7638),V=i(63713),K=i(27317),W=i(2499),j=i(3001),z=i(12366),X=i(11661),ee=i(3359);const te=["txtNameOnAgreement"],ie=["f"];function ne(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",189),r.TgZ(1,"ul",190),r.TgZ(2,"li",191),r.TgZ(3,"button",192),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancel()}),r._UZ(4,"i",193),r.qZA(),r.qZA(),r.TgZ(5,"li",194),r.TgZ(6,"strong"),r._uU(7,"Booking"),r.qZA(),r.TgZ(8,"small"),r._uU(9," Add/Edit"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function re(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",195),r.TgZ(1,"ul",190),r.TgZ(2,"li",196),r.TgZ(3,"ion-icon",197),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancel()}),r.qZA(),r.qZA(),r.TgZ(4,"li",198),r.TgZ(5,"strong"),r._uU(6,"Booking"),r.qZA(),r.TgZ(7,"small"),r._uU(8," Add/Edit"),r.qZA(),r.qZA(),r.TgZ(9,"a",199),r.NdJ("click",function(t){return r.CHM(e),r.oxw(),r.MAs(5).onSubmit(t)}),r.TgZ(10,"span"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(11),r.Oqu(e.saveText)}}function se(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Aggrement Name is required"),r.qZA())}function oe(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,se,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(39);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function le(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"small",201),r.TgZ(1,"a",202),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(),i=r.MAs(45);return t.addNewCustomer(i)}),r._uU(2," Add New Customer "),r.qZA(),r.qZA()}}function ae(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Required"),r.qZA())}function ce(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,ae,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(51);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function de(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Required"),r.qZA())}function ge(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,de,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(57);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function ue(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Required"),r.qZA())}function he(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Invalid PAN number "),r.qZA())}function pe(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,ue,2,0,"div",163),r.YNc(2,he,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(63);r.xp6(1),r.Q6J("ngIf",e.errors.required),r.xp6(1),r.Q6J("ngIf",e.hasError("pattern"))}}function me(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Required"),r.qZA())}function fe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Invalid Aadhar number "),r.qZA())}function Ze(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,me,2,0,"div",163),r.YNc(2,fe,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(69);r.xp6(1),r.Q6J("ngIf",e.errors.required),r.xp6(1),r.Q6J("ngIf",e.hasError("pattern"))}}function ve(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter date"),r.qZA())}function Ae(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,ve,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(75);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Te(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter referance"),r.qZA())}function be(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,Te,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(81);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Se(e,t){if(1&e&&(r.TgZ(0,"small",201),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.AsE(" Loaded ",e.emailtemp.result.length," of ",e.emailtemp.totalItems," ")}}function xe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter rera area"),r.qZA())}function Ce(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,xe,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(110);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Ie(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter Sale area"),r.qZA())}function qe(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Ie,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(114);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Me(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter base rate"),r.qZA())}function ke(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Me,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(118);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Ne(e,t){1&e&&r._UZ(0,"div",203)}function ye(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function we(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,ye,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(136);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function _e(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function De(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,_e,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(145);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Pe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function Ue(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Pe,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(157);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Oe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function Ee(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Oe,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(169);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Je(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function Le(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Je,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(175);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Fe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter value"),r.qZA())}function Qe(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Fe,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(181);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Re(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter value"),r.qZA())}function Be(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Re,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(187);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Ye(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter value"),r.qZA())}function Ge(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Ye,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(193);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function He(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function Ve(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,He,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(199);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Ke(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function $e(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,Ke,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(205);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function We(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function je(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,We,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(211);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function ze(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter val"),r.qZA())}function Xe(e,t){if(1&e&&(r.TgZ(0,"div",203),r.YNc(1,ze,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(217);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function et(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please select agreement Ledger "),r.qZA())}function tt(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,et,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(229);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function it(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter Ledger"),r.qZA())}function nt(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,it,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(237);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function rt(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please select field"),r.qZA())}function st(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,rt,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(245);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function ot(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please select field"),r.qZA())}function lt(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,ot,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(245);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function at(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please select field"),r.qZA())}function ct(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,at,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(245);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function dt(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please select field"),r.qZA())}function gt(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,dt,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(245);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function ut(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please select field"),r.qZA())}function ht(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,ut,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(277);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function pt(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please select Bank"),r.qZA())}function mt(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,pt,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(285);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}const ft=function(e){return{"is-invalid":e}};function Zt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",212,213),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.AmtVal=t}),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw(),i=t.index,n=t.$implicit;r.oxw(2);const s=r.MAs(5);r.MGl("name","Amount__",i,""),r.MGl("id","amunttxt__",i,""),r.Q6J("ngClass",r.VKq(4,ft,s.submitted&&e.invalid))("ngModel",n.AmtVal)}}function vt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",214,215),r.NdJ("selectedindex",function(t){r.CHM(e);const i=r.oxw().index;return r.oxw(2).onDueDchkDateSelect(t,i)}),r.ALo(2,"date"),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw(),i=t.index,n=t.$implicit,s=r.oxw(2),o=r.MAs(5);r.MGl("name","DueD__",i,""),r.MGl("id","DueD__",i,""),r.Q6J("ngClass",r.VKq(8,ft,o.submitted&&e.invalid))("ngModel",r.xi3(2,5,n.DueD,"dd-MM-yyyy"))("required",n.AmtVal>0&&1==s.bookingservice.singleresult.IsCommdate)}}function At(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",216,217),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.OCRAmtVal=t}),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw(),i=t.index,n=t.$implicit;r.oxw(2);const s=r.MAs(5);r.MGl("name","OCRAmount__",i,""),r.MGl("id","OCRamunttxt__",i,""),r.Q6J("disabled",1==n.OCRsplit)("ngClass",r.VKq(5,ft,s.submitted&&e.invalid))("ngModel",n.OCRAmtVal)}}function Tt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",218,219),r.NdJ("selectedindex",function(t){r.CHM(e);const i=r.oxw().index;return r.oxw(2).onOCRDuechkDateSelect(t,i)}),r.ALo(2,"date"),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw(),i=t.index,n=t.$implicit,s=r.oxw(2),o=r.MAs(5);r.MGl("name","OCRDueD__",i,""),r.MGl("id","OCRDueD__",i,""),r.Q6J("ngClass",r.VKq(8,ft,o.submitted&&e.invalid))("ngModel",r.xi3(2,5,n.OCRDueD,"dd-MM-yyyy"))("required",n.OCRAmtVal>0&&0==n.OCRsplit&&1==s.bookingservice.singleresult.IsCommdate)}}function bt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",220),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(),i=t.$implicit,n=t.index;return r.oxw(2).addSplitPaymentTerm(i.index,n)}),r._uU(1," Split Amount "),r.qZA()}}function St(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",221),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(2).removePaymentTerm(t.index)}),r._uU(1," Delete "),r.qZA()}}function xt(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"tr"),r.TgZ(2,"td"),r._uU(3),r.qZA(),r.TgZ(4,"td",204),r.YNc(5,Zt,2,6,"input",205),r.qZA(),r.TgZ(6,"td",204),r.YNc(7,vt,3,10,"input",206),r.qZA(),r.TgZ(8,"td",204),r.YNc(9,At,2,7,"input",207),r.qZA(),r.TgZ(10,"td",208),r.YNc(11,Tt,3,10,"input",209),r.qZA(),r.TgZ(12,"td"),r.YNc(13,bt,2,0,"a",210),r.YNc(14,St,2,0,"a",211),r.qZA(),r.qZA(),r.BQk()),2&e){const e=t.$implicit,i=r.oxw(2);r.xp6(1),r.ekj("bg-gray-300",e.OCRsplit||-1!=e.spitOfIndex),r.xp6(2),r.Oqu(e.Nurr),r.xp6(2),r.Q6J("ngIf",-1==e.spitOfIndex),r.xp6(2),r.Q6J("ngIf",-1==e.spitOfIndex&&1==i.bookingservice.singleresult.IsCommdate),r.xp6(2),r.Q6J("ngIf","LOAN-OCR"==e.PaytpId),r.xp6(2),r.Q6J("ngIf",0==e.OCRsplit&&"LOAN-OCR"==e.PaytpId&&1==i.bookingservice.singleresult.IsCommdate),r.xp6(2),r.Q6J("ngIf",-1==e.spitOfIndex&&"LOAN-OCR"==e.PaytpId),r.xp6(1),r.Q6J("ngIf","LOAN-OCR"==e.PaytpId)}}function Ct(e,t){if(1&e&&(r.ynx(0),r.YNc(1,xt,15,9,"ng-container",165),r.BQk()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.bookingservice.singleresult.p_Terms)("ngForTrackBy",e.indexTracker)}}function It(e,t){if(1&e&&(r.TgZ(0,"div",222),r._uU(1,"TOTAL "),r.TgZ(2,"b"),r._uU(3),r.qZA(),r._uU(4," WORK COMPLETED, RECEIVABLE OCR AMOUNT IS: "),r.TgZ(5,"b"),r._uU(6),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.hij("",e.cmWrkPr,"%"),r.xp6(3),r.Oqu(e.DueAmtcmWrkPr)}}function qt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",212,213),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.AmtVal=t}),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw(2),i=t.index,n=t.$implicit;r.oxw();const s=r.MAs(5);r.MGl("name","Amount__",i,""),r.MGl("id","amunttxt__",i,""),r.Q6J("ngClass",r.VKq(4,ft,s.submitted&&e.invalid))("ngModel",n.AmtVal)}}function Mt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",214,215),r.NdJ("selectedindex",function(t){r.CHM(e);const i=r.oxw(2).index;return r.oxw().onDueDchkDateSelect(t,i)}),r.ALo(2,"date"),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw(2),i=t.index,n=t.$implicit,s=r.oxw(),o=r.MAs(5);r.MGl("name","DueD__",i,""),r.MGl("id","DueD__",i,""),r.Q6J("ngClass",r.VKq(8,ft,o.submitted&&e.invalid))("ngModel",r.xi3(2,5,n.DueD,"dd-MM-yyyy"))("required",n.AmtVal>0&&1==s.bookingservice.singleresult.IsCommdate)}}function kt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",216,217),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.OCRAmtVal=t}),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw(2),i=t.index,n=t.$implicit;r.oxw();const s=r.MAs(5);r.MGl("name","OCRAmount__",i,""),r.MGl("id","OCRamunttxt__",i,""),r.Q6J("disabled",1==n.OCRsplit)("ngClass",r.VKq(5,ft,s.submitted&&e.invalid))("ngModel",n.OCRAmtVal)}}function Nt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",218,219),r.NdJ("selectedindex",function(t){r.CHM(e);const i=r.oxw(2).index;return r.oxw().onOCRDuechkDateSelect(t,i)}),r.ALo(2,"date"),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw(2),i=t.index,n=t.$implicit,s=r.oxw(),o=r.MAs(5);r.MGl("name","OCRDueD__",i,""),r.MGl("id","OCRDueD__",i,""),r.Q6J("ngClass",r.VKq(8,ft,o.submitted&&e.invalid))("ngModel",r.xi3(2,5,n.OCRDueD,"dd-MM-yyyy"))("required",n.OCRAmtVal>0&&0==n.OCRsplit&&1==s.bookingservice.singleresult.IsCommdate)}}function yt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",220),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2),i=t.$implicit,n=t.index;return r.oxw().addSplitPaymentTerm(i.index,n)}),r._uU(1," Split Amount "),r.qZA()}}function wt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",221),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw().removePaymentTerm(t.index)}),r._uU(1," Delete "),r.qZA()}}function _t(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"tr"),r.TgZ(2,"td"),r._uU(3),r.qZA(),r.TgZ(4,"td",204),r.YNc(5,qt,2,6,"input",205),r.qZA(),r.TgZ(6,"td",204),r.YNc(7,Mt,3,10,"input",206),r.qZA(),r.TgZ(8,"td",204),r.YNc(9,kt,2,7,"input",207),r.qZA(),r.TgZ(10,"td",208),r.YNc(11,Nt,3,10,"input",209),r.qZA(),r.TgZ(12,"td"),r.YNc(13,yt,2,0,"a",210),r.YNc(14,wt,2,0,"a",211),r.qZA(),r.qZA(),r.BQk()),2&e){const e=r.oxw().$implicit,t=r.oxw();r.xp6(1),r.ekj("bg-gray-300",e.OCRsplit||-1!=e.spitOfIndex),r.xp6(2),r.Oqu(e.Nurr),r.xp6(2),r.Q6J("ngIf",-1==e.spitOfIndex),r.xp6(2),r.Q6J("ngIf",-1==e.spitOfIndex&&1==t.bookingservice.singleresult.IsCommdate),r.xp6(2),r.Q6J("ngIf","LOAN-OCR"==e.PaytpId),r.xp6(2),r.Q6J("ngIf",0==e.OCRsplit&&"LOAN-OCR"==e.PaytpId&&1==t.bookingservice.singleresult.IsCommdate),r.xp6(2),r.Q6J("ngIf",-1==e.spitOfIndex&&"LOAN-OCR"==e.PaytpId),r.xp6(1),r.Q6J("ngIf","LOAN-OCR"==e.PaytpId)}}function Dt(e,t){if(1&e&&(r.ynx(0),r.YNc(1,_t,15,9,"ng-container",163),r.BQk()),2&e){const e=t.$implicit,i=r.oxw();r.xp6(1),r.Q6J("ngIf",1==i.bookingservice.singleresult.IsDueDt&&0==e.flag&&"LOAN-OCR"==e.PaytpId)}}function Pt(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter Nurration"),r.qZA())}function Ut(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,Pt,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(344);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Ot(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please select payment type"),r.qZA())}function Et(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,Ot,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(350);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Jt(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter amount"),r.qZA())}function Lt(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,Jt,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(360);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Ft(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter duedate."),r.qZA())}function Qt(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,Ft,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(366);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Rt(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter amount"),r.qZA())}function Bt(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,Rt,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(5);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Yt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",223),r.TgZ(1,"label",126),r._uU(2,"OCR Amount:"),r.qZA(),r.TgZ(3,"div",224),r.TgZ(4,"input",225,226),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().Terms.OCRAmtVal=t}),r.qZA(),r.YNc(6,Bt,2,1,"div",22),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(),i=r.MAs(5);r.xp6(4),r.Q6J("ngClass",r.VKq(3,ft,i.submitted&&e.invalid))("ngModel",t.Terms.OCRAmtVal),r.xp6(2),r.Q6J("ngIf",e.invalid)}}function Gt(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter duedate."),r.qZA())}function Ht(e,t){if(1&e&&(r.TgZ(0,"div",200),r.YNc(1,Gt,2,0,"div",163),r.qZA()),2&e){r.oxw();const e=r.MAs(5);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Vt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",223),r.TgZ(1,"label",126),r._uU(2,"OCR Duedate:"),r.qZA(),r.TgZ(3,"div",224),r.TgZ(4,"input",227,228),r.NdJ("selected",function(t){return r.CHM(e),r.oxw().onOCRDuedateSelect(t)}),r.qZA(),r.YNc(6,Ht,2,1,"div",22),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(),i=r.MAs(5);r.xp6(4),r.Q6J("ngClass",r.VKq(3,ft,i.submitted&&e.invalid))("startDate",t.Terms.OCRDueD),r.xp6(2),r.Q6J("ngIf",e.invalid)}}function Kt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",229),r.TgZ(1,"button",230),r._uU(2),r.qZA(),r.TgZ(3,"a",231),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancel()}),r._uU(4,"Cancel"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.saveText)}}function $t(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"nav",232),r.TgZ(1,"ul",233),r.TgZ(2,"li",234),r.TgZ(3,"button",235),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"li",236),r.TgZ(6,"a",231),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancel()}),r._uU(7,"Cancel"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Oqu(e.saveText)}}function Wt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"app-companyledger-addedit",237),r.NdJ("redirectAction",function(t){return r.CHM(e),r.oxw().popupAction(t)}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("isMobilePopup",!0)("CompanyIdforReport",e.bookingservice.singleresult.CI)("redirectOnCancel",!1)}}let jt=(()=>{class e{constructor(e,t,i,n,s,o,l,a,c,g,u,h,p,m){this.sitestrService=e,this.filterService=t,this.customerService=i,this.bookingservice=n,this.siteService=s,this.route=o,this.location=l,this._config=a,this.router=c,this.alertservice=g,this._ngZone=u,this.companyledgerservice=h,this.emailtemp=p,this.bankService=m,this.paytypenative=!1,this.totLoan=0,this.isList=!0,this._sgId=0,this.currentScrollPosition=0,this.isScrollEnabled=!0,this.httpfunction=new d.r,this.BookingVoucher=null,this.isShowConditionDest=null,this.PageType="",this.totOCR=0,this.cmWrkPr=0,this.DueAmtcmWrkPr=0,this.totOther=0,this.totGST=0,this.totOtherGST=0,this.totCarParking=0,this.totBuildPro=0,this.totStampDuty=0,this.saveText="Confirm Booking",this.paymentermindex=0,this.FromLedger=[],this.GSTLedger=[],this.CustomerGroupLedger=[],this.Customers=[],this.custledger=null,this.p_TermsRev=[],this.p_TermsPer=[],this.customer=null,this.totalAgreementLedger=null,this.totalGstAgreementLedger=null,this.totalDutyAgreementLedger=null,this.OtherAgreement=null,this.newcustomer="",this.customerName="",this.isrecevable=!1,this.baseratepattern="[0-9]+(.[0-9][0-9]?)?",this.infradevpattern="[0-9]+(.[0-9][0-9]?)?",this.socratepattern="[0-9]+(.[0-9][0-9]?)?",this.docratepattern="[0-9]+(.[0-9][0-9]?)?",this.mainratepattern="[0-9]+(.[0-9][0-9]?)?",this.otherratepattern="[0-9]+(.[0-9][0-9]?)?",this.gstratepattern="[0-9]+(.[0-9][0-9]?)?",this.stmpratepattern="[0-9]+(.[0-9][0-9]?)?",this.showCompanyLedgerpopup=!1,this.BookingredirectOnCancel=!0,this.IsSiteStructureBooking=!0,this.BookingredirectAction=new r.vpe,this.customerId=null,this.customerService.singleresult=new H.e,this.currentdate=(new Date).toJSON().split("T")[0],this.bookingservice.singleresult=new L,this.bookingservice.singleresult.CI=this.bookingservice.getCompanyId,this.bookingservice.singleresult.IsSJ=!0;var f=null,Z=null;this.route.params.subscribe(e=>{f=e.bookingvoucher,Z=e.outstandingrecivable}),this.emailtemp.singleresult=null,this.BookingVoucher=f,this.isShowConditionDest=Z,this.Terms=new F,this.sitestrService.singleresult=new U.T,this.bankService.singleresult=null,this.emailtemp.singleresult=new W.H,this.emailtemp.singleresult.CI=this.emailtemp.getCompanyId,this.emailtemp.GetAlldataBooking(),this.bookingservice.singleresult.AltDate=new Date}ngOnInit(){this.companyledgerservice.isGetSubscribe=!0,this.companyledgerservice.GetAlldatawithsub(!0),this.subscription=this.companyledgerservice.resultObs.subscribe(()=>{if(this.Customers=this.companyledgerservice.result.filter(e=>1==e.IsSD&&0==e.IsGrp),this.FromLedger=this.companyledgerservice.result.filter(e=>1==e.IsSL&&0==e.IsGrp),this.CustomerGroupLedger=this.companyledgerservice.result.filter(e=>1==e.IsSD&&1==e.IsGrp),this.GSTLedger=this.companyledgerservice.result.filter(e=>(1==e.isTL||1==e.IsSL)&&0==e.IsGrp),null!=this.bookingservice.singleresult&&null!=this.bookingservice.singleresult.custledgename&&null!=this.bookingservice.singleresult.custledgename){let e=this.Customers.filter(e=>e.LN==this.bookingservice.singleresult.custledgename);null!=e&&e.legth>0?this.custledger=e[0]:(this.custledger=new O.dJ,null!=this.bookingservice.singleresult.CusLedgerId&&null!=this.bookingservice.singleresult.CusLedgerId?(this.custledger.LN=this.bookingservice.singleresult.custledgename,this.custledger.UIDN=this.bookingservice.singleresult.CusLedgerId):(this.custledger.LN="",this.custledger.UIDN="0"),this.Customers=this.Customers.concat(this.custledger))}}),setTimeout(()=>{this.filterService.hideQuickFilter(!1,!1,"BookingForm (Add/Edit)",!1)},200),this.LoadBanks(),this.BookingredirectOnCancel?this.route.params.subscribe(e=>{null!=e.bookingid&&(this.bookingservice.singleresult.UIDN=e.bookingid,this.BookingId=e.bookingid,this.saveText="Update Booking",this.LoadBookingData(this.bookingservice.singleresult.UIDN))}):(this.sitestrService.singleresult=this.SiteStructure,this.bookingservice.singleresult.CId=this.customerId,this.bookingservice.singleresult.SiteId=this.SiteId,this.bookingservice.singleresult.StrID=this.SiteStructure.UIDN,this.bookingservice.singleresult.Sitename=this.SiteStructure.StNm,this.bookingservice.singleresult.Building=this.SiteStructure.Bldg,this.bookingservice.singleresult.Wing=this.SiteStructure.Wng,this.bookingservice.singleresult.BuildingName=this.SiteStructure.BLNm,this.bookingservice.singleresult.WingName=this.SiteStructure.WingNm,this.bookingservice.singleresult.Flatnum=this.SiteStructure.FltN,this.bookingservice.singleresult.salesqft=this.SiteStructure.SalAr,this.bookingservice.singleresult.bssqft=this.SiteStructure.RerCarAr,this.bookingservice.singleresult.bsrate=this.SiteStructure.Rate,this.bookingservice.singleresult.InqId=this.InquiryId,this.bookingservice.singleresult.socchrge=this.SiteStructure.InfraSocChrge,this.bookingservice.singleresult.docchrge=this.SiteStructure.Docchrge,this.bookingservice.singleresult.maintchrge=this.SiteStructure.Maintchrge,this.bookingservice.singleresult.buildProCost=this.SiteStructure.buildProCost,this.bookingservice.singleresult.regisCost=this.SiteStructure.regisCost,this.bookingservice.singleresult.carParkCrg=this.SiteStructure.carParkCrg,this.bookingservice.singleresult.NoCarPark=this.SiteStructure.NoCarPark,this.bookingservice.singleresult.OtherGst=this.SiteStructure.OtherGst,this.bookingservice.singleresult.otherchrge=0,this.bookingservice.singleresult.gstchrge=this.getNumeric(this.SiteStructure.Gst),this.bookingservice.singleresult.stmp=this.getNumeric(this.SiteStructure.Stamp),this.bookingservice.singleresult.isbssqft=!0,this.bookingservice.singleresult.Issocchrge=!0,this.bookingservice.singleresult.FltCst=this.getNumeric(this.SiteStructure.FltCst),this.onCheck(),this.CalculateGST(),this.CalculateStamp(),this.getSiteTerm(this.SiteId),setTimeout(()=>{this.getCustomerdetailbyId(this.customerId)},200),this.bankService.singleresult=null),setTimeout(()=>{null!=this.NameOnAgreementInput&&this.NameOnAgreementInput.nativeElement.focus()},1e3),this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this))}OnKeydown(e){var t=e.key||e.keyCode;("Backspace"==t&&e.altKey||"Escape"==t)&&(setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition},150),this.router.navigate(["/marketing/bookinglist"]))}ngOnDestroy(){null!=this.subscription&&this.subscription.unsubscribe()}onCheckedChange(e,t){let i=e.object;"Soc"==t?this.bookingservice.singleresult.Issocchrge=i.checked:"Main"==t?this.bookingservice.singleresult.Ismainchrge=i.checked:this.bookingservice.singleresult.Isothchar=i.checked,this.onCheck(),this.CalculateStamp(),this.CalculateGST(),this.autoCalculateLoanOCR()}addNewCustomer(e){e.close(),this.newcustomer="",this.showCompanyLedgerpopup=!0}popupAction(e){this.showCompanyLedgerpopup=!1,null!=e&&(this.bookingservice.singleresult.custledgename=e.LN,this.custledger=e,this.Customers=this.Customers.concat(e))}saveNewCustomer(){if(null!=this.newcustomer&&null!=this.newcustomer&&""!=this.newcustomer){if(this.bookingservice.singleresult.custledgename=this.newcustomer,null!=this.bookingservice.singleresult&&null!=this.bookingservice.singleresult.custledgename&&null!=this.bookingservice.singleresult.custledgename){let e=this.Customers.filter(e=>e.LN==this.bookingservice.singleresult.custledgename);null!=e&&e.legth>0?this.custledger=e[0]:(this.custledger=new O.dJ,this.custledger.LN=this.bookingservice.singleresult.custledgename,this.custledger.UIDN=null!=this.bookingservice.singleresult.CusLedgerId&&null!=this.bookingservice.singleresult.CusLedgerId?this.bookingservice.singleresult.CusLedgerId:"0",this.Customers=this.Customers.concat(this.custledger))}this.showCompanyLedgerpopup=!1}else this.alertservice.showError("Error","Please enter customer ledger name")}isNumeric(e){return null!=e&&/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(e.toString())}getNumeric(e){return this.isNumeric(e)?parseFloat(e):parseFloat("0")}LoadBookingData(e){this.bookingservice.getById(e).subscribe(e=>{if(this.bookingservice.singleresult=e,this.bankService.singleresult=new E.j,this.bankService.singleresult.UIDN=this.bookingservice.singleresult.BankId,this.bankService.singleresult.BN=this.bookingservice.singleresult.BankName,this.LoadsiteStructure(this.bookingservice.singleresult.StrID),this.SiteId=this.bookingservice.singleresult.SiteId,this.getSiteTerm(this.SiteId),this.customerId=this.bookingservice.singleresult.CId,null!=this.bookingservice.singleresult&&null!=this.bookingservice.singleresult.custledgename&&null!=this.bookingservice.singleresult.custledgename){let e=this.Customers.filter(e=>e.LN==this.bookingservice.singleresult.custledgename);null!=e&&e.legth>0?this.custledger=e[0]:(this.custledger=new O.dJ,this.custledger.LN=this.bookingservice.singleresult.custledgename,this.custledger.UIDN=null!=this.bookingservice.singleresult.CusLedgerId&&null!=this.bookingservice.singleresult.CusLedgerId?this.bookingservice.singleresult.CusLedgerId:"0",this.Customers=this.Customers.concat(this.custledger))}this.getCustomerdetailbyId(this.customerId)})}LoadsiteStructure(e){this.sitestrService.getById(e).subscribe(e=>{this.sitestrService.singleresult=e,this.SiteStructure=this.sitestrService.singleresult})}LoadBanks(){this.bankService.GetAlldataforBooking()}addPaymentTermswithValidation(e,t,i,n){this.f.controls.pType.valid&&this.f.controls.Nurration.valid&&this.addPaymentTerms(e,t,i,this.Terms.OCRAmtVal,this.Terms.OCRDueD,n,-1)}ontypechange(){this.paytypenative=!0}addPaymentTermsNative(){null!=this.Terms.PaytpId&&null!=this.Terms.PaytpId&&(this.Terms.PaytpId="LOAN-OCR"),this.addPaymentTerms(this.Terms.PaytpId,this.Terms.AmtVal,this.Terms.DueD,this.Terms.OCRAmtVal,this.Terms.OCRDueD,this.Terms.Nurr,-1)}addPaymentTerms(e,t,i,n,r,s,o){let l=new F;l.PaytpId=e,l.AmtVal=this.getNumeric(t),l.DueD=i,l.OCRAmtVal=this.getNumeric(n),l.OCRDueD=r,l.Nurr=s,l.index=this.paymentermindex,l.spitOfIndex=o,this.paymentermindex=this.paymentermindex+1,this.totLoan=0,this.totOCR=0,this.totGST=0,this.totOtherGST=0,this.totStampDuty=0,this.totOther=0;for(var a=0;a<this.bookingservice.singleresult.p_Terms.length;a++)this.bookingservice.singleresult.p_Terms[a].spitOfIndex>=0||("LOAN-OCR"==this.bookingservice.singleresult.p_Terms[a].PaytpId?(this.totLoan+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal),this.totOCR+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].OCRAmtVal)):"GST"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totGST+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"Other GST"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totOtherGST+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"Car Charges"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totCarParking+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"Building Protection"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totBuildPro+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"StampDuty"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totStampDuty+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"OTHER"==this.bookingservice.singleresult.p_Terms[a].PaytpId&&(this.totOther+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal)));"LOAN-OCR"==l.PaytpId?(this.totLoan+=l.AmtVal,this.totOCR+=l.OCRAmtVal):"GST"==l.PaytpId?this.totGST+=l.AmtVal:"Other GST"==l.PaytpId?this.totOtherGST+=l.AmtVal:"Car Charges"==l.PaytpId?this.totCarParking+=l.AmtVal:"Building Protection"==l.PaytpId?this.totBuildPro+=l.AmtVal:"StampDuty"==l.PaytpId?this.totStampDuty+=l.AmtVal:"OTHER"==l.PaytpId&&(this.totOther+=l.AmtVal),this.bookingservice.singleresult.p_Terms.push(l)}onCheck(){this.bookingservice.singleresult.agrval=0,this.bookingservice.singleresult.Othval=0,this.bookingservice.singleresult.stmp=0,this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.FltCst),1==this.bookingservice.singleresult.Issocchrge?this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.socchrge):this.bookingservice.singleresult.Othval+=this.getNumeric(this.bookingservice.singleresult.socchrge),1==this.bookingservice.singleresult.IsDoccharge&&(this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.docchrge)),1==this.bookingservice.singleresult.Ismainchrge&&(this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.maintchrge)),1==this.bookingservice.singleresult.Isothchar?this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.otherchrge):this.bookingservice.singleresult.Othval+=this.getNumeric(this.bookingservice.singleresult.otherchrge)}onChangeTotalCost(){this.bookingservice.singleresult.bsrate=this.getNumeric((this.getNumeric(this.bookingservice.singleresult.FltCst)/this.getNumeric(this.bookingservice.singleresult.salesqft)).toFixed(2)),this.onCheck()}CalculateStamp(){this.bookingservice.singleresult.stmp=this.SiteStructure.Stamp,this.bookingservice.singleresult.stmp=this.getNumeric(this.SiteStructure.Stamp)>0?this.getNumeric(this.getNumeric(this.SiteStructure.Stamp).toFixed(2)):0}CalculateGST(){this.bookingservice.singleresult.gstPer=this.SiteStructure.Gst,this.bookingservice.singleresult.gstchrge=this.getNumeric(this.SiteStructure.Gst)>0?this.getNumeric(this.getNumeric(this.SiteStructure.Gst).toFixed(2)):0}onAgreementdateSelect(e){this.bookingservice.singleresult.AltDate=e}onDuedateSelect(e){this.Terms.DueD=e}onOCRDuedateSelect(e){this.Terms.OCRDueD=e}onOCRDuechkDateSelect(e,t){this.bookingservice.singleresult.p_Terms[t].OCRDueD=e.startDate}onDueDchkDateSelect(e,t){this.bookingservice.singleresult.p_Terms[t].DueD=e.startDate}addSplitPaymentTerm(e,t){this.bookingservice.singleresult.p_Terms.filter(t=>t.index==e)[0].OCRsplit=!0;var i=new F;i.index=this.paymentermindex,i.spitOfIndex=e,i.PaytpId="LOAN-OCR",i.OCRAmtVal=0,i.AmtVal=0,this.bookingservice.singleresult.p_Terms.splice(t+1,0,i),this.paymentermindex=this.paymentermindex+1}removePaymentTerm(e){var t=this.bookingservice.singleresult.p_Terms.filter(t=>t.index==e)[0];-1==t.spitOfIndex?("LOAN-OCR"==t.PaytpId?(this.totLoan-=t.AmtVal,this.totOCR-=t.OCRAmtVal):"GST"==t.PaytpId?this.totGST-=t.AmtVal:"Other GST"==t.PaytpId?this.totOtherGST-=t.AmtVal:"Car Charges"==t.PaytpId?this.totCarParking-=t.AmtVal:"Building Protection"==t.PaytpId?this.totBuildPro-=t.AmtVal:"StampDuty"==t.PaytpId?this.totStampDuty-=t.AmtVal:"OTHER"==t.PaytpId&&(this.totOther-=t.AmtVal),this.bookingservice.singleresult.p_Terms=this.bookingservice.singleresult.p_Terms.filter(t=>t.spitOfIndex!=e)):1==this.bookingservice.singleresult.p_Terms.filter(e=>e.spitOfIndex==t.spitOfIndex).length&&(this.bookingservice.singleresult.p_Terms.filter(e=>e.index==t.spitOfIndex)[0].OCRsplit=!1),this.bookingservice.singleresult.p_Terms=this.bookingservice.singleresult.p_Terms.filter(t=>t.index!=e)}getCustomerdetailbyId(e){if(-1==this.InquiryId){if(this.customerService.singleresult=new H.e,0==this.BookingredirectOnCancel){this.bookingservice.singleresult.NameOnAgreement=null!=this.customerService.singleresult.MN&&null!=this.customerService.singleresult.MN?this.customerService.singleresult.FN+" "+this.customerService.singleresult.MN+" "+this.customerService.singleresult.LN:"",this.bookingservice.singleresult.custledgename=this.sitestrService.singleresult.BLNm+"-"+this.sitestrService.singleresult.WingNm+"-"+this.sitestrService.singleresult.FltN+" "+this.bookingservice.singleresult.NameOnAgreement;let e=this.Customers.filter(e=>e.LN==this.bookingservice.singleresult.custledgename);null!=e&&e.legth>0?this.custledger=e[0]:(this.custledger=new O.dJ,this.custledger.LN=this.bookingservice.singleresult.custledgename,this.custledger.UIDN="0",this.Customers=this.Customers.concat(this.custledger)),this.bookingservice.singleresult.AgreementAddress=this.customerService.singleresult.CustAddr,this.bookingservice.singleresult.PanNumber=this.customerService.singleresult.PAN,this.bookingservice.singleresult.AadharNumber=this.customerService.singleresult.Aadhar,this.bookingservice.singleresult.AgrDate=new Date}}else this.customerService.getByforbookingId(e).subscribe(e=>{if(this.customerService.singleresult=e,0==this.BookingredirectOnCancel){null!=this.customerService.singleresult.MN&&null!=this.customerService.singleresult.MN?(null==this.customerService.singleresult.LN&&(this.customerService.singleresult.LN=""),this.bookingservice.singleresult.NameOnAgreement=this.customerService.singleresult.FN+" "+this.customerService.singleresult.MN+" "+this.customerService.singleresult.LN):(null==this.customerService.singleresult.LN&&(this.customerService.singleresult.LN=""),this.bookingservice.singleresult.NameOnAgreement=this.customerService.singleresult.FN+" "+this.customerService.singleresult.LN),this.bookingservice.singleresult.custledgename=this.sitestrService.singleresult.BLNm+"-"+this.sitestrService.singleresult.WingNm+"-"+this.sitestrService.singleresult.FltN+" "+this.bookingservice.singleresult.NameOnAgreement;let e=this.Customers.filter(e=>e.LN==this.bookingservice.singleresult.custledgename);null!=e&&e.legth>0?this.custledger=e[0]:(this.custledger=new O.dJ,this.custledger.LN=this.bookingservice.singleresult.custledgename,this.custledger.UIDN="0",this.Customers=this.Customers.concat(this.custledger)),this.bookingservice.singleresult.AgreementAddress=this.customerService.singleresult.CustAddr,this.bookingservice.singleresult.PanNumber=this.customerService.singleresult.PAN,this.bookingservice.singleresult.AadharNumber=this.customerService.singleresult.Aadhar,this.bookingservice.singleresult.AgrDate=new Date}})}getSiteTerm(e){this.siteService.getByIdForBooking(e).subscribe(e=>{this.siteService.singleresult=e,this.bookingservice.singleresult.areaUnit=this.siteService.singleresult.areaUnit,0==this.BookingredirectOnCancel?(null!=this.siteService.singleresult.flatgroupId&&this.siteService.singleresult.flatgroupId>0&&(this.bookingservice.singleresult.CusParentLedgerId=this.siteService.singleresult.flatgroupId),null!=this.siteService.singleresult.agrledId&&this.siteService.singleresult.agrledId>0&&(this.bookingservice.singleresult.agrledId=this.siteService.singleresult.agrledId),null!=this.siteService.singleresult.MaintledId&&this.siteService.singleresult.MaintledId>0&&(this.bookingservice.singleresult.MaintledId=this.siteService.singleresult.MaintledId),null!=this.siteService.singleresult.GSTLedId&&this.siteService.singleresult.GSTLedId>0&&(this.bookingservice.singleresult.GSTLedId=this.siteService.singleresult.GSTLedId),null!=this.siteService.singleresult.OthLedId&&this.siteService.singleresult.OthLedId>0&&(this.bookingservice.singleresult.OthLedId=this.siteService.singleresult.OthLedId),null!=this.siteService.singleresult.OtherGSTLedId&&this.siteService.singleresult.OtherGSTLedId>0&&(this.bookingservice.singleresult.OtherGSTLedId=this.siteService.singleresult.OtherGSTLedId),null!=this.siteService.singleresult.carParkingLedId&&this.siteService.singleresult.carParkingLedId>0&&(this.bookingservice.singleresult.carParkingLedId=this.siteService.singleresult.carParkingLedId),null!=this.siteService.singleresult.buildingProtectionLedId&&this.siteService.singleresult.buildingProtectionLedId>0&&(this.bookingservice.singleresult.buildingProtectionLedId=this.siteService.singleresult.buildingProtectionLedId),this._ngZone.runOutsideAngular(()=>{this.autoCalculateLoanOCR(),this._ngZone.run(()=>{})})):(null!=this.siteService.singleresult.flatgroupId&&this.siteService.singleresult.flatgroupId>0||(this.bookingservice.singleresult.CusParentLedgerId=null),null!=this.siteService.singleresult.agrledId&&this.siteService.singleresult.agrledId>0||(this.bookingservice.singleresult.agrledId=null),null!=this.siteService.singleresult.MaintledId&&this.siteService.singleresult.MaintledId>0||(this.bookingservice.singleresult.MaintledId=null),null!=this.siteService.singleresult.GSTLedId&&this.siteService.singleresult.GSTLedId>0||(this.bookingservice.singleresult.GSTLedId=null),null!=this.siteService.singleresult.OthLedId&&this.siteService.singleresult.OthLedId>0||(this.bookingservice.singleresult.OthLedId=null))})}autoCalculateLoanOCR(){if(this.bookingservice.singleresult.stmp>0)0==this.bookingservice.singleresult.p_Terms.filter(e=>"StampDuty"==e.PaytpId).length?this.addPaymentTerms("StampDuty",this.bookingservice.singleresult.stmp,null,0,null,"Stamp duty",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"StampDuty"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.stmp;else if(this.bookingservice.singleresult.p_Terms.filter(e=>"StampDuty"==e.PaytpId).length>0){var e=this.bookingservice.singleresult.p_Terms.filter(e=>"StampDuty"==e.PaytpId)[0].index;this.removePaymentTerm(e)}this.bookingservice.singleresult.gstchrge>0?0==this.bookingservice.singleresult.p_Terms.filter(e=>"GST"==e.PaytpId).length?this.addPaymentTerms("GST",this.bookingservice.singleresult.gstchrge,null,0,null,"GST",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"GST"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.gstchrge:this.bookingservice.singleresult.p_Terms.filter(e=>"GST"==e.PaytpId).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(e=>"GST"==e.PaytpId)[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.OtherGst>0?0==this.bookingservice.singleresult.p_Terms.filter(e=>"Other GST"==e.PaytpId).length?this.addPaymentTerms("Other GST",this.bookingservice.singleresult.OtherGst,null,0,null,"Other GST",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"Other GST"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.OtherGst:this.bookingservice.singleresult.p_Terms.filter(e=>"Other GST"==e.PaytpId).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(e=>"Other GST"==e.PaytpId)[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.carParkCrg>0?0==this.bookingservice.singleresult.p_Terms.filter(e=>"Car Charges"==e.PaytpId).length?this.addPaymentTerms("Car Charges",this.bookingservice.singleresult.carParkCrg,null,0,null,"Car Charges",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"Car Charges"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.carParkCrg:this.bookingservice.singleresult.p_Terms.filter(e=>"Car Charges"==e.PaytpId).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(e=>"Car Charges"==e.PaytpId)[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.buildProCost>0?0==this.bookingservice.singleresult.p_Terms.filter(e=>"Building Protection"==e.PaytpId).length?this.addPaymentTerms("Building Protection",this.bookingservice.singleresult.buildProCost,null,0,null,"Building Protection",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"Building Protection"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.buildProCost:this.bookingservice.singleresult.p_Terms.filter(e=>"Building Protection"==e.PaytpId).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(e=>"Building Protection"==e.PaytpId)[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.regisCost>0?0==this.bookingservice.singleresult.p_Terms.filter(e=>"Registration Cost"==e.PaytpId).length?this.addPaymentTerms("Registration Cost",this.bookingservice.singleresult.regisCost,null,0,null,"Registration Cost",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"Registration Cost"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.regisCost:this.bookingservice.singleresult.p_Terms.filter(e=>"Registration Cost"==e.PaytpId).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(e=>"Registration Cost"==e.PaytpId)[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.Othval>0&&1!=this.bookingservice.singleresult.Isothchar?0==this.bookingservice.singleresult.p_Terms.filter(e=>"OTHER"==e.PaytpId).length?this.addPaymentTerms("OTHER",this.bookingservice.singleresult.Othval,null,0,null,"OTHER",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"OTHER"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.Othval:this.bookingservice.singleresult.p_Terms.filter(e=>"OTHER"==e.PaytpId).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(e=>"OTHER"==e.PaytpId)[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.docchrge>0&&1!=this.bookingservice.singleresult.IsDoccharge?0==this.bookingservice.singleresult.p_Terms.filter(e=>"DOC-Charge"==e.PaytpId).length?this.addPaymentTerms("DOC-Charge",this.bookingservice.singleresult.docchrge,null,0,null,"Doc. Charge",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"DOC-Charge"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.docchrge:this.bookingservice.singleresult.p_Terms.filter(e=>"DOC-Charge"==e.PaytpId).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(e=>"DOC-Charge"==e.PaytpId)[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.maintchrge>0&&1!=this.bookingservice.singleresult.Ismainchrge?0==this.bookingservice.singleresult.p_Terms.filter(e=>"Main-Charge"==e.PaytpId).length?this.addPaymentTerms("Main-Charge",this.bookingservice.singleresult.maintchrge,null,0,null,"Maintanance. Charge",-1):this.bookingservice.singleresult.p_Terms.filter(e=>"Main-Charge"==e.PaytpId)[0].AmtVal=this.bookingservice.singleresult.maintchrge:this.bookingservice.singleresult.p_Terms.filter(e=>"Main-Charge"==e.PaytpId).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(e=>"Main-Charge"==e.PaytpId)[0].index,this.removePaymentTerm(e)),this.changeLoan()}changeLoan(){var e=JSON.parse(JSON.stringify(this.bookingservice.singleresult.p_Terms.filter(e=>"LOAN-OCR"==e.PaytpId)));this.bookingservice.singleresult.p_Terms=this.bookingservice.singleresult.p_Terms.filter(e=>"LOAN-OCR"!=e.PaytpId),this.totLoan=0,this.totOCR=0;let t=this.getNumeric(this.bookingservice.singleresult.agrval),i=this.getNumeric(this.bookingservice.singleresult.LoanAmt),n=t-i;if(t>0&&null!=this.siteService.singleresult.payTerms&&null!=this.siteService.singleresult.payTerms&&this.siteService.singleresult.payTerms.length>0)for(var r=0;r<this.siteService.singleresult.payTerms.length;r++){let o=this.siteService.singleresult.payTerms[r].Prcntge+"% "+this.siteService.singleresult.payTerms[r].Trms,l=this.getNumeric(t*this.siteService.singleresult.payTerms[r].Prcntge/100),a=0,c=0;if(n>0&&n>=l?(a=0,c=l,n-=l):n>0?(c=n,a=l-c,n=0,i-=a):(c=0,a=l,i-=l),0==e.filter(e=>e.Nurr==o).length)this.addPaymentTerms("LOAN-OCR",a,null,c,null,o,-1);else{let t=e.filter(e=>e.Nurr==o)[0];t.AmtVal=a,t.OCRAmtVal=c,this.bookingservice.singleresult.p_Terms.push(t);let i=e.filter(e=>e.spitOfIndex==t.index);for(var s=0;s<i.length;s++)this.bookingservice.singleresult.p_Terms.push(i[s])}}}indexTracker(e){return e}cancel(){if(setTimeout(()=>{this.filterService.changeFilter(!0,!0,"booking-form List")},200),this.BookingredirectOnCancel)if("true"==this.BookingVoucher)if(""!=this.httpfunction.getStorage("_filterData")){let t=JSON.parse(this.httpfunction.getStorage("_filterData")).reverse();if(null!=t&&null!=t){var e=t.find(e=>"Daybook"==e.Module||"Outstanding Payable"==e.Module||"Outstanding Receivable"==e.Module);this.router.navigate(null!=e||null!=e?"true"==this.BookingVoucher&&"Ledger"==e.SearchFilter[0].PageType?["/transactions/ledger"]:"true"==this.BookingVoucher&&"Group"==e.SearchFilter[0].PageType?["/transactions/group"]:"true"==this.BookingVoucher&&"Monthly Summary"==e.SearchFilter[0].PageType?["/reports/monthlysummary/"+e.SearchFilter[0].LedgerId]:"true"==this.BookingVoucher&&"Finalize"==e.SearchFilter[0].PageType?["/transactions/finalize"]:"true"==this.BookingVoucher&&"Restorevoucher"==e.SearchFilter[0].PageType?["/transactions/restorevoucher"]:"true"==this.BookingVoucher&&"Daybook"==e.SearchFilter[0].PageType?["/transactions/daybook"]:"true"==this.BookingVoucher&&"Outstanding Payable"==e.SearchFilter[0].PageType?["/reports/outstandingpayble"]:"true"==this.BookingVoucher&&"Outstanding Receivable"==e.SearchFilter[0].PageType?["/reports/outstandingrecivable"]:["/marketing/bookinglist"]:["/marketing/bookinglist"])}}else this.router.navigate(["/marketing/bookinglist"]);else this.router.navigate(["/marketing/bookinglist"]);else this.IsSiteStructureBooking?this.location.back():this.BookingredirectAction.emit(null)}onTemplateChange(e){this.bookingservice.singleresult.TI=null!=e?e.UIDN:null}dueDtChange(){this.p_TermsRev=[],this.p_TermsRev=[],this.cmWrkPr=0,this.DueAmtcmWrkPr=0;var e=this.bookingservice.singleresult.p_Terms.length;if(1==this.bookingservice.singleresult.IsDueDt){for(let t=0;t<e;t++)this.p_TermsRev.push(this.bookingservice.singleresult.p_Terms.filter(e=>0==e.flag)[t]),this.p_TermsPer.push(this.bookingservice.singleresult.p_Terms.filter(e=>1==e.flag)[t]);for(let e=0;e<this.p_TermsPer.length;e++)this.cmWrkPr+=this.getNumeric(this.p_TermsPer[e].Prcntge),this.DueAmtcmWrkPr+=this.getNumeric(this.p_TermsPer[e].OCRAmtVal)}}OnSubmit(){if(this.f.valid){var e=!0;let r=0,s=0,o=0;if(null!=this.bookingservice.singleresult.p_Terms&&null!=this.bookingservice.singleresult.p_Terms&&this.bookingservice.singleresult.p_Terms.length>0)for(var t=0;t<this.bookingservice.singleresult.p_Terms.length;t++)if(!("LOAN-OCR"==this.bookingservice.singleresult.p_Terms[t].PaytpId&&this.bookingservice.singleresult.p_Terms[t].spitOfIndex>=0)){var i=[];if("LOAN-OCR"==this.bookingservice.singleresult.p_Terms[t].PaytpId&&(s+=this.getNumeric(this.bookingservice.singleresult.p_Terms[t].AmtVal),o+=this.getNumeric(this.bookingservice.singleresult.p_Terms[t].OCRAmtVal),(i=this.bookingservice.singleresult.p_Terms.filter(e=>e.spitOfIndex==this.bookingservice.singleresult.p_Terms[t].index)).length>0)){let r=0;for(var n=0;n<i.length;n++){if(this.bookingservice.singleresult.IsCommdate&&null==i[n].OCRDueD&&this.getNumeric(i[n].OCRAmtVal)>0){this.alertservice.showError("Error","Please enter date and amount in payment terms"),e=!1;break}e&&(r+=this.getNumeric(i[n].OCRAmtVal))}if(this.getNumeric(this.bookingservice.singleresult.p_Terms[t].OCRAmtVal)!=r){this.alertservice.showError("Error","OCR split amount must matched with total Ocr Amount."),e=!1;break}}if(this.bookingservice.singleresult.IsCommdate&&null==this.bookingservice.singleresult.p_Terms[t].DueD&&this.getNumeric(this.bookingservice.singleresult.p_Terms[t].AmtVal)>0){this.alertservice.showError("Error","Please enter date and amount in payment terms"),e=!1;break}if(0==i.length&&this.bookingservice.singleresult.IsCommdate&&null==this.bookingservice.singleresult.p_Terms[t].OCRDueD&&this.getNumeric(this.bookingservice.singleresult.p_Terms[t].OCRAmtVal)>0){this.alertservice.showError("Error","Please enter date and amount in payment terms"),e=!1;break}r+=this.getNumeric(this.bookingservice.singleresult.p_Terms[t].AmtVal)+this.getNumeric(this.bookingservice.singleresult.p_Terms[t].OCRAmtVal)}if(e&&s!=this.bookingservice.singleresult.LoanAmt&&(e=!1,this.alertservice.showError("Error","Payment Terms did not matched with the Loan Amount")),e&&Math.round(s+o)!=Math.round(this.bookingservice.singleresult.agrval)&&(e=!1,this.alertservice.showError("Error","Load and OCR terms should be matched with agreement value")),e){let t=this.getNumeric(this.bookingservice.singleresult.agrval);1!=this.bookingservice.singleresult.Issocchrge&&(t+=this.getNumeric(this.bookingservice.singleresult.socchrge)),1!=this.bookingservice.singleresult.IsDoccharge&&(t+=this.getNumeric(this.bookingservice.singleresult.docchrge)),1!=this.bookingservice.singleresult.Ismainchrge&&(t+=this.getNumeric(this.bookingservice.singleresult.maintchrge)),1!=this.bookingservice.singleresult.Isothchar&&(t+=this.getNumeric(this.bookingservice.singleresult.otherchrge)),t+=this.getNumeric(this.bookingservice.singleresult.gstchrge),t+=this.getNumeric(this.bookingservice.singleresult.stmp),t+=this.getNumeric(this.bookingservice.singleresult.OtherGst),t+=this.getNumeric(this.bookingservice.singleresult.carParkCrg),t+=this.getNumeric(this.bookingservice.singleresult.buildProCost),t+=this.getNumeric(this.bookingservice.singleresult.regisCost),r.toFixed(2)!=t.toFixed(2)&&(e=!1,this.alertservice.showError("Error","Payment Tems did not matched with the agreement , GST, stampduty and other amount"))}e&&(null!=this.bankService.singleresult&&!this.httpfunction.IsMobileview()&&(this.bookingservice.singleresult.BankId=this.bankService.singleresult.UIDN,this.bookingservice.singleresult.BankName=this.bankService.singleresult.BN),this.bookingservice.singleresult.custledgename=this.custledger.LN,this.bookingservice.singleresult.CusLedgerId=this.custledger.UIDN,null==this.bookingservice.singleresult.CusParentLedgerId&&!(null!=this.siteService.singleresult.flatgroupId&&this.siteService.singleresult.flatgroupId>0)&&(this.bookingservice.singleresult.CusParentLedgerId=0),null!=this.bookingservice.singleresult.UIDN&&null!=this.bookingservice.singleresult.UIDN&&this.bookingservice.singleresult.UIDN>0?(this.bookingservice.singleresult.CI=this.bookingservice.getCompanyId,this.bookingservice.Update(this.bookingservice.singleresult).subscribe(e=>{this.BookingredirectOnCancel?(setTimeout(function(){var t=window.open(e,"_blank");t.focus(),t.print(),t.onload=function(){window.close()}},200),setTimeout(()=>{this.filterService.changeFilterWithbottomfilter(!0,!0,"Booking List")},200),this.cancel()):null==e?this.alertservice.showError("Error","There is some error occured. Please check sales/journal entries before booking of this flat again"):this.BookingredirectAction.emit(e)},()=>{})):this.bookingservice.add(this.bookingservice.singleresult).subscribe(e=>{this.BookingredirectOnCancel?(setTimeout(()=>{this.filterService.changeFilterWithbottomfilter(!0,!0,"Booking List")},200),this.router.navigate(["/marketing/bookinglist"])):-1==this.InquiryId?this.BookingredirectAction.emit(e):null==e?this.alertservice.showError("Error","There is some error occured. Please check sales/journal entries before booking of this flata again"):(setTimeout(function(){var t=window.open(e,"_blank");t.focus(),t.print(),t.onload=function(){window.close()}},200),this.BookingredirectAction.emit(e))},()=>{}))}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(f.l),r.Y36(p.i),r.Y36(G.v),r.Y36(Y),r.Y36(A.P),r.Y36(T.gz),r.Y36(b.Ye),r.Y36(c.De),r.Y36(T.F0),r.Y36(Z.Rq),r.Y36(r.R0b),r.Y36(h.Q),r.Y36(K.P),r.Y36(V.y))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-booking-form"]],viewQuery:function(e,t){if(1&e&&(r.Gf(te,7,r.SBq),r.Gf(ie,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.NameOnAgreementInput=e.first),r.iGM(e=r.CRH())&&(t.f=e.first)}},inputs:{BookingVoucher:"BookingVoucher",isShowConditionDest:"isShowConditionDest",BookingredirectOnCancel:"BookingredirectOnCancel",IsSiteStructureBooking:"IsSiteStructureBooking",SiteId:"SiteId",InquiryId:"InquiryId",CustomerName:"CustomerName",BookingId:"BookingId",SiteStructure:"SiteStructure",customerId:"customerId"},outputs:{BookingredirectAction:"BookingredirectAction"},features:[r._Bn([Z.Rq,f.l,Y,K.P,h.Q,V.y,G.v])],decls:376,vars:263,consts:[[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],[1,"mb-3"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],[1,"card","mt-0"],[1,"shadow","p-3","bg-white","rounded"],[1,"row","no-gutters"],[1,"col-sm-6","col-7","bg-primary","text-white"],[1,"pb-2","mb-0","pt-3","pl-3"],[1,"text-uppercase"],[1,"col-sm-6","col-5","bg-danger","text-white"],[1,"pb-0","mb-0","pt-3","pl-3"],[1,"card-header","mb-2","text-black","font-weight-bold","bg-secondary"],[1,"card-body"],[1,"card-text"],[1,"row","m-0","form-group"],[1,"md-form","col-sm-6","col-md-3","form-group","no-gutters"],["for","txtNameOnAgreement",1,"col","col-auto-sm"],["type","text","required","","name","txtNameOnAgreement","placeholder","Please enter Customer Name","value","","id","txtNameOnAgreement",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["txtNameOnAgreement","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","custledgename",1,"col","col-auto-sm"],["selectOnTab","true","required","","name","custledgename","bindLabel","LN","placeholder","Customer Account",3,"items","ngModel","loading","ngModelChange"],["custledgename",""],["ng-header-tmp",""],[1,"md-form","col-sm-6","col-md-6","form-group","no-gutters"],["for","CusParentLedgerId",1,"col","col-auto-sm"],["selectOnTab","true","required","","name","CusParentLedgerId","bindLabel","LN","bindValue","UIDN","placeholder","Select Customer group",3,"items","ngClass","ngModel","loading","ngModelChange"],["CusParentLedgerId","ngModel"],[1,"md-form","col-sm-12","col-md-6","form-group","no-gutters"],["for","AgreementAddress",1,"col","col-auto-sm"],["type","text","required","","name","AgreementAddress","placeholder","Please enter Address as per Aadhar","value","","id","AgreementAddress",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["AgreementAddress","ngModel"],["for","PanNumber",1,"col","col-auto-sm"],["type","text","placeholder","Please Enter PAN Number","pattern","[A-Za-z]{5}\\d{4}[A-Za-z]{1}","name","PanNumber","value","","id","PanNumber",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["PanNumber","ngModel"],["for","AadharNumber",1,"col","col-auto-sm"],["type","number","pattern","^\\d{4}\\d{4}\\d{4}$","placeholder","Please Enter Aadhar Number","name","AadharNumber","value","","id","AadharNumber",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["AadharNumber","ngModel"],["for","AltDate",1,"col","col-auto-sm"],["type","text","appDatepicker","","required","","name","AltDate","id","AltDate",1,"form-control",3,"startDate","selected"],["AltDate",""],["for","txtref",1,"col","col-auto-sm"],["type","text","name","Refby","placeholder","Please Enter Reference","value","","id","txtref",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Refby","ngModel"],["for","country"],[3,"countryinput","oncountrychange"],["for","states"],[3,"isRequired","StateInput","onStateChange"],["bindLabel","TN","placeholder","Select Template","bindValue","UIDN","name","emailtemplate",3,"virtualScroll","items","loading","ngModel","scrollToEnd","ngModelChange","change"],["emailtemplate","ngModel"],[1,"card-header","mb-2","font-weight-bold","bg-secondary"],[1,"row","m-0"],[1,"col-sm-7","col-md-4","no-gutters","form-group"],[1,"row"],[1,"col-12","input-group"],["for","lblSiteName",1,"col-sm-12","pl-0","font-weight-bold"],[1,"md-form","m-0",2,"max-width","78px"],["type","number","name","Ratesq","required","","placeholder","RERA Area","regexvalue","baserate","id","reratxt",1,"form-control","mt-0",3,"ngClass","ngModel","ngModelChange"],["Ratesq","ngModel"],["class","invalid-feedback offset-2",4,"ngIf"],["type","number","name","Salesqft","required","","placeholder","Saleble Area","regexvalue","baserate","id","saletxt","placeholder","Sale area",1,"form-control","mt-0",3,"ngClass","ngModel","ngModelChange"],["Salesqft","ngModel"],["type","number","name","baseRate","regexvalue","baserate","id","ratetxt","placeholder","Base Rate",1,"form-control","mt-0",3,"ngClass","ngModel","change","ngModelChange"],["baseRate","ngModel"],[1,"md-form","m-0","pl-2",2,"max-width","200px"],[1,"md-form","m-0","pl-2",2,"max-width","100px"],["type","number","name","FltCst","required","","regexvalue","FltCst","id","FltCst","placeholder","Flat Cost",1,"form-control","mt-0",3,"ngClass","ngModel","change","ngModelChange"],["FltCst","ngModel"],[1,"col-sm-6","col-md-3","no-gutters","form-group"],[1,"col-sm-12","input-group"],[1,"pl-0","col-2","mt-4"],[1,"c-switch","c-switch-pill","c-switch-primary","m-2"],["type","checkbox","name","societycheck","id","societycheck",1,"c-switch-input",3,"ngModel","change","ngModelChange"],[1,"c-switch-slider"],[1,"md-form","col-10"],["for","societytxt"],["type","number","placeholder","Please Enter Develop./Infra/Soc./Possession/Other Charges","name","societycharge","id","societytxt",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange","change"],["societycharge","ngModel"],["class","invalid-feedback offset-2 ",4,"ngIf"],[1,"col-sm-6","col-md-4","no-gutters","form-group"],[1,"switch","pl-0","col-2","mt-3"],["for","docchrge"],["type","number","name","doccahrge","placeholder","Please Enter Document Charge","id","docchrge",1,"form-control",3,"ngModel","ngClass","pattern","change","ngModelChange"],["doccahrge","ngModel"],["type","checkbox","name","Maincheckbox","id","Maincheck",1,"c-switch-input",3,"ngModel","change","ngModelChange"],["for","maintxt"],["type","number","name","maintainchrge","placeholder","Please Enter Maintainance Charge","id","maintxt",1,"form-control",3,"ngModel","ngClass","pattern","change","ngModelChange"],["maintainchrge","ngModel"],[1,"pl-0","col-2","mt-3"],["type","checkbox","name","Othercheckbox","id","othcheck",1,"c-switch-input",3,"ngModel","change","ngModelChange"],["for","Othertxt"],["type","number","name","othercharge","placeholder","Please Enter Other Charge","id","Othertxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","change","ngModelChange"],["othercharge","ngModel"],[1,"col-sm-3","col-md-3","no-gutters","form-group"],["for","Gsttxt"],["type","number","name","gstcharge","placeholder","Please Enter GST Amount","id","Gsttxt",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange","change"],["gstcharge","ngModel"],["for","OtherGst"],["type","number","name","OtherGst","placeholder","Please Enter GST Other Amount","id","OtherGst",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange"],["OtherGst","ngModel"],["for","carParkCrg"],["type","number","name","carParkCrg","placeholder","Please Enter Car Parking Charges","id","carParkCrg",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange"],["carParkCrg","ngModel"],["for","buildProCost"],["type","number","name","buildProCost","placeholder","Please Enter Building Protection Cost","id","buildProCost",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange"],["buildProCost","ngModel"],[1,"col-sm-6","col-md-3","no-border","no-gutters","form-group"],["for","stmptxt"],["type","number","name","stampdutychrge","placeholder","Please Enter Stamp Duty amount","id","stmptxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","ngModelChange","change"],["stampdutychrge","ngModel"],["for","regisCost"],["type","number","name","regisCost","placeholder","Please Enter Registration amount","id","stmptxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","ngModelChange","change"],["regisCost","ngModel"],["for","AlwCarPark"],["type","number","name","AlwCarPark","placeholder","Please Enter Allowed Car Parking","id","stmptxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","ngModelChange"],["AlwCarPark","ngModel"],["for","TknBookAmt"],["type","number","name","TknBookAmt","placeholder","Please Enter Token Booking Amount","id","stmptxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","ngModelChange"],["TknBookAmt","ngModel"],[1,"col-md-3","col-sm-6","md-form","form-group","no-gutters"],["for","AggrementLedger"],["selectOnTab","true","name","AggrementLedger","bindLabel","LN","bindValue","UIDN","placeholder","Select Agreement Ledger",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["AggrementLedger","ngModel"],["for","lblpayment",1,"font-weight-bold"],["for","MaintLedger"],["selectOnTab","true","name","MaintLedger","bindLabel","LN","bindValue","UIDN","placeholder","Select Maintanance Ledger",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["MaintLedger","ngModel"],["for","FLedgerforGst"],["selectOnTab","true","name","FLedgerforGst","bindLabel","LN","bindValue","UIDN","placeholder","Select GST Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["FLedgerforGst","ngModel"],["for","lblgst",1,"font-weight-bold"],["for","OtherGSTLedId"],["selectOnTab","true","name","OtherGSTLedId","bindLabel","LN","bindValue","UIDN","placeholder","Select Other GST Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["OtherGSTLedId","ngModel"],["for","carParkingLedger"],["selectOnTab","true","name","carParkingLedger","bindLabel","LN","bindValue","UIDN","placeholder","Select Other GST Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["carParkingLedger","ngModel"],["for","buildingProtecLgr"],["selectOnTab","true","name","buildingProtecLgr","bindLabel","LN","bindValue","UIDN","placeholder","Select Building Protection Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["buildingProtecLgr","ngModel"],["for","FLedgerforOther"],["selectOnTab","true","name","FLedgerforOther","bindLabel","LN","bindValue","UIDN","placeholder","Select Other Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["FLedgerforOther","ngModel"],["for","lblother",1,"font-weight-bold"],[1,"col-sm-6","col-md-3","md-form","form-group","no-gutters"],["for","Bankdetail"],["selectOnTab","true","name","Bankdetail","bindLabel","BN","placeholder","Select Bank",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["Bankdetail","ngModel"],["for","lblbank",1,"font-weight-bold"],["for","LoanAmt"],["type","number","name","LoanAmt","id","LoanAmttxt",1,"form-control",3,"ngModel","ngClass","pattern","change","ngModelChange"],["LoanAmt","ngModel"],["for","LoanAmttxt",1,"font-weight-bold"],[1,"row","col-md-3","col-sm-12","mt-4"],[1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","id","customSwitch1",1,"c-switch-input",3,"checked","change"],[1,"mb-2","ml-2","mt-1"],[1,"col-sm-12","col-md-12","table-responsive"],[1,"table-sm","table","table-striped","col-sm-12","col-md-12",2,"margin-bottom","40px"],[1,"grey","lighten-1","text-black","font-weight-bold"],[4,"ngIf"],["class","bg-info mt-4 mb-4",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-sm-6","md-form","col-md-3","no-gutters"],["for","PayNurration"],["type","text","id","PayNurration","rows","1","name","Nurration","placeholder","Please Enter Term if any",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["Nurration","ngModel"],[1,"col-sm-6","md-form","col-md-3","form-group","no-gutters"],["for","pType"],["name","pType","placeholder","Select payment type",1,"col-sm-12","col-12",3,"ngModel","ngClass","ngModelChange"],["pType","ngModel"],["value",""],["value","LOAN-OCR"],[1,"col-sm-6","col-md-2","md-form","form-group","no-gutters"],["for","amunttxt"],["type","number","placeholder","Please Enter Amount","name","Amount","id","amunttxt",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Amount","ngModel"],["for","DueDate"],["type","text","appDatepicker","","placeholder","Please select Due Date","autocomplete","none","name","DueDate","id","DueDate",1,"form-control",3,"ngClass","startDate","selected"],["DueDate",""],["class","col-sm-6 col-md-3 form-group no-gutters",4,"ngIf"],[1,"col-sm-6","col-md-4","mb-4","pb-2","form-group","no-gutters","m-0"],["type","button",1,"btn","btn-primary",3,"click"],["class","col-sm-12 pl-2 text-right","id","formbtnContainer",4,"ngIf"],["class","navbar fixed-bottom navbar-expand-sm navbar-dark bg-light",4,"ngIf"],[3,"isMobilePopup","CompanyIdforReport","redirectOnCancel","redirectAction",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"text-center","mb-3","LeftLi"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"btn","btn-link",3,"click"],[1,"invalid-feedback"],[1,"form-text","text-muted"],["href","javascript:void(0);",1,"addLeg",3,"click"],[1,"invalid-feedback","offset-2"],[1,"md-form"],["type","number","style","min-width:95px;","class","form-control col-12 float-left","required","",3,"ngClass","ngModel","name","id","ngModelChange",4,"ngIf"],["type","text","style","min-width:95px;","class","form-control col-12 float-left","appDatepicker","","placeholder","Select Date",3,"ngClass","ngModel","name","id","required","selectedindex",4,"ngIf"],["type","number","style","min-width:95px;","class","form-control col-12 float-left","required","",3,"disabled","ngClass","ngModel","name","id","ngModelChange",4,"ngIf"],[1,"md-form",2,"min-width","190px"],["type","text","class","form-control col-12 float-left","appDatepicker","","placeholder","Select Date",3,"ngClass","ngModel","name","id","required","selectedindex",4,"ngIf"],["class","pr-2","href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click",4,"ngIf"],["type","number","required","",1,"form-control","col-12","float-left",2,"min-width","95px",3,"ngClass","ngModel","name","id","ngModelChange"],["trmAmt","ngModel"],["type","text","appDatepicker","","placeholder","Select Date",1,"form-control","col-12","float-left",2,"min-width","95px",3,"ngClass","ngModel","name","id","required","selectedindex"],["trmdate","ngModel"],["type","number","required","",1,"form-control","col-12","float-left",2,"min-width","95px",3,"disabled","ngClass","ngModel","name","id","ngModelChange"],["OCRtrmAmt","ngModel"],["type","text","appDatepicker","","placeholder","Select Date",1,"form-control","col-12","float-left",3,"ngClass","ngModel","name","id","required","selectedindex"],["OCRtrmdate","ngModel"],["href","javascript:void(0)",1,"pr-2",3,"click"],["href","javascript:void(0)",3,"click"],[1,"bg-info","mt-4","mb-4"],[1,"col-sm-6","col-md-3","form-group","no-gutters"],[1,"col-sm-12"],["type","text","name","OCRAmount","placeholder","Amount","id","amunttxt",1,"form-control","col-12","float-left",3,"ngClass","ngModel","ngModelChange"],["OCRAmount","ngModel"],["type","text","appDatepicker","","autocomplete","none","placeholder","Due date","name","OCRDueDate","id","OCRDueDate",1,"form-control",3,"ngClass","startDate","selected"],["OCRDueDate",""],["id","formbtnContainer",1,"col-sm-12","pl-2","text-right"],["type","submit",1,"btn","btn-primary","mr-2"],["href","javascript:void(0)",1,"btn","btn-dark",3,"click"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary"],[1,"nav-item","active","mr-2"],[3,"isMobilePopup","CompanyIdforReport","redirectOnCancel","redirectAction"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.YNc(1,ne,10,0,"div",1),r.YNc(2,re,12,1,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"form",4,5),r.NdJ("ngSubmit",function(){return t.OnSubmit()}),r.TgZ(6,"div",6),r.TgZ(7,"div",7),r.TgZ(8,"div",8),r.TgZ(9,"div",9),r.TgZ(10,"address",10),r.TgZ(11,"strong",11),r._uU(12),r.qZA(),r._UZ(13,"br"),r._uU(14),r._UZ(15,"br"),r._uU(16),r._UZ(17,"br"),r._uU(18),r.qZA(),r.qZA(),r.TgZ(19,"div",12),r.TgZ(20,"address",13),r.TgZ(21,"strong",11),r._uU(22),r.qZA(),r._UZ(23,"br"),r._uU(24),r._UZ(25,"br"),r._uU(26),r._UZ(27,"br"),r._uU(28),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",0),r.TgZ(30,"div",14),r._uU(31,"Personal Details"),r.qZA(),r.TgZ(32,"div",15),r.TgZ(33,"div",16),r.TgZ(34,"div",17),r.TgZ(35,"div",18),r.TgZ(36,"label",19),r._uU(37," Name on Agreement "),r.qZA(),r.TgZ(38,"input",20,21),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.NameOnAgreement=e}),r.qZA(),r.YNc(40,oe,2,1,"div",22),r.qZA(),r.TgZ(41,"div",18),r.TgZ(42,"label",23),r._uU(43," Customer Account "),r.qZA(),r.TgZ(44,"ng-select",24,25),r.NdJ("ngModelChange",function(e){return t.custledger=e}),r.YNc(46,le,3,0,"ng-template",26),r.qZA(),r.qZA(),r.TgZ(47,"div",27),r.TgZ(48,"label",28),r._uU(49,"Customer group"),r.qZA(),r.TgZ(50,"ng-select",29,30),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.CusParentLedgerId=e}),r.qZA(),r.YNc(52,ce,2,1,"div",22),r.qZA(),r.TgZ(53,"div",31),r.TgZ(54,"label",32),r._uU(55," Address as per Aadhar "),r.qZA(),r.TgZ(56,"input",33,34),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.AgreementAddress=e}),r.qZA(),r.YNc(58,ge,2,1,"div",22),r.qZA(),r.TgZ(59,"div",18),r.TgZ(60,"label",35),r._uU(61,"PAN Number"),r.qZA(),r.TgZ(62,"input",36,37),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.PanNumber=e}),r.qZA(),r.YNc(64,pe,3,2,"div",22),r.qZA(),r.TgZ(65,"div",18),r.TgZ(66,"label",38),r._uU(67,"Aadhar Number"),r.qZA(),r.TgZ(68,"input",39,40),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.AadharNumber=e}),r.qZA(),r.YNc(70,Ze,3,2,"div",22),r.qZA(),r.TgZ(71,"div",18),r.TgZ(72,"label",41),r._uU(73,"Allotment Date:"),r.qZA(),r.TgZ(74,"input",42,43),r.NdJ("selected",function(e){return t.onAgreementdateSelect(e)}),r.qZA(),r.YNc(76,Ae,2,1,"div",22),r.qZA(),r.TgZ(77,"div",18),r.TgZ(78,"label",44),r._uU(79,"Referance By:"),r.qZA(),r.TgZ(80,"input",45,46),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.RefBy=e}),r.qZA(),r.YNc(82,be,2,1,"div",22),r.qZA(),r.TgZ(83,"div",18),r.TgZ(84,"label",47),r._uU(85,"Country"),r.qZA(),r.TgZ(86,"app-country",48),r.NdJ("oncountrychange",function(e){return t.bookingservice.singleresult.Country=e}),r.qZA(),r.qZA(),r.TgZ(87,"div",18),r.TgZ(88,"label",49),r._uU(89,"State"),r.qZA(),r.TgZ(90,"app-states",50),r.NdJ("onStateChange",function(e){return t.bookingservice.singleresult.State=e}),r.qZA(),r.qZA(),r.TgZ(91,"div",18),r.TgZ(92,"label",28),r._uU(93,"Template"),r.qZA(),r.TgZ(94,"ng-select",51,52),r.NdJ("scrollToEnd",function(){return t.emailtemp.ScrollDown()})("ngModelChange",function(e){return t.bookingservice.singleresult.TI=e})("change",function(e){return t.onTemplateChange(e)}),r.YNc(96,Se,2,2,"ng-template",26),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(97,"div",0),r.TgZ(98,"div",53),r._uU(99,"Payment/Site Structure Details"),r.qZA(),r.TgZ(100,"div",15),r.TgZ(101,"div",16),r.TgZ(102,"div",54),r.TgZ(103,"div",55),r.TgZ(104,"div",56),r.TgZ(105,"div",57),r.TgZ(106,"span",58),r._uU(107,"Flat Cost:"),r.qZA(),r.TgZ(108,"div",59),r.TgZ(109,"input",60,61),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.bssqft=e}),r.qZA(),r.YNc(111,Ce,2,1,"div",62),r.qZA(),r.TgZ(112,"div",59),r.TgZ(113,"input",63,64),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.salesqft=e}),r.qZA(),r.YNc(115,qe,2,1,"div",62),r.qZA(),r.TgZ(116,"div",59),r.TgZ(117,"input",65,66),r.NdJ("change",function(){return t.onCheck(),t.CalculateGST(),t.CalculateStamp(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.bsrate=e}),r.qZA(),r.YNc(119,ke,2,1,"div",62),r.qZA(),r.qZA(),r.TgZ(120,"div",67),r._uU(121," Calculated Flat Cost "),r.qZA(),r.TgZ(122,"div",68),r.TgZ(123,"input",69,70),r.NdJ("change",function(){return t.onChangeTotalCost(),t.CalculateGST(),t.CalculateStamp(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.FltCst=e}),r.qZA(),r.YNc(125,Ne,1,0,"div",62),r.qZA(),r.qZA(),r.qZA(),r.TgZ(126,"div",71),r.TgZ(127,"div",72),r.TgZ(128,"div",73),r.TgZ(129,"label",74),r.TgZ(130,"input",75),r.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.Issocchrge=e}),r.qZA(),r._UZ(131,"span",76),r.qZA(),r.qZA(),r.TgZ(132,"div",77),r.TgZ(133,"label",78),r._uU(134,"Develop./Infra/Soc./Possession/Other Charges"),r.qZA(),r.TgZ(135,"input",79,80),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.socchrge=e})("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST()}),r.qZA(),r.YNc(137,we,2,1,"div",81),r.qZA(),r.qZA(),r.qZA(),r.TgZ(138,"div",82),r.TgZ(139,"div",72),r._UZ(140,"div",83),r.TgZ(141,"div",77),r.TgZ(142,"label",84),r._uU(143,"Document Charge"),r.qZA(),r.TgZ(144,"input",85,86),r.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST()})("ngModelChange",function(e){return t.bookingservice.singleresult.docchrge=e}),r.qZA(),r.YNc(146,De,2,1,"div",81),r.qZA(),r.qZA(),r.qZA(),r.TgZ(147,"div",71),r.TgZ(148,"div",72),r.TgZ(149,"div",73),r.TgZ(150,"label",74),r.TgZ(151,"input",87),r.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.Ismainchrge=e}),r.qZA(),r._UZ(152,"span",76),r.qZA(),r.qZA(),r.TgZ(153,"div",77),r.TgZ(154,"label",88),r._uU(155,"Maintainance Charges:"),r.qZA(),r.TgZ(156,"input",89,90),r.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.autoCalculateLoanOCR(),t.CalculateGST()})("ngModelChange",function(e){return t.bookingservice.singleresult.maintchrge=e}),r.qZA(),r.YNc(158,Ue,2,1,"div",81),r.qZA(),r.qZA(),r.qZA(),r.TgZ(159,"div",71),r.TgZ(160,"div",72),r.TgZ(161,"div",91),r.TgZ(162,"label",74),r.TgZ(163,"input",92),r.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.autoCalculateLoanOCR(),t.CalculateGST()})("ngModelChange",function(e){return t.bookingservice.singleresult.Isothchar=e}),r.qZA(),r._UZ(164,"span",76),r.qZA(),r.qZA(),r.TgZ(165,"div",77),r.TgZ(166,"label",93),r._uU(167,"Other Charge:"),r.qZA(),r.TgZ(168,"input",94,95),r.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.otherchrge=e}),r.qZA(),r.YNc(170,Ee,2,1,"div",81),r.qZA(),r.qZA(),r.qZA(),r.TgZ(171,"div",96),r.TgZ(172,"label",97),r._uU(173," GST: "),r.qZA(),r.TgZ(174,"input",98,99),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.gstchrge=e})("change",function(){return t.autoCalculateLoanOCR()}),r.qZA(),r.YNc(176,Le,2,1,"div",81),r.qZA(),r.TgZ(177,"div",96),r.TgZ(178,"label",100),r._uU(179," GST Other: "),r.qZA(),r.TgZ(180,"input",101,102),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.OtherGst=e}),r.qZA(),r.YNc(182,Qe,2,1,"div",81),r.qZA(),r.TgZ(183,"div",96),r.TgZ(184,"label",103),r._uU(185," Car Parking Charges: "),r.qZA(),r.TgZ(186,"input",104,105),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.carParkCrg=e}),r.qZA(),r.YNc(188,Be,2,1,"div",81),r.qZA(),r.TgZ(189,"div",96),r.TgZ(190,"label",106),r._uU(191," Building Protection Cost: "),r.qZA(),r.TgZ(192,"input",107,108),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.buildProCost=e}),r.qZA(),r.YNc(194,Ge,2,1,"div",81),r.qZA(),r.TgZ(195,"div",109),r.TgZ(196,"label",110),r._uU(197," Stamp Duty: "),r.qZA(),r.TgZ(198,"input",111,112),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.stmp=e})("change",function(){return t.autoCalculateLoanOCR()}),r.qZA(),r.YNc(200,Ve,2,1,"div",81),r.qZA(),r.TgZ(201,"div",109),r.TgZ(202,"label",113),r._uU(203," Registration Cost: "),r.qZA(),r.TgZ(204,"input",114,115),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.regisCost=e})("change",function(){return t.autoCalculateLoanOCR()}),r.qZA(),r.YNc(206,$e,2,1,"div",81),r.qZA(),r.TgZ(207,"div",109),r.TgZ(208,"label",116),r._uU(209," Allowed Car Parking: "),r.qZA(),r.TgZ(210,"input",117,118),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.NoCarPark=e}),r.qZA(),r.YNc(212,je,2,1,"div",81),r.qZA(),r.TgZ(213,"div",109),r.TgZ(214,"label",119),r._uU(215," Token Booking Amount: "),r.qZA(),r.TgZ(216,"input",120,121),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.TknBookAmt=e}),r.qZA(),r.YNc(218,Xe,2,1,"div",81),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(219,"div",0),r.TgZ(220,"div",53),r._uU(221,"Payment Summary"),r.qZA(),r.TgZ(222,"div",15),r.TgZ(223,"div",16),r.TgZ(224,"div",54),r.TgZ(225,"div",122),r.TgZ(226,"label",123),r._uU(227,"Agreement Ledger"),r.qZA(),r.TgZ(228,"ng-select",124,125),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.agrledId=e}),r.qZA(),r.YNc(230,tt,2,1,"div",22),r.TgZ(231,"span",126),r._uU(232),r.qZA(),r.qZA(),r.TgZ(233,"div",122),r.TgZ(234,"label",127),r._uU(235,"Maintanance Ledger"),r.qZA(),r.TgZ(236,"ng-select",128,129),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.MaintledId=e}),r.qZA(),r.YNc(238,nt,2,1,"div",22),r.TgZ(239,"span",126),r._uU(240),r.qZA(),r.qZA(),r.TgZ(241,"div",122),r.TgZ(242,"label",130),r._uU(243,"GST Account"),r.qZA(),r.TgZ(244,"ng-select",131,132),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.GSTLedId=e}),r.qZA(),r.YNc(246,st,2,1,"div",22),r.TgZ(247,"span",133),r._uU(248),r.qZA(),r.qZA(),r.TgZ(249,"div",122),r.TgZ(250,"label",134),r._uU(251,"Other GST Account"),r.qZA(),r.TgZ(252,"ng-select",135,136),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.OtherGSTLedId=e}),r.qZA(),r.YNc(254,lt,2,1,"div",22),r.TgZ(255,"span",133),r._uU(256),r.qZA(),r.qZA(),r.TgZ(257,"div",122),r.TgZ(258,"label",137),r._uU(259,"Car Charges Account"),r.qZA(),r.TgZ(260,"ng-select",138,139),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.carParkingLedId=e}),r.qZA(),r.YNc(262,ct,2,1,"div",22),r.TgZ(263,"span",133),r._uU(264),r.qZA(),r.qZA(),r.TgZ(265,"div",122),r.TgZ(266,"label",140),r._uU(267,"Building Protection Account"),r.qZA(),r.TgZ(268,"ng-select",141,142),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.buildingProtectionLedId=e}),r.qZA(),r.YNc(270,gt,2,1,"div",22),r.TgZ(271,"span",133),r._uU(272),r.qZA(),r.qZA(),r.TgZ(273,"div",122),r.TgZ(274,"label",143),r._uU(275,"Other Account"),r.qZA(),r.TgZ(276,"ng-select",144,145),r.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.OthLedId=e}),r.qZA(),r.YNc(278,ht,2,1,"div",22),r.TgZ(279,"span",146),r._uU(280),r.qZA(),r.qZA(),r.TgZ(281,"div",147),r.TgZ(282,"label",148),r._uU(283,"Bank"),r.qZA(),r.TgZ(284,"ng-select",149,150),r.NdJ("ngModelChange",function(e){return t.bankService.singleresult=e}),r.qZA(),r.YNc(286,mt,2,1,"div",22),r.TgZ(287,"span",151),r._uU(288,"Bank details:"),r.qZA(),r.qZA(),r.TgZ(289,"div",147),r.TgZ(290,"label",152),r._uU(291,"Loan Amount"),r.qZA(),r.TgZ(292,"input",153,154),r.NdJ("change",function(){return t.changeLoan()})("ngModelChange",function(e){return t.bookingservice.singleresult.LoanAmt=e}),r.qZA(),r.TgZ(294,"span",155),r._uU(295,"Loan Amount:"),r.qZA(),r.qZA(),r.TgZ(296,"div",156),r.TgZ(297,"label",157),r.TgZ(298,"input",158),r.NdJ("change",function(){return t.bookingservice.singleresult.IsCommdate=1!=t.bookingservice.singleresult.IsCommdate}),r.qZA(),r._UZ(299,"span",76),r.qZA(),r.TgZ(300,"span",159),r._uU(301,"Is Commitment Date"),r.qZA(),r.qZA(),r.TgZ(302,"div",156),r.TgZ(303,"label",157),r.TgZ(304,"input",158),r.NdJ("change",function(){return t.bookingservice.singleresult.IsDueDt=1!=t.bookingservice.singleresult.IsDueDt,t.dueDtChange()}),r.qZA(),r._UZ(305,"span",76),r.qZA(),r.TgZ(306,"span",159),r._uU(307,"Is Due Amount"),r.qZA(),r.qZA(),r.TgZ(308,"div",156),r.TgZ(309,"label",157),r.TgZ(310,"input",158),r.NdJ("change",function(){return t.bookingservice.singleresult.IsSJ=1!=t.bookingservice.singleresult.IsSJ}),r.qZA(),r._UZ(311,"span",76),r.qZA(),r.TgZ(312,"span",159),r._uU(313,"Is Sales/Journal Entry"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(314,"div",0),r.TgZ(315,"div",53),r._uU(316," Payment Terms of agreement Value "),r.qZA(),r.TgZ(317,"div",15),r.TgZ(318,"div",16),r.TgZ(319,"div",54),r.TgZ(320,"div",160),r.TgZ(321,"table",161),r.TgZ(322,"thead"),r.TgZ(323,"tr"),r.TgZ(324,"th",162),r._uU(325,"Term"),r.qZA(),r.TgZ(326,"th",162),r._uU(327,"Amount/Loan"),r.qZA(),r.TgZ(328,"th",162),r._uU(329,"Commitment Date"),r.qZA(),r.TgZ(330,"th",162),r._uU(331,"OCR Amount"),r.qZA(),r.TgZ(332,"th",162),r._uU(333,"OCR Commitment Date "),r.qZA(),r.TgZ(334,"th",162),r._uU(335,"Action"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(336,"tbody"),r.YNc(337,Ct,2,2,"ng-container",163),r.YNc(338,It,7,2,"div",164),r.YNc(339,Dt,2,1,"ng-container",165),r.qZA(),r.qZA(),r.qZA(),r.TgZ(340,"div",166),r.TgZ(341,"label",167),r._uU(342,"Term"),r.qZA(),r.TgZ(343,"input",168,169),r.NdJ("ngModelChange",function(e){return t.Terms.Nurr=e}),r.qZA(),r.YNc(345,Ut,2,1,"div",22),r.qZA(),r.TgZ(346,"div",170),r.TgZ(347,"label",171),r._uU(348,"Payment Type"),r.qZA(),r.TgZ(349,"ng-select",172,173),r.NdJ("ngModelChange",function(e){return t.Terms.PaytpId=e}),r.TgZ(351,"ng-option",174),r._uU(352,"Select Payment Type"),r.qZA(),r.TgZ(353,"ng-option",175),r._uU(354,"LOAN-OCR"),r.qZA(),r.qZA(),r.YNc(355,Et,2,1,"div",22),r.qZA(),r.TgZ(356,"div",176),r.TgZ(357,"label",177),r._uU(358,"Amount"),r.qZA(),r.TgZ(359,"input",178,179),r.NdJ("ngModelChange",function(e){return t.Terms.AmtVal=e}),r.qZA(),r.YNc(361,Lt,2,1,"div",22),r.qZA(),r.TgZ(362,"div",176),r.TgZ(363,"label",180),r._uU(364,"Due Date"),r.qZA(),r.TgZ(365,"input",181,182),r.NdJ("selected",function(e){return t.onDuedateSelect(e)}),r.qZA(),r.YNc(367,Qt,2,1,"div",22),r.qZA(),r.YNc(368,Yt,7,5,"div",183),r.YNc(369,Vt,7,5,"div",183),r.TgZ(370,"div",184),r.TgZ(371,"button",185),r.NdJ("click",function(){r.CHM(e);const i=r.MAs(350),n=r.MAs(360),s=r.MAs(366),o=r.MAs(344);return t.addPaymentTermswithValidation(i.value,n.value,s.value,o.value)}),r._uU(372," Add Payment Term "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(373,Kt,5,1,"div",186),r.YNc(374,$t,8,1,"nav",187),r.qZA(),r.qZA(),r.qZA(),r.YNc(375,Wt,1,3,"app-companyledger-addedit",188)}if(2&e){const e=r.MAs(5),i=r.MAs(39),n=r.MAs(51),s=r.MAs(57),o=r.MAs(63),l=r.MAs(69),a=r.MAs(75),c=r.MAs(81),d=r.MAs(110),g=r.MAs(114),u=r.MAs(118),h=r.MAs(124),p=r.MAs(136),m=r.MAs(145),f=r.MAs(157),Z=r.MAs(169),v=r.MAs(175),A=r.MAs(181),T=r.MAs(187),b=r.MAs(193),S=r.MAs(199),x=r.MAs(205),C=r.MAs(211),I=r.MAs(217),q=r.MAs(229),M=r.MAs(237),k=r.MAs(245),N=r.MAs(253),y=r.MAs(261),w=r.MAs(269),_=r.MAs(277),D=r.MAs(285),P=r.MAs(293),U=r.MAs(344),O=r.MAs(350),E=r.MAs(360),J=r.MAs(366);r.Udp("display",t.showCompanyLedgerpopup?"none":"block"),r.xp6(1),r.Q6J("ngIf",!t.bookingservice.IsMobileview),r.xp6(1),r.Q6J("ngIf",t.bookingservice.IsMobileview),r.xp6(10),r.lnq(" ",t.customerService.singleresult.FN," ",t.customerService.singleresult.MN," ",t.customerService.singleresult.LN," "),r.xp6(2),r.hij(" Address - ",t.customerService.singleresult.CustAddr,""),r.xp6(2),r.AsE(" (M:) ",t.customerService.singleresult.CNO,", ",t.customerService.singleresult.CNo2,""),r.xp6(2),r.hij(" (E:) ",t.customerService.singleresult.EID," "),r.xp6(4),r.AsE(" ",t.sitestrService.singleresult.StNm," - ",t.sitestrService.singleresult.RmTp," "),r.xp6(2),r.hij(" Building -",t.sitestrService.singleresult.BLNm,""),r.xp6(2),r.hij(" Wing - ",t.sitestrService.singleresult.WingNm,""),r.xp6(2),r.hij(" FlatNo - ",t.sitestrService.singleresult.FltN," "),r.xp6(10),r.Q6J("ngClass",r.VKq(193,ft,e.submitted&&i.invalid))("ngModel",t.bookingservice.singleresult.NameOnAgreement),r.xp6(2),r.Q6J("ngIf",e.submitted&&i.invalid),r.xp6(4),r.Q6J("items",t.Customers)("ngModel",t.custledger)("loading",t.companyledgerservice.loading),r.xp6(6),r.Q6J("items",t.CustomerGroupLedger)("ngClass",r.VKq(195,ft,e.submitted&&n.invalid))("ngModel",t.bookingservice.singleresult.CusParentLedgerId)("loading",t.companyledgerservice.loading),r.xp6(2),r.Q6J("ngIf",e.submitted&&n.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(197,ft,e.submitted&&s.invalid))("ngModel",t.bookingservice.singleresult.AgreementAddress),r.xp6(2),r.Q6J("ngIf",e.submitted&&s.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(199,ft,e.submitted&&o.invalid))("ngModel",t.bookingservice.singleresult.PanNumber),r.xp6(2),r.Q6J("ngIf",e.submitted&&o.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(201,ft,e.submitted&&l.invalid))("ngModel",t.bookingservice.singleresult.AadharNumber),r.xp6(2),r.Q6J("ngIf",e.submitted&&l.invalid),r.xp6(4),r.Q6J("startDate",t.bookingservice.singleresult.AltDate),r.xp6(2),r.Q6J("ngIf",e.submitted&&a.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(203,ft,e.submitted&&c.invalid))("ngModel",t.bookingservice.singleresult.RefBy),r.xp6(2),r.Q6J("ngIf",c.invalid),r.xp6(4),r.Q6J("countryinput",t.bookingservice.singleresult.Country),r.xp6(4),r.Q6J("isRequired",!0)("StateInput",t.bookingservice.singleresult.State),r.xp6(4),r.Q6J("virtualScroll",!0)("items",t.emailtemp.result)("loading",t.emailtemp.loading)("ngModel",t.bookingservice.singleresult.TI),r.xp6(15),r.Q6J("ngClass",r.VKq(205,ft,e.submitted&&d.invalid))("ngModel",t.bookingservice.singleresult.bssqft),r.xp6(2),r.Q6J("ngIf",d.invalid),r.xp6(2),r.Q6J("ngClass",r.VKq(207,ft,e.submitted&&g.invalid))("ngModel",t.bookingservice.singleresult.salesqft),r.xp6(2),r.Q6J("ngIf",g.invalid),r.xp6(2),r.Q6J("ngClass",r.VKq(209,ft,e.submitted&&u.invalid))("ngModel",t.bookingservice.singleresult.bsrate),r.xp6(2),r.Q6J("ngIf",u.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(211,ft,e.submitted&&h.invalid))("ngModel",t.bookingservice.singleresult.FltCst),r.xp6(2),r.Q6J("ngIf",h.invalid),r.xp6(5),r.Q6J("ngModel",t.bookingservice.singleresult.Issocchrge),r.xp6(5),r.s9C("pattern",t.socratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.socchrge)("ngClass",r.VKq(213,ft,e.submitted&&p.invalid)),r.xp6(2),r.Q6J("ngIf",p.invalid),r.xp6(7),r.s9C("pattern",t.docratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.docchrge)("ngClass",r.VKq(215,ft,e.submitted&&m.invalid)),r.xp6(2),r.Q6J("ngIf",m.invalid),r.xp6(5),r.Q6J("ngModel",t.bookingservice.singleresult.Ismainchrge),r.xp6(5),r.s9C("pattern",t.mainratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.maintchrge)("ngClass",r.VKq(217,ft,e.submitted&&f.invalid)),r.xp6(2),r.Q6J("ngIf",f.invalid),r.xp6(5),r.Q6J("ngModel",t.bookingservice.singleresult.Isothchar),r.xp6(5),r.s9C("pattern",t.otherratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.otherchrge)("ngClass",r.VKq(219,ft,e.submitted&&Z.invalid)),r.xp6(2),r.Q6J("ngIf",Z.invalid),r.xp6(4),r.s9C("pattern",t.gstratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.gstchrge)("ngClass",r.VKq(221,ft,e.submitted&&v.invalid)),r.xp6(2),r.Q6J("ngIf",v.invalid),r.xp6(4),r.s9C("pattern",t.gstratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.OtherGst)("ngClass",r.VKq(223,ft,e.submitted&&A.invalid)),r.xp6(2),r.Q6J("ngIf",A.invalid),r.xp6(4),r.s9C("pattern",t.gstratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.carParkCrg)("ngClass",r.VKq(225,ft,e.submitted&&T.invalid)),r.xp6(2),r.Q6J("ngIf",T.invalid),r.xp6(4),r.s9C("pattern",t.gstratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.buildProCost)("ngClass",r.VKq(227,ft,e.submitted&&b.invalid)),r.xp6(2),r.Q6J("ngIf",b.invalid),r.xp6(4),r.s9C("pattern",t.stmpratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.stmp)("ngClass",r.VKq(229,ft,e.submitted&&S.invalid)),r.xp6(2),r.Q6J("ngIf",S.invalid),r.xp6(4),r.s9C("pattern",t.stmpratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.regisCost)("ngClass",r.VKq(231,ft,e.submitted&&x.invalid)),r.xp6(2),r.Q6J("ngIf",x.invalid),r.xp6(4),r.s9C("pattern",t.stmpratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.NoCarPark)("ngClass",r.VKq(233,ft,e.submitted&&C.invalid)),r.xp6(2),r.Q6J("ngIf",C.invalid),r.xp6(4),r.s9C("pattern",t.stmpratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.TknBookAmt)("ngClass",r.VKq(235,ft,e.submitted&&I.invalid)),r.xp6(2),r.Q6J("ngIf",I.invalid),r.xp6(10),r.Q6J("items",t.FromLedger)("required",t.bookingservice.singleresult.agrval>0)("ngClass",r.VKq(237,ft,e.submitted&&q.invalid))("ngModel",t.bookingservice.singleresult.agrledId)("loading",t.companyledgerservice.loading),r.xp6(2),r.Q6J("ngIf",q.invalid),r.xp6(2),r.hij(" Agreement Amount: ",t.bookingservice.singleresult.agrval," "),r.xp6(4),r.Q6J("items",t.FromLedger)("required",t.bookingservice.singleresult.maintchrge>0&&1!=t.bookingservice.singleresult.Ismainchrge)("ngClass",r.VKq(239,ft,e.submitted&&M.invalid))("ngModel",t.bookingservice.singleresult.MaintledId)("loading",t.companyledgerservice.loading),r.xp6(2),r.Q6J("ngIf",M.invalid),r.xp6(2),r.hij(" Maintainance charge: ",1!=t.bookingservice.singleresult.Ismainchrge?t.bookingservice.singleresult.maintchrge:""," "),r.xp6(4),r.Q6J("items",t.GSTLedger)("required",t.bookingservice.singleresult.gstchrge>0)("ngClass",r.VKq(241,ft,e.submitted&&k.invalid))("ngModel",t.bookingservice.singleresult.GSTLedId)("loading",t.companyledgerservice.loading),r.xp6(2),r.Q6J("ngIf",k.invalid),r.xp6(2),r.hij(" Total Gst: ",t.bookingservice.singleresult.gstchrge," "),r.xp6(4),r.Q6J("items",t.GSTLedger)("required",t.bookingservice.singleresult.OtherGst>0)("ngClass",r.VKq(243,ft,e.submitted&&N.invalid))("ngModel",t.bookingservice.singleresult.OtherGSTLedId)("loading",t.companyledgerservice.loading),r.xp6(2),r.Q6J("ngIf",k.invalid),r.xp6(2),r.hij(" Total Gst: ",t.bookingservice.singleresult.OtherGst," "),r.xp6(4),r.Q6J("items",t.GSTLedger)("required",t.bookingservice.singleresult.carParkCrg>0)("ngClass",r.VKq(245,ft,e.submitted&&y.invalid))("ngModel",t.bookingservice.singleresult.carParkingLedId)("loading",t.companyledgerservice.loading),r.xp6(2),r.Q6J("ngIf",k.invalid),r.xp6(2),r.hij(" Total Car Park Charges: ",t.bookingservice.singleresult.carParkCrg," "),r.xp6(4),r.Q6J("items",t.GSTLedger)("required",t.bookingservice.singleresult.buildProCost>0)("ngClass",r.VKq(247,ft,e.submitted&&w.invalid))("ngModel",t.bookingservice.singleresult.buildingProtectionLedId)("loading",t.companyledgerservice.loading),r.xp6(2),r.Q6J("ngIf",k.invalid),r.xp6(2),r.hij(" Total Building Protection Charges: ",t.bookingservice.singleresult.buildProCost," "),r.xp6(4),r.Q6J("items",t.FromLedger)("required",t.bookingservice.singleresult.Othval>0)("ngClass",r.VKq(249,ft,e.submitted&&_.invalid))("ngModel",t.bookingservice.singleresult.OthLedId)("loading",t.companyledgerservice.loading),r.xp6(2),r.Q6J("ngIf",_.invalid),r.xp6(2),r.hij(" Other: ",t.bookingservice.singleresult.Othval," "),r.xp6(4),r.Q6J("items",t.bankService.result)("required",t.bookingservice.singleresult.LoanAmt>0)("ngClass",r.VKq(251,ft,e.submitted&&D.invalid))("ngModel",t.bankService.singleresult)("loading",t.bankService.loading),r.xp6(2),r.Q6J("ngIf",D.invalid),r.xp6(6),r.s9C("pattern",t.stmpratepattern),r.Q6J("ngModel",t.bookingservice.singleresult.LoanAmt)("ngClass",r.VKq(253,ft,e.submitted&&P.invalid)),r.xp6(6),r.Q6J("checked",1==t.bookingservice.singleresult.IsCommdate),r.xp6(6),r.Q6J("checked",1==t.bookingservice.singleresult.IsDueDt),r.xp6(6),r.Q6J("checked",1==t.bookingservice.singleresult.IsSJ),r.xp6(27),r.Q6J("ngIf",0==t.bookingservice.singleresult.IsDueDt),r.xp6(1),r.Q6J("ngIf",1==t.bookingservice.singleresult.IsDueDt),r.xp6(1),r.Q6J("ngForOf",t.p_TermsRev)("ngForTrackBy",t.indexTracker),r.xp6(4),r.Q6J("ngModel",t.Terms.Nurr)("ngClass",r.VKq(255,ft,e.submitted&&U.invalid)),r.xp6(2),r.Q6J("ngIf",U.invalid),r.xp6(4),r.Q6J("ngModel",t.Terms.PaytpId)("ngClass",r.VKq(257,ft,e.submitted&&O.invalid)),r.xp6(6),r.Q6J("ngIf",O.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(259,ft,e.submitted&&E.invalid))("ngModel",t.Terms.AmtVal),r.xp6(2),r.Q6J("ngIf",E.invalid),r.xp6(4),r.Q6J("ngClass",r.VKq(261,ft,e.submitted&&J.invalid))("startDate",t.Terms.DueD),r.xp6(2),r.Q6J("ngIf",J.invalid),r.xp6(1),r.Q6J("ngIf","LOAN-OCR"==t.Terms.PaytpId),r.xp6(1),r.Q6J("ngIf","LOAN-OCR"==t.Terms.PaytpId),r.xp6(4),r.Q6J("ngIf",!t.bookingservice.isMobile),r.xp6(1),r.Q6J("ngIf",t.bookingservice.isMobile),r.xp6(1),r.Q6J("ngIf",t.showCompanyLedgerpopup)}},directives:[b.O5,x._Y,x.JL,x.F,q.u,x.Fj,x.Q7,b.mk,x.JJ,x.On,C.x,I.w9,I.A3,x.c5,x.wV,j.q,z.X,X.a,x.Wl,b.sg,I.xv,m.gu,ee.k],pipes:[b.uU],styles:[".card[_ngcontent-%COMP%]{color:#000;margin:15 15 0}.card-layout[_ngcontent-%COMP%]{padding:20}.card-layout[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{margin-bottom:15}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]}),e})();const zt=["f"],Xt=["Site"],ei=["SearchModal"],ti=["ionInfinitescroll"],ii=["ionvscroll"],ni=["ImageModal"],ri=["ImageUploadModal"],si=["EmailModal"],oi=["OtherDocument"];function li(e,t){if(1&e&&(r.TgZ(0,"small",136),r._uU(1),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.AsE(" Loaded ",e.siteService.result.length," of ",e.siteService.totalItems," ")}}function ai(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",79),r.TgZ(1,"ul",80),r.TgZ(2,"li",81),r.TgZ(3,"button",82),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).goback()}),r._UZ(4,"i",83),r.qZA(),r.qZA(),r.TgZ(5,"li",84),r.TgZ(6,"form",85),r.NdJ("submit",function(){return r.CHM(e),r.oxw(2).FilterData()}),r.TgZ(7,"div",86),r._UZ(8,"span",15),r.TgZ(9,"input",87,88),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.filter=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"li",89),r.TgZ(12,"button",90),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).FilterData()}),r._UZ(13,"span",91),r.TgZ(14,"span",92),r._uU(15,"Search"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"li",93),r.TgZ(17,"div",94),r.NdJ("isOpenChange",function(t){return r.CHM(e),r.oxw(2).change(t)}),r.TgZ(18,"button",95),r._UZ(19,"span",96),r.TgZ(20,"span",92),r._uU(21,"Filter"),r.qZA(),r.qZA(),r.TgZ(22,"div",97),r.NdJ("click",function(e){return e.stopPropagation()}),r.TgZ(23,"form",9,10),r.NdJ("ngSubmit",function(){return r.CHM(e),r.oxw(2).FilterData()}),r.TgZ(25,"div",98),r.TgZ(26,"div",99),r.TgZ(27,"label",100),r._uU(28,"Select Site"),r.qZA(),r.TgZ(29,"ng-select",101),r.NdJ("scrollToEnd",function(){return r.CHM(e),r.oxw(2).siteService.ScrollDown()})("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.STIarray=t}),r.YNc(30,li,2,2,"ng-template",19),r.qZA(),r.qZA(),r.TgZ(31,"div",99),r.TgZ(32,"label",102),r._uU(33,"Select Building"),r.qZA(),r.TgZ(34,"ng-select",103),r.NdJ("scrollToEnd",function(){return r.CHM(e),r.oxw(2).siteService.ScrollDown()})("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.Bldarray=t}),r.qZA(),r.qZA(),r.TgZ(35,"div",99),r.TgZ(36,"label",104),r._uU(37,"Select Wing"),r.qZA(),r.TgZ(38,"ng-select",105),r.NdJ("scrollToEnd",function(){return r.CHM(e),r.oxw(2).siteService.ScrollDown()})("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.Wngarray=t}),r.qZA(),r.qZA(),r.TgZ(39,"div",99),r.TgZ(40,"label",106),r._uU(41,"Enter Flat No"),r.qZA(),r.TgZ(42,"input",107,108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.filter=t}),r.qZA(),r.qZA(),r.TgZ(44,"div",99),r.TgZ(45,"label",109),r._uU(46,"Select Booking Status"),r.qZA(),r.TgZ(47,"ng-select",110,111),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.BookingSts=t}),r.TgZ(49,"ng-option",112),r._uU(50,"UnSold"),r.qZA(),r.TgZ(51,"ng-option",113),r._uU(52,"Sold"),r.qZA(),r.TgZ(53,"ng-option",114),r._uU(54,"OnHold"),r.qZA(),r.TgZ(55,"ng-option",115),r._uU(56,"Tenent"),r.qZA(),r.TgZ(57,"ng-option",116),r._uU(58,"Member"),r.qZA(),r.TgZ(59,"ng-option",117),r._uU(60,"All"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(61,"div",99),r.TgZ(62,"label",118),r._uU(63," Flat Amount"),r.qZA(),r.TgZ(64,"div",51),r.TgZ(65,"ng-select",119,120),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.AmountRange=t}),r.TgZ(67,"ng-option",121),r._uU(68,"Greaterthan"),r.qZA(),r.TgZ(69,"ng-option",122),r._uU(70,"Lessthan"),r.qZA(),r.TgZ(71,"ng-option",123),r._uU(72,"EqualTo "),r.qZA(),r.TgZ(73,"ng-option",124),r._uU(74,"NotEqualTo"),r.qZA(),r.qZA(),r.TgZ(75,"input",125,126),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.Amount=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(77,"div",99),r.TgZ(78,"label",127),r._uU(79," Block Area"),r.qZA(),r.TgZ(80,"div",51),r.TgZ(81,"ng-select",128,129),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.BlockRange=t}),r.TgZ(83,"ng-option",121),r._uU(84,"Greaterthan"),r.qZA(),r.TgZ(85,"ng-option",122),r._uU(86,"Lessthan"),r.qZA(),r.TgZ(87,"ng-option",123),r._uU(88,"EqualTo "),r.qZA(),r.TgZ(89,"ng-option",124),r._uU(90,"NotEqualTo"),r.qZA(),r.qZA(),r.TgZ(91,"input",130,131),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).sfilter.Area=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(93,"div",132),r.TgZ(94,"button",133),r.NdJ("click",function(t){r.CHM(e);const i=r.oxw(2);return i.clearfilterandloadnewdata(),i.toggleDropdown(t)}),r._uU(95," Clear Filter "),r.qZA(),r.TgZ(96,"button",134),r.NdJ("click",function(t){return r.CHM(e),r.oxw(2).toggleDropdown(t)}),r._UZ(97,"i",135),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(9),r.Q6J("ngModel",e.sfilter.filter),r.xp6(8),r.Q6J("isOpen",e.status.isOpen),r.xp6(5),r.ekj("show",e.status.isOpen),r.xp6(7),r.Q6J("virtualScroll",!0)("items",e.siteService.result)("multiple",!0)("ngModel",e.sfilter.STIarray)("loading",e.siteService.loading),r.xp6(5),r.Q6J("virtualScroll",!0)("items",e.BuildingcolumnList)("multiple",!0)("ngModel",e.sfilter.Bldarray)("loading",e.siteService.loading),r.xp6(4),r.Q6J("virtualScroll",!0)("items",e.WingcolumnList)("multiple",!0)("ngModel",e.sfilter.Wngarray)("loading",e.siteService.loading),r.xp6(4),r.Q6J("ngModel",e.sfilter.filter),r.xp6(5),r.Q6J("ngModel",e.sfilter.BookingSts),r.xp6(18),r.Q6J("ngModel",e.sfilter.AmountRange),r.xp6(10),r.Q6J("ngModel",e.sfilter.Amount),r.xp6(6),r.Q6J("ngModel",e.sfilter.BlockRange),r.xp6(10),r.Q6J("ngModel",e.sfilter.Area)}}function ci(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",137),r.TgZ(1,"ul",80),r.TgZ(2,"li",138),r.TgZ(3,"ion-icon",139),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).goback()}),r.qZA(),r.qZA(),r.TgZ(4,"li",138),r.TgZ(5,"ion-icon",140),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).advSearchM()}),r.qZA(),r.qZA(),r.TgZ(6,"li",141),r.TgZ(7,"div",142),r.TgZ(8,"strong"),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"li",143),r.TgZ(11,"ion-icon",144),r.NdJ("click",function(t){return r.CHM(e),r.oxw(2).sortPopover(t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(9),r.Oqu(e.PageName)}}function di(e,t){if(1&e&&(r.TgZ(0,"div",150),r.TgZ(1,"div",98),r.TgZ(2,"div",151),r.TgZ(3,"strong"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"div",152),r.TgZ(6,"div",153),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(4),r.Oqu(e.PageName),r.xp6(3),r.hij("Total ",e.siteStrList.length-1," record")}}function gi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"th",160),r.NdJ("click",function(){return r.CHM(e),r.oxw(5).FilterData()}),r._uU(1),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(4);r.Q6J("dirsort",t.sitestrService)("sortcolumn",e),r.xp6(1),r.hij(" ",e," ")}}function ui(e,t){if(1&e&&(r.ynx(0),r.YNc(1,gi,2,3,"th",162),r.BQk()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("ngIf","ModifiedDate"!==e&&"ModifiedBy"!==e)}}function hi(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Grand Total"),r.qZA())}function pi(e,t){1&e&&(r.TgZ(0,"span",172),r._uU(1,"YES"),r.qZA())}function mi(e,t){if(1&e&&(r.ynx(0),r.YNc(1,pi,2,0,"span",171),r.BQk()),2&e){const e=r.oxw(3).$implicit;r.xp6(1),r.Q6J("ngIf",1==e.IsDynamicBooking)}}function fi(e,t){1&e&&(r.TgZ(0,"span",178),r._uU(1," Sold "),r.qZA())}function Zi(e,t){1&e&&(r.TgZ(0,"span",179),r._uU(1," Member "),r.qZA())}function vi(e,t){1&e&&(r.TgZ(0,"span",180),r._uU(1," UnSold "),r.qZA())}function Ai(e,t){1&e&&(r.TgZ(0,"span",181),r._uU(1," OnHold "),r.qZA())}function Ti(e,t){1&e&&(r.TgZ(0,"span",182),r._uU(1," Tenent "),r.qZA())}function bi(e,t){if(1&e&&(r.ynx(0),r.YNc(1,fi,2,0,"span",173),r.YNc(2,Zi,2,0,"span",174),r.YNc(3,vi,2,0,"span",175),r.YNc(4,Ai,2,0,"span",176),r.YNc(5,Ti,2,0,"span",177),r.BQk()),2&e){const e=r.oxw(2).$implicit,t=r.oxw().$implicit,i=r.oxw(5);r.xp6(1),r.Q6J("ngIf",i.isSold(t[e])),r.xp6(1),r.Q6J("ngIf",i.isMember(t[e])),r.xp6(1),r.Q6J("ngIf",i.isUnSold(t[e])),r.xp6(1),r.Q6J("ngIf",i.isOnHold(t[e])),r.xp6(1),r.Q6J("ngIf",i.isTenent(t[e]))}}function Si(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw(2).$implicit,t=r.oxw().$implicit;r.xp6(1),r.hij(" ",t[e]," ")}}function xi(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,hi,2,0,"span",76),r.YNc(2,mi,2,1,"ng-container",76),r.YNc(3,bi,6,5,"ng-container",76),r.YNc(4,Si,2,1,"ng-container",76),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf","SiteName"==e&&null==t.PK_Id),r.xp6(1),r.Q6J("ngIf","IsDynamicBooking"===e),r.xp6(1),r.Q6J("ngIf","BookingStatus"==e),r.xp6(1),r.Q6J("ngIf","IsDynamicBooking"!=e&&"BookingStatus"!=e&&"ModifiedDate"!==e&&"ModifiedBy"!==e)}}function Ci(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"span",182),r._uU(2),r.qZA(),r.TgZ(3,"span",179),r._uU(4),r.ALo(5,"date"),r.qZA(),r.TgZ(6,"span",179),r._uU(7),r.ALo(8,"date"),r.qZA(),r.BQk()),2&e){const e=r.oxw(3).$implicit;r.xp6(2),r.hij("By: ",e.ModifiedBy,""),r.xp6(2),r.hij("Date: ",r.lcZ(5,3,e.ModifiedDate),""),r.xp6(3),r.hij("Time: ",r.xi3(8,5,e.ModifiedDate,"shortTime"),"")}}function Ii(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,Ci,9,8,"ng-container",76),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",e.PK_Id>0)}}function qi(e,t){if(1&e&&(r.ynx(0),r.YNc(1,xi,5,4,"td",76),r.YNc(2,Ii,2,1,"td",76),r.BQk()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("ngIf","ModifiedDate"!==e&&"ModifiedBy"!==e),r.xp6(1),r.Q6J("ngIf","ModifiedDate"==e)}}function Mi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",192),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).edit(t.PK_Id)}),r._uU(1," Edit Site Structure "),r.qZA()}if(2&e){const e=r.oxw(8);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function ki(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",192),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).edit(t.PK_Id)}),r._uU(1," Edit Booking "),r.qZA()}if(2&e){const e=r.oxw(8);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Ni(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",193),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).DeleteStructure(1,t.PK_Id)}),r._uU(2," Delete Site Structure "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(8);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function yi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",193),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).DeleteStructure(2,t.PK_Id)}),r._uU(2," Cancel Booking "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(8);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function wi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",194),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).GenerateDocument(t.PK_Id,t.SiteId,"BOOKING FORM")}),r._uU(2," Generate Booking Form "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(8);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function _i(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",194),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).GenerateDocument(t.PK_Id,t.SiteId,"ALLOTMENT")}),r._uU(2," Generate Allotment "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(8);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Di(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",195),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).GenerateDocument(t.PK_Id,t.SiteId,"AGREEMENT")}),r._uU(2," Generate Agreement "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(8);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Pi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",194),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).GenerateDocument(t.PK_Id,t.SiteId,"Booking_Demand_Letter")}),r._uU(2," Generate Demand "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(8);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Ui(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",194),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).GenerateDocument(t.PK_Id,t.SiteId,"BANK_NOC")}),r._uU(2," Generate Bank NOC "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(8);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Oi(e,t){if(1&e&&(r.TgZ(0,"li",188),r.TgZ(1,"a",196),r._uU(2," Download Allotment "),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).$implicit;r.xp6(1),r.s9C("href",e.AllotmentLetter,r.LSH)}}function Ei(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",197),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).OpenEmailPopup(t.PK_Id,t.SiteId,"ALLOTMENT")}),r._uU(2," Send Email "),r.qZA(),r.qZA()}}function Ji(e,t){if(1&e&&(r.TgZ(0,"li",188),r.TgZ(1,"a",198),r._uU(2," Download Agreement "),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).$implicit;r.xp6(1),r.s9C("href",e.AgreementLetter,r.LSH)}}function Li(e,t){if(1&e&&(r.TgZ(0,"li",188),r.TgZ(1,"a",198),r._uU(2," Download Demand "),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).$implicit;r.xp6(1),r.s9C("href",e.DemantLetter,r.LSH)}}function Fi(e,t){if(1&e&&(r.TgZ(0,"li",188),r.TgZ(1,"a",198),r._uU(2," Download Bank NOC "),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).$implicit;r.xp6(1),r.s9C("href",e.BankNoc,r.LSH)}}function Qi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",188),r.TgZ(1,"a",197),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(5).OpenOtherDocumentPopup(t.PK_Id,t.SiteId)}),r._uU(2," Other Document "),r.qZA(),r.qZA()}}function Ri(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ul",187),r.TgZ(1,"li",188),r.YNc(2,Mi,2,2,"a",189),r.YNc(3,ki,2,2,"a",189),r.qZA(),r.YNc(4,Ni,3,2,"li",190),r.YNc(5,yi,3,2,"li",190),r.YNc(6,wi,3,2,"li",190),r.YNc(7,_i,3,2,"li",190),r.YNc(8,Di,3,2,"li",190),r.YNc(9,Pi,3,2,"li",190),r.YNc(10,Ui,3,2,"li",190),r.YNc(11,Oi,3,1,"li",190),r.YNc(12,Ei,3,0,"li",190),r.YNc(13,Ji,3,1,"li",190),r.YNc(14,Li,3,1,"li",190),r.YNc(15,Fi,3,1,"li",190),r.YNc(16,Qi,3,0,"li",190),r.TgZ(17,"li",188),r.TgZ(18,"a",191),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(5).OpenImagePopup(t.PK_Id)}),r._uU(19," Image Upload "),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).$implicit,t=r.oxw(5);r.xp6(2),r.Q6J("ngIf",0==t.hideBookingStatus),r.xp6(1),r.Q6J("ngIf",1==t.hideBookingStatus),r.xp6(1),r.Q6J("ngIf",0==t.hideBookingStatus),r.xp6(1),r.Q6J("ngIf",t.hideBookingStatus),r.xp6(1),r.Q6J("ngIf","SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase()),r.xp6(1),r.Q6J("ngIf","SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase()),r.xp6(1),r.Q6J("ngIf","SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase()),r.xp6(1),r.Q6J("ngIf","SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase()),r.xp6(1),r.Q6J("ngIf","SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase()),r.xp6(1),r.Q6J("ngIf",e.BookingStatus&&("SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase())&&null!=e.AllotmentLetter),r.xp6(1),r.Q6J("ngIf",e.BookingStatus&&("SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase())&&null!=e.AllotmentLetter),r.xp6(1),r.Q6J("ngIf",e.BookingStatus&&("SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase())&&null!=e.AllotmentLetter),r.xp6(1),r.Q6J("ngIf",e.BookingStatus&&("SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase())&&null!=e.AllotmentLetter),r.xp6(1),r.Q6J("ngIf",("SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase())&&null!=e.BankNoc),r.xp6(1),r.Q6J("ngIf","SOLD"===e.BookingStatus.toUpperCase()||"ONHOLD"===e.BookingStatus.toUpperCase()||"TENENT"===e.BookingStatus.toUpperCase()||"MEMBER"===e.BookingStatus.toUpperCase())}}function Bi(e,t){1&e&&(r.TgZ(0,"div",183),r.TgZ(1,"button",184),r._UZ(2,"i",185),r.qZA(),r.YNc(3,Ri,20,15,"ul",186),r.qZA())}function Yi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",166),r.NdJ("keydown.enter",function(){const t=r.CHM(e).$implicit,i=r.oxw(5);return null!=t.PK_Id&&i.editOnArrowEvent(t.PK_Id)})("keydown.arrowdown",function(){const t=r.CHM(e).index;return r.oxw(5).sitestrService.arrowDownEvent(t+151)})("keydown.arrowup",function(){const t=r.CHM(e).index;return r.oxw(5).sitestrService.arrowUpEvent(t+149)}),r.TgZ(1,"td"),r.TgZ(2,"div",156),r._UZ(3,"label",167),r.TgZ(4,"input",168),r.NdJ("ngModelChange",function(t){return r.CHM(e).$implicit.Ick=t})("change",function(){return r.CHM(e),r.oxw(5).selectSinglechange()}),r.qZA(),r.qZA(),r.qZA(),r.YNc(5,qi,3,2,"ng-container",159),r.TgZ(6,"td",169),r.YNc(7,Bi,4,0,"div",170),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,i=t.index,n=r.oxw(5);r.ekj("ToTalBackgroung",null==e.PK_Id),r.s9C("tabindex",i+150),r.xp6(3),r.MGl("for","item_",i,""),r.xp6(1),r.MGl("id","item_",i,""),r.MGl("name","item_",i,""),r.Q6J("checked",e.Ick)("ngModel",e.Ick),r.xp6(1),r.Q6J("ngForOf",n.columnList),r.xp6(2),r.Q6J("ngIf",null!=e.PK_Id)}}function Gi(e,t){if(1&e&&(r.TgZ(0,"tbody",163,164),r.YNc(2,Yi,8,10,"tr",165),r.qZA()),2&e){const e=r.oxw(4);r.xp6(2),r.Q6J("ngForOf",e.siteStrList)}}function Hi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"table",154),r.TgZ(1,"thead",155),r.TgZ(2,"tr"),r.TgZ(3,"th"),r.TgZ(4,"div",156),r.TgZ(5,"input",157),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).selectedAll=t})("change",function(t){return r.CHM(e),r.oxw(3).selectAllchange(t)}),r.qZA(),r._UZ(6,"label",158),r.qZA(),r.qZA(),r.YNc(7,ui,2,1,"ng-container",159),r.TgZ(8,"th",160),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).FilterData()}),r._uU(9,"Editor & Date"),r.qZA(),r.TgZ(10,"th"),r._uU(11,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.YNc(12,Gi,3,1,"tbody",161),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(5),r.Q6J("checked",e.selectedAll)("ngModel",e.selectedAll),r.xp6(2),r.Q6J("ngForOf",e.columnList),r.xp6(1),r.Q6J("dirsort",e.sitestrService)("sortcolumn","ModifiedDate"),r.xp6(4),r.Q6J("ngIf",!e.isLoading)}}function Vi(e,t){if(1&e&&(r.TgZ(0,"div",150),r.TgZ(1,"div",98),r.TgZ(2,"div",151),r.TgZ(3,"strong"),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(4);r.xp6(4),r.Oqu(e.PageName)}}function Ki(e,t){if(1&e&&(r.TgZ(0,"th",203),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(4);r.s9C("sortcolumn",e),r.Q6J("dirsort",t.sitestrService),r.xp6(1),r.Oqu(e)}}function $i(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Ki,2,3,"th",202),r.BQk()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("ngIf","ModifiedDate"!==e&&"ModifiedBy"!==e)}}function Wi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",199),r.YNc(1,Vi,5,1,"div",146),r.TgZ(2,"table",200),r.TgZ(3,"thead",155),r.TgZ(4,"tr"),r.TgZ(5,"th"),r.TgZ(6,"div",156),r.TgZ(7,"input",157),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).selectedAll=t})("change",function(t){return r.CHM(e),r.oxw(3).selectAllchange(t)}),r.qZA(),r._UZ(8,"label",158),r.qZA(),r.qZA(),r.YNc(9,$i,2,1,"ng-container",159),r.TgZ(10,"th",201),r._uU(11,"Editor & Date"),r.qZA(),r.TgZ(12,"th"),r._uU(13,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",0==(e.sitestrService.isMobile||e.sitestrService.IsMobileview)),r.xp6(6),r.Q6J("checked",e.selectedAll)("ngModel",e.selectedAll),r.xp6(2),r.Q6J("ngForOf",e.columnList),r.xp6(1),r.Q6J("dirsort",e.sitestrService)}}function ji(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",145),r.YNc(1,di,8,2,"div",146),r.TgZ(2,"div",147),r.NdJ("scrolled",function(t){return r.CHM(e),r.oxw(2).onSiteScroll(t)}),r.YNc(3,Hi,13,6,"table",148),r.qZA(),r.YNc(4,Wi,14,5,"div",149),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",0==(e.sitestrService.isMobile||e.sitestrService.IsMobileview)),r.xp6(1),r.Q6J("scrollWindow",!0),r.xp6(1),r.Q6J("ngIf",e.siteStrList.length>0),r.xp6(1),r.Q6J("ngIf",e.siteStrList.length>0)}}function zi(e,t){if(1&e&&(r.TgZ(0,"ion-col",219),r.TgZ(1,"span",220),r._uU(2),r.qZA(),r._uU(3,":"),r._UZ(4,"br"),r.TgZ(5,"span"),r._uU(6),r.qZA(),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw().$implicit;r.xp6(2),r.Oqu(e),r.xp6(4),r.Oqu(t[e])}}function Xi(e,t){if(1&e&&(r.ynx(0),r.YNc(1,zi,7,2,"ion-col",218),r.BQk()),2&e){const e=t.$implicit,i=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf",i[e]=i[e]||(i[e]=i[e]||(i[e]=i[e])))}}function en(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ion-card"),r.TgZ(1,"ion-row"),r.YNc(2,Xi,2,1,"ng-container",159),r.qZA(),r.TgZ(3,"ion-row"),r.TgZ(4,"ion-col",212),r.TgZ(5,"ion-card-content",213),r.TgZ(6,"a",214),r.NdJ("click",function(e){return e.stopPropagation()})("clickAllowed",function(){const t=r.CHM(e).$implicit;return r.oxw(3).sitestrService.delete(t.PK_Id)}),r._UZ(7,"ion-icon",215),r._uU(8," Site Structure "),r.qZA(),r.TgZ(9,"a",214),r.NdJ("click",function(e){return e.stopPropagation()})("clickAllowed",function(){const t=r.CHM(e).$implicit;return r.oxw(3).sitestrService.DeleteBooking(t.PK_Id)}),r._UZ(10,"ion-icon",215),r._uU(11," Booking "),r.qZA(),r.TgZ(12,"a",216),r.NdJ("click",function(e){return e.stopPropagation()})("clickAllowed",function(){const t=r.CHM(e).$implicit;return r.oxw(3).edit(t.PK_Id)}),r._UZ(13,"ion-icon",217),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("ngForOf",e.columnList),r.xp6(4),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(3),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(3),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function tn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",163),r.TgZ(1,"ion-content"),r.TgZ(2,"ion-refresher",204),r.NdJ("ionRefresh",function(t){return r.CHM(e),r.oxw(2).doRefresh(t)}),r._UZ(3,"ion-refresher-content",205),r.qZA(),r.TgZ(4,"ion-virtual-scroll",206,207),r.YNc(6,en,14,7,"ion-card",208),r.qZA(),r.TgZ(7,"ion-infinite-scroll",209,210),r.NdJ("ionInfinite",function(t){return r.CHM(e),r.oxw(2).onSiteScroll(t)}),r._UZ(9,"ion-infinite-scroll-content",211),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Udp("height",e.sitestrService.mobileContainer),r.xp6(4),r.Q6J("items",e.siteStrList),r.xp6(5),r.s9C("loadingText",e.sitestrService.nextloading)}}function nn(e,t){1&e&&(r.TgZ(0,"ion-card",222),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col",223),r._UZ(3,"ion-skeleton-text",224),r.qZA(),r.qZA(),r.TgZ(4,"ion-row"),r.TgZ(5,"ion-col"),r._UZ(6,"ion-skeleton-text",225),r.qZA(),r.TgZ(7,"ion-col"),r._UZ(8,"ion-skeleton-text",226),r.qZA(),r.TgZ(9,"ion-col"),r._UZ(10,"ion-skeleton-text",225),r.qZA(),r.TgZ(11,"ion-col",227),r._UZ(12,"ion-skeleton-text",228),r.qZA(),r.qZA(),r.TgZ(13,"ion-row"),r.TgZ(14,"ion-col"),r._UZ(15,"ion-skeleton-text",225),r.qZA(),r.TgZ(16,"ion-col"),r._UZ(17,"ion-skeleton-text",226),r.qZA(),r.TgZ(18,"ion-col"),r._UZ(19,"ion-skeleton-text",225),r.qZA(),r.TgZ(20,"ion-col",227),r._UZ(21,"ion-skeleton-text",228),r.qZA(),r.qZA(),r.TgZ(22,"ion-row"),r.TgZ(23,"ion-col"),r._UZ(24,"ion-skeleton-text",226),r.qZA(),r.TgZ(25,"ion-col"),r._UZ(26,"ion-skeleton-text",225),r.qZA(),r.TgZ(27,"ion-col",227),r._UZ(28,"ion-skeleton-text",228),r.qZA(),r.qZA(),r.qZA())}function rn(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,nn,29,0,"ion-card",221),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",e.sitestrService.noImageRepeat)}}function sn(e,t){1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._UZ(2,"ion-skeleton-text",229),r.qZA(),r.TgZ(3,"td"),r._UZ(4,"ion-skeleton-text",229),r.qZA(),r.TgZ(5,"td"),r._UZ(6,"ion-skeleton-text",229),r.qZA(),r.TgZ(7,"td"),r._UZ(8,"ion-skeleton-text",229),r.qZA(),r.TgZ(9,"td"),r._UZ(10,"ion-skeleton-text",229),r.qZA(),r.TgZ(11,"td"),r._UZ(12,"ion-skeleton-text",229),r.qZA(),r.TgZ(13,"td"),r._UZ(14,"ion-skeleton-text",229),r.qZA(),r.TgZ(15,"td"),r._UZ(16,"ion-skeleton-text",229),r.qZA(),r.TgZ(17,"td"),r._UZ(18,"ion-skeleton-text",229),r.qZA(),r.TgZ(19,"td"),r._UZ(20,"ion-skeleton-text",229),r.qZA(),r.TgZ(21,"td"),r._UZ(22,"ion-skeleton-text",229),r.qZA(),r.TgZ(23,"td"),r._UZ(24,"ion-skeleton-text",229),r.qZA(),r.TgZ(25,"td"),r._UZ(26,"ion-skeleton-text",229),r.qZA(),r.TgZ(27,"td"),r._UZ(28,"ion-skeleton-text",229),r.qZA(),r.TgZ(29,"td"),r._UZ(30,"ion-skeleton-text",229),r.qZA(),r.TgZ(31,"td"),r._UZ(32,"ion-skeleton-text",229),r.qZA(),r.TgZ(33,"td"),r._UZ(34,"ion-skeleton-text",229),r.qZA(),r.TgZ(35,"td"),r._UZ(36,"ion-skeleton-text",229),r.qZA(),r.TgZ(37,"td"),r._UZ(38,"ion-skeleton-text",229),r.qZA(),r.TgZ(39,"td"),r._UZ(40,"ion-skeleton-text",229),r.qZA(),r.TgZ(41,"td"),r._UZ(42,"ion-skeleton-text",229),r.qZA(),r.qZA())}function on(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"table",154),r.TgZ(2,"thead",155),r.TgZ(3,"tr"),r.TgZ(4,"th"),r._UZ(5,"ion-skeleton-text",229),r.qZA(),r.TgZ(6,"th"),r._UZ(7,"ion-skeleton-text",229),r.qZA(),r.TgZ(8,"th"),r._UZ(9,"ion-skeleton-text",229),r.qZA(),r.TgZ(10,"th"),r._UZ(11,"ion-skeleton-text",229),r.qZA(),r.TgZ(12,"th"),r._UZ(13,"ion-skeleton-text",229),r.qZA(),r.TgZ(14,"th"),r._UZ(15,"ion-skeleton-text",229),r.qZA(),r.TgZ(16,"th"),r._UZ(17,"ion-skeleton-text",229),r.qZA(),r.TgZ(18,"th"),r._UZ(19,"ion-skeleton-text",229),r.qZA(),r.TgZ(20,"th"),r._UZ(21,"ion-skeleton-text",229),r.qZA(),r.TgZ(22,"th"),r._UZ(23,"ion-skeleton-text",229),r.qZA(),r.TgZ(24,"th"),r._UZ(25,"ion-skeleton-text",229),r.qZA(),r.TgZ(26,"th"),r._UZ(27,"ion-skeleton-text",229),r.qZA(),r.TgZ(28,"th"),r._UZ(29,"ion-skeleton-text",229),r.qZA(),r.TgZ(30,"th"),r._UZ(31,"ion-skeleton-text",229),r.qZA(),r.TgZ(32,"th"),r._UZ(33,"ion-skeleton-text",229),r.qZA(),r.TgZ(34,"th"),r._UZ(35,"ion-skeleton-text",229),r.qZA(),r.TgZ(36,"th"),r._UZ(37,"ion-skeleton-text",229),r.qZA(),r.TgZ(38,"th"),r._UZ(39,"ion-skeleton-text",229),r.qZA(),r.TgZ(40,"th"),r._UZ(41,"ion-skeleton-text",229),r.qZA(),r.TgZ(42,"th"),r._UZ(43,"ion-skeleton-text",229),r.qZA(),r.TgZ(44,"th"),r._UZ(45,"ion-skeleton-text",229),r.qZA(),r.qZA(),r.qZA(),r.TgZ(46,"tbody",163),r.YNc(47,sn,43,0,"tr",159),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(47),r.Q6J("ngForOf",e.sitestrService.noImageRepeat)}}function ln(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r._UZ(1,"div",231),r._UZ(2,"br"),r.TgZ(3,"div",232),r._uU(4,"Add your first record by clicking in below button. "),r._UZ(5,"br"),r._UZ(6,"br"),r.TgZ(7,"input",233),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(3).edit("")}),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(7),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function an(e,t){if(1&e&&(r.TgZ(0,"div",230),r._UZ(1,"br"),r._UZ(2,"br"),r.YNc(3,ln,8,2,"div",76),r._UZ(4,"br"),r._UZ(5,"br"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(3),r.Q6J("ngIf",e.noDataImage)}}function cn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",234),r.TgZ(1,"div",235),r.TgZ(2,"button",236,237),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).GeneratePDF(1)}),r._UZ(4,"i",238),r.qZA(),r.TgZ(5,"button",239,237),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).GeneratePDF(2)}),r._UZ(7,"i",240),r.qZA(),r.TgZ(8,"button",241,237),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).ExportExcel()}),r._UZ(10,"i",242),r.qZA(),r.TgZ(11,"button",243),r._UZ(12,"i",244),r.qZA(),r.TgZ(13,"button",245),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(2).edit("")}),r._UZ(14,"i",246),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(13),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function dn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",234),r.TgZ(1,"div",235),r.TgZ(2,"button",247,237),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).GeneratePDF(1)}),r._UZ(4,"i",238),r.qZA(),r.TgZ(5,"button",248,237),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).GeneratePDF(2)}),r._UZ(7,"i",240),r.qZA(),r.TgZ(8,"button",249),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).toggleExcelImport()}),r._UZ(9,"i",250),r.qZA(),r.TgZ(10,"button",241,237),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).ExportExcel()}),r._UZ(12,"i",242),r.qZA(),r.TgZ(13,"button",243),r._UZ(14,"i",244),r.qZA(),r.TgZ(15,"button",245),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(2).edit("")}),r._UZ(16,"i",246),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(15),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function gn(e,t){if(1&e&&(r.TgZ(0,"div",71),r.YNc(1,ai,98,25,"div",72),r.YNc(2,ci,12,1,"div",73),r.YNc(3,ji,5,4,"div",74),r.YNc(4,tn,10,4,"div",75),r.YNc(5,rn,2,1,"div",76),r.YNc(6,on,48,1,"div",76),r.YNc(7,an,6,1,"div",77),r.YNc(8,cn,15,2,"div",78),r.YNc(9,dn,17,2,"div",78),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",!e.sitestrService.IsMobileview),r.xp6(1),r.Q6J("ngIf",e.sitestrService.IsMobileview),r.xp6(1),r.Q6J("ngIf",!e.sitestrService.IsMobileview),r.xp6(1),r.Q6J("ngIf",e.siteStrList.length>0&&e.sitestrService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.siteStrList.length&&!e.noDataImage&&e.sitestrService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.siteStrList.length&&!e.noDataImage&&!e.sitestrService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.siteStrList.length),r.xp6(1),r.Q6J("ngIf",e.sitestrService.IsMobileview),r.xp6(1),r.Q6J("ngIf",!e.sitestrService.IsMobileview)}}function un(e,t){if(1&e&&(r.TgZ(0,"small",136),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.AsE(" Loaded ",e.siteService.result.length," of ",e.siteService.totalItems," ")}}function hn(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Email is required"),r.qZA())}function pn(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Email must be a valid email address"),r.qZA())}function mn(e,t){if(1&e&&(r.TgZ(0,"div",251),r.YNc(1,hn,2,0,"div",76),r.YNc(2,pn,2,0,"div",76),r.qZA()),2&e){r.oxw();const e=r.MAs(53);r.xp6(1),r.Q6J("ngIf",e.errors.required),r.xp6(1),r.Q6J("ngIf",e.errors.email)}}function fn(e,t){if(1&e&&(r.TgZ(0,"small",136),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.AsE(" Loaded ",e.siteService.result.length," of ",e.siteService.result.length," ")}}function Zn(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Site selection is required"),r.qZA())}function vn(e,t){if(1&e&&(r.TgZ(0,"div",251),r.YNc(1,Zn,2,0,"div",76),r.qZA()),2&e){r.oxw();const e=r.MAs(90);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function An(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Document Selection required"),r.qZA())}function Tn(e,t){if(1&e&&(r.TgZ(0,"div",251),r.YNc(1,An,2,0,"div",76),r.qZA()),2&e){r.oxw();const e=r.MAs(61);r.xp6(1),r.Q6J("ngIf",""==e.value)}}function bn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"app-booking-form",252),r.NdJ("BookingredirectAction",function(t){return r.CHM(e),r.oxw().onBookAFlat(t)}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("BookingredirectOnCancel",!1)("SiteId",e.SiteidBooking)("InquiryId",-1)("SiteStructure",e.selFlat)("customerId",0)("IsSiteStructureBooking",!1)}}const Sn=function(e){return{"is-invalid":e}};let xn=(()=>{class e{constructor(e,t,i,n,s,l,a,c,g,u,h,p,m){this.companyledgerservice=e,this.filterService=t,this.popoverController=i,this.sitestrService=n,this.alertService=s,this._config=l,this.page=a,this.siteService=c,this.flattypeService=g,this.route=u,this.router=h,this.location=p,this.templateService=m,this.sitestructuredetail={},this.documentoption=["ALLOTMENT","AGREEMENT","Booking_Demand_Letter","BANK_NOC"],this.isList=!0,this._sgId=0,this.noDataImage=!1,this.IssitestrAddEdit=!1,this.openBookingModal=!1,this.SiteidBooking=0,this.currentScrollPosition=0,this.popupwindow="",this.IsImportHidden=!0,this.isMultipleInquiryDelete=!1,this.selectedAll=!1,this.bookingObject={},this.isBusy=!0,this.httpfunction=new d.r,this.curSitestr=0,this.isLoading=!1,this.Templatedata=[],this.isDeshboardFilter=!1,this.status={isOpen:!1},this.SiteredirectOnCancel=!0,this.redirectActiononISite=new r.vpe,this.isScrollEnabled=!0,this.sfilter=new o.e,this.columnList=[],this.siteStrList=[],this.siteStrListSearch=[],this.BuildingcolumnList=[],this.WingcolumnList=[],this.searchResults=[],this.pageCount=0,this.hideBookingStatus=!1,this.IsBookingPage=!0,this.sortarray=[{order:this.sitestrService.sortorder,column:"Building",title:"By Building No"},{order:this.sitestrService.sortorder,column:"Wings",title:"By Wing No"},{order:this.sitestrService.sortorder,column:"FlatNumber",title:"By Flat No"},{order:this.sitestrService.sortorder,column:"FlatType",title:"By Room Type"},{order:this.sitestrService.sortorder,column:"SalebleArea",title:"By Salable Area"},{order:this.sitestrService.sortorder,column:"BookingStatus",title:"By Booking Status"},{order:this.sitestrService.sortorder,column:"Status",title:"By Status"}],this.bookingItems=[{id:0,name:"All"},{id:1,name:"sold"},{id:2,name:"member"},{id:3,name:"OnHold"},{id:4,name:"UnSoldandOnHold"}],this.Booking_stat="Book Now",this.route.params.subscribe(e=>{"/marketing/bookinglist"==this.router.url&&(this.hideBookingStatus=!0,this.IsBookingPage=!0,this.sfilter.available=1,this.PageName="Booked Units List"),"/masters/sitestructure"==this.router.url?(this.sfilter.available=2,this.PageName="Available Units List",this.IsBookingPage=!1):null!=e.SiteId?(this.SiteId=e.SiteId,this.sfilter.siteid=this.SiteId,null!=e.InqId&&(this.InqId=e.InqId)):null!=e.SiteidOrBuldingNm?(1==e.type&&(this.SiteId=JSON.parse(e.SiteidOrBuldingNm)),2==e.type&&(this.BuildingNm=e.SiteidOrBuldingNm),this.isDeshboardFilter=!0):this.resetUrl()}),this.templateService.GetAlldata(),this.templateService.isGetSubscribe=!0,this.subscription=this.templateService.resultObs.subscribe(e=>{})}onPopState(e){this.isList||(this.isList=!this.isList)}doRefresh(e){this.filterService.updatedata(!0,"Available Flat List"),this.FilterData()}ngOnInit(){if(setTimeout(()=>{this.sitestrService.arrowDownEvent(150)},400),setTimeout(()=>{this.filterService.changeFilter(!0,!0,"Available Flat List")},200),this.siteService.GetAllsitesforsitestructure(),this.SignupId=this.sitestrService.getSignupId,this.UserId=this.sitestrService.GetUserId,this.companyledgerservice.GetAlldatawithsub(!0),this.httpfunction.scrolltop(),this.isScrollEnabled=!0,this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this)),""!=this.httpfunction.getStorage("_filterData")){let t=JSON.parse(this.httpfunction.getStorage("_filterData"));if(null!=t&&null!=t){var e=t.find(e=>"Available Flat List"==e.Module);if(null!=e||null!=e){null!=e.SearchFilter.filter&&"string"!=typeof e.SearchFilter.filter&&(e.SearchFilter.filter="");let t=this.sfilter.available;this.sfilter=e.SearchFilter,this.sfilter.available=t,this.FilterData()}else this.FilterData()}else this.FilterData()}else this.FilterData()}OnKeydown(e){var t=e.key||e.keyCode;("Backspace"==t&&e.altKey||"Escape"==t)&&(this.isList=!0,this.resetUrl(),setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.sitestrService.arrowDownEvent(this.sitestrService.selectedRowIndex)},150))}ngOnDestroy(){if(this.IssitestrAddEdit||this.filterService.RemoveFillLocalData("Available Flat List"),""!=this.httpfunction.getStorage("_filterData")){let e=JSON.parse(this.httpfunction.getStorage("_filterData")).reverse();if(null!=e&&null!=e)for(let t=0;t<e.length;t++)"Daybook"==e[t].Module&&this.filterService.RemoveFillLocalData("Daybook"),"Ledger"==e[t].Module&&this.filterService.RemoveFillLocalData("Ledger"),"Outstanding Receivable"==e[t].Module&&this.filterService.RemoveFillLocalData("Outstanding Receivable")}null!=this.subscription&&this.subscription.unsubscribe(),null!=this.SiteSubscription&&this.SiteSubscription.unsubscribe(),this.sitestrService.resetService()}change(e){this.status.isOpen=e}toggleDropdown(e){$("#adv-search").dropdown("hide")}cancel(e){0==this.SiteredirectOnCancel?(this.currentScrollPosition=document.scrollingElement.scrollTop,this.redirectActiononISite.emit(e)):(setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.filterService.changeFilter(!0,!0,"Available Flat List"),this.sitestrService.arrowDownEvent(this.sitestrService.selectedRowIndex)},200),this.form.resetForm(),this.resetUrl(),this.httpfunction.scrolltop(),this.isScrollEnabled=!0)}resetUrl(){this.isList=!0;let e=this.router.url;this.route.params.subscribe(t=>{null!=t.id&&""!=t.id&&(e=e.replace("/"+t.id,"")),this.location.go(e)}),this._sgId=0}edit(e){this.IssitestrAddEdit=!0,this.router.navigate(e>0?1==this.hideBookingStatus?["/marketing/bookingform/"+e]:["/masters/sitestructure/"+e]:["/masters/sitestructure/add"])}DeleteStructure(e,t){this.httpfunction.IsMobileview()?this.alertService.showMobileConfirm("Confirm Delete","Are you sure you want to delete this record","No","Delete").then(i=>{null!=i&&1==i.data&&(1==e?this.sitestrService.delete(t).subscribe(e=>{this.siteStrList=this.siteStrList.filter(e=>e.PK_Id!=t)}):this.sitestrService.DeleteBooking(t).subscribe(e=>{this.siteStrList=this.siteStrList.filter(e=>e.PK_Id!=t)}))}):this.alertService.showconfirm("Confirm","Are you sure you want to delete this record",["Yes","No"],null).subscribe(i=>{null!=i&&"Yes"==i.answer&&(1==e?this.sitestrService.delete(t).subscribe(e=>{this.siteStrList=this.siteStrList.filter(e=>e.PK_Id!=t)}):this.sitestrService.DeleteBooking(t).subscribe(e=>{this.siteStrList=this.siteStrList.filter(e=>e.PK_Id!=t)}))})}onSiteScroll(e){}DownloadFile(e){null!=this.SiteIdUpload&&this.sitestrService.GetSiteStructureColumn(this.SiteIdUpload.UIDN,e).subscribe(e=>{if(null!=e){var t=this.SiteIdUpload.SN,i=e.RegColumn.split(","),n=[];null!=e.LoanColumn&&(n=e.LoanColumn.split(","));for(let e=0;e<n.length;e++){const t=n[e];i.push(t),i.push(t+"_CommitmentDate")}var r=[];for(let e=0;e<i.length;e++){var s={};s.value=i[e],s.type="string",r.push(s)}this.sitestrService.saveAsExcel(t,[r])}})}toggleExcelImport(){this._myImageModal.show(),this.IsImportHidden=!this.IsImportHidden}goback(){this.location.back()}FilterData(){return this.isLoading=!0,null==this.sfilter.available&&null==this.sfilter.available&&(this.sfilter.available=0),null==this.sfilter.flatno&&(this.sfilter.flatno=""),this.isDeshboardFilter&&(null!=this.SiteId&&(this.sfilter.STIarray=[],this.sfilter.STIarray.push(this.SiteId)),null!=this.BuildingNm&&(this.sfilter.filter=this.BuildingNm)),null==this.sfilter.STIarray||null!=this.sfilter.STIarray&&0==this.sfilter.STIarray.length?(this.sfilter.STIarray=null,this.sfilter.STI=null):this.sfilter.STI=JSON.parse(JSON.stringify(this.sfilter.STIarray)),""==this.sfilter.BookingSts&&(this.sfilter.BookingSts=null),null==this.sfilter.Wngarray&&(this.sfilter.Wngarray=null),null==this.sfilter.Bldarray&&(this.sfilter.Bldarray=null),""==this.sfilter.BlockRange&&(this.sfilter.BlockRange=null),""==this.sfilter.AmountRange&&(this.sfilter.AmountRange=null),this.sfilter.available=1==this.IsBookingPage?1:2,this.sitestrService.filterArg=this.sfilter,this.sitestrService.GetAlldataWithReturn().subscribe(e=>{if(this.pageCount+=1,this.isLoading=!1,this.sitestrService.result=[],e.m_Item2>0){var t=Object.getOwnPropertyNames(e.m_Item1[0][0]),i="PK_Id,Status,SiteId,AllotmentLetter,BankNoc,DemantLetter,Receipt,Quotation,AgreementLetter,IsFinalBook".split(",");for(let e=0;e<i.length;e++){var n=t.indexOf(i[e]);n>-1&&t.splice(n,1)}this.columnList=t,this.siteStrList=e.m_Item1[0],1==this.pageCount&&(this.siteStrListSearch=this.siteStrList),this.buildingColValue=e.m_Item1[1][0].BuildingCol.replace(/\[|\]/g,""),this.wingColValue=e.m_Item1[1][0].WingCol.replace(/\[|\]/g,"");const{Building:r,Wing:s}=this.findUniqueValuesByColumns(this.buildingColValue,this.wingColValue);if(this.BuildingcolumnList=r,this.WingcolumnList=s,this.siteStrList.sort((e,t)=>null===e.PK_Id&&null!==t.PK_Id?-1:null!==e.PK_Id&&null===t.PK_Id?1:0),this.siteStrList.length>0){for(let e=0;e<this.siteStrList.length;e++)null!=this.siteStrList[e].AllotmentDate&&null!=this.siteStrList[e].AllotmentDate&&(this.siteStrList[e].AllotmentDate=moment(this.siteStrList[e].AllotmentDate).format("DD-MMM-YYYY")),null!=this.siteStrList[e].AgreementDate&&null!=this.siteStrList[e].AgreementDate&&(this.siteStrList[e].AgreementDate=moment(this.siteStrList[e].AgreementDate).format("DD-MMM-YYYY"));"FlatNo"==this.sitestrService.sortcolumn&&this.siteStrList.sort(0==this.sitestrService.sortorder?function(e,t){return e.FlatNo-t.FlatNo}:function(e,t){return t.FlatNo-e.FlatNo})}}1==this.isBusy&&(this.isBusy=!1),0==this.siteStrList.length&&(this.noDataImage=!0)}),this.httpfunction.IsMobileview()||this.filterService.fillLocalData(this.sitestrService.filterArg,"Available Flat List"),!1}findUniqueValuesByColumns(e,t){const i=[],n=[],r=new Set,s=new Set;return this.siteStrListSearch.forEach(o=>{if(o.hasOwnProperty(e)){const t=o[e];null!==t&&!r.has(t)&&(i.push(t),r.add(t))}if(o.hasOwnProperty(t)){const e=o[t];null!==e&&!s.has(e)&&(n.push(e),s.add(e))}}),{Building:i,Wing:n}}GenerateDocument(e,t,i){this.sfilter.CompanyId=this.sitestrService.getCompanyId,this.sfilter.SignupId=this.sitestrService.getSignupId,this.sfilter.InquiryId=this.bookingObject.InquiryId,this.sfilter.siteid=t,this.sfilter.sitestructureid=e,this.sfilter.DocType=i,this.sitestrService.filterArg=this.sfilter,this.sitestrService.GenerateDocument(this.sitestrService.filterArg).subscribe(e=>{if(""!=e||null!=e){var t=window.open(e.data,"_blank");t.focus(),t.print()}})}onBookAFlat(e){if(null!=e){setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition},250);var t=this.sitestrService.result.findIndex(e=>e.UIDN==this.selFlat.UIDN);t>-1&&this.sitestrService.result.splice(t,1),this.addurl("masters/sitestructure"),this.sitestrService.openBrowser(e),this.FilterData()}this.openBookingModal=!1,this.isList=!0,this.resetUrl()}addurl(e){let t=e,i=this.router.url;i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0),this.route.params.subscribe(e=>{null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),this.location.go(`${i}/${t}`)})}exportheader(e,t){let i="All";null!=e&&""!=e&&(i=e),this.sitestrService.filterHeader=" SearchBy : "+i+" ",this.sitestrService.Export(t)}cleardata(){this.sfilter.available=null,this.sfilter.siteid=null,this.sfilter.flatno=null,this.sfilter.Building=null,this.sfilter.Building=[],this.sfilter.Wing=null,this.sfilter.roomtype=null,this.sfilter.filter=null,this.sfilter.STI=[],this.sfilter.STIarray=[],this.sfilter.BookingSts="",this.sfilter.Wngarray=null,this.sfilter.Bldarray=null,this.sfilter.AmountRange="",this.sfilter.Amount="",this.sfilter.Area="",this.sfilter.BlockRange="",this.isDeshboardFilter=!1}clearfilterandloadnewdata(){this.cleardata(),this.FilterData()}sortPopover(e){return(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:g.r,cssClass:"my-custom-class",event:e,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:(e,i)=>{let n=new c.p(e,i);this.sitestrService.sortdata=n,t.dismiss()}}});return yield t.present()})}advSearchM(){this._SearchModal.show()}editOnArrowEvent(e){this.httpfunction.RolebaseData("StStr")?this.edit(e):this.alertService.showInfo("Error","You do not have sufficient rights to perform this action. Please contact administrator.")}CloseImagePopup(){this._myImageModal.hide()}onExcelAdd(e){this.excelfileData=[];for(let t=0;t<e.length;t++){let i=new a.Q;i.name=e[t].name,i.operationType=0,i.src=e[t].src,i.CompanyId=this.sitestrService.getCompanyId,i.SignupId=this.sitestrService.getSignupId,i.FileLength=e[t].size,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.sitestrService.userid,i.modifyBy=this.sitestrService.userid,this.excelfileData.push(i)}}onExcelSubmit(){null!=this.excelfileData&&this.excelfileData.length>0?(this.excelfileData[0].Site_PK_Id=this.SiteIdUpload.UIDN,this.sitestrService.ImportExcel(this.excelfileData).subscribe(()=>{this.excelfileData=[],this.IsImportHidden=!this.IsImportHidden,this.doRefresh(null)},()=>{this.excelfileData=[],this.IsImportHidden=!this.IsImportHidden}),this.SiteIdUpload=[],this._myImageModal.hide(),this.IsImportHidden=!this.IsImportHidden):this.alertService.showError("Error","Please select atleast one File")}GeneratePDF(e){var t=this.siteStrList;let i=new Array;for(let c=0;c<t.length;c++){var n=t[c];let e=new Array;for(let t=0;t<this.columnList.length;t++){let i={};i=n[this.columnList[t]],e.push(i)}i.push(e)}this.sitestrService.ExportColumn=[{title:"finalarray",dataKey:"finalarray",size:50}];let r=new Array;var s=[],o=[];for(let c=0;c<this.columnList.length;c++)s.push({text:this.columnList[c],style:"tableHeader"}),o.push(null==this.columnList[c].size?"auto":this.columnList[c].size);r.push(s);for(let c=0;c<i.length;c++){const e=i[c];var l=[];let t=new Array;for(let i=0;i<e.length;i++)l.push(""!=e[i]&&null!=e[i]&&null!=e[i]?e[i]:""),t.push(l);r.push(t[0])}var a="Printed on : "+moment(new Date).format("DD MMM YYYY hh:mm:ss");this.sitestrService.GeneratePDF(e,a,this.PageName,o,r,"4A0")}ExportExcel(){let e="",t="";t="Page Name :"+this.PageName+"Printed on : "+moment(new Date).format("DD MMM YYYY hh:mm:ss")+"\r\n";for(let s=0;s<this.columnList.length;s++)t+='"'+this.columnList[s]+'",';let i=new Array;t=t.slice(0,-1),e+=t+"\r\n",i.push(t);for(let s=0;s<this.siteStrList.length;s++){const t=this.siteStrList[s];let r="";new Array;for(let e=0;e<this.columnList.length;e++){var n=this.columnList[e];r+=""!=t[n]&&null!=t[n]&&null!=t[n]?'"'+t[n]+'",':'"",'}r=r.slice(0,-1),e+=r+"\r\n",i.push(r)}var r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href="data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURI(e),r.download="SiteStructure.csv",(new Date).toISOString(),r.click(),r.remove()}OpenEmailPopup(e,t,i){if(this.sitestructuredetail=this.siteStrList.filter(t=>t.PK_Id==e),this.documentoptioninpopup=Object.assign([],this.documentoption),null==this.sitestructuredetail[0].AllotmentLetter){let e=this.documentoptioninpopup.findIndex(e=>"ALLOTMENT"===e);e>0&&this.documentoptioninpopup.splice(e,1)}if(null==this.sitestructuredetail[0].AgreementLetter){let e=this.documentoptioninpopup.findIndex(e=>"AGREEMENT"===e);e>0&&this.documentoptioninpopup.splice(e,1)}if(null==this.sitestructuredetail[0].DemantLetter){let e=this.documentoptioninpopup.findIndex(e=>"Booking_Demand_Letter"===e);e>0&&this.documentoptioninpopup.splice(e,1)}if(null==this.sitestructuredetail[0].BankNoc){let e=this.documentoptioninpopup.findIndex(e=>"BANK_NOC"===e);e>0&&this.documentoptioninpopup.splice(e,1)}if(null==this.sitestructuredetail[0].CusLedgerId)this.alertService.showInfo("Warning","Please Select Customer Account");else{var n=this.companyledgerservice.result.filter(e=>e.UIDN==this.sitestructuredetail[0].CusLedgerId);this.SiteId=t,this.Ledgeremail=n[0].Eml,this._EmailModal.show()}}CloseEmailPopup(){this._EmailModal.hide()}SendEmail(e,t){let i=new l.bh;i.ToEmailId=e.value.email,i.documenttype=e.value.DocumentType,i.CI=this.sitestrService.getCompanyId,i.SI=this.sitestrService.getSignupId,i.SiteStrId=t[0].PK_Id,i.SiteId=t[0].SiteId,i.SendType="EM","ALLOTMENT"==i.documenttype&&(i.documentlink=t[0].AllotmentLetter),"AGREEMENT"==i.documenttype&&(i.documentlink=t[0].AgreementLetter),"Booking_Demand_Letter"==i.documenttype&&(i.documentlink=t[0].DemantLetter),"BANK_NOC"==i.documenttype&&(i.documentlink=t[0].BankNoc),this.sitestrService.SendEmail(i).subscribe(e=>{})}OpenOtherDocumentPopup(e,t){this.OtherDocSitestrPk_id=e,this.OtherDocSiteId=t;const i=["Receipt","Contra","Journal","Sales","Purchase","Payment","Quotation","AGREEMENT","SignupSMS","SignupVerify","PaymentEmail","PaymentReceipt","ALLOTMENT","Booking_Demand_Letter","Demand_Letter","BOOKING FORM"],n=t>0&&null!==t?this.templateService.result.filter(e=>e.SI===t||0===e.SI):this.templateService.result;this.Templatedata=n.filter(e=>!i.includes(e.TN)&&1==e.baseTemplate&&!e.TN.toLowerCase().includes("demand")),this._OtherDocument.show()}CloseOtherDocumentPopup(){this._OtherDocument.hide()}GenerateOtherDocument(e){e.valid&&this.GenerateDocument(this.OtherDocSitestrPk_id,this.OtherDocSiteId,this.SelectedOtherDocument.TN),this._OtherDocument.hide()}onImageAdd(e){this.excelfileData=[];for(let t=0;t<e.length;t++){let i=new a.Q;i.name=e[t].name,i.operationType=e[t].operationType,i.src=e[t].src,i.src=e[t].src,i.BuildingMaster_PK_Id=e[t].Booking_Pk_Id,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.sitestrService.userid,i.modifyBy=this.sitestrService.userid,i.CompanyId=this.sitestrService.getCompanyId,i.SignupId=this.sitestrService.getSignupId,i.FileLength=null==e[t].PK_Id?e[t].size:e[t].FileLength,i.PK_Id=e[t].PK_Id,this.excelfileData.push(i)}}OpenImagePopup(e){this.BookingId=e,this.excelfileData=this.siteStrList.filter(e=>e.PK_Id==this.BookingId)[0].src,this._myImageUploadModal.show()}SubmitImage(){this.sitestrService.AddImage(this.BookingId,this.excelfileData).subscribe(e=>{""==e&&null==e||(this.siteStrList.filter(e=>e.PK_Id==this.BookingId)[0].UploadImages=e.data,this._myImageUploadModal.hide())}),setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition},250)}selectAllchange(e){this.siteStrList.forEach(function(t){t.Ick=e.target.checked});var t=this.siteStrList.filter(e=>1==e.Ick).map(e=>e.PK_Id).length;this.isMultipleInquiryDelete=0!=t}selectSinglechange(){var e=this.siteStrList.filter(e=>1==e.Ick).map(e=>e.PK_Id).length;this.isMultipleInquiryDelete=0!=e,this.selectedAll=this.siteStrList.length==e}isSold(e){return"sold"===(e?e.toLowerCase():"")}isMember(e){return"member"===(e?e.toLowerCase():"")}isUnSold(e){return"unsold"===(e?e.toLowerCase():"")}isOnHold(e){return"onhold"===(e?e.toLowerCase():"")}isTenent(e){return"tenent"===(e?e.toLowerCase():"")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(h.Q),r.Y36(p.i),r.Y36(m.Dh),r.Y36(f.l),r.Y36(Z.Rq),r.Y36(c.De),r.Y36(v.T3),r.Y36(A.P),r.Y36(s.G),r.Y36(T.gz),r.Y36(T.F0),r.Y36(b.Ye),r.Y36(u.E))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-sitestructure-list"]],viewQuery:function(e,t){if(1&e&&(r.Gf(zt,5),r.Gf(Xt,5,r.SBq),r.Gf(ei,5),r.Gf(ti,5),r.Gf(ii,5),r.Gf(ni,5),r.Gf(ri,5),r.Gf(si,5),r.Gf(oi,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.form=e.first),r.iGM(e=r.CRH())&&(t.inputName=e.first),r.iGM(e=r.CRH())&&(t._SearchModal=e.first),r.iGM(e=r.CRH())&&(t.infiniteScroll=e.first),r.iGM(e=r.CRH())&&(t.virtualScroll=e.first),r.iGM(e=r.CRH())&&(t._myImageModal=e.first),r.iGM(e=r.CRH())&&(t._myImageUploadModal=e.first),r.iGM(e=r.CRH())&&(t._EmailModal=e.first),r.iGM(e=r.CRH())&&(t._OtherDocument=e.first)}},hostBindings:function(e,t){1&e&&r.NdJ("popstate",function(e){return t.onPopState(e)},!1,r.Jf7)},inputs:{SitestrId:"SitestrId",SiteredirectOnCancel:"SiteredirectOnCancel"},outputs:{redirectActiononISite:"redirectActiononISite"},features:[r._Bn([s.G,u.E])],decls:157,vars:30,consts:[["class","card",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade","bg-white",2,"z-index","99999"],["SearchModal","bs-modal"],[1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","form",3,"ngSubmit"],["ffilter","ngForm"],[1,"container-fluid",2,"margin-bottom","70px"],[1,"row","mt-2"],[1,"md-form","col-md-3","col-sm-6"],[1,"has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search Site/Building/Wing Or Flat No.","name","search2","id","search2",1,"form-control",3,"ngModel","ngModelChange"],["search2","ngModel"],["selectOnTab","true","name","Site","bindLabel","SN","bindValue","UIDN","placeholder","Select Site",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["ng-header-tmp",""],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["EmailModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmEmail","ngForm"],[1,"modal-body"],[1,"content"],[1,"form-group","col-md-12"],[1,"form-group","md-form","col-sm-12"],[1,"ml-1","text-danger","font-weight-bold","h5"],["type","email","ngModel","","required","","name","email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","this.documentoptioninpopup"],["selectOnTab","true","autofocus","","ngModel","","name","DocumentType",3,"virtualScroll","items"],["DocumentType","ngModel"],[1,"modal-footer","mt-3",2,"padding-top","187px"],["type","button",1,"btn","btn-dark",3,"click"],["type","submit",1,"btn","btn-primary"],["ImageModal","bs-modal"],["frmImage","ngForm"],[1,"container"],[1,"form-group","col-md-12","p-0"],[1,"input-group"],[1,"md-form","form-group","col-sm-12","p-0"],["for","siteService"],["selectOnTab","true","autofocus","","required","","name","ImageSite","bindLabel","SN","placeholder","Select Site",3,"virtualScroll","ngClass","items","loading","ngModel","scrollToEnd","ngModelChange"],["ImageSite","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary","mt-2",3,"click"],["maxFiles","1","required","","maxSize","2","fileExt","xls, xlsx",3,"filelist","uploadStatus"],["Importexcel",""],[1,"modal-footer","mt-3"],["ImageUploadModal","bs-modal"],[1,"form-group","col-sm-6","col-md-12"],["maxFiles","5","maxSize","5","fileExt","JPG, GIF, PNG, JPEG, Pdf, xls, xlsx, Docx, Doc",2,"width","100%",3,"filelist","uploadStatus"],["fileUpload",""],["type","submit",1,"btn","btn-primary",3,"click"],["OtherDocument","bs-modal"],["frmOtherDocument","ngForm"],["for","DocumentType"],["selectOnTab","true","autofocus","","name","DocumentType","id","DocumentType","bindLabel","TN","placeholder","Select Document Type",3,"virtualScroll","items","ngClass","ngModel","loading","required","ngModelChange"],[3,"BookingredirectOnCancel","SiteId","InquiryId","SiteStructure","customerId","IsSiteStructureBooking","BookingredirectAction",4,"ngIf"],[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainerbody",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],["class","add-panel",3,"toggleAction",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mx-2"],[3,"submit"],["data-toggle","dropdown","aria-expanded","false",1,"form-group","has-search"],["type","text","placeholder","Search Site/Building/Wing Or Flat No.","name","search","id","search",1,"form-control",3,"ngModel","ngModelChange"],["search","ngModel"],[1,"mb-3"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],[1,"mb-2","ml-2"],["dropdown","","role","group",1,"btn-group","mb-2",3,"isOpen","isOpenChange"],["type","button","id","dropdownMenuButton","id","adv-search","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"cil-filter","mr-2"],["aria-labelledby","adv-search","role","menu",1,"dropdown-menu","filterform",2,"min-width","35rem",3,"click"],[1,"row"],[1,"md-form","col-md-6"],["for","Site"],["selectOnTab","true","name","Site","bindLabel","SN","bindValue","UIDN","placeholder","Select Site",3,"virtualScroll","items","multiple","ngModel","loading","scrollToEnd","ngModelChange"],["for","Building"],["selectOnTab","true","name","Building","placeholder","Select Building",3,"virtualScroll","items","multiple","ngModel","loading","scrollToEnd","ngModelChange"],["for","Wing"],["selectOnTab","true","name","Wing","placeholder","Select Wing",3,"virtualScroll","items","multiple","ngModel","loading","scrollToEnd","ngModelChange"],["for","FlatNofilter"],["type","text","placeholder","Enter Flat No.","name","FlatNofilter","id","FlatNofilter",1,"form-control",3,"ngModel","ngModelChange"],["FlatNofilter","ngModel"],["for","BookingStatus"],["name","BookingStatus","placeholder","Select Status","id","BookingStatus",3,"ngModel","ngModelChange"],["BookingStatus","ngModel"],["value","UnSold"],["value","Sold"],["value","OnHold"],["value","Tenent"],["value","Member"],["value","All"],["for","amt"],["selectOnTab","true","name","amt","id","amt","placeholder","Select Range",3,"ngModel","ngModelChange"],["amt","ngModel"],["value","Greaterthan"],["value","Lessthan"],["value","EqualTo"],["value","NotEqualTo"],["autofocus","","type","text","placeholder","Enter Range","name","Amountvale","id","Amountvale",1,"md-form","form-control",3,"ngModel","ngModelChange"],["Amountvale","ngModel"],["for","Flattypes"],["selectOnTab","true","name","Flattypes","id","Flattypes","placeholder","Select Range",3,"ngModel","ngModelChange"],["Flattypes","ngModel"],["autofocus","","type","text","placeholder","Enter Range","name","Blcval","id","Blcval",1,"md-form","form-control",3,"ngModel","ngModelChange"],["Blcval","ngModel"],[1,"text-right","mr-3"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-dark","pull-right",3,"click"],[1,"fas","fa-search"],[1,"form-text","text-muted"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],["id","tableContainer",1,"table-responsive"],["class","card-header","id","formHeader",4,"ngIf"],["infinite-scroll","",3,"scrollWindow","scrolled"],["class","table table-bordered table-striped",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header"],[1,"col-md-6","col-sm-12","PageNameFsize"],[1,"col-md-6","col-sm-12","pr-4"],[1,"mx-2","text-wrap","text-right","LeftLi","pr-4"],[1,"table","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerHead"],[1,"form-check"],["type","checkbox","id","item_All",1,"form-check-input",3,"checked","ngModel","ngModelChange","change"],["for","item_All",1,"form-check-label"],[4,"ngFor","ngForOf"],[3,"dirsort","sortcolumn","click"],["id","tableContainerbody",4,"ngIf"],[3,"dirsort","sortcolumn","click",4,"ngIf"],["id","tableContainerbody"],["container",""],["autofocus","",3,"tabindex","ToTalBackgroung","keydown.enter","keydown.arrowdown","keydown.arrowup",4,"ngFor","ngForOf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],[1,"form-check-label",3,"for"],["label","Select","type","checkbox",1,"form-check-input",3,"checked","ngModel","id","name","ngModelChange","change"],[2,"width","8%"],["class","btn-group actionmenu","dropdown","","container","body",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],[1,"badge","badge-warning"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],["class","badge badge-primary",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-info",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"badge","badge-primary"],[1,"badge","badge-danger"],[1,"badge","badge-info"],["dropdown","","container","body",1,"btn-group","actionmenu"],["id","button-state-change","dropdownToggle","","type","button","aria-controls","dropdown-state-change",1,"border-0","waves-effect","btn-primary","btn-floating","btn-sm"],[1,"fas","fa-ellipsis-v"],["id","dropdown-state-change","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-state-change",4,"dropdownMenu"],["id","dropdown-state-change","role","menu","aria-labelledby","button-state-change",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["class","dropdown-item","href","javascript:void(0)","accesslevel","Edit","mname","StStr",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["role","menuitem",4,"ngIf"],["href","javascript:void(0)","title","Image Upload","placement","bottom",1,"dropdown-item","text-decoration-none",3,"click"],["href","javascript:void(0)","accesslevel","Edit","mname","StStr",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["href","javascript:void(0)","accesslevel","Delete","mname","StStr",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["href","javascript:void(0)","accesslevel","Edit","mname","booking",1,"dropdown-item",3,"appRole","SignupId","UserId","click"],["href","javascript:void(0)","accesslevel","Edit","mname","booking",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],[1,"dropdown-item","text-decoration-none",3,"href"],["href","javascript:void(0)",1,"dropdown-item","text-decoration-none",3,"click"],["target","_blank",1,"dropdown-item","text-decoration-none",3,"href"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["sortcolumn","ModifiedDate",3,"dirsort"],[3,"dirsort","sortcolumn",4,"ngIf"],[3,"dirsort","sortcolumn"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","239px",3,"items"],["ionvscroll",""],[4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],[1,"pl-0","pr-0"],[1,"text-right","pl-0","pr-2"],["href","javascript:void(0)","title","Delete","accesslevel","Delete","mname","InquiryM","placement","bottom",1,"card-link","float-right","ml-3",3,"appRole","SignupId","UserId","click","clickAllowed"],["name","trash-outline","color","danger"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","InquiryM","placement","bottom",1,"card-link","float-right",3,"appRole","SignupId","UserId","click","clickAllowed"],["name","create-outline","color","primary"],["size-md","4","offset-md","3",4,"ngIf"],["size-md","4","offset-md","3"],[1,"font-weight-bold"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],[2,"text-align","-webkit-left"],["animated","",2,"width","60%"],["animated","",2,"width","90%"],["animated","",2,"width","80%"],[2,"text-align","-webkit-right"],["animated","",2,"width","70%"],["animated","",2,"width","100%"],[1,"col-md-12","pl-0","pr-0"],[1,"mx-auto","noDataImage"],[1,"text-center"],["type","button","value","Add New","accesslevel","Add","mname","StStr",1,"btn","btn-primary",3,"appRole","SignupId","UserId","clickAllowed"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","option","three","border-0","waves-effect","btn-amber","btn-floating",3,"click"],["search",""],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","option","two","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Export",1,"action-button","option","one","border-0","waves-effect","btn-default","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],[1,"border-0","waves-effect","btn-dark","btn-floating","action-button","plus","abs"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],["accesslevel","Add","mname","StStr","tooltip","Add New",1,"border-0","waves-effect","btn-primary","btn-floating",3,"appRole","SignupId","UserId","clickAllowed"],[1,"fas","fa-plus"],["tooltip","Print",1,"action-button","option","four","border-0","waves-effect","btn-amber","btn-floating",3,"click"],["tooltip","Pdf",1,"action-button","option","three","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["tooltip","Import",1,"action-button","option","two","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-upload"],[1,"invalid-feedback"],[3,"BookingredirectOnCancel","SiteId","InquiryId","SiteStructure","customerId","IsSiteStructureBooking","BookingredirectAction"]],template:function(e,t){if(1&e){const e=r.EpF();r.YNc(0,gn,10,9,"div",0),r.TgZ(1,"div",1,2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"h4",6),r._uU(7,"Advance Search "),r.qZA(),r.TgZ(8,"button",7),r.NdJ("click",function(){return t._SearchModal.hide()}),r.TgZ(9,"span",8),r._uU(10,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"form",9,10),r.NdJ("ngSubmit",function(){return t.FilterData()}),r.TgZ(13,"div",11),r.TgZ(14,"div",12),r.TgZ(15,"div",13),r.TgZ(16,"div",14),r._UZ(17,"span",15),r.TgZ(18,"input",16,17),r.NdJ("ngModelChange",function(e){return t.sfilter.filter=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"div",13),r.TgZ(21,"ng-select",18),r.NdJ("scrollToEnd",function(){return t.siteService.ScrollDown()})("ngModelChange",function(e){return t.sfilter.siteid=e}),r.YNc(22,un,2,2,"ng-template",19),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"nav",20),r.TgZ(24,"ul",21),r.TgZ(25,"li",22),r.TgZ(26,"button",23),r.NdJ("click",function(e){return t.toggleDropdown(e),t._SearchModal.hide()}),r._UZ(27,"i",24),r._uU(28,"Search "),r.qZA(),r.qZA(),r.TgZ(29,"li",25),r.TgZ(30,"button",26),r.NdJ("click",function(e){return t.clearfilterandloadnewdata(),t.toggleDropdown(e),t._SearchModal.hide()}),r._uU(31," Clear Filter "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"div",27,28),r.TgZ(34,"div",29),r.TgZ(35,"div",30),r.TgZ(36,"div",5),r.TgZ(37,"h4",6),r._uU(38,"Send Email "),r.qZA(),r.TgZ(39,"button",7),r.NdJ("click",function(){return t.CloseEmailPopup()}),r.TgZ(40,"span",8),r._uU(41,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(42,"form",31,32),r.NdJ("ngSubmit",function(){r.CHM(e);const i=r.MAs(43);return i.form.valid&&t.SendEmail(i,t.sitestructuredetail)}),r.TgZ(44,"div",33),r.TgZ(45,"div",34),r.TgZ(46,"div",35),r.TgZ(47,"div",36),r.TgZ(48,"label"),r._uU(49,"Email Id"),r.TgZ(50,"span",37),r._uU(51,"*"),r.qZA(),r.qZA(),r.TgZ(52,"input",38,39),r.NdJ("ngModelChange",function(e){return t.Ledgeremail=e}),r.qZA(),r.YNc(54,mn,3,2,"div",40),r.qZA(),r.TgZ(55,"div",36),r.TgZ(56,"label",41),r._uU(57,"Select Document Type"),r.TgZ(58,"span",37),r._uU(59,"*"),r.qZA(),r.qZA(),r._UZ(60,"ng-select",42,43),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(62,"div",44),r.TgZ(63,"button",45),r.NdJ("click",function(){return t.CloseEmailPopup()}),r._uU(64,"Close"),r.qZA(),r.TgZ(65,"button",46),r._uU(66,"Send Email"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"div",27,47),r.TgZ(69,"div",29),r.TgZ(70,"div",30),r.TgZ(71,"div",5),r.TgZ(72,"h4",6),r._uU(73,"Generate Flat through sheet"),r.qZA(),r.TgZ(74,"button",7),r.NdJ("click",function(){return t.CloseImagePopup()}),r.TgZ(75,"span",8),r._uU(76,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(77,"form",31,48),r.NdJ("ngSubmit",function(){return r.CHM(e),r.MAs(78).form.valid&&t.onExcelSubmit()}),r.TgZ(79,"div",33),r.TgZ(80,"div",34),r.TgZ(81,"div",49),r.TgZ(82,"div",50),r.TgZ(83,"div",51),r.TgZ(84,"div",52),r.TgZ(85,"label",53),r._uU(86,"Site"),r.TgZ(87,"span",37),r._uU(88,"*"),r.qZA(),r.qZA(),r.TgZ(89,"ng-select",54,55),r.NdJ("scrollToEnd",function(){return t.siteService.ScrollDown()})("ngModelChange",function(e){return t.SiteIdUpload=e}),r.YNc(91,fn,2,2,"ng-template",19),r.qZA(),r.YNc(92,vn,2,1,"div",40),r.qZA(),r.TgZ(93,"div",52),r.TgZ(94,"button",56),r.NdJ("click",function(){return t.DownloadFile(1)}),r._uU(95,"Download Import Format of Booking"),r.qZA(),r.TgZ(96,"button",57),r.NdJ("click",function(){return t.DownloadFile(2)}),r._uU(97,"Download Import Format of Site Structure"),r.qZA(),r.qZA(),r.TgZ(98,"div",52),r.TgZ(99,"app-file-upload",58,59),r.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(101,"div",60),r.TgZ(102,"button",46),r._uU(103,"Upload File"),r.qZA(),r.TgZ(104,"button",45),r.NdJ("click",function(){return t.CloseImagePopup()}),r._uU(105,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(106,"div",27,61),r.TgZ(108,"div",29),r.TgZ(109,"div",30),r.TgZ(110,"div",5),r.TgZ(111,"h4",6),r._uU(112,"Image Upload "),r.qZA(),r.TgZ(113,"button",7),r.NdJ("click",function(){return r.CHM(e),r.MAs(107).hide()}),r.TgZ(114,"span",8),r._uU(115,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(116,"div",33),r.TgZ(117,"div",34),r.TgZ(118,"div",49),r.TgZ(119,"div",62),r.TgZ(120,"div",51),r.TgZ(121,"app-file-upload",63,64),r.NdJ("uploadStatus",function(e){return t.onImageAdd(e)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(123,"div",60),r.TgZ(124,"button",65),r.NdJ("click",function(){return t.SubmitImage()}),r._uU(125,"Submit"),r.qZA(),r.TgZ(126,"button",45),r.NdJ("click",function(){return r.CHM(e),r.MAs(107).hide()}),r._uU(127,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(128,"div",27,66),r.TgZ(130,"div",29),r.TgZ(131,"div",30),r.TgZ(132,"div",5),r.TgZ(133,"h4",6),r._uU(134,"Other Document "),r.qZA(),r.TgZ(135,"button",7),r.NdJ("click",function(){return t.CloseOtherDocumentPopup()}),r.TgZ(136,"span",8),r._uU(137,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(138,"form",31,67),r.NdJ("ngSubmit",function(){r.CHM(e);const i=r.MAs(139);return i.form.valid&&t.GenerateOtherDocument(i)}),r.TgZ(140,"div",33),r.TgZ(141,"div",34),r.TgZ(142,"div",35),r.TgZ(143,"div",36),r.TgZ(144,"label",68),r._uU(145,"Select Document"),r.TgZ(146,"span",37),r._uU(147,"*"),r.qZA(),r.qZA(),r.TgZ(148,"ng-select",69,43),r.NdJ("ngModelChange",function(e){return t.SelectedOtherDocument=e}),r.qZA(),r.YNc(150,Tn,2,1,"div",40),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(151,"div",44),r.TgZ(152,"button",45),r.NdJ("click",function(){return t.CloseOtherDocumentPopup()}),r._uU(153,"Close"),r.qZA(),r.TgZ(154,"button",46),r._uU(155,"Generate Document"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(156,bn,1,6,"app-booking-form",70)}if(2&e){const e=r.MAs(43),i=r.MAs(53),n=r.MAs(61),s=r.MAs(78),o=r.MAs(90),l=r.MAs(139);r.Q6J("ngIf",t.isList),r.xp6(18),r.Q6J("ngModel",t.sfilter.filter),r.xp6(3),r.Q6J("virtualScroll",!0)("items",t.siteService.result)("ngModel",t.sfilter.siteid)("loading",t.siteService.loading),r.xp6(31),r.Q6J("ngModel",t.Ledgeremail),r.xp6(2),r.Q6J("ngIf",e.submitted&&i.invalid),r.xp6(6),r.Q6J("virtualScroll",!0)("items",t.documentoptioninpopup),r.xp6(29),r.Q6J("virtualScroll",!0)("ngClass",r.VKq(26,Sn,s.submitted&&o.invalid))("items",t.siteService.result)("loading",t.siteService.loading)("ngModel",t.SiteIdUpload),r.xp6(3),r.Q6J("ngIf",s.submitted&&o.invalid),r.xp6(7),r.Q6J("filelist",t.excelfileData),r.xp6(22),r.Q6J("filelist",t.excelfileData),r.xp6(27),r.Q6J("virtualScroll",!0)("items",t.Templatedata)("ngClass",r.VKq(28,Sn,l.submitted&&""==n.value))("ngModel",t.SelectedOtherDocument)("loading",t.templateService.loading)("required",""==n.value),r.xp6(2),r.Q6J("ngIf",l.submitted&&""==n.value),r.xp6(6),r.Q6J("ngIf",t.openBookingModal)}},directives:[b.O5,S.oB,x._Y,x.JL,x.F,x.Fj,x.JJ,x.On,C.x,I.w9,I.A3,q.u,x.Q7,b.mk,M.Y,k.TO,I.xv,m.gu,N.R,y.n,x.Wl,b.sg,w.n,k.Mq,k.Hz,_.g,m.W2,m.nJ,m.Wo,m.aJ,m.Rw,m.ju,m.MB,m.PM,m.Nd,m.wI,m.FN,m.CK,D.e,P.i9,jt],pipes:[b.uU],styles:[".ToTalBackgroung[_ngcontent-%COMP%]{background-color:silver!important}"]}),e})()},85121:function(e,t,i){i.d(t,{j:function(){return r}});var n=i(61362);class r extends n.X{}},7638:function(e,t,i){i.d(t,{e:function(){return r}});var n=i(61362);class r extends n.X{}},2499:function(e,t,i){i.d(t,{H:function(){return r}});var n=i(61362);class r extends n.X{}},40411:function(e,t,i){i.d(t,{bh:function(){return r},JP:function(){return s}});var n=i(61362);class r extends n.X{constructor(){super(...arguments),this.IsMarketing=!0}}class s extends n.X{}},13763:function(e,t,i){i.d(t,{F:function(){return r}});var n=i(61362);class r extends n.X{}},55336:function(e,t,i){i.d(t,{Y:function(){return r},X:function(){return s}});var n=i(61362);class r extends n.X{constructor(){super(...arguments),this.EB="",this.ISWA=!1,this.baseTemplate=!1,this.IsSMSTrigredByNewInq=!1}}class s{constructor(){this.Templatetype=0}}},84575:function(e,t,i){i.d(t,{w:function(){return h}});var n=i(79765),r=i(57771),s=i(75319),o=i(70309),l=i(77971),a=i(78858);class c extends n.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new d(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,r=i.length;let c;if(this.closed)throw new l.N;if(this.isStopped||this.hasError?c=s.w.EMPTY:(this.observers.push(e),c=new a.W(this,e)),n&&e.add(e=new o.ht(e,n)),t)for(let s=0;s<r&&!e.closed;s++)e.next(i[s]);else for(let s=0;s<r&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),c}_getNow(){return(this.scheduler||r.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,n=this._events,r=n.length;let s=0;for(;s<r&&!(e-n[s].time<i);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&n.splice(0,s),n}}class d{constructor(e,t){this.time=e,this.value=t}}var g=i(35758),u=i(33018);let h=(()=>{class e{constructor(){this._loadedLibraries={}}lazyLoadCkeditor(){return(0,g.D)([this.loadScript("./assets/ckeditor/ckeditor.js")])}loadScript(e){if(this._loadedLibraries[e])return this._loadedLibraries[e].asObservable();this._loadedLibraries[e]=new c;const t=window.document.createElement("script");return t.type="text/javascript",t.async=!0,t.src=e,t.onload=()=>{this._loadedLibraries[e].next(),this._loadedLibraries[e].complete()},window.document.body.appendChild(t),this._loadedLibraries[e].asObservable()}loadStyle(e){if(this._loadedLibraries[e])return this._loadedLibraries[e].asObservable();this._loadedLibraries[e]=new c;const t=window.document.createElement("link");return t.type="text/css",t.href=e,t.rel="stylesheet",t.onload=()=>{this._loadedLibraries[e].next(),this._loadedLibraries[e].complete()},window.document.getElementsByTagName("head")[0].appendChild(t),this._loadedLibraries[e].asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);