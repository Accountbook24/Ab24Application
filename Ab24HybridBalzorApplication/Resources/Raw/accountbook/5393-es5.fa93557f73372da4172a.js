!function(){"use strict";function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return t};var t={},r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new w(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return b()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var l=x(a,r);if(l){if(l===u)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}t.wrap=s;var u={};function g(){}function h(){}function p(){}var f={};c(f,o,function(){return this});var m=Object.getPrototypeOf,Z=m&&m(m(y([])));Z&&Z!==r&&n.call(Z,o)&&(f=Z);var v=p.prototype=g.prototype=Object.create(f);function T(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function A(e,t){function r(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(u).then(function(e){s.value=e,a(s)},function(e){return r("throw",e,a,l)})}l(c.arg)}var i;this._invoke=function(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=d(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function y(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:b}}function b(){return{value:void 0,done:!0}}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},T(A.prototype),c(A.prototype,a,function(){return this}),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new A(s(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},T(v),c(v,l,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=y,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:y(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccoubtbook=self.webpackChunkaccoubtbook||[]).push([[5393],{65393:function(r,i,o){o.r(i),o.d(i,{TransactionsModule:function(){return Xn}});var a=o(38583),l=o(64762),c=o(78980),s=o(42005),d=o(58679),u=o(84659),g=o(18454),h=o(66203),p=o(34450),f=o(18374),m=o(75075),Z=o(39478),v=o(84306),T=o(27541),A=o(32364),x=o(24498),I=o(82316),L=o(33018),w=o(89525),y=o(92859),b=o(44667),C=o(12868),q=o(89401),S=o(37919),M=o(91113),N=o(25575),_=o(48429),D=o(43647),U=o(3679),k=o(6642),J=o(66496),V=o(85895),R=o(10743),Q=o(87520),E=o(21974),F=o(65452),H=o(82929),O=o(3001),P=o(53321),G=o(44633),B=o(14868),Y=["toled"],j=["ChallanModal"],K=["BillModal"],z=["BillModalMobile"],W=["SearchModal"],X=["purled"],ee=["taxLedger"],te=["LedgerHistoryModal"],re=["fbill"],ne=["ionInfinitescroll"],ie=["ionvscroll"],oe=["ImageModal"],ae=["myInqImportedDataViewModal"];function le(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"a"),L._uU(1),L.qZA(),L.TgZ(2,"a",126),L.TgZ(3,"i",127),L.NdJ("click",function(){var e=L.CHM(r).item;return L.oxw(2).OpenLedgerHistoryPopUp(e.UIDN)}),L.qZA(),L.qZA()}if(2&e){var n=t.item;L.xp6(1),L.Oqu(n.LN)}}function ce(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw(2);L.xp6(1),L.AsE(" Loaded ",r.siteService.result.length," of ",r.siteService.totalItems," ")}}function se(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw(2);L.xp6(1),L.AsE(" Loaded ",r.inventoryService.result.length," of ",r.inventoryService.totalItems," ")}}function de(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw(2);L.xp6(1),L.AsE(" Loaded ",r.taskService.result.length," of ",r.taskService.totalItems," ")}}function ue(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw(2);L.xp6(1),L.AsE(" Loaded ",r.subtaskService.result.length," of ",r.subtaskService.totalItems," ")}}function ge(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",102),L.TgZ(1,"ul",103),L.TgZ(2,"li",104),L.TgZ(3,"button",105),L.NdJ("click",function(){return L.CHM(r),L.oxw().goback()}),L._UZ(4,"i",106),L.qZA(),L.qZA(),L.TgZ(5,"li",107),L.TgZ(6,"ng-select",108,109),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().searchLedger=e}),L.YNc(8,le,4,1,"ng-template",59),L.qZA(),L.qZA(),L.TgZ(9,"li",110),L.TgZ(10,"button",111),L.NdJ("click",function(){return L.CHM(r),L.oxw().FilterData()}),L._UZ(11,"span",112),L.TgZ(12,"span",113),L._uU(13,"Search"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(14,"li",107),L.TgZ(15,"div",114),L.NdJ("isOpenChange",function(e){return L.CHM(r),L.oxw().change(e)}),L.TgZ(16,"button",115),L._UZ(17,"span",116),L.TgZ(18,"span",113),L._uU(19,"Filter"),L.qZA(),L.qZA(),L.TgZ(20,"div",117),L.NdJ("click",function(e){return e.stopPropagation()}),L.TgZ(21,"form",45,118),L.NdJ("ngSubmit",function(){return L.CHM(r),L.oxw().FilterData()}),L.TgZ(23,"div",119),L.TgZ(24,"div",120),L.TgZ(25,"label",55),L._uU(26,"Site"),L.qZA(),L.TgZ(27,"ng-select",60),L.NdJ("scrollToEnd",function(){return L.CHM(r),L.oxw().siteService.ScrollDown()})("ngModelChange",function(e){return L.CHM(r),L.oxw().siteService.singleresult=e}),L.YNc(28,ce,2,2,"ng-template",58),L.qZA(),L.qZA(),L.TgZ(29,"div",120),L.TgZ(30,"label",61),L._uU(31,"Inventory"),L.qZA(),L.TgZ(32,"ng-select",62),L.NdJ("scrollToEnd",function(){return L.CHM(r),L.oxw().inventoryService.ScrollDown()})("ngModelChange",function(e){return L.CHM(r),L.oxw().inventoryService.singleresult=e}),L.YNc(33,se,2,2,"ng-template",58),L.qZA(),L.qZA(),L.TgZ(34,"div",120),L.TgZ(35,"label",63),L._uU(36,"Task"),L.qZA(),L.TgZ(37,"ng-select",64),L.NdJ("scrollToEnd",function(){return L.CHM(r),L.oxw().taskService.ScrollDown()})("ngModelChange",function(e){return L.CHM(r),L.oxw().taskService.singleresult=e}),L.YNc(38,de,2,2,"ng-template",58),L.qZA(),L.qZA(),L.TgZ(39,"div",120),L.TgZ(40,"label",65),L._uU(41,"Sub Task"),L.qZA(),L.TgZ(42,"ng-select",66),L.NdJ("scrollToEnd",function(){return L.CHM(r),L.oxw().subtaskService.ScrollDown()})("ngModelChange",function(e){return L.CHM(r),L.oxw().subtaskService.singleresult=e}),L.YNc(43,ue,2,2,"ng-template",58),L.qZA(),L.qZA(),L.TgZ(44,"div",121),L.TgZ(45,"label",67),L._uU(46,"Challan No"),L.qZA(),L.TgZ(47,"input",68,69),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().challanfilterNo=e}),L.qZA(),L.qZA(),L.qZA(),L.TgZ(49,"div",122),L.TgZ(50,"button",123),L.NdJ("click",function(e){L.CHM(r);var t=L.oxw();return t.clearfilterandloadnewdata(),t.toggleDropdown(e)}),L._uU(51," Clear Filter "),L.qZA(),L.TgZ(52,"button",124),L.NdJ("click",function(e){return L.CHM(r),L.oxw().toggleDropdown(e)}),L._UZ(53,"i",125),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(6),L.Q6J("virtualScroll",!0)("items",n.ChallanLedger)("ngModel",n.searchLedger)("loading",n.ledgerService.loading),L.xp6(9),L.Q6J("isOpen",n.status.isOpen),L.xp6(5),L.ekj("show",n.status.isOpen),L.xp6(7),L.Q6J("virtualScroll",!0)("items",n.siteService.result)("ngModel",n.siteService.singleresult)("loading",n.siteService.loading),L.xp6(5),L.Q6J("virtualScroll",!0)("items",n.inventoryService.result)("ngModel",n.inventoryService.singleresult)("loading",n.inventoryService.loading),L.xp6(5),L.Q6J("virtualScroll",!0)("items",n.taskService.result)("ngModel",n.taskService.singleresult)("loading",n.taskService.loading),L.xp6(5),L.Q6J("virtualScroll",!0)("items",n.subtaskService.result)("ngModel",n.subtaskService.singleresult)("loading",n.subtaskService.loading),L.xp6(5),L.Q6J("ngModel",n.challanfilterNo)}}function he(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",129),L.TgZ(1,"ul",103),L.TgZ(2,"li",130),L.TgZ(3,"ion-icon",131),L.NdJ("click",function(){return L.CHM(r),L.oxw().goback()}),L.qZA(),L.qZA(),L.TgZ(4,"li",130),L.TgZ(5,"ion-icon",132),L.NdJ("click",function(){return L.CHM(r),L.oxw().advSearchM()}),L.qZA(),L.qZA(),L.TgZ(6,"li",133),L.TgZ(7,"div",134),L.TgZ(8,"strong"),L._uU(9,"Challan List"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(10,"li",135),L.TgZ(11,"ion-icon",136),L.NdJ("click",function(e){return L.CHM(r),L.oxw().sortPopover(e)}),L.qZA(),L.qZA(),L.qZA(),L.qZA()}}function pe(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",142),L.TgZ(1,"div",143),L.TgZ(2,"div",144),L.TgZ(3,"strong"),L._uU(4,"Challan List"),L.qZA(),L.qZA(),L.TgZ(5,"div",145),L.TgZ(6,"label",146),L.TgZ(7,"input",52),L.NdJ("change",function(){return L.CHM(r),L.oxw(2).FilterData()})("ngModelChange",function(e){return L.CHM(r),L.oxw(2).isChallanPending=e}),L.qZA(),L._UZ(8,"span",53),L.qZA(),L.TgZ(9,"span",147),L._uU(10,"Pending Challan"),L.qZA(),L.qZA(),L.TgZ(11,"div",148),L.TgZ(12,"div",149),L._uU(13),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(7),L.Q6J("ngModel",n.isChallanPending),L.xp6(6),L.Oqu(n.challanService.currentShowing)}}function fe(e,t){if(1&e&&(L.TgZ(0,"span",181),L._uU(1),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(1),L.hij("voucher no :",r.ChlnVNo,"")}}function me(e,t){if(1&e&&(L.TgZ(0,"span",181),L._uU(1),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(1),L.hij("amount : ",r.VAmount,"")}}function Ze(e,t){if(1&e&&(L.TgZ(0,"a",183),L.NdJ("click",function(e){return e.stopPropagation()}),L._uU(1),L.qZA()),2&e){var r=t.index;L.s9C("href",t.$implicit.src,L.LSH),L.xp6(1),L.hij("Challan-",r+1," ")}}function ve(e,t){if(1&e&&(L.TgZ(0,"div"),L.YNc(1,Ze,2,2,"a",182),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(1),L.Q6J("ngForOf",r.UpI)}}function Te(e,t){1&e&&(L.TgZ(0,"span",184),L._uU(1,"Billed"),L.qZA())}function Ae(e,t){1&e&&(L.TgZ(0,"span",185),L._uU(1,"Bill Pending"),L.qZA())}function xe(e,t){if(1&e&&(L.TgZ(0,"tr"),L.TgZ(1,"td"),L._uU(2),L.qZA(),L.TgZ(3,"td"),L._uU(4),L.qZA(),L.TgZ(5,"td"),L._uU(6),L.qZA(),L.TgZ(7,"td"),L._uU(8),L.qZA(),L.TgZ(9,"td"),L._uU(10),L.qZA(),L.TgZ(11,"td"),L._uU(12),L.qZA(),L.TgZ(13,"td"),L._uU(14),L.ALo(15,"indianCurrency"),L.qZA(),L.qZA()),2&e){var r=t.$implicit;L.xp6(2),L.Oqu(r.InvNm),L.xp6(2),L.Oqu(r.InvHei),L.xp6(2),L.Oqu(r.InvWid),L.xp6(2),L.Oqu(r.InvLen),L.xp6(2),L.Oqu(r.InvQty),L.xp6(2),L.Oqu(r.InvRt),L.xp6(2),L.Oqu(L.lcZ(15,7,r.TtlAmt))}}function Ie(e,t){if(1&e&&(L.TgZ(0,"table",186),L.TgZ(1,"tr"),L.TgZ(2,"th"),L._uU(3,"Inventory Name"),L.qZA(),L.TgZ(4,"th"),L._uU(5,"Height"),L.qZA(),L.TgZ(6,"th"),L._uU(7,"Width"),L.qZA(),L.TgZ(8,"th"),L._uU(9,"Length"),L.qZA(),L.TgZ(10,"th"),L._uU(11,"QTY"),L.qZA(),L.TgZ(12,"th"),L._uU(13,"Rate"),L.qZA(),L.TgZ(14,"th"),L._uU(15,"Amount"),L.qZA(),L.qZA(),L.YNc(16,xe,16,9,"tr",187),L.qZA()),2&e){var r=L.oxw(),n=r.index,i=r.$implicit,o=L.oxw(3);L.Q6J("hidden",!o.showNestedTable[n]),L.xp6(16),L.Q6J("ngForOf",i.ChallanInv)}}function Le(e,t){if(1&e){var r=L.EpF();L.ynx(0,167),L.TgZ(1,"tr",168),L.NdJ("keydown.enter",function(){var e=L.CHM(r).$implicit;return L.oxw(3).editOnArrowEvent(e.UIDN)})("keydown.arrowdown",function(){var e=L.CHM(r).index;return L.oxw(3).challanService.arrowDownEvent(e+151)})("keydown.arrowup",function(){var e=L.CHM(r).index;return L.oxw(3).challanService.arrowUpEvent(e+149)})("click",function(){var e=L.CHM(r).index;return L.oxw(3).toggleNestedTable(e)}),L.TgZ(2,"td"),L.TgZ(3,"div",152),L.TgZ(4,"input",169),L.NdJ("ngModelChange",function(e){return L.CHM(r).$implicit.Ick=e}),L.qZA(),L._UZ(5,"label",170),L.qZA(),L.qZA(),L.TgZ(6,"td"),L._uU(7),L.qZA(),L.TgZ(8,"td"),L.TgZ(9,"a",171),L.NdJ("clickAllowed",function(){var e=L.CHM(r).$implicit;return L.oxw(3).openChallanpopup(e.UIDN)}),L._uU(10),L.qZA(),L.qZA(),L.TgZ(11,"td"),L._UZ(12,"dateformatter",172),L.qZA(),L.TgZ(13,"td"),L._uU(14),L.qZA(),L.TgZ(15,"td"),L._uU(16),L._UZ(17,"br"),L.TgZ(18,"span",173),L._uU(19),L.qZA(),L.qZA(),L.TgZ(20,"td"),L._uU(21),L.qZA(),L.TgZ(22,"td"),L._uU(23),L.qZA(),L.TgZ(24,"td"),L._uU(25),L._UZ(26,"br"),L.YNc(27,fe,2,1,"span",174),L.YNc(28,me,2,1,"span",174),L.qZA(),L.TgZ(29,"td"),L.YNc(30,ve,2,1,"div",13),L.qZA(),L.TgZ(31,"td"),L.YNc(32,Te,2,0,"span",175),L.YNc(33,Ae,2,0,"span",176),L.qZA(),L.TgZ(34,"td"),L.TgZ(35,"a",177),L.NdJ("clickAllowed",function(){var e=L.CHM(r).$implicit;return L.oxw(3).challanService.delete(e.UIDN)}),L._UZ(36,"i",178),L.qZA(),L.qZA(),L.qZA(),L.TgZ(37,"tr"),L.TgZ(38,"td",179),L.YNc(39,Ie,17,2,"table",180),L.qZA(),L.qZA(),L.BQk()}if(2&e){var n=t.$implicit,i=t.index,o=L.oxw(3);L.ekj("rowselected",n.billSelected),L.xp6(1),L.s9C("tabindex",i+150),L.xp6(3),L.MGl("id","item_",i,""),L.Q6J("checked",n.Ick)("ngModel",n.Ick),L.xp6(1),L.MGl("for","item_",i,""),L.xp6(2),L.hij(" ",n.SrNo," "),L.xp6(2),L.Q6J("SignupId",o.SignupId)("UserId",o.UserId),L.xp6(1),L.hij(" ",n.CN," "),L.xp6(2),L.s9C("dateValue",n.MtD),L.xp6(2),L.Oqu(n.StNm),L.xp6(2),L.hij(" ",n.TNm," "),L.xp6(3),L.hij(" ",n.SbTNm,""),L.xp6(2),L.Oqu(n.LdNm),L.xp6(2),L.Oqu(n.UsrNm),L.xp6(2),L.hij(" ",n.Narr,""),L.xp6(2),L.Q6J("ngIf",null!=n.ChlnVNo),L.xp6(1),L.Q6J("ngIf",null!=n.VAmount),L.xp6(2),L.Q6J("ngIf",null!=n.UpI&&n.UpI.length>0),L.xp6(2),L.Q6J("ngIf",1==n.IsBd),L.xp6(1),L.Q6J("ngIf",0==n.IsBd),L.xp6(2),L.Q6J("SignupId",o.SignupId)("UserId",o.UserId),L.xp6(4),L.Q6J("ngIf",null!=n.ChallanInv&&n.ChallanInv.length>0)}}function we(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"table",150),L.TgZ(1,"thead",151),L.TgZ(2,"tr"),L.TgZ(3,"th"),L.TgZ(4,"div",152),L.TgZ(5,"input",153),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw(2).selectedAll=e})("change",function(e){return L.CHM(r),L.oxw(2).selectAllchange(e)}),L.qZA(),L._UZ(6,"label",154),L.qZA(),L.qZA(),L.TgZ(7,"th",155),L._uU(8,"Sr No"),L.qZA(),L.TgZ(9,"th",156),L._uU(10,"Challan No"),L.qZA(),L.TgZ(11,"th",157),L._uU(12,"Date"),L.qZA(),L.TgZ(13,"th",158),L._uU(14,"Site"),L.qZA(),L.TgZ(15,"th",159),L._uU(16,"Task/Sub Task"),L.qZA(),L.TgZ(17,"th",160),L._uU(18,"Ledger"),L.qZA(),L.TgZ(19,"th",161),L._uU(20,"User Name"),L.qZA(),L.TgZ(21,"th",162),L._uU(22,"Narration"),L.qZA(),L.TgZ(23,"th"),L._uU(24,"Attachment"),L.qZA(),L.TgZ(25,"th",163),L._uU(26,"Bill Status"),L.qZA(),L.TgZ(27,"th"),L._uU(28,"Action"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(29,"tbody",164,165),L.YNc(31,Le,40,26,"ng-container",166),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(5),L.Q6J("checked",n.selectedAll)("ngModel",n.selectedAll),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(4),L.Q6J("dirsort",n.challanService),L.xp6(6),L.Q6J("ngForOf",n.challanService.result)}}function ye(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",142),L.TgZ(1,"div",143),L.TgZ(2,"div",144),L.TgZ(3,"strong"),L._uU(4,"Challan List"),L.qZA(),L.qZA(),L.TgZ(5,"div",145),L.TgZ(6,"label",146),L.TgZ(7,"input",52),L.NdJ("change",function(){return L.CHM(r),L.oxw(3).FilterData()})("ngModelChange",function(e){return L.CHM(r),L.oxw(3).isChallanPending=e}),L.qZA(),L._UZ(8,"span",53),L.qZA(),L.TgZ(9,"span",147),L._uU(10,"Pending Challan"),L.qZA(),L.qZA(),L.TgZ(11,"div",148),L.TgZ(12,"div",149),L._uU(13),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(3);L.xp6(7),L.Q6J("ngModel",n.isChallanPending),L.xp6(6),L.Oqu(n.challanService.currentShowing)}}function be(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",188),L.YNc(1,ye,14,2,"div",138),L.TgZ(2,"table",189),L.TgZ(3,"thead",151),L.TgZ(4,"tr"),L.TgZ(5,"th"),L.TgZ(6,"div",152),L.TgZ(7,"input",153),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw(2).selectedAll=e})("change",function(e){return L.CHM(r),L.oxw(2).selectAllchange(e)}),L.qZA(),L._UZ(8,"label",154),L.qZA(),L.qZA(),L.TgZ(9,"th",155),L._uU(10,"Sr No"),L.qZA(),L.TgZ(11,"th",156),L._uU(12,"Challan No"),L.qZA(),L.TgZ(13,"th",157),L._uU(14,"Date"),L.qZA(),L.TgZ(15,"th",159),L._uU(16,"Task"),L.qZA(),L.TgZ(17,"th",190),L._uU(18,"Inventory"),L.qZA(),L.TgZ(19,"th",160),L._uU(20,"Ledger"),L.qZA(),L.TgZ(21,"th",158),L._uU(22,"Site"),L.qZA(),L.TgZ(23,"th",161),L._uU(24,"User Name"),L.qZA(),L.TgZ(25,"th",191),L._uU(26,"Quantity"),L.qZA(),L.TgZ(27,"th",192),L._uU(28,"Rate/ Unit"),L.qZA(),L.TgZ(29,"th",193),L._uU(30,"Total Amount"),L.qZA(),L.TgZ(31,"th",162),L._uU(32,"Narration"),L.qZA(),L.TgZ(33,"th"),L._uU(34,"challan copy"),L.qZA(),L.TgZ(35,"th",163),L._uU(36,"Bill Status"),L.qZA(),L.TgZ(37,"th"),L._uU(38,"Action"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(1),L.Q6J("ngIf",0==(n.challanService.isMobile||n.challanService.IsMobileview)),L.xp6(6),L.Q6J("checked",n.selectedAll)("ngModel",n.selectedAll),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(2),L.Q6J("dirsort",n.challanService),L.xp6(4),L.Q6J("dirsort",n.challanService)}}function Ce(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",137),L.YNc(1,pe,14,2,"div",138),L.TgZ(2,"div",139),L.NdJ("scrolled",function(e){return L.CHM(r),L.oxw().onChallanScroll(e)}),L.YNc(3,we,32,12,"table",140),L.qZA(),L.YNc(4,be,39,16,"div",141),L.qZA()}if(2&e){var n=L.oxw();L.xp6(1),L.Q6J("ngIf",0==(n.challanService.isMobile||n.challanService.IsMobileview)),L.xp6(1),L.Q6J("scrollWindow",!0),L.xp6(1),L.Q6J("ngIf",n.challanService.result.length>0),L.xp6(1),L.Q6J("ngIf",n.challanService.result.length>0)}}function qe(e,t){if(1&e&&(L.TgZ(0,"ion-col",214),L.TgZ(1,"div",181),L._uU(2," Sr no:"),L.qZA(),L._uU(3),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(3),L.hij(" ",r.SrNo," ")}}function Se(e,t){if(1&e&&(L.TgZ(0,"ion-col",214),L.TgZ(1,"div",181),L._uU(2," Challan No:"),L.qZA(),L._uU(3),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(3),L.hij(" ",r.CN," ")}}function Me(e,t){if(1&e&&(L.TgZ(0,"ion-col",214),L.TgZ(1,"div",181),L._uU(2," Username:"),L.qZA(),L._uU(3),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(3),L.hij(" ",r.UsrNm," ")}}function Ne(e,t){if(1&e&&(L.TgZ(0,"ion-col",214),L.TgZ(1,"div",181),L._uU(2," Ledger:"),L.qZA(),L._uU(3),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(3),L.hij(" ",r.LdNm," ")}}function _e(e,t){1&e&&(L.TgZ(0,"span",184),L._uU(1,"Billed"),L.qZA())}function De(e,t){1&e&&(L.TgZ(0,"span",185),L._uU(1,"Bill Pending"),L.qZA())}function Ue(e,t){if(1&e&&(L.TgZ(0,"ion-col",204),L._uU(1),L.ALo(2,"indianCurrency"),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(1),L.hij(" Amt: ",L.lcZ(2,1,r.TA)," ")}}function ke(e,t){if(1&e&&(L.TgZ(0,"ion-col",214),L.TgZ(1,"div",181),L._uU(2," Site:"),L.qZA(),L._uU(3),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(3),L.hij(" ",r.StNm," ")}}function Je(e,t){if(1&e&&(L.TgZ(0,"ion-col",214),L.TgZ(1,"div",181),L._uU(2," Narration:"),L.qZA(),L._uU(3),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(3),L.hij(" ",r.Narr," ")}}function Ve(e,t){if(1&e&&(L.TgZ(0,"ion-col",215),L.TgZ(1,"div",181),L._uU(2," Task:"),L.qZA(),L._uU(3),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(3),L.hij(" ",r.TNm," ")}}function Re(e,t){if(1&e&&(L.TgZ(0,"ion-col",216),L.TgZ(1,"div",181),L._uU(2," Inventory:"),L.qZA(),L._uU(3),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(3),L.hij(" ",r.InvNm," ")}}function Qe(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"ion-col",217),L.TgZ(1,"a",218),L.NdJ("click",function(){L.CHM(r);var e=L.oxw().$implicit;return L.oxw(2).generateBillPopupMobile(e.UIDN)}),L._uU(2," Generate Bill "),L.qZA(),L.qZA()}}function Ee(e,t){if(1&e&&(L.TgZ(0,"a",221),L.NdJ("click",function(e){return e.stopPropagation()}),L._uU(1),L.qZA()),2&e){var r=t.index;L.s9C("href",t.$implicit.src,L.LSH),L.xp6(1),L.hij("Challan-",r+1," ")}}function Fe(e,t){if(1&e&&(L.TgZ(0,"ion-col",219),L.YNc(1,Ee,2,2,"a",220),L._UZ(2,"br"),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(1),L.Q6J("ngForOf",r.UpI)}}function He(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"a",222),L.NdJ("clickAllowed",function(){L.CHM(r);var e=L.oxw().$implicit;return L.oxw(2).openChallanpopup(e.UIDN)}),L._UZ(1,"ion-icon",223),L.qZA()}if(2&e){var n=L.oxw(3);L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}var Oe=function(){return[]};function Pe(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"ion-card"),L.TgZ(1,"ion-row"),L.YNc(2,qe,4,1,"ion-col",202),L.YNc(3,Se,4,1,"ion-col",202),L.YNc(4,Me,4,1,"ion-col",202),L.YNc(5,Ne,4,1,"ion-col",202),L.TgZ(6,"ion-col",203),L.YNc(7,_e,2,0,"span",175),L.YNc(8,De,2,0,"span",176),L.qZA(),L.qZA(),L.TgZ(9,"ion-row"),L.TgZ(10,"ion-col"),L._UZ(11,"dateformatter",172),L.qZA(),L.TgZ(12,"ion-col",204),L._uU(13),L.qZA(),L.TgZ(14,"ion-col",204),L._uU(15),L.qZA(),L.YNc(16,Ue,3,3,"ion-col",205),L.qZA(),L.TgZ(17,"ion-row"),L.YNc(18,ke,4,1,"ion-col",202),L.YNc(19,Je,4,1,"ion-col",202),L.YNc(20,Ve,4,1,"ion-col",206),L.qZA(),L.TgZ(21,"ion-row"),L.YNc(22,Re,4,1,"ion-col",207),L.YNc(23,Qe,3,0,"ion-col",208),L.YNc(24,Fe,3,1,"ion-col",209),L.TgZ(25,"ion-col",210),L.YNc(26,He,2,2,"a",211),L.TgZ(27,"a",212),L.NdJ("clickAllowed",function(){var e=L.CHM(r).$implicit;return L.oxw(2).challanService.delete(e.UIDN)}),L._UZ(28,"ion-icon",213),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=t.$implicit,i=L.oxw(2);L.xp6(2),L.Q6J("ngIf",null!=n.SrNo),L.xp6(1),L.Q6J("ngIf",null!=n.CN),L.xp6(1),L.Q6J("ngIf",null!=n.UsrNm),L.xp6(1),L.Q6J("ngIf",null!=n.LdNm),L.xp6(2),L.Q6J("ngIf",1==n.IsBd),L.xp6(1),L.Q6J("ngIf",0==n.IsBd),L.xp6(3),L.s9C("dateValue",n.MtD),L.xp6(2),L.hij(" QTY: ",n.Qty," "),L.xp6(2),L.hij(" Rate: ",n.UA," "),L.xp6(1),L.Q6J("ngIf",null!=n.TA),L.xp6(2),L.Q6J("ngIf",null!=n.StNm),L.xp6(1),L.Q6J("ngIf",null!=n.Narr),L.xp6(1),L.Q6J("ngIf",null!=n.TNm),L.xp6(2),L.Q6J("ngIf",null!=n.InvNm),L.xp6(1),L.Q6J("ngIf",0==n.IsBd),L.xp6(1),L.Q6J("ngIf",n.UpI!=L.DdM(19,Oe)),L.xp6(2),L.Q6J("ngIf",!n.IsBd),L.xp6(1),L.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ge(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",164),L.TgZ(1,"ion-content"),L.TgZ(2,"ion-refresher",194),L.NdJ("ionRefresh",function(e){return L.CHM(r),L.oxw().doRefresh(e)}),L._UZ(3,"ion-refresher-content",195),L.qZA(),L.TgZ(4,"ion-virtual-scroll",196,197),L.YNc(6,Pe,29,20,"ion-card",198),L.qZA(),L.TgZ(7,"ion-infinite-scroll",199,200),L.NdJ("ionInfinite",function(e){return L.CHM(r),L.oxw().onChallanScroll(e)}),L._UZ(9,"ion-infinite-scroll-content",201),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.Udp("height",n.challanService.mobileContainer),L.xp6(4),L.Q6J("items",n.challanService.result),L.xp6(5),L.s9C("loadingText",n.challanService.nextloading)}}function $e(e,t){1&e&&(L.TgZ(0,"ion-card",225),L.TgZ(1,"ion-row"),L.TgZ(2,"ion-col"),L._UZ(3,"ion-skeleton-text",226),L.qZA(),L.TgZ(4,"ion-col",227),L._UZ(5,"ion-skeleton-text",228),L.qZA(),L.qZA(),L.TgZ(6,"ion-row"),L.TgZ(7,"ion-col"),L._UZ(8,"ion-skeleton-text",229),L.qZA(),L.TgZ(9,"ion-col",227),L._UZ(10,"ion-skeleton-text",230),L.qZA(),L.qZA(),L.TgZ(11,"ion-row"),L.TgZ(12,"ion-col"),L._UZ(13,"ion-skeleton-text",226),L.qZA(),L.TgZ(14,"ion-col",227),L._UZ(15,"ion-skeleton-text",228),L.qZA(),L.qZA(),L.TgZ(16,"ion-row"),L.TgZ(17,"ion-col"),L._UZ(18,"ion-skeleton-text",229),L.qZA(),L.TgZ(19,"ion-col"),L._UZ(20,"ion-skeleton-text",229),L.qZA(),L.TgZ(21,"ion-col"),L._UZ(22,"ion-skeleton-text",231),L.qZA(),L.TgZ(23,"ion-col",227),L._UZ(24,"ion-skeleton-text",232),L.qZA(),L.qZA(),L.qZA())}function Be(e,t){if(1&e&&(L.TgZ(0,"div"),L.YNc(1,$e,25,0,"ion-card",224),L.qZA()),2&e){var r=L.oxw();L.xp6(1),L.Q6J("ngForOf",r.challanService.noImageRepeat)}}function Ye(e,t){1&e&&(L.TgZ(0,"tr"),L.TgZ(1,"td",234),L._UZ(2,"ion-skeleton-text",228),L.qZA(),L.TgZ(3,"td"),L._UZ(4,"ion-skeleton-text",226),L.qZA(),L.TgZ(5,"td"),L._UZ(6,"ion-skeleton-text",226),L.qZA(),L.TgZ(7,"td"),L._UZ(8,"ion-skeleton-text",226),L.qZA(),L.TgZ(9,"td"),L._UZ(10,"ion-skeleton-text",226),L.qZA(),L.TgZ(11,"td"),L._UZ(12,"ion-skeleton-text",226),L.qZA(),L.TgZ(13,"td"),L._UZ(14,"ion-skeleton-text",226),L.qZA(),L.TgZ(15,"td"),L._UZ(16,"ion-skeleton-text",226),L.qZA(),L.TgZ(17,"td"),L._UZ(18,"ion-skeleton-text",226),L.qZA(),L.TgZ(19,"td"),L._UZ(20,"ion-skeleton-text",226),L.qZA(),L.TgZ(21,"td"),L._UZ(22,"ion-skeleton-text",226),L.qZA(),L.TgZ(23,"td",235),L._UZ(24,"ion-skeleton-text",226),L.qZA(),L.TgZ(25,"td"),L._UZ(26,"ion-skeleton-text",226),L.qZA(),L.TgZ(27,"td"),L._UZ(28,"ion-skeleton-text",226),L.qZA(),L.TgZ(29,"td"),L._UZ(30,"ion-skeleton-text",226),L.qZA(),L.qZA())}function je(e,t){if(1&e&&(L.TgZ(0,"div"),L.TgZ(1,"table",233),L.TgZ(2,"thead",151),L.TgZ(3,"tr"),L.TgZ(4,"th",234),L._UZ(5,"ion-skeleton-text",228),L.qZA(),L.TgZ(6,"th"),L._UZ(7,"ion-skeleton-text",226),L.qZA(),L.TgZ(8,"th"),L._UZ(9,"ion-skeleton-text",226),L.qZA(),L.TgZ(10,"th"),L._UZ(11,"ion-skeleton-text",226),L.qZA(),L.TgZ(12,"th"),L._UZ(13,"ion-skeleton-text",226),L.qZA(),L.TgZ(14,"th"),L._UZ(15,"ion-skeleton-text",226),L.qZA(),L.TgZ(16,"th"),L._UZ(17,"ion-skeleton-text",226),L.qZA(),L.TgZ(18,"th"),L._UZ(19,"ion-skeleton-text",226),L.qZA(),L.TgZ(20,"th"),L._UZ(21,"ion-skeleton-text",226),L.qZA(),L.TgZ(22,"th"),L._UZ(23,"ion-skeleton-text",226),L.qZA(),L.TgZ(24,"th"),L._UZ(25,"ion-skeleton-text",226),L.qZA(),L.TgZ(26,"th",235),L._UZ(27,"ion-skeleton-text",226),L.qZA(),L.TgZ(28,"th"),L._UZ(29,"ion-skeleton-text",226),L.qZA(),L.TgZ(30,"th"),L._UZ(31,"ion-skeleton-text",226),L.qZA(),L.TgZ(32,"th"),L._UZ(33,"ion-skeleton-text",226),L.qZA(),L.qZA(),L.qZA(),L.TgZ(34,"tbody",164),L.YNc(35,Ye,31,0,"tr",187),L.qZA(),L.qZA(),L.qZA()),2&e){var r=L.oxw();L.xp6(35),L.Q6J("ngForOf",r.challanService.noImageRepeat)}}function Ke(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div"),L._UZ(1,"div",237),L._UZ(2,"br"),L.TgZ(3,"div",238),L._uU(4,"Add your first record by clicking in below button. "),L._UZ(5,"br"),L._UZ(6,"br"),L.TgZ(7,"input",239),L.NdJ("clickAllowed",function(){return L.CHM(r),L.oxw(2).openChallanpopup("add")}),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(7),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function ze(e,t){if(1&e&&(L.TgZ(0,"div",236),L._UZ(1,"br"),L._UZ(2,"br"),L.YNc(3,Ke,8,2,"div",13),L._UZ(4,"br"),L._UZ(5,"br"),L.qZA()),2&e){var r=L.oxw();L.xp6(3),L.Q6J("ngIf",r.noDataImage)}}function We(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"app-challan-addedit",240),L.NdJ("ChallanredirectAction",function(e){return L.CHM(r),L.oxw().onChallanSubmit(e)}),L.qZA()}if(2&e){var n=L.oxw();L.Q6J("ChallanredirectOnCancel",!1)("ChallanId",n.ChallanId)}}function Xe(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Purchase Ledger is required"),L.qZA())}function et(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,Xe,2,0,"div",13),L.qZA()),2&e){L.oxw();var r=L.MAs(21);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}function tt(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Date is required"),L.qZA())}function rt(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,tt,2,0,"div",13),L.qZA()),2&e){L.oxw();var r=L.MAs(32);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}function nt(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Quantity is required"),L.qZA())}function it(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,nt,2,0,"div",13),L.TgZ(2,"div",277),L._uU(3," Quantity should contain only numbers "),L.qZA(),L.qZA()),2&e){L.oxw();var r=L.MAs(3);L.xp6(1),L.Q6J("ngIf",r.errors.required),L.xp6(1),L.Q6J("hidden",!r.hasError("pattern"))}}function ot(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Unit price is required"),L.qZA())}function at(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,ot,2,0,"div",13),L.TgZ(2,"div",277),L._uU(3," Unit price should contain only numbers "),L.qZA(),L.qZA()),2&e){L.oxw();var r=L.MAs(7);L.xp6(1),L.Q6J("ngIf",r.errors.required),L.xp6(1),L.Q6J("hidden",!r.hasError("pattern"))}}function lt(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1," Total amount is required "),L.qZA())}function ct(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,lt,2,0,"div",13),L.TgZ(2,"div",277),L._uU(3," Total amount should contain only numbers "),L.qZA(),L.qZA()),2&e){L.oxw();var r=L.MAs(11);L.xp6(1),L.Q6J("ngIf",r.errors.required),L.xp6(1),L.Q6J("hidden",!r.hasError("pattern"))}}var st=function(e){return{"is-invalid":e}};function dt(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"tr",264),L.TgZ(1,"td",265),L.TgZ(2,"input",271,272),L.NdJ("change",function(){var e=L.CHM(r).$implicit,t=L.oxw(2);return t.calculationPurchase(),t.calculateTotal(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.InvQty=e}),L.qZA(),L.YNc(4,it,4,2,"div",255),L.qZA(),L.TgZ(5,"td",266),L.TgZ(6,"input",273,274),L.NdJ("change",function(){var e=L.CHM(r).$implicit,t=L.oxw(2);return t.calculationPurchase(),t.calculateTotal(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.InvRt=e}),L.qZA(),L.YNc(8,at,4,2,"div",255),L.qZA(),L.TgZ(9,"td",266),L.TgZ(10,"input",275,276),L.NdJ("change",function(){return L.CHM(r),L.oxw(2).calculationPurchase()})("ngModelChange",function(e){return L.CHM(r).$implicit.TtlAmt=e}),L.qZA(),L.YNc(12,ct,4,2,"div",255),L.qZA(),L.qZA()}if(2&e){var n=t.$implicit,i=t.index,o=L.MAs(3),a=L.MAs(7),l=L.MAs(11);L.oxw();var c=L.MAs(15);L.xp6(2),L.MGl("name","qty__",i,""),L.Q6J("ngClass",L.VKq(12,st,c.submitted&&o.invalid))("ngModel",n.InvQty),L.xp6(2),L.Q6J("ngIf",c.submitted&&o.invalid),L.xp6(2),L.MGl("name","UA__",i,""),L.Q6J("ngClass",L.VKq(14,st,c.submitted&&a.invalid))("ngModel",n.InvRt),L.xp6(2),L.Q6J("ngIf",c.submitted&&a.invalid),L.xp6(2),L.MGl("name","TA__",i,""),L.Q6J("ngClass",L.VKq(16,st,c.submitted&&l.invalid))("ngModel",n.TtlAmt),L.xp6(2),L.Q6J("ngIf",c.submitted&&l.invalid)}}function ut(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",241),L.TgZ(1,"div",242),L.TgZ(2,"div",41),L.TgZ(3,"h4",243),L._uU(4,"Generate Bill"),L.qZA(),L.TgZ(5,"h4",244),L._uU(6),L.qZA(),L.TgZ(7,"button",43),L.NdJ("click",function(){return L.CHM(r),L.oxw(),L.MAs(39).hide()}),L.TgZ(8,"span",44),L._uU(9,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(10,"div",83),L.TgZ(11,"div",245),L.TgZ(12,"div",246),L.TgZ(13,"div",247),L.TgZ(14,"form",248,249),L.NdJ("ngSubmit",function(){L.CHM(r);var e=L.MAs(15),t=L.oxw();return e.form.valid&&t.onGenerateBill()}),L.TgZ(16,"div",250),L.TgZ(17,"div",251),L.TgZ(18,"label",252),L._uU(19,"Select Purchase Account"),L.qZA(),L.TgZ(20,"ng-select",253,254),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().purLedger=e}),L.qZA(),L.YNc(22,et,2,1,"div",255),L.qZA(),L.TgZ(23,"div",251),L.TgZ(24,"label",256),L._uU(25,"Select Tax Account"),L.qZA(),L.TgZ(26,"ng-select",257,258),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().TaxLed=e})("change",function(){return L.CHM(r),L.oxw().calculationPurchase()}),L.qZA(),L.qZA(),L.TgZ(28,"div",251),L.TgZ(29,"label",259),L._uU(30,"Purchase Date"),L.qZA(),L.TgZ(31,"input",260,261),L.NdJ("selected",function(e){return L.CHM(r),L.oxw().onDateSelect(e)}),L.qZA(),L.YNc(33,rt,2,1,"div",255),L.qZA(),L.TgZ(34,"div",262),L.TgZ(35,"table",263),L.TgZ(36,"thead"),L.TgZ(37,"tr",264),L.TgZ(38,"th",265),L._uU(39,"Qty"),L.qZA(),L.TgZ(40,"th",266),L._uU(41,"Rate/Unit"),L.qZA(),L.TgZ(42,"th",266),L._uU(43,"Total"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(44,"tbody"),L.YNc(45,dt,13,18,"tr",267),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(46,"div",268),L.TgZ(47,"a",269),L.NdJ("click",function(){L.CHM(r);var e=L.oxw();return L.MAs(39).hide(),e.cleardata()}),L._uU(48,"Cancel"),L.qZA(),L.TgZ(49,"button",93),L._uU(50," Generate Bill "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.MAs(15),i=L.MAs(21),o=L.MAs(32),a=L.oxw();L.xp6(6),L.hij("Total: ",a.totamount,""),L.xp6(14),L.Q6J("virtualScroll",!0)("ngClass",L.VKq(14,st,n.submitted&&i.invalid))("items",a.purchaseLedger)("ngModel",a.purLedger)("loading",a.ledgerService.loading),L.xp6(2),L.Q6J("ngIf",n.submitted&&i.invalid),L.xp6(4),L.Q6J("items",a.TaxLedger)("ngModel",a.TaxLed)("loading",a.ledgerService.loading),L.xp6(5),L.Q6J("startDate",a.VDt)("ngClass",L.VKq(16,st,n.submitted&&o.invalid)),L.xp6(2),L.Q6J("ngIf",o.invalid),L.xp6(12),L.Q6J("ngForOf",a.selectedchns)}}function gt(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Purchase Ledger is required"),L.qZA())}function ht(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,gt,2,0,"div",13),L.qZA()),2&e){L.oxw();var r=L.MAs(19);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}function pt(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Date is required"),L.qZA())}function ft(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,pt,2,0,"div",13),L.qZA()),2&e){L.oxw();var r=L.MAs(30);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}function mt(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Quantity is required"),L.qZA())}function Zt(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,mt,2,0,"div",13),L.TgZ(2,"div",277),L._uU(3," Quantity should contain only numbers "),L.qZA(),L.qZA()),2&e){L.oxw();var r=L.MAs(5);L.xp6(1),L.Q6J("ngIf",r.errors.required),L.xp6(1),L.Q6J("hidden",!r.hasError("pattern"))}}function vt(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Unit price is required"),L.qZA())}function Tt(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,vt,2,0,"div",13),L.TgZ(2,"div",277),L._uU(3," Unit price should contain only numbers "),L.qZA(),L.qZA()),2&e){L.oxw();var r=L.MAs(9);L.xp6(1),L.Q6J("ngIf",r.errors.required),L.xp6(1),L.Q6J("hidden",!r.hasError("pattern"))}}function At(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1," Total amount is required "),L.qZA())}function xt(e,t){if(1&e&&(L.TgZ(0,"div",270),L.YNc(1,At,2,0,"div",13),L.TgZ(2,"div",277),L._uU(3," Total amount should contain only numbers "),L.qZA(),L.qZA()),2&e){L.oxw();var r=L.MAs(13);L.xp6(1),L.Q6J("ngIf",r.errors.required),L.xp6(1),L.Q6J("hidden",!r.hasError("pattern"))}}function It(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"tr",264),L.TgZ(1,"td",283),L._uU(2),L.qZA(),L.TgZ(3,"td",281),L.TgZ(4,"input",271,272),L.NdJ("change",function(){var e=L.CHM(r).$implicit,t=L.oxw(2);return t.calculationPurchase(),t.calculateTotal(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Qty=e}),L.qZA(),L.YNc(6,Zt,4,2,"div",255),L.qZA(),L.TgZ(7,"td",282),L.TgZ(8,"input",273,274),L.NdJ("change",function(){var e=L.CHM(r).$implicit,t=L.oxw(2);return t.calculationPurchase(),t.calculateTotal(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.UA=e}),L.qZA(),L.YNc(10,Tt,4,2,"div",255),L.qZA(),L.TgZ(11,"td",282),L.TgZ(12,"input",275,276),L.NdJ("change",function(){return L.CHM(r),L.oxw(2).calculationPurchase()})("ngModelChange",function(e){return L.CHM(r).$implicit.TA=e}),L.qZA(),L.YNc(14,xt,4,2,"div",255),L.qZA(),L.qZA()}if(2&e){var n=t.$implicit,i=t.index,o=L.MAs(5),a=L.MAs(9),l=L.MAs(13);L.oxw();var c=L.MAs(11);L.xp6(2),L.Oqu(n.CN),L.xp6(2),L.MGl("name","qty__",i,""),L.Q6J("ngClass",L.VKq(13,st,c.submitted&&o.invalid))("ngModel",n.Qty),L.xp6(2),L.Q6J("ngIf",c.submitted&&o.invalid),L.xp6(2),L.MGl("name","UA__",i,""),L.Q6J("ngClass",L.VKq(15,st,c.submitted&&a.invalid))("ngModel",n.UA),L.xp6(2),L.Q6J("ngIf",c.submitted&&a.invalid),L.xp6(2),L.MGl("name","TA__",i,""),L.Q6J("ngClass",L.VKq(17,st,c.submitted&&l.invalid))("ngModel",n.TA),L.xp6(2),L.Q6J("ngIf",c.submitted&&l.invalid)}}function Lt(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",39),L.TgZ(1,"div",278),L.TgZ(2,"div",41),L.TgZ(3,"h4",243),L._uU(4,"Generate Bill"),L.qZA(),L.TgZ(5,"h4",244),L._uU(6),L.qZA(),L.TgZ(7,"button",43),L.NdJ("click",function(){return L.CHM(r),L.oxw(),L.MAs(42).hide()}),L.TgZ(8,"span",44),L._uU(9,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(10,"form",248,249),L.NdJ("ngSubmit",function(){L.CHM(r);var e=L.MAs(11),t=L.oxw();return e.form.valid&&t.onGenerateBill()}),L.TgZ(12,"div",279),L.TgZ(13,"div",143),L.TgZ(14,"div",143),L.TgZ(15,"div",280),L.TgZ(16,"label",252),L._uU(17,"Select Purchase Account"),L.qZA(),L.TgZ(18,"ng-select",253,254),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().purLedger=e}),L.qZA(),L.YNc(20,ht,2,1,"div",255),L.qZA(),L.TgZ(21,"div",280),L.TgZ(22,"label",256),L._uU(23,"Select Tax Account"),L.qZA(),L.TgZ(24,"ng-select",257,258),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().TaxLed=e})("change",function(){return L.CHM(r),L.oxw().calculationPurchase()}),L.qZA(),L.qZA(),L.TgZ(26,"div",280),L.TgZ(27,"label",259),L._uU(28,"Purchase Date"),L.qZA(),L.TgZ(29,"input",260,261),L.NdJ("selected",function(e){return L.CHM(r),L.oxw().onDateSelect(e)}),L.qZA(),L.YNc(31,ft,2,1,"div",255),L.qZA(),L.TgZ(32,"div",262),L.TgZ(33,"table",263),L.TgZ(34,"thead"),L.TgZ(35,"tr",264),L.TgZ(36,"th",281),L._uU(37,"#No"),L.qZA(),L.TgZ(38,"th",281),L._uU(39,"Qty"),L.qZA(),L.TgZ(40,"th",282),L._uU(41,"Rate/Unit"),L.qZA(),L.TgZ(42,"th",282),L._uU(43,"Total"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(44,"tbody"),L.YNc(45,It,15,19,"tr",267),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(46,"nav",70),L.TgZ(47,"ul",71),L.TgZ(48,"li",72),L.TgZ(49,"button",94),L.NdJ("click",function(){L.CHM(r);var e=L.oxw();return L.MAs(42).hide(),e.cleardata()}),L._uU(50,"Close"),L.qZA(),L.qZA(),L.TgZ(51,"li",75),L.TgZ(52,"button",93),L._uU(53,"Generate Bill"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.MAs(11),i=L.MAs(19),o=L.MAs(30),a=L.oxw();L.xp6(6),L.hij("Total: ",a.totamount,""),L.xp6(12),L.Q6J("virtualScroll",!0)("ngClass",L.VKq(14,st,n.submitted&&i.invalid))("items",a.purchaseLedger)("ngModel",a.purLedger)("loading",a.ledgerService.loading),L.xp6(2),L.Q6J("ngIf",n.submitted&&i.invalid),L.xp6(4),L.Q6J("items",a.TaxLedger)("ngModel",a.TaxLed)("loading",a.ledgerService.loading),L.xp6(5),L.Q6J("startDate",a.VDt)("ngClass",L.VKq(16,st,n.submitted&&o.invalid)),L.xp6(2),L.Q6J("ngIf",o.invalid),L.xp6(14),L.Q6J("ngForOf",a.selectedchalans)}}function wt(e,t){if(1&e&&L._UZ(0,"app-ledgerhistory",284),2&e){var r=L.oxw();L.Q6J("LedgId",r._LedgerId)("IsCallasPopup",!0)}}function yt(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw();L.xp6(1),L.AsE(" Loaded ",r.ledgerService.result.length," of ",r.ledgerService.totalItems," ")}}function bt(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"a"),L._uU(1),L.qZA(),L.TgZ(2,"a",126),L.TgZ(3,"i",127),L.NdJ("click",function(){var e=L.CHM(r).item;return L.oxw().OpenLedgerHistoryPopUp(e.UIDN)}),L.qZA(),L.qZA()}if(2&e){var n=t.item;L.xp6(1),L.Oqu(n.LN)}}function Ct(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw();L.xp6(1),L.AsE(" Loaded ",r.siteService.result.length," of ",r.siteService.totalItems," ")}}function qt(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw();L.xp6(1),L.AsE(" Loaded ",r.inventoryService.result.length," of ",r.inventoryService.totalItems," ")}}function St(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw();L.xp6(1),L.AsE(" Loaded ",r.taskService.result.length," of ",r.taskService.totalItems," ")}}function Mt(e,t){if(1&e&&(L.TgZ(0,"small",128),L._uU(1),L.qZA()),2&e){var r=L.oxw();L.xp6(1),L.AsE(" Loaded ",r.subtaskService.result.length," of ",r.subtaskService.totalItems," ")}}function Nt(e,t){1&e&&(L.TgZ(0,"thead",151),L.TgZ(1,"tr"),L.TgZ(2,"th",291),L._uU(3,"Comments"),L.qZA(),L.TgZ(4,"th",292),L._uU(5,"Challan No"),L.qZA(),L.TgZ(6,"th",292),L._uU(7,"Challan Sr No"),L.qZA(),L.TgZ(8,"th",292),L._uU(9,"Challan Date"),L.qZA(),L.TgZ(10,"th",292),L._uU(11,"Task Name"),L.qZA(),L.TgZ(12,"th",292),L._uU(13,"Sub Task Name"),L.qZA(),L.TgZ(14,"th",293),L._uU(15,"Inventory Name"),L.qZA(),L.TgZ(16,"th",292),L._uU(17,"Site Name"),L.qZA(),L.TgZ(18,"th",292),L._uU(19,"Unit Name"),L.qZA(),L.TgZ(20,"th",293),L._uU(21,"Ledger Name"),L.qZA(),L.TgZ(22,"th",293),L._uU(23,"Tax Account"),L.qZA(),L.TgZ(24,"th",292),L._uU(25,"Length"),L.qZA(),L.TgZ(26,"th",292),L._uU(27,"Height"),L.qZA(),L.TgZ(28,"th",292),L._uU(29,"Width"),L.qZA(),L.TgZ(30,"th",292),L._uU(31,"Rate/Unit"),L.qZA(),L.TgZ(32,"th",292),L._uU(33,"Quantity"),L.qZA(),L.TgZ(34,"th",292),L._uU(35,"Total Amount"),L.qZA(),L.TgZ(36,"th",292),L._uU(37,"Vehicle No"),L.qZA(),L.TgZ(38,"th",292),L._uU(39,"Narration"),L.qZA(),L.qZA(),L.qZA())}function _t(e,t){if(1&e){var r=L.EpF();L.ynx(0),L.TgZ(1,"tr"),L.TgZ(2,"td",294),L._uU(3),L.qZA(),L.TgZ(4,"td"),L.TgZ(5,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.ChallanName=e}),L.qZA(),L.qZA(),L.TgZ(6,"td"),L.TgZ(7,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.ChallanSrNo=e}),L.qZA(),L.qZA(),L.TgZ(8,"td"),L.TgZ(9,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.ChallanDate=e}),L.qZA(),L.qZA(),L.TgZ(10,"td"),L.TgZ(11,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.TaskName=e}),L.qZA(),L.qZA(),L.TgZ(12,"td"),L.TgZ(13,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.SubTaskName=e}),L.qZA(),L.qZA(),L.TgZ(14,"td"),L.TgZ(15,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.InventoryName=e}),L.qZA(),L.qZA(),L.TgZ(16,"td"),L.TgZ(17,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.SiteName=e}),L.qZA(),L.qZA(),L.TgZ(18,"td"),L.TgZ(19,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.UnitName=e}),L.qZA(),L.qZA(),L.TgZ(20,"td"),L.TgZ(21,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.LedgerName=e}),L.qZA(),L.qZA(),L.TgZ(22,"td"),L.TgZ(23,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.TaxAcName=e}),L.qZA(),L.qZA(),L.TgZ(24,"td"),L.TgZ(25,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Length=e}),L.qZA(),L.qZA(),L.TgZ(26,"td"),L.TgZ(27,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Height=e}),L.qZA(),L.qZA(),L.TgZ(28,"td"),L.TgZ(29,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Width=e}),L.qZA(),L.qZA(),L.TgZ(30,"td"),L.TgZ(31,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.RateOrUnit=e}),L.qZA(),L.qZA(),L.TgZ(32,"td"),L.TgZ(33,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Quantity=e}),L.qZA(),L.qZA(),L.TgZ(34,"td"),L.TgZ(35,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.TotalAmount=e}),L.qZA(),L.qZA(),L.TgZ(36,"td"),L.TgZ(37,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.VehicleNo=e}),L.qZA(),L.qZA(),L.TgZ(38,"td"),L.TgZ(39,"input",295),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Narration=e}),L.qZA(),L.qZA(),L.qZA(),L.BQk()}if(2&e){var n=t.$implicit,i=t.index;L.xp6(1),L.ekj("negative",n.invalidProp)("positive",n.RepeatContactProp),L.xp6(2),L.hij(" ",n.comments," "),L.xp6(2),L.MGl("name","ChallanNo_",i,""),L.MGl("id","ChallanNo_",i,""),L.Q6J("ngModel",n.ChallanName),L.xp6(2),L.MGl("name","ChallanSrNo_",i,""),L.MGl("id","ChallanSrNo_",i,""),L.Q6J("ngModel",n.ChallanSrNo),L.xp6(2),L.MGl("name","ChallanDate_",i,""),L.MGl("id","ChallanDate_",i,""),L.Q6J("ngModel",n.ChallanDate),L.xp6(2),L.MGl("name","TaskName_",i,""),L.MGl("id","TaskName_",i,""),L.Q6J("ngModel",n.TaskName),L.xp6(2),L.MGl("name","SubTaskName_",i,""),L.MGl("id","SubTaskName_",i,""),L.Q6J("ngModel",n.SubTaskName),L.xp6(2),L.MGl("name","InventoryName_",i,""),L.MGl("id","InventoryName_",i,""),L.Q6J("ngModel",n.InventoryName),L.xp6(2),L.MGl("name","SiteName_",i,""),L.MGl("id","SiteName_",i,""),L.Q6J("ngModel",n.SiteName),L.xp6(2),L.MGl("name","UnitName_",i,""),L.MGl("id","UnitName_",i,""),L.Q6J("ngModel",n.UnitName),L.xp6(2),L.MGl("name","LedgerName_",i,""),L.MGl("id","LedgerName_",i,""),L.Q6J("ngModel",n.LedgerName),L.xp6(2),L.MGl("name","TaxAcName_",i,""),L.MGl("id","TaxAcName_",i,""),L.Q6J("ngModel",n.TaxAcName),L.xp6(2),L.MGl("name","Length_",i,""),L.MGl("id","Length_",i,""),L.Q6J("ngModel",n.Length),L.xp6(2),L.MGl("name","Height_",i,""),L.MGl("id","Height_",i,""),L.Q6J("ngModel",n.Height),L.xp6(2),L.MGl("name","Width_",i,""),L.MGl("id","Width_",i,""),L.Q6J("ngModel",n.Width),L.xp6(2),L.MGl("name","RateOrUnit_",i,""),L.MGl("id","RateOrUnit_",i,""),L.Q6J("ngModel",n.RateOrUnit),L.xp6(2),L.MGl("name","Quantity_",i,""),L.MGl("id","Quantity_",i,""),L.Q6J("ngModel",n.Quantity),L.xp6(2),L.MGl("name","TotalAmount_",i,""),L.MGl("id","TotalAmount_",i,""),L.Q6J("ngModel",n.TotalAmount),L.xp6(2),L.MGl("name","VehicleNo_",i,""),L.MGl("id","VehicleNo_",i,""),L.Q6J("ngModel",n.VehicleNo),L.xp6(2),L.MGl("name","Narration_",i,""),L.MGl("id","Narration_",i,""),L.Q6J("ngModel",n.Narration)}}function Dt(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",285),L.TgZ(1,"virtual-scroller",286,287),L.NdJ("vsUpdate",function(){return L.CHM(r),L.oxw().changeDetectorRef.detectChanges()}),L.TgZ(3,"table",288),L.YNc(4,Nt,40,0,"thead",289),L.TgZ(5,"tbody",164,165),L.YNc(7,_t,40,59,"ng-container",290),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.MAs(2),i=L.oxw(),o=L.MAs(145);L.xp6(1),L.Q6J("executeRefreshOutsideAngularZone",!0)("items",i.importeddataAPI)("parentScroll",o),L.xp6(3),L.Q6J("ngIf",i.importeddataAPI.length>0),L.xp6(3),L.Q6J("ngForOf",n.viewPortItems)("ngForTrackBy",i.ImportTrackByFunction)}}var Ut,kt=(Ut=function(){function r(e,n,i,o,a,l,c,s,d,u,g,h,p,f,m){t(this,r),this.challanService=e,this.filterService=n,this.popoverController=i,this.route=o,this.page=a,this.inventoryService=l,this.taskService=c,this.subtaskService=s,this.siteService=d,this.ledgerService=u,this.router=g,this.changeDetectorRef=h,this.location=p,this.accountService=f,this.alert=m,this.noDataImage=!1,this.Sbtaskselector=[],this.Taskselector=[],this.Invselector=[],this.Siteselector=[],this.Ledgerselector=[],this.importeddataAPI=[],this.inValidEntry=[],this.isSubmited=!1,this.isBusy=!0,this._sgId=0,this.popupwindow="",this.isList=!0,this.isChallanPending=!0,this.isScrollEnabled=!0,this.ChallanLedger=[],this.searchLedger=null,this.showChallanModal=!1,this.showLedgHistory=!1,this.showNestedTable=[],this.ChallanId="",this.status={isOpen:!1},this.selectedchns=[],this.selectedchalans=[],this.showBillModal=!1,this.TaxLedger=[],this.purchaseLedger=[],this.totamount=0,this._LedgerId=0,this.currentScrollPosition=0,this.chalanFilter=new v.yz,this.selectedAll=!1,this.httpfunction=new T.r,this.sortarray=[{order:this.challanService.sortorder,column:"ChallanNo",title:"By Challan No"},{order:this.challanService.sortorder,column:"MaterialDate",title:"By Date"},{order:this.challanService.sortorder,column:"TaskName",title:"By Task Name"},{order:this.challanService.sortorder,column:"Name",title:"By Inventory Name"},{order:this.challanService.sortorder,column:"LedgerName",title:"By Ledger Name"},{order:this.challanService.sortorder,column:"SiteName",title:"By Site Name"},{order:this.challanService.sortorder,column:"TotalAmount",title:"By Total Amount"},{order:this.challanService.sortorder,column:"IsBilled",title:"By Bill Status"}],this.SignupId=this.challanService.getSignupId,this.UserId=this.challanService.GetUserId,this.isList=!0,this.challanService.ExportColumn=[{title:"CNo",dataKey:"CN",size:40},{title:"Task",dataKey:"TNm",size:100},{title:"Sub Task",dataKey:"SbTNm",size:80},{title:"Inventory",dataKey:"InvNm",size:100},{title:"Unit",dataKey:"UntNm",size:80},{title:"Ledger",dataKey:"LdNm",size:120},{title:"Site",dataKey:"StNm",size:100},{title:"Qty",dataKey:"Qty",size:40},{title:"Amount",dataKey:"UA",size:50},{title:"Total Amount",dataKey:"TA",size:50},{title:"Narration",dataKey:"Narr",size:150}],this.challanService.Orientationtype=1,this.challanService.ExportName="Challan_List",this.challanService.ExportCompanyName=this.challanService.getCompanyData.CN}return n(r,[{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList),this.showChallanModal?this.showChallanModal=!this.showChallanModal:this.showLedgHistory&&(this.showLedgHistory=!this.showLedgHistory)}},{key:"onLedgHistoryScroll",value:function(){0==this.showLedgHistory&&this.challanService.ScrollDown(),0==this.showChallanModal&&this.challanService.ScrollDown()}},{key:"doRefresh",value:function(e){this.filterService.updatedata(!0,"Challan List"),this.challanService.refreshEvent=e.target,this.FilterData()}},{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.challanService.arrowDownEvent(150==e.challanService.selectedRowIndex||0==e.challanService.selectedRowIndex?150:e.challanService.selectedRowIndex)},500),setTimeout(function(){e.filterService.changeFilter(!0,!0,"Challan List"),null!=e.serachcontrol&&e.serachcontrol.focus()},200),this.SignupId=this.challanService.getSignupId,this.UserId=this.challanService.GetUserId,this.route.params.subscribe(function(t){null!=t.label&&(e.isChallanPending="Billed"!=t.label)});var t={LedgerId:0};t.IsPending=this.isChallanPending,this.challanService.filterArg=t,this.challanService.GetAlldata(),this.challanService.refreshEvent=null,this.challanService.isGetSubscribe=!0,this.challanSubscription=this.challanService.resultObs.subscribe(function(){setTimeout(function(){document.scrollingElement.scrollTop=scrollposition,e.challanService.arrowDownEvent(e.challanService.selectedRowIndex),scrollposition=0},250),1==e.isBusy&&(e.isBusy=!1),0==e.challanService.result.length&&(e.noDataImage=!0)}),0==this.inventoryService.result.length&&this.inventoryService.GetAlldata(),0==this.taskService.result.length&&this.taskService.GetAlldata(),0==this.subtaskService.result.length&&this.subtaskService.GetAlldata(),0==this.siteService.result.length&&this.siteService.GetAllsitesforsInventoryUsage(),this.ledgerService.isGetSubscribe=!0,this.ledgerService.GetAlldataforChallan(!0),this.subscription=this.ledgerService.resultObs.subscribe(function(t){e.ChallanLedger=e.ledgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSC||1==e.IsSD)&&0==e.IsGrp&&1==e.St}),e.purchaseLedger=e.ledgerService.result.filter(function(e){return 1==e.IsPU&&0==e.IsGrp&&1==e.St}),e.TaxLedger=e.ledgerService.result.filter(function(e){return 1==e.isTL&&0==e.IsGrp&&1==e.St})}),this.httpfunction.scrolltop(),this.isScrollEnabled=!0}},{key:"ngOnDestroy",value:function(){null!=this.subscription&&this.subscription.unsubscribe(),null!=this.challanSubscription&&this.challanSubscription.unsubscribe(),null!=this.Sitesubscription&&this.Sitesubscription.unsubscribe(),null!=this.Invesubscription&&this.Invesubscription.unsubscribe(),null!=this.tasksubscription&&this.tasksubscription.unsubscribe(),null!=this.Sbtasksubscription&&this.Sbtasksubscription.unsubscribe()}},{key:"onChallanScroll",value:function(e){0==this.showChallanModal&&(null!=this.infiniteScroll&&(this.challanService.mobileinfinitescroll=this.infiniteScroll,this.challanService.mobilevirtualscroll=this.virtualScroll,this.challanService.refreshEvent=e.target),this.challanService.ScrollDown())}},{key:"FilterData",value:function(){var e="0",t=0,r=0,n=0,i=0;return null!=this.searchLedger&&null!=this.searchLedger&&(e=this.searchLedger.UIDN),null!=this.siteService.singleresult&&null!=this.siteService.singleresult&&(t=this.siteService.singleresult),null!=this.inventoryService.singleresult&&null!=this.inventoryService.singleresult&&(i=this.inventoryService.singleresult),null!=this.taskService.singleresult&&null!=this.taskService.singleresult&&(r=this.taskService.singleresult),null!=this.subtaskService.singleresult&&null!=this.subtaskService.singleresult&&(n=this.subtaskService.singleresult),this.chalanFilter.LedgerId=e,this.chalanFilter.ChallanNo=this.challanfilterNo,this.chalanFilter.SiteId=t,this.chalanFilter.InvId=i,this.chalanFilter.TaskId=r,this.chalanFilter.SbTaskId=n,this.chalanFilter.IsPending=this.isChallanPending,this.challanService.filterArg=this.chalanFilter,this.challanService.page=0,!1}},{key:"onCheckedChange",value:function(e){this.isChallanPending=!this.isChallanPending,this.FilterData()}},{key:"cleardata",value:function(){this.siteService.singleresult=null,this.inventoryService.singleresult=null,this.taskService.singleresult=null,this.subtaskService.singleresult=null,this.chalanFilter.LedgerId=null,this.challanfilterNo="",this.searchLedger=null,this.purLedger=null,this.TaxLed=null}},{key:"clearfilterandloadnewdata",value:function(){this.cleardata(),this.FilterData()}},{key:"change",value:function(e){this.status.isOpen=e}},{key:"toggleDropdown",value:function(e){$("#adv-search").dropdown("hide")}},{key:"exportheader",value:function(e){var t="All";new Date,null!=this.searchLedger&&null!=this.searchLedger&&(t=this.searchLedger.LN),this.challanService.filterHeader="  Ledger : "+t+" ",this.challanService.Export(e)}},{key:"generateBillPopupMobile",value:function(e){var t=this;this.selectedchalans=JSON.parse(JSON.stringify(this.challanService.result.filter(function(t){return t.UIDN==e})));var r=this.selectedchalans[0];if(0==this.selectedchalans.every(function(e){return e.LI===r.LI}))this.alert.showInfo("Error","All selected ledgers must be same.");else{for(var n=0;n<this.selectedchalans.length;n++)if(1==this.selectedchalans[n].IsBd)return this.alert.showInfo("Error","Selected ledger must be unbilled"),!1;0==this.showBillModal&&(this.showBillModal=!0),this.VDt=new Date,this.httpfunction.IsMobileview()?this.BillModalMobile.show():this.BillModal.show(),this.calculationPurchase(),setTimeout(function(){t.purled.focus()},600)}}},{key:"showgenerateBillpopup",value:function(){var e=this;if(this.challanService.result.filter(function(e){return 1==e.Ick||1==e.billSelected}).length>0){this.selectedchalans=JSON.parse(JSON.stringify(this.challanService.result.filter(function(e){return 1==e.Ick||1==e.billSelected}))),this.selectedchns=JSON.parse(JSON.stringify(this.challanService.result.filter(function(e){return 1==e.Ick||1==e.billSelected})[0].ChallanInv));var t=this.selectedchalans[0];if(0==this.selectedchalans.every(function(e){return e.LI===t.LI}))this.alert.showInfo("Error","All selected ledgers must be same.");else{for(var r=0;r<this.selectedchalans.length;r++)if(1==this.selectedchalans[r].IsBd)return this.alert.showInfo("Error","Selected ledger must be unbilled"),!1;0==this.showBillModal&&(this.showBillModal=!0),this.VDt=new Date,this.httpfunction.IsMobileview()?this.BillModalMobile.show():this.BillModal.show(),this.calculationPurchase(),setTimeout(function(){e.purled.focus()},600)}}else this.alert.showError("Error","Please select atleast one record")}},{key:"calculateTotal",value:function(e){e.TA=e.UA*e.Qty}},{key:"calculationPurchase",value:function(){this.totamount=0;for(var e=0;e<this.selectedchns.length;e++)this.totamount+=this.selectedchns[e].TtlAmt;null!=this.TaxLed&&(this.totamount=this.totamount+parseFloat((this.totamount*this.TaxLed.TR/100).toFixed(2)))}},{key:"onDateSelect",value:function(e){this.VDt=e,null!=this.taxLedger&&this.taxLedger.focus()}},{key:"onGenerateBill",value:function(){var e=this;this.challanService.buldupdate(this.selectedchns).subscribe(function(t){var r=t.data;e.accountService.singleresult=new g.VN,e.accountService.singleresult.CI=e.accountService.getCompanyId,e.accountService.singleresult.SI=e.accountService.getSignupId,e.accountService.singleresult.VT=h.$f.Purchase,e.accountService.singleresult.VDt=e.VDt,e.accountService.singleresult.Narr="Bill Generated from challan";var n=[],i=e.ledgerService.result.filter(function(t){return t.UIDN==e.selectedchalans[0].LI})[0],o=new g.eK;o.LId=i.UIDN,o.L_Name=i.LN,o.L_PId=i.PI,o.L_anc=i.ancestor,o.L_Cat=i.Cat,o.TaxLedgerId=0,o.IsTax=!1,o.challan=[];for(var a=0,l=0;l<r.length;l++){a+=r[l].TA;var c=new g.qk;c.Amt=r[l].TA,c.ChId=r[l].UIDN,c.ChNo=r[l].CN,o.challan.push(c)}o.InventoryId=0,o.Quantity=0,o.DrAmt=0,o.isMainled=!0,o.CrAmt=null!=e.TaxLed?a+parseFloat((a*e.TaxLed.TR/100).toFixed(2)):a,n.push(o);var s=new g.eK;if(s.LId=e.purLedger.UIDN,s.L_Name=e.purLedger.LN,s.L_PId=e.purLedger.PI,s.L_anc=e.purLedger.ancestor,s.L_Cat=e.purLedger.Cat,s.IsTax=!1,null!=e.TaxLed&&(s.TaxLedgerId=e.TaxLed.UIDN,s.TaxRate=e.TaxLed.TR),s.InventoryId=0,s.Quantity=0,s.DrAmt=a,s.CrAmt=0,n.push(s),null!=e.TaxLed){var d=new g.eK;d.LId=e.TaxLed.UIDN,d.L_Name=e.TaxLed.LN,d.L_PId=e.TaxLed.PI,d.L_anc=e.TaxLed.ancestor,d.L_Cat=e.TaxLed.Cat,d.IsTax=!0,d.TaxLedgerId=e.TaxLed.UIDN,d.TaxRate=e.TaxLed.TR,d.InventoryId=0,d.Quantity=0,d.DrAmt=parseFloat((a*e.TaxLed.TR/100).toFixed(2)),d.CrAmt=0,n.push(d)}e.accountService.singleresult.VDet=n,e.accountService.waitforMessage=!0,e.accountService.messagebutton=["Ok"],e.accountService.add(e.accountService.singleresult).subscribe(function(t){e.httpfunction.IsMobileview()?e.BillModalMobile.hide():e.BillModal.hide(),e.FilterData(),e.cleardata()})})}},{key:"goback",value:function(){this.location.back()}},{key:"openChallanpopup",value:function(e){this.currentScrollPosition=document.scrollingElement.scrollTop,this.ChallanId=e,this.showChallanModal=!0,this.addurl("transactions/challan/"+e),this.isList=!1}},{key:"onChallanSubmit",value:function(e){var t=this;if(this.showChallanModal=!1,setTimeout(function(){t.challanService.arrowDownEvent(t.challanService.selectedRowIndex),document.scrollingElement.scrollTop=t.currentScrollPosition},250),this.showLedgHistory=!1,this.showLedgHistory=!1,this.isList=!0,this.resetUrl(),null!=e){var r=this.challanService.result.findIndex(function(t){return t.UIDN==e.UIDN});if(r>=0)null!=e.UpI&&e.UpI.length>0&&(e.UpI=e.UpI.filter(function(e){return 1!=e.operationType})),this.challanService.result[r]=e,this.challanService.result=JSON.parse(JSON.stringify(this.challanService.result));else{var n="";null!=this.searchLedger&&null!=this.searchLedger&&(n=this.searchLedger.UIDN);var i=!0;(1==this.isChallanPending&&e.IsBd==this.isChallanPending||""!=n&&e.LI!=n)&&(i=!1),i&&this.challanService.result.unshift(e),this.challanService.result=JSON.parse(JSON.stringify(this.challanService.result))}}}},{key:"OpenLedgerHistoryPopUp",value:function(e){this.currentScrollPosition=document.scrollingElement.scrollTop,this._LedgerId=e,this.showLedgHistory=!0,this.addurl("reports/ledgerhistory"),this.isList=!1}},{key:"onLedgHistoryHide",value:function(){this.showLedgHistory=!0,this.showLedgHistory=!1,this.isList=!0,this.resetUrl(),document.scrollingElement.scrollTop=this.currentScrollPosition,this._LedgerId=0}},{key:"selectAllchange",value:function(e){this.challanService.result.forEach(function(t){t.Ick=e.target.checked})}},{key:"resetUrl",value:function(){var e=this;this.isList=!0;var t=this.router.url;this.route.params.subscribe(function(r){null!=r.id&&""!=r.id&&(t=t.replace("/"+r.id,"")),e.location.go(t)})}},{key:"addurl",value:function(e){var t=this,r=e,n=this.router.url;n=(n=n.substring(0,n.lastIndexOf("/")+0)).substring(0,n.lastIndexOf("/")+0),this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(n=n.replace("/"+e.id,"")),t.location.go("".concat(n,"/").concat(r))}),"reports/ledgerhistory"==e&&(n=(n=n.substring(0,n.lastIndexOf("/")+0)).substring(0,n.lastIndexOf("/")+0))}},{key:"sortPopover",value:function(t){return(0,l.mG)(this,void 0,void 0,e().mark(function r(){var n,i=this;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.popoverController.create({component:x.r,cssClass:"my-custom-class",event:t,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:function(e,t){var r=new A.p(e,t);i.challanService.sortdata=r,n.dismiss()}}});case 2:return n=e.sent,e.next=5,n.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},r,this)}))}},{key:"advSearchM",value:function(){this._SearchModal.show()}},{key:"editOnArrowEvent",value:function(e){this.httpfunction.RolebaseData("Chln")?this.openChallanpopup(e):this.alert.showInfo("Error","You do not have sufficient rights to perform this action. Please contact administrator.")}},{key:"toggleExcelImport",value:function(){this._myImageModal.show()}},{key:"onExcelAdd",value:function(e){this.excelfileData=[];for(var t=0;t<e.length;t++){var r=new I.Q;r.name=e[t].name,r.operationType=0,r.src=e[t].src,r.CompanyId=this.inventoryService.getCompanyId,r.SignupId=this.inventoryService.getSignupId,r.FileLength=e[t].size,r.ModifiedDate=new Date,r.CreatedDate=new Date,r.CreatedBy=this.inventoryService.userid,r.modifyBy=this.inventoryService.userid,this.excelfileData.push(r)}}},{key:"CloseImagePopup",value:function(){this.excelfileData=[],this._myImageModal.hide()}},{key:"ImportTrackByFunction",value:function(e){return e.Index}},{key:"ValidateImportRow",value:function(e){e.comments="",(null==e.ApplicableFrom||""==e.ApplicableFrom)&&(e.comments+="Invalid Date \n"),e.invalidProp=""!=e.comments,this.inValidEntry=null,this.inValidEntry=this.importeddataAPI.filter(function(e){return 1==e.invalidProp}).length}},{key:"onExcelSubmit",value:function(){var e=this;null!=this.excelfileData&&this.excelfileData.length>0?this.challanService.ImportExcel(this.excelfileData).subscribe(function(t){if(null==t.data)return e.alert.showError("Error","Excel column names are incorrect. Please double check your excel column name with predefined format."),void(e.isSubmited=!0);""!=t.data&&null!=t.data?(e.importeddataAPI=t.data,e.inValidEntry=e.importeddataAPI.filter(function(e){return 1==e.invalidProp}).length,e._myImageModal.hide(),e._myInqImportedDataViewModal.show(),e.isSubmited=!0):(e._myImageModal.hide(),e.excelfileData=[])},function(){e.alert.showError("Error","Error while File import.Please Correct Sheet")}):this.alert.showError("Error","Please select atleast one File")}},{key:"ChlImportContinue",value:function(){var e=this,t=this.importeddataAPI.filter(function(e){return 1==e.invalidProp});t.length>0?this.alert.showError("Error","Please modify grid records. we still have "+t.length+" invalid records"):this.importeddataAPI.length>0?this.challanService.ImportDatafromGrid(this.importeddataAPI).subscribe(function(t){t.data.length>0||(e._myImageModal.hide(),e._myInqImportedDataViewModal.hide(),e.alert.showSuccess("Error","Inventory(s) Imported successfully"))},function(){e.alert.showError("Error","Error while File import.Please Correct Sheet")}):this.alert.showError("Error","Inventory Can't imported due to Missing required fields.")}},{key:"toggleNestedTable",value:function(e){this.showNestedTable[e]=!this.showNestedTable[e]}}]),r}(),Ut.\u0275fac=function(e){return new(e||Ut)(L.Y36(s.e),L.Y36(w.i),L.Y36(y.Dh),L.Y36(b.gz),L.Y36(C.T3),L.Y36(p.V),L.Y36(f.M),L.Y36(m.I),L.Y36(Z.P),L.Y36(c.Q),L.Y36(b.F0),L.Y36(L.sBO),L.Y36(a.Ye),L.Y36(u.B),L.Y36(q.Rq))},Ut.\u0275cmp=L.Xpm({type:Ut,selectors:[["app-challan-list"]],viewQuery:function(e,t){var r;1&e&&(L.Gf(Y,5,d.w9),L.Gf(j,5),L.Gf(K,5),L.Gf(z,5),L.Gf(W,5),L.Gf(X,5,d.w9),L.Gf(ee,5,d.w9),L.Gf(te,5),L.Gf(re,5),L.Gf(ne,5),L.Gf(ie,5),L.Gf(oe,5),L.Gf(ae,7)),2&e&&(L.iGM(r=L.CRH())&&(t.serachcontrol=r.first),L.iGM(r=L.CRH())&&(t.challanModal=r.first),L.iGM(r=L.CRH())&&(t.BillModal=r.first),L.iGM(r=L.CRH())&&(t.BillModalMobile=r.first),L.iGM(r=L.CRH())&&(t._SearchModal=r.first),L.iGM(r=L.CRH())&&(t.purled=r.first),L.iGM(r=L.CRH())&&(t.taxLedger=r.first),L.iGM(r=L.CRH())&&(t._LedgerHistoryModal=r.first),L.iGM(r=L.CRH())&&(t.formbill=r.first),L.iGM(r=L.CRH())&&(t.infiniteScroll=r.first),L.iGM(r=L.CRH())&&(t.virtualScroll=r.first),L.iGM(r=L.CRH())&&(t._myImageModal=r.first),L.iGM(r=L.CRH())&&(t._myInqImportedDataViewModal=r.first))},hostBindings:function(e,t){1&e&&L.NdJ("popstate",function(e){return t.onPopState(e)},!1,L.Jf7)},features:[L._Bn([u.B,s.e,c.Q,f.M,m.I,p.V,Z.P])],decls:155,vars:47,consts:[[1,"card",3,"hidden"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["id","tableSort",1,"dropdown-menu","arrow_box"],["sortcolumn","ChallanNo","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","MaterialDate","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","Quantity","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","UnitAmount","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","TotalAmount","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","Narration","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","IsBilled","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainerbody",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","option","four","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","option","three","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Export",1,"action-button","option","two","border-0","waves-effect","btn-default","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],["tooltip","Import",1,"action-button","option","one","border-0","waves-effect","btn-purple","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-upload"],[1,"border-0","waves-effect","btn-dark","btn-floating","action-button","plus","abs"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],["accesslevel","Add","mname","Chln","tooltip","Add New",1,"border-0","waves-effect","btn-primary","btn-floating",3,"appRole","SignupId","UserId","clickAllowed"],[1,"fas","fa-plus"],[3,"ChallanredirectOnCancel","ChallanId","ChallanredirectAction",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","30%"],["BillModal","bs-modal"],["class","modal-dialog halfview modal-lg","role","document",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","bg-white"],["BillModalMobile","bs-modal"],["class","container-fluid p-0","style","height: 100%;background-color: white;",4,"ngIf"],[3,"LedgId","IsCallasPopup",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade","bg-white",2,"z-index","99999"],["SearchModal","bs-modal"],[1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","form",3,"ngSubmit"],["f","ngForm"],[1,"container-fluid",2,"margin-bottom","70px"],[1,"row","mt-2"],[1,"md-form","col-md-3"],["name","isChallanPending"],[1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","name","ChallanPending","id","ChallanPending",1,"c-switch-input",3,"ngModel","change","ngModelChange"],[1,"c-switch-slider"],[1,"md-form","col-md-3","col-sm-6"],["for","Site"],["autofocus","","selectOnTab","true","name","Ledger","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["toled2",""],["ng-header-tmp",""],["ng-option-tmp",""],["selectOnTab","true","name","Site","bindLabel","SN","bindValue","UIDN","placeholder","Select Site",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","Inventory"],["selectOnTab","true","name","Site","bindLabel","InvN","bindValue","UIDN","placeholder","Select Inventory",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","Task"],["selectOnTab","true","name","Site","bindLabel","TN","bindValue","UIDN","placeholder","Select Task",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","SubTask"],["selectOnTab","true","name","Site","bindLabel","SN","bindValue","UIDN","placeholder","Select SubTask",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","name"],["autofocus","","type","text","placeholder","Enter Challan No","name","chlnno","id","Vouchertxt",1,"form-control",3,"ngModel","ngModelChange"],["chlnno","ngModel"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dsialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["ImageModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmImage","ngForm"],[1,"modal-body"],[1,"content"],[1,"container"],[1,"form-group","col-md-12","p-0"],[1,"input-group"],[1,"md-form","form-group","col-sm-12","p-0"],["maxFiles","1","required","","maxSize","2","fileExt","xls, xlsx",3,"filelist","uploadStatus"],["Importexcel",""],["target","_blank","href","https://api.accountbook24.com/sample/inquiry.xlsx",1,"col-sm-2"],[1,"modal-footer","mt-3"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dsialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"fullModal","fade",2,"width","100%"],["myInqImportedDataViewModal","bs-modal"],["role","document",1,"modal-dialog1","modal-md"],["importcontainer",""],["class","card-body col-md-12","id","tableContainer",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mx-2"],["autofocus","","selectOnTab","true","appendTo","body","name","Ledger","bindLabel","LN","placeholder","Select Account",1,"maxpanel",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["toled",""],[1,"mb-2"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],["dropdown","","role","group",1,"btn-group","mb-2",3,"isOpen","isOpenChange"],["type","button","id","dropdownMenuButton","id","adv-search","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"cil-filter","mr-2"],["aria-labelledby","adv-search","role","menu",1,"dropdown-menu","filterform",2,"min-width","35rem",3,"click"],["ffilter","ngForm"],[1,"row","m-0"],[1,"col-md-6","col-sm-12"],[1,"form-group","col-md-6","col-sm-12"],[1,"text-right","mr-2"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-dark","pull-right",3,"click"],[1,"fas","fa-search"],["title","History","placement","bottom",1,"pl-2"],[1,"fas","fa-history","text-primary",3,"click"],[1,"form-text","text-muted"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],["id","tableContainer",1,"table-responsive"],["class","card-header p-1","id","formHeader",4,"ngIf"],["infinite-scroll","",3,"scrollWindow","scrolled"],["class","table table-bordered table-striped pointer-on-hover",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header","p-1"],[1,"row"],[1,"col","PageNameFsize","pl-1"],[1,"text-right","pl-0","pr-0"],[1,"c-switch","c-switch-pill","c-switch-primary","float-right","mb-2"],[1,"mb-2","float-right","mr-2","small","mt-1","font-weight-bold"],[1,"pl-3","pr-1"],[1,"text-wrap","text-right"],[1,"table","table-bordered","table-striped","pointer-on-hover",3,"fxHeader"],["id","tableContainerHead"],[1,"form-check"],["type","checkbox","id","item_All",1,"form-check-input",3,"checked","ngModel","ngModelChange","change"],["for","item_All",1,"form-check-label"],["sortcolumn","ChallanSrNo",3,"dirsort"],["sortcolumn","ChallanNo",3,"dirsort"],["width","105px","sortcolumn","MaterialDate",3,"dirsort"],["sortcolumn","SiteName",3,"dirsort"],["sortcolumn","TaskName",3,"dirsort"],["sortcolumn","LedgerName",3,"dirsort"],["sortcolumn","UserName",3,"dirsort"],["sortcolumn","Narration",3,"dirsort"],["sortcolumn","IsBilled",3,"dirsort"],["id","tableContainerbody"],["container",""],["autofocus","",3,"rowselected",4,"ngFor","ngForOf"],["autofocus",""],[3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup","click"],["type","checkbox",1,"form-check-input",3,"checked","ngModel","id","ngModelChange"],[1,"form-check-label",3,"for"],["accesslevel","Edit","href","javascript:void(0)","mname","Chln",1,"btn","btn-link",3,"appRole","SignupId","UserId","clickAllowed"],[3,"dateValue"],[1,"font-xs"],["class","font-weight-bold small",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["href","javascript:void(0)","accesslevel","Delete","mname","Chln",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],[1,"fas","fa-trash","fa-lg","text-danger"],["colspan","25"],["class","table table-bordered",3,"hidden",4,"ngIf"],[1,"font-weight-bold","small"],["target","_blank",3,"href","click",4,"ngFor","ngForOf"],["target","_blank",3,"href","click"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"table","table-bordered",3,"hidden"],[4,"ngFor","ngForOf"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["sortcolumn","Name",3,"dirsort"],["sortcolumn","Quantity",3,"dirsort"],["sortcolumn","UnitAmount",3,"dirsort"],["sortcolumn","TotalAmount",3,"dirsort"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","210px",3,"items"],["ionvscroll",""],[4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],["class","text-left",4,"ngIf"],["size","3",1,"text-right","pr-1","p-0"],["size","auto",1,"font-weight-bold","small","text-right"],["size","auto","class","font-weight-bold small text-right",4,"ngIf"],["class","text-right",4,"ngIf"],["class","text-left","size","4",4,"ngIf"],["class","pt-3","size","auto",4,"ngIf"],["size","3","class","pt-2 p-0","size","2.7",4,"ngIf"],[1,"text-right","mt-3"],["href","javascript:void(0)","href","javascript:void(0)","accesslevel","Edit","mname","Chln","class","card-link text-center",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["href","javascript:void(0)","href","javascript:void(0)","accesslevel","Delete","mname","Chln",1,"card-link","text-center",3,"appRole","SignupId","UserId","clickAllowed"],["name","trash-outline","color","danger"],[1,"text-left"],[1,"text-right"],["size","4",1,"text-left"],["size","auto",1,"pt-3"],["href","javascript:void(0)",1,"btn","btn-link","p-0","text-small","font-weight-bold","text-wrap",3,"click"],["size","3","size","2.7",1,"pt-2","p-0"],["class","btn btn-link text-small font-weight-bold text-wrap","target","_blank",3,"href","click",4,"ngFor","ngForOf"],["target","_blank",1,"btn","btn-link","text-small","font-weight-bold","text-wrap",3,"href","click"],["href","javascript:void(0)","href","javascript:void(0)","accesslevel","Edit","mname","Chln",1,"card-link","text-center",3,"appRole","SignupId","UserId","clickAllowed"],["name","create-outline","color","primary"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","100%"],[2,"text-align","-webkit-right"],["animated","",2,"width","60%"],["animated","",2,"width","80%"],["animated","",2,"width","40%"],["animated","",2,"width","90%"],["animated","",2,"width","70%"],[1,"table","table-bordered","table-striped","text-center",3,"fxHeader"],[2,"width","20px"],[2,"width","200px"],[1,"col-md-12","pl-0","pr-0"],[1,"mx-auto","noDataImage"],[1,"text-center"],["type","button","value","Add New","accesslevel","Add","mname","Chln",1,"btn","btn-primary",3,"appRole","SignupId","UserId","clickAllowed"],[3,"ChallanredirectOnCancel","ChallanId","ChallanredirectAction"],["role","document",1,"modal-dialog","halfview","modal-lg"],["id","billContent",1,"modal-content"],[1,"modal-title","mr-4"],[1,"text-danger","pt-1"],[1,"col-sm-12","nopadding"],[1,"card"],[1,"card-body"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["fbill","ngForm"],["id","formContainer",1,"row","form-group"],[1,"md-form","form-group","col-sm-12","col-md-12"],["for","purled"],["required","","appendTo","body","name","purled","bindLabel","LN","placeholder","Select Purchase Account",3,"virtualScroll","ngClass","items","ngModel","loading","ngModelChange"],["purled","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","taxLedger"],["appendTo","body","name","taxLedger","bindLabel","LN","placeholder","Select Tax Account",3,"items","ngModel","loading","ngModelChange","change"],["taxLedger",""],["for","vdate"],["type","text","appDatepicker","","required","","id","vdate",1,"form-control",3,"startDate","ngClass","selected"],["vdate",""],[1,"col-12"],[1,"table","table-bordered","table-account"],[1,"d-flex","flex-wrap"],[1,"col-2","text-center"],[1,"col-4","text-right"],["class","d-flex flex-wrap",4,"ngFor","ngForOf"],["id","formbtnContainer",1,"col-sm-12","text-right","mr-2"],["href","javascript:void(0)",1,"btn","btn-dark","mr-2",3,"click"],[1,"invalid-feedback"],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter Qty",1,"form-control","text-center","accText",3,"ngClass","name","ngModel","change","ngModelChange"],["qty",""],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter Unit price",1,"form-control","text-right","accText",3,"ngClass","name","ngModel","change","ngModelChange"],["ua",""],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Total Amount",1,"form-control","text-right","accText",3,"ngClass","name","ngModel","change","ngModelChange"],["ta",""],[3,"hidden"],["id","billContent",1,"modal-content",2,"height","100%"],[1,"container-fluid"],[1,"md-form","col-sm-12","col-md-12"],[1,"col-3","text-center"],[1,"col-3","text-right"],[1,"col-3","text-center","pt-2"],[3,"LedgId","IsCallasPopup"],["id","tableContainer",1,"card-body","col-md-12"],[3,"executeRefreshOutsideAngularZone","items","parentScroll","vsUpdate"],["scrollImport",""],[1,"table","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerHead",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[2,"min-width","225px","white-space","pre-line"],[2,"min-width","100px"],[2,"min-width","150px"],[2,"white-space","pre-line"],["autofocus","","type","text",1,"form-control",3,"ngModel","name","id","change","ngModelChange"]],template:function(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",0),L.YNc(1,ge,54,24,"div",1),L.YNc(2,he,12,0,"div",2),L.TgZ(3,"div",3),L.TgZ(4,"a",4),L._uU(5," By No "),L.qZA(),L.TgZ(6,"a",5),L._uU(7," By Date "),L.qZA(),L.TgZ(8,"a",6),L._uU(9," By Quantity "),L.qZA(),L.TgZ(10,"a",7),L._uU(11," By Amount "),L.qZA(),L.TgZ(12,"a",8),L._uU(13," By Total Amount "),L.qZA(),L.TgZ(14,"a",9),L._uU(15," By Narration "),L.qZA(),L.TgZ(16,"a",10),L._uU(17," By Bill Status "),L.qZA(),L.qZA(),L.YNc(18,Ce,5,4,"div",11),L.YNc(19,Ge,10,4,"div",12),L.YNc(20,Be,2,1,"div",13),L.YNc(21,je,36,1,"div",13),L.YNc(22,ze,6,1,"div",14),L.TgZ(23,"div",15),L.TgZ(24,"div",16),L.TgZ(25,"button",17),L.NdJ("click",function(){return t.exportheader(1)}),L._UZ(26,"i",18),L.qZA(),L.TgZ(27,"button",19),L.NdJ("click",function(){return t.exportheader(2)}),L._UZ(28,"i",20),L.qZA(),L.TgZ(29,"button",21),L.NdJ("click",function(){return t.exportheader(3)}),L._UZ(30,"i",22),L.qZA(),L.TgZ(31,"button",23),L.NdJ("click",function(){return t.toggleExcelImport()}),L._UZ(32,"i",24),L.qZA(),L.TgZ(33,"button",25),L._UZ(34,"i",26),L.qZA(),L.TgZ(35,"button",27),L.NdJ("clickAllowed",function(){return t.openChallanpopup("add")}),L._UZ(36,"i",28),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.YNc(37,We,1,2,"app-challan-addedit",29),L.TgZ(38,"div",30,31),L.YNc(40,ut,51,18,"div",32),L.qZA(),L.TgZ(41,"div",33,34),L.YNc(43,Lt,54,18,"div",35),L.qZA(),L.YNc(44,wt,1,2,"app-ledgerhistory",36),L.TgZ(45,"div",37,38),L.TgZ(47,"div",39),L.TgZ(48,"div",40),L.TgZ(49,"div",41),L.TgZ(50,"h4",42),L._uU(51,"Advance Search "),L.qZA(),L.TgZ(52,"button",43),L.NdJ("click",function(){return t._SearchModal.hide()}),L.TgZ(53,"span",44),L._uU(54,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(55,"form",45,46),L.NdJ("ngSubmit",function(){return t.FilterData()}),L.TgZ(57,"div",47),L.TgZ(58,"div",48),L.TgZ(59,"div",49),L.TgZ(60,"label",50),L._uU(61,"Pending Challan"),L.qZA(),L._UZ(62,"br"),L.TgZ(63,"label",51),L.TgZ(64,"input",52),L.NdJ("change",function(){return t.FilterData()})("ngModelChange",function(e){return t.isChallanPending=e}),L.qZA(),L._UZ(65,"span",53),L.qZA(),L.qZA(),L.TgZ(66,"div",54),L.TgZ(67,"label",55),L._uU(68,"Select Account"),L.qZA(),L.TgZ(69,"ng-select",56,57),L.NdJ("ngModelChange",function(e){return t.searchLedger=e}),L.YNc(71,yt,2,2,"ng-template",58),L.YNc(72,bt,4,1,"ng-template",59),L.qZA(),L.qZA(),L.TgZ(73,"div",54),L.TgZ(74,"label",55),L._uU(75,"Site"),L.qZA(),L.TgZ(76,"ng-select",60),L.NdJ("scrollToEnd",function(){return t.siteService.ScrollDown()})("ngModelChange",function(e){return t.siteService.singleresult=e}),L.YNc(77,Ct,2,2,"ng-template",58),L.qZA(),L.qZA(),L.TgZ(78,"div",54),L.TgZ(79,"label",61),L._uU(80,"Inventory"),L.qZA(),L.TgZ(81,"ng-select",62),L.NdJ("scrollToEnd",function(){return t.inventoryService.ScrollDown()})("ngModelChange",function(e){return t.inventoryService.singleresult=e}),L.YNc(82,qt,2,2,"ng-template",58),L.qZA(),L.qZA(),L.TgZ(83,"div",54),L.TgZ(84,"label",63),L._uU(85,"Task"),L.qZA(),L.TgZ(86,"ng-select",64),L.NdJ("scrollToEnd",function(){return t.taskService.ScrollDown()})("ngModelChange",function(e){return t.taskService.singleresult=e}),L.YNc(87,St,2,2,"ng-template",58),L.qZA(),L.qZA(),L.TgZ(88,"div",54),L.TgZ(89,"label",65),L._uU(90,"Sub Task"),L.qZA(),L.TgZ(91,"ng-select",66),L.NdJ("scrollToEnd",function(){return t.subtaskService.ScrollDown()})("ngModelChange",function(e){return t.subtaskService.singleresult=e}),L.YNc(92,Mt,2,2,"ng-template",58),L.qZA(),L.qZA(),L.TgZ(93,"div",54),L.TgZ(94,"label",67),L._uU(95,"Challan No"),L.qZA(),L.TgZ(96,"input",68,69),L.NdJ("ngModelChange",function(e){return t.challanfilterNo=e}),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(98,"nav",70),L.TgZ(99,"ul",71),L.TgZ(100,"li",72),L.TgZ(101,"button",73),L.NdJ("click",function(e){return t.toggleDropdown(e),t._SearchModal.hide()}),L._UZ(102,"i",74),L._uU(103,"Search "),L.qZA(),L.qZA(),L.TgZ(104,"li",75),L.TgZ(105,"button",76),L.NdJ("click",function(e){return t.clearfilterandloadnewdata(),t.toggleDropdown(e),t._SearchModal.hide()}),L._uU(106," Clear Filter "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(107,"div",77,78),L.TgZ(109,"div",79),L.TgZ(110,"div",80),L.TgZ(111,"div",41),L.TgZ(112,"h4",42),L._uU(113," Inventory Challan"),L.qZA(),L.TgZ(114,"button",43),L.NdJ("click",function(){return t.CloseImagePopup()}),L.TgZ(115,"span",44),L._uU(116,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(117,"form",81,82),L.NdJ("ngSubmit",function(){return L.CHM(r),L.MAs(118).form.valid&&t.onExcelSubmit()}),L.TgZ(119,"div",83),L.TgZ(120,"div",84),L.TgZ(121,"div",85),L.TgZ(122,"div",86),L.TgZ(123,"div",87),L.TgZ(124,"div",88),L.TgZ(125,"app-file-upload",89,90),L.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),L.qZA(),L.TgZ(127,"a",91),L._uU(128," Download sample "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(129,"div",92),L.TgZ(130,"button",93),L._uU(131,"Submit"),L.qZA(),L.TgZ(132,"button",94),L.NdJ("click",function(){return t.CloseImagePopup()}),L._uU(133,"Close"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(134,"div",95,96),L.TgZ(136,"div",97),L.TgZ(137,"div",80),L.TgZ(138,"div",41),L.TgZ(139,"h4",42),L._uU(140,"Imported Inquiry From Sheet "),L.qZA(),L.TgZ(141,"button",43),L.NdJ("click",function(){return L.CHM(r),L.MAs(135).hide()}),L.TgZ(142,"span",44),L._uU(143,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(144,"div",83,98),L.TgZ(146,"div",86),L.TgZ(147,"form",81,82),L.NdJ("ngSubmit",function(){return L.CHM(r),L.MAs(118).form.valid}),L.YNc(149,Dt,8,6,"div",99),L.qZA(),L.qZA(),L.qZA(),L.TgZ(150,"div",100),L.TgZ(151,"button",101),L.NdJ("click",function(){return t.ChlImportContinue()}),L._uU(152,"Inquiry Import"),L.qZA(),L.TgZ(153,"button",94),L.NdJ("click",function(){return L.CHM(r),L.MAs(135).hide()}),L._uU(154,"Close"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}2&e&&(L.Udp("display",t.showChallanModal||t.showLedgHistory?"none":"block"),L.Q6J("hidden",!t.isList),L.xp6(1),L.Q6J("ngIf",!t.challanService.IsMobileview),L.xp6(1),L.Q6J("ngIf",t.challanService.IsMobileview),L.xp6(2),L.Q6J("dirsort",t.challanService),L.xp6(2),L.Q6J("dirsort",t.challanService),L.xp6(2),L.Q6J("dirsort",t.challanService),L.xp6(2),L.Q6J("dirsort",t.challanService),L.xp6(2),L.Q6J("dirsort",t.challanService),L.xp6(2),L.Q6J("dirsort",t.challanService),L.xp6(2),L.Q6J("dirsort",t.challanService),L.xp6(2),L.Q6J("ngIf",!t.challanService.IsMobileview),L.xp6(1),L.Q6J("ngIf",t.challanService.result.length>0&&t.challanService.IsMobileview),L.xp6(1),L.Q6J("ngIf",0==t.challanService.result.length&&!t.noDataImage&&t.challanService.IsMobileview),L.xp6(1),L.Q6J("ngIf",0==t.challanService.result.length&&!t.noDataImage&&!t.challanService.IsMobileview),L.xp6(1),L.Q6J("ngIf",0==t.challanService.result.length),L.xp6(13),L.Q6J("SignupId",t.SignupId)("UserId",t.UserId),L.xp6(2),L.Q6J("ngIf",t.showChallanModal),L.xp6(3),L.Q6J("ngIf",t.showBillModal),L.xp6(3),L.Q6J("ngIf",t.showBillModal),L.xp6(1),L.Q6J("ngIf",t.showLedgHistory),L.xp6(20),L.Q6J("ngModel",t.isChallanPending),L.xp6(5),L.Q6J("virtualScroll",!0)("items",t.ChallanLedger)("ngModel",t.searchLedger)("loading",t.ledgerService.loading),L.xp6(7),L.Q6J("virtualScroll",!0)("items",t.siteService.result)("ngModel",t.siteService.singleresult)("loading",t.siteService.loading),L.xp6(5),L.Q6J("virtualScroll",!0)("items",t.inventoryService.result)("ngModel",t.inventoryService.singleresult)("loading",t.inventoryService.loading),L.xp6(5),L.Q6J("virtualScroll",!0)("items",t.taskService.result)("ngModel",t.taskService.singleresult)("loading",t.taskService.loading),L.xp6(5),L.Q6J("virtualScroll",!0)("items",t.subtaskService.result)("ngModel",t.subtaskService.singleresult)("loading",t.subtaskService.loading),L.xp6(5),L.Q6J("ngModel",t.challanfilterNo),L.xp6(29),L.Q6J("filelist",t.excelfileData),L.xp6(24),L.Q6J("ngIf",t.isSubmited))},directives:[a.O5,S.n,M.e,N.i9,_.g,D.oB,U._Y,U.JL,U.F,U.Wl,k.x,U.JJ,U.On,d.w9,d.A3,d.Z2,U.Fj,J.u,V.Y,R.TO,y.gu,Q.R,E.n,a.sg,F.a,y.W2,y.nJ,y.Wo,y.aJ,y.Rw,y.ju,y.MB,y.PM,y.Nd,y.wI,y.CK,H.N,U.Q7,a.mk,O.q,U.c5,P.i,G.Vw],pipes:[B.s],styles:[".pointer-on-hover[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}"]}),Ut),Jt=o(28879),Vt=o(86410),Rt=o(3359),Qt=o(61362),Et=o(49457),Ft=o(69521),Ht=o(65978),Ot=o(8746),Pt=["frm"],Gt=["myModal"],$t=["Ledger"],Bt=["TransactionModal"],Yt=["ExportLedgModal"],jt=["SearchModal"],Kt=["LedgerHistoryModal"],zt=["ionvscroll"],Wt=["ImageModal"],Xt=["myInqImportedDataViewModal"];function er(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"a"),L._uU(1),L.qZA(),L.TgZ(2,"a",92),L.TgZ(3,"i",93),L.NdJ("click",function(){var e=L.CHM(r).item;return L.oxw(2).OpenLedgerHistoryPopUp(e.UIDN)}),L.qZA(),L.qZA()}if(2&e){var n=t.item;L.xp6(1),L.Oqu(n.LN),L.xp6(1),L.Q6J("hidden",1==n.IsGrp)}}function tr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"li",87),L.TgZ(1,"a",94),L.NdJ("click",function(){return L.CHM(r),L.oxw(2).openChangeModal()}),L._uU(2," Change Group "),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(1),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function rr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"li",95),L.TgZ(1,"button",96),L.NdJ("clickAllowed",function(){return L.CHM(r),L.oxw(2).MultipleVoucherDelete()}),L._uU(2," Delete Multiple "),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(1),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function nr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",75),L.TgZ(1,"form",76),L.NdJ("submit",function(){return L.CHM(r),L.oxw().FilterData()}),L.TgZ(2,"ul",77),L.TgZ(3,"li",78),L.TgZ(4,"button",79),L.NdJ("click",function(){return L.CHM(r),L.oxw().goback()}),L._UZ(5,"i",80),L.qZA(),L.qZA(),L.TgZ(6,"li",81),L.TgZ(7,"ng-select",82,38),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().currentLedger=e}),L.YNc(9,er,4,2,"ng-template",39),L.qZA(),L.qZA(),L.TgZ(10,"li",83),L.TgZ(11,"button",84),L.NdJ("click",function(){return L.CHM(r),L.oxw().FilterData()}),L._UZ(12,"span",85),L.TgZ(13,"span",86),L._uU(14,"Search"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(15,"li",87),L.TgZ(16,"a",88),L.NdJ("click",function(){return L.CHM(r),L.oxw().exportForTally()}),L._uU(17," Export "),L.qZA(),L.qZA(),L.YNc(18,tr,3,2,"li",89),L.YNc(19,rr,3,2,"li",90),L.TgZ(20,"li",91),L.TgZ(21,"a",88),L.NdJ("click",function(){return L.CHM(r),L.oxw().UnusedLedger()}),L._uU(22," UnUsed "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(7),L.Q6J("virtualScroll",!0)("items",n.companyLedgerService.result)("ngModel",n.currentLedger)("loading",n.companyLedgerService.loading),L.xp6(11),L.Q6J("ngIf",n.isMultipleLedgerDelete),L.xp6(1),L.Q6J("ngIf",n.isMultipleLedgerDelete)}}function ir(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",97),L.TgZ(1,"ul",77),L.TgZ(2,"li",98),L.TgZ(3,"ion-icon",99),L.NdJ("click",function(){return L.CHM(r),L.oxw().goback()}),L.qZA(),L.qZA(),L.TgZ(4,"li",98),L.TgZ(5,"ion-icon",100),L.NdJ("click",function(){return L.CHM(r),L.oxw().advSearchM()}),L.qZA(),L.qZA(),L.TgZ(6,"li",101),L.TgZ(7,"div",102),L.TgZ(8,"span"),L.TgZ(9,"strong"),L._uU(10,"Chart Of Accounts"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}}function or(e,t){if(1&e&&(L.TgZ(0,"div",117),L._uU(1,"Total UnUsed Ledger "),L.TgZ(2,"b"),L._uU(3),L.qZA(),L.qZA()),2&e){var r=L.oxw(3);L.xp6(3),L.hij(" ",r.TotalUnusedLEdger,"")}}function ar(e,t){if(1&e&&(L.TgZ(0,"div",117),L._uU(1),L.qZA()),2&e){var r=L.oxw(3);L.xp6(1),L.hij(" ",r.companyLedgerService.currentShowing,"")}}function lr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",107),L.TgZ(1,"div",108),L.TgZ(2,"div",109),L.TgZ(3,"strong"),L._uU(4,"Chart Of Account (Ledger List)"),L.qZA(),L.qZA(),L.TgZ(5,"div",110),L.TgZ(6,"label",111),L.TgZ(7,"input",112),L.NdJ("change",function(){return L.CHM(r),L.oxw(2).showLedgerOnly()})("ngModelChange",function(e){return L.CHM(r),L.oxw(2).OnlyLedgers=e}),L.qZA(),L._UZ(8,"span",22),L.qZA(),L.TgZ(9,"span",113),L._uU(10,"Show Ledger Only"),L.qZA(),L.qZA(),L.TgZ(11,"div",110),L.TgZ(12,"label",111),L.TgZ(13,"input",114),L.NdJ("change",function(){return L.CHM(r),L.oxw(2).showGroupsOnly()})("ngModelChange",function(e){return L.CHM(r),L.oxw(2).OnlyGroups=e}),L.qZA(),L._UZ(14,"span",22),L.qZA(),L.TgZ(15,"span",113),L._uU(16,"Show Group Only"),L.qZA(),L.qZA(),L.TgZ(17,"div",115),L.YNc(18,or,4,1,"div",116),L.YNc(19,ar,2,1,"div",116),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(7),L.Q6J("ngModel",n.OnlyLedgers),L.xp6(6),L.Q6J("ngModel",n.OnlyGroups),L.xp6(5),L.Q6J("ngIf",1==n.IsUnusedLedger),L.xp6(1),L.Q6J("ngIf",0==n.IsUnusedLedger)}}function cr(e,t){1&e&&(L.TgZ(0,"span",138),L._uU(1,"Group"),L.qZA())}function sr(e,t){1&e&&(L.TgZ(0,"span",138),L._uU(1,"Ledger"),L.qZA())}function dr(e,t){if(1&e&&(L.TgZ(0,"span"),L._uU(1),L.ALo(2,"indianCurrency"),L.qZA()),2&e){var r=L.oxw(2).$implicit;L.xp6(1),L.Oqu(L.lcZ(2,1,r.drAmountSum))}}function ur(e,t){1&e&&L._UZ(0,"span")}function gr(e,t){if(1&e&&(L.TgZ(0,"span"),L._uU(1),L.ALo(2,"indianCurrency"),L.qZA()),2&e){var r=L.oxw(2).$implicit;L.xp6(1),L.Oqu(L.lcZ(2,1,r.crAmountSum))}}function hr(e,t){1&e&&L._UZ(0,"span")}function pr(e,t){if(1&e&&(L.TgZ(0,"span"),L._uU(1),L.ALo(2,"indianCurrency"),L.qZA()),2&e){var r=L.oxw(2).$implicit;L.xp6(1),L.Oqu(L.lcZ(2,1,r.balAmountSum))}}function fr(e,t){1&e&&L._UZ(0,"span")}function mr(e,t){if(1&e&&(L.TgZ(0,"a",140),L._uU(1),L.qZA()),2&e){var r=t.index;L.s9C("href",t.$implicit.src,L.LSH),L.xp6(1),L.hij(" image",r+1," ")}}function Zr(e,t){if(1&e&&(L.TgZ(0,"div"),L.YNc(1,mr,2,2,"a",139),L.qZA()),2&e){var r=L.oxw(2).$implicit;L.xp6(1),L.Q6J("ngForOf",r.Uploadimg)}}function vr(e,t){1&e&&(L.TgZ(0,"span",141),L._uU(1,"Active"),L.qZA())}function Tr(e,t){1&e&&(L.TgZ(0,"span",142),L._uU(1,"InActive"),L.qZA())}function Ar(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"li",144),L.TgZ(1,"a",147),L.NdJ("click",function(){L.CHM(r);var e=L.oxw(3).$implicit;return L.oxw(3).OpenTrialBalance(e.UIDN)}),L._uU(2,"Open Trial Balance"),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(6);L.xp6(1),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function xr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"li",144),L.TgZ(1,"a",150),L.NdJ("clickAllowed",function(){L.CHM(r);var e=L.oxw(3).$implicit;return L.oxw(3).companyLedgerService.delete(e.UIDN)}),L._uU(2," Delete "),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(6);L.xp6(1),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Ir(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"ul",143),L.TgZ(1,"li",144),L.TgZ(2,"a",145),L.NdJ("click",function(){L.CHM(r);var e=L.oxw(2).$implicit;return L.oxw(3).routingScroll(e.UIDN,"")}),L._uU(3," Edit "),L.qZA(),L.qZA(),L.YNc(4,Ar,3,2,"li",146),L.TgZ(5,"li",144),L.TgZ(6,"a",147),L.NdJ("click",function(){L.CHM(r);var e=L.oxw(2).$implicit;return L.oxw(3).LedgerHistory(e,1)}),L._uU(7,"Ledger's Trial Balance"),L.qZA(),L.qZA(),L.TgZ(8,"li",144),L.TgZ(9,"a",148),L.NdJ("click",function(){L.CHM(r);var e=L.oxw(2).$implicit;return L.oxw(3).routingScroll(e.UIDN,!0)}),L._uU(10," Add Group "),L.qZA(),L.qZA(),L.TgZ(11,"li",144),L.TgZ(12,"a",149),L.NdJ("click",function(){L.CHM(r);var e=L.oxw(2).$implicit;return L.oxw(3).routingScroll(e.UIDN,!1)}),L._uU(13," Add Ledger "),L.qZA(),L.qZA(),L.YNc(14,xr,3,2,"li",146),L.qZA()}if(2&e){var n=L.oxw(2).$implicit,i=L.oxw(3);L.xp6(2),L.Q6J("SignupId",i.SignupId)("UserId",i.UserId),L.xp6(2),L.Q6J("ngIf",1==n.IsGrp),L.xp6(2),L.Q6J("SignupId",i.SignupId)("UserId",i.UserId),L.xp6(3),L.Q6J("hidden",0==n.IsGrp)("SignupId",i.SignupId)("UserId",i.UserId),L.xp6(3),L.Q6J("hidden",0==n.IsGrp)("SignupId",i.SignupId)("UserId",i.UserId),L.xp6(2),L.Q6J("ngIf",null==n.RS||""==n.RS)}}function Lr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"tr",127),L.NdJ("keydown.enter",function(){L.CHM(r);var e=L.oxw().$implicit;return L.oxw(3).editOnArrowEvent(e.UIDN,"")})("keydown.arrowdown",function(){L.CHM(r);var e=L.oxw().index;return L.oxw(3).companyLedgerService.arrowDownEvent(e+151)})("keydown.arrowup",function(){L.CHM(r);var e=L.oxw().index;return L.oxw(3).companyLedgerService.arrowUpEvent(e+149)}),L.TgZ(1,"td"),L.TgZ(2,"div",120),L.TgZ(3,"input",128),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().$implicit.Ick=e})("change",function(e){L.CHM(r);var t=L.oxw().$implicit;return L.oxw(3).selectSinglechange(e,t.UIDN)}),L.qZA(),L._UZ(4,"label",129),L.qZA(),L.qZA(),L.TgZ(5,"td"),L._uU(6),L.qZA(),L.TgZ(7,"td"),L._uU(8),L.qZA(),L.TgZ(9,"td"),L.YNc(10,cr,2,0,"span",130),L.YNc(11,sr,2,0,"span",130),L.qZA(),L.TgZ(12,"td"),L._uU(13),L.ALo(14,"indianCurrency"),L.qZA(),L.TgZ(15,"td"),L._uU(16),L.ALo(17,"indianCurrency"),L.qZA(),L.TgZ(18,"td"),L.YNc(19,dr,3,3,"span",5),L.YNc(20,ur,1,0,"span",5),L.qZA(),L.TgZ(21,"td"),L.YNc(22,gr,3,3,"span",5),L.YNc(23,hr,1,0,"span",5),L.qZA(),L.TgZ(24,"td"),L.YNc(25,pr,3,3,"span",5),L.YNc(26,fr,1,0,"span",5),L.qZA(),L.TgZ(27,"td"),L.YNc(28,Zr,2,1,"div",5),L.qZA(),L.TgZ(29,"td"),L.YNc(30,vr,2,0,"span",131),L.YNc(31,Tr,2,0,"span",132),L.qZA(),L.TgZ(32,"td",133),L.TgZ(33,"div",134),L.TgZ(34,"button",135),L._UZ(35,"i",136),L.qZA(),L.YNc(36,Ir,15,12,"ul",137),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(),i=n.index,o=n.$implicit;L.s9C("tabindex",i+150),L.xp6(3),L.MGl("id","item_",i,""),L.Q6J("checked",o.Ick)("ngModel",o.Ick),L.xp6(1),L.MGl("for","item_",i,""),L.xp6(1),L.Udp("padding-left",15*o.Level,"px"),L.ekj("boldfont",1==o.IsGrp),L.xp6(1),L.hij(" ",o.LN," "),L.xp6(2),L.Oqu(o.Cat),L.xp6(2),L.Q6J("ngIf",1==o.IsGrp),L.xp6(1),L.Q6J("ngIf",0==o.IsGrp),L.xp6(2),L.Oqu(L.lcZ(14,24,o.OB)),L.xp6(3),L.Oqu(L.lcZ(17,26,o.CB)),L.xp6(3),L.Q6J("ngIf",null!=o.drAmountSum),L.xp6(1),L.Q6J("ngIf",null==o.drAmountSum),L.xp6(2),L.Q6J("ngIf",null!=o.crAmountSum),L.xp6(1),L.Q6J("ngIf",null==o.crAmountSum),L.xp6(2),L.Q6J("ngIf",null!=o.balAmountSum),L.xp6(1),L.Q6J("ngIf",null==o.balAmountSum),L.xp6(2),L.Q6J("ngIf",null!=o.Uploadimg&&o.Uploadimg.length>0),L.xp6(2),L.Q6J("ngIf",1==o.St),L.xp6(1),L.Q6J("ngIf",0==o.St)}}function wr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"tr"),L.TgZ(1,"td"),L.TgZ(2,"a",153),L.NdJ("click",function(){var e=L.CHM(r).$implicit;return L.oxw(6).openTransaction(e.VType,e.VId,e.BId,!1)}),L._uU(3),L.qZA(),L.qZA(),L.TgZ(4,"td"),L._uU(5),L.qZA(),L.TgZ(6,"td"),L._uU(7),L.qZA(),L.TgZ(8,"td"),L._uU(9),L.ALo(10,"indianCurrency"),L.qZA(),L.TgZ(11,"td"),L._UZ(12,"dateformatter",154),L.qZA(),L.TgZ(13,"td"),L._uU(14),L.qZA(),L.TgZ(15,"td"),L._uU(16),L.ALo(17,"indianCurrency"),L.qZA(),L.TgZ(18,"td"),L._uU(19),L.ALo(20,"indianCurrency"),L.qZA(),L.TgZ(21,"td"),L._uU(22),L.qZA(),L.TgZ(23,"td"),L._uU(24),L.qZA(),L.TgZ(25,"td"),L._UZ(26,"dateformatter",155),L.qZA(),L.qZA()}if(2&e){var n=t.$implicit;L.xp6(3),L.hij(" ",n.VNo," "),L.xp6(2),L.hij(" ",n.VType," "),L.xp6(2),L.hij(" ",n.ParentGroupLedger," "),L.xp6(2),L.hij(" ",L.lcZ(10,11,n.OBalance)," "),L.xp6(3),L.s9C("dateValue",n.VDate),L.xp6(2),L.hij(" ",n.Narr," "),L.xp6(2),L.hij(" ",L.lcZ(17,13,n.VDrAmt)," "),L.xp6(3),L.hij(" ",L.lcZ(20,15,n.VCrAmt)," "),L.xp6(3),L.hij(" ",n.ActionModule," "),L.xp6(2),L.hij(" ",n.UserName," "),L.xp6(2),L.s9C("dateValue",n.MD)}}function yr(e,t){if(1&e&&(L.ynx(0),L.TgZ(1,"tr"),L.TgZ(2,"td",151),L.TgZ(3,"table",152),L.TgZ(4,"tr"),L.TgZ(5,"th"),L._uU(6,"VoucherNo"),L.qZA(),L.TgZ(7,"th"),L._uU(8,"VoucherType"),L.qZA(),L.TgZ(9,"th"),L._uU(10,"Parent"),L.qZA(),L.TgZ(11,"th"),L._uU(12,"OpeningBalance"),L.qZA(),L.TgZ(13,"th"),L._uU(14,"VoucherDate"),L.qZA(),L.TgZ(15,"th"),L._uU(16,"Narration"),L.qZA(),L.TgZ(17,"th"),L._uU(18,"DrAmount"),L.qZA(),L.TgZ(19,"th"),L._uU(20,"CrAmount"),L.qZA(),L.TgZ(21,"th"),L._uU(22,"ActionModule"),L.qZA(),L.TgZ(23,"th"),L._uU(24,"Modified-By"),L.qZA(),L.TgZ(25,"th"),L._uU(26,"Modified/Created DateTime"),L.qZA(),L.qZA(),L.YNc(27,wr,27,17,"tr",125),L.qZA(),L.qZA(),L.qZA(),L.BQk()),2&e){var r=L.oxw(2).$implicit;L.xp6(27),L.Q6J("ngForOf",r.Remarks)}}function br(e,t){if(1&e&&(L.ynx(0),L.YNc(1,yr,28,1,"ng-container",5),L.BQk()),2&e){var r=L.oxw().$implicit;L.xp6(1),L.Q6J("ngIf",null!=r.Remarks&&r.Remarks.length>0)}}function Cr(e,t){if(1&e&&(L.ynx(0),L.YNc(1,Lr,37,28,"tr",126),L.YNc(2,br,2,1,"ng-container",5),L.BQk()),2&e){var r=t.$implicit,n=L.oxw(3);L.xp6(1),L.Q6J("ngIf",1==r.IsGrp&&1==n.OnlyGroups||0==n.OnlyGroups),L.xp6(1),L.Q6J("ngIf",1==r.Expd)}}function qr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"table",118),L.TgZ(1,"thead",119),L.TgZ(2,"tr"),L.TgZ(3,"th"),L.TgZ(4,"div",120),L.TgZ(5,"input",121),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw(2).selectedAll=e})("change",function(e){return L.CHM(r),L.oxw(2).selectAllchange(e)}),L.qZA(),L._UZ(6,"label",122),L.qZA(),L.qZA(),L.TgZ(7,"th"),L._uU(8,"Ledger "),L.qZA(),L.TgZ(9,"th"),L._uU(10,"Category"),L.qZA(),L.TgZ(11,"th"),L._uU(12,"Ledger Type"),L.qZA(),L.TgZ(13,"th"),L._uU(14,"Opening Balance"),L.qZA(),L.TgZ(15,"th"),L._uU(16,"Current Balance"),L.qZA(),L.TgZ(17,"th"),L._uU(18,"Dabit "),L.qZA(),L.TgZ(19,"th"),L._uU(20,"Credit "),L.qZA(),L.TgZ(21,"th"),L._uU(22,"Balance"),L.qZA(),L.TgZ(23,"th"),L._uU(24,"Image"),L.qZA(),L.TgZ(25,"th"),L._uU(26,"Status"),L.qZA(),L.TgZ(27,"th"),L._uU(28,"Actions"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(29,"tbody",123,124),L.YNc(31,Cr,3,2,"ng-container",125),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(5),L.Q6J("checked",n.selectedAll)("ngModel",n.selectedAll),L.xp6(26),L.Q6J("ngForOf",n.ledgerData)}}function Sr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",156),L.TgZ(1,"table",157),L.TgZ(2,"thead",119),L.TgZ(3,"tr"),L.TgZ(4,"th"),L.TgZ(5,"div",120),L.TgZ(6,"input",121),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw(2).selectedAll=e})("change",function(e){return L.CHM(r),L.oxw(2).selectAllchange(e)}),L.qZA(),L._UZ(7,"label",122),L.qZA(),L.qZA(),L.TgZ(8,"th"),L._uU(9,"Ledger "),L.qZA(),L.TgZ(10,"th"),L._uU(11,"Category"),L.qZA(),L.TgZ(12,"th"),L._uU(13,"Ledger Type"),L.qZA(),L.TgZ(14,"th"),L._uU(15,"Opening Balance"),L.qZA(),L.TgZ(16,"th"),L._uU(17,"Current Balance"),L.qZA(),L.TgZ(18,"th"),L._uU(19,"Image"),L.qZA(),L.TgZ(20,"th"),L._uU(21,"Status"),L.qZA(),L.TgZ(22,"th"),L._uU(23,"Actions"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw(2);L.xp6(6),L.Q6J("checked",n.selectedAll)("ngModel",n.selectedAll)}}function Mr(e,t){if(1&e&&(L.TgZ(0,"div",103),L.YNc(1,lr,20,4,"div",104),L.TgZ(2,"div"),L.YNc(3,qr,32,3,"table",105),L.qZA(),L.YNc(4,Sr,24,2,"div",106),L.qZA()),2&e){var r=L.oxw();L.xp6(1),L.Q6J("ngIf",0==(r.companyLedgerService.isMobile||r.companyLedgerService.IsMobileview)),L.xp6(2),L.Q6J("ngIf",r.ledgerData.length>0),L.xp6(1),L.Q6J("ngIf",r.ledgerData.length>0)}}function Nr(e,t){1&e&&(L.TgZ(0,"span",138),L._uU(1,"Group"),L.qZA())}function _r(e,t){1&e&&(L.TgZ(0,"span",138),L._uU(1,"Ledger"),L.qZA())}function Dr(e,t){if(1&e&&(L.TgZ(0,"a",173),L._UZ(1,"i",174),L._uU(2,"Group "),L.qZA()),2&e){var r=L.oxw().$implicit,n=L.oxw(2);L.MGl("rLink","/transactions/ledgeradd/",r.UIDN,"/true"),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Ur(e,t){if(1&e&&(L.TgZ(0,"a",175),L._UZ(1,"i",174),L._uU(2,"Ledger "),L.qZA()),2&e){var r=L.oxw().$implicit,n=L.oxw(2);L.MGl("rLink","/transactions/ledgeradd/",r.UIDN,"/false"),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function kr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"ion-card",163),L.NdJ("click",function(){var e=L.CHM(r).$implicit;return e.Ick=!e.Ick}),L.TgZ(1,"div"),L.TgZ(2,"ion-row"),L.TgZ(3,"ion-col"),L.TgZ(4,"div",164),L.TgZ(5,"h5"),L._uU(6),L.qZA(),L.qZA(),L.qZA(),L.TgZ(7,"ion-col",165),L.YNc(8,Nr,2,0,"span",130),L.YNc(9,_r,2,0,"span",130),L.qZA(),L.qZA(),L.TgZ(10,"ion-row"),L.TgZ(11,"ion-col",166),L.YNc(12,Dr,3,3,"a",167),L.YNc(13,Ur,3,3,"a",168),L.qZA(),L.TgZ(14,"ion-col",165),L.TgZ(15,"a",169),L.NdJ("click",function(){var e=L.CHM(r).$implicit;return L.oxw(2).routingScroll(e.UIDN,"")}),L._UZ(16,"ion-icon",170),L.qZA(),L.TgZ(17,"a",171),L.NdJ("clickAllowed",function(){var e=L.CHM(r).$implicit;return L.oxw(2).companyLedgerService.delete(e.UIDN)}),L._UZ(18,"ion-icon",172),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=t.$implicit,i=L.oxw(2);L.ekj("rowselected",n.Ick),L.xp6(4),L.Udp("padding-left",5*n.Level,"px"),L.ekj("boldfont",1==n.IsGrp),L.xp6(2),L.Oqu(n.LN),L.xp6(2),L.Q6J("ngIf",1==n.IsGrp),L.xp6(1),L.Q6J("ngIf",0==n.IsGrp),L.xp6(3),L.Q6J("ngIf",1==n.IsGrp),L.xp6(1),L.Q6J("ngIf",1==n.IsGrp),L.xp6(2),L.Q6J("SignupId",i.SignupId)("UserId",i.UserId),L.xp6(2),L.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Jr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",158),L.TgZ(1,"ion-content"),L.TgZ(2,"ion-refresher",159),L.NdJ("ionRefresh",function(e){return L.CHM(r),L.oxw().doRefresh(e)}),L._UZ(3,"ion-refresher-content",160),L.qZA(),L.TgZ(4,"ion-virtual-scroll",161),L.YNc(5,kr,19,15,"ion-card",162),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(4),L.Q6J("items",n.ledgerData)}}function Vr(e,t){1&e&&(L.TgZ(0,"ion-card",177),L.TgZ(1,"ion-row"),L.TgZ(2,"ion-col"),L._UZ(3,"ion-skeleton-text",178),L.qZA(),L.TgZ(4,"ion-col",179),L._UZ(5,"ion-skeleton-text",178),L.qZA(),L.qZA(),L.TgZ(6,"ion-row"),L.TgZ(7,"ion-col",166),L._UZ(8,"ion-skeleton-text",178),L.qZA(),L.TgZ(9,"ion-col",179),L._UZ(10,"ion-skeleton-text",178),L.qZA(),L.qZA(),L.qZA())}function Rr(e,t){if(1&e&&(L.TgZ(0,"div"),L.YNc(1,Vr,11,0,"ion-card",176),L.qZA()),2&e){var r=L.oxw();L.xp6(1),L.Q6J("ngForOf",r.companyLedgerService.noImageRepeat)}}function Qr(e,t){1&e&&(L.TgZ(0,"tr"),L.TgZ(1,"td",182),L._UZ(2,"ion-skeleton-text",181),L.qZA(),L.TgZ(3,"td"),L._UZ(4,"ion-skeleton-text",181),L.qZA(),L.TgZ(5,"td"),L._UZ(6,"ion-skeleton-text",181),L.qZA(),L.TgZ(7,"td"),L._UZ(8,"ion-skeleton-text",181),L.qZA(),L.TgZ(9,"td"),L._UZ(10,"ion-skeleton-text",181),L.qZA(),L.TgZ(11,"td"),L._UZ(12,"ion-skeleton-text",181),L.qZA(),L.TgZ(13,"td"),L._UZ(14,"ion-skeleton-text",181),L.qZA(),L.TgZ(15,"td",133),L._UZ(16,"ion-skeleton-text",181),L.qZA(),L.qZA())}function Er(e,t){if(1&e&&(L.TgZ(0,"div"),L.TgZ(1,"table",180),L.TgZ(2,"thead",119),L.TgZ(3,"tr"),L.TgZ(4,"th"),L._UZ(5,"ion-skeleton-text",181),L.qZA(),L.TgZ(6,"th"),L._UZ(7,"ion-skeleton-text",181),L.qZA(),L.TgZ(8,"th"),L._UZ(9,"ion-skeleton-text",181),L.qZA(),L.TgZ(10,"th"),L._UZ(11,"ion-skeleton-text",181),L.qZA(),L.TgZ(12,"th"),L._UZ(13,"ion-skeleton-text",181),L.qZA(),L.TgZ(14,"th"),L._UZ(15,"ion-skeleton-text",181),L.qZA(),L.TgZ(16,"th"),L._UZ(17,"ion-skeleton-text",181),L.qZA(),L.TgZ(18,"th"),L._UZ(19,"ion-skeleton-text",181),L.qZA(),L.qZA(),L.qZA(),L.TgZ(20,"tbody",123),L.YNc(21,Qr,17,0,"tr",125),L.qZA(),L.qZA(),L.qZA()),2&e){var r=L.oxw();L.xp6(21),L.Q6J("ngForOf",r.companyLedgerService.noImageRepeat)}}function Fr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",183),L.TgZ(1,"div",184),L.TgZ(2,"div",185),L.NdJ("click",function(){return L.CHM(r),L.oxw().exportheader(1)}),L._UZ(3,"i",186),L.qZA(),L.TgZ(4,"div",187),L.NdJ("click",function(){return L.CHM(r),L.oxw().exportheader(2)}),L._UZ(5,"i",188),L.qZA(),L.TgZ(6,"div",189),L.NdJ("click",function(){return L.CHM(r),L.oxw().toggleExcelImport()}),L._UZ(7,"i",190),L.qZA(),L.TgZ(8,"div",191),L.NdJ("click",function(){return L.CHM(r),L.oxw().exportheader(3)}),L._UZ(9,"i",192),L.qZA(),L.TgZ(10,"div",193),L._UZ(11,"i",194),L.qZA(),L.TgZ(12,"button",195),L.TgZ(13,"span"),L._uU(14,"L"),L.qZA(),L.qZA(),L.TgZ(15,"button",196),L.TgZ(16,"span"),L._uU(17,"G"),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(12),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId),L.xp6(3),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Hr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",183),L.TgZ(1,"div",184),L.TgZ(2,"button",197),L.NdJ("click",function(){return L.CHM(r),L.oxw().UnusedLedger()}),L._UZ(3,"i",198),L.qZA(),L.TgZ(4,"div",185),L.NdJ("click",function(){return L.CHM(r),L.oxw().exportheader(1)}),L._UZ(5,"i",186),L.qZA(),L.TgZ(6,"div",187),L.NdJ("click",function(){return L.CHM(r),L.oxw().exportheader(2)}),L._UZ(7,"i",188),L.qZA(),L.TgZ(8,"div",199),L.NdJ("click",function(){return L.CHM(r),L.oxw().exportheader(3)}),L._UZ(9,"i",192),L.qZA(),L.TgZ(10,"button",200),L.NdJ("click",function(){return L.CHM(r),L.oxw().MultipleVoucherDelete()}),L._UZ(11,"i",201),L.qZA(),L.TgZ(12,"div",193),L._UZ(13,"i",194),L.qZA(),L.TgZ(14,"button",195),L.TgZ(15,"span"),L._uU(16,"L"),L.qZA(),L.qZA(),L.TgZ(17,"button",196),L.TgZ(18,"span"),L._uU(19,"G"),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(14),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId),L.xp6(3),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Or(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",202),L.TgZ(1,"div",203),L.TgZ(2,"div",14),L.TgZ(3,"h4",15),L._uU(4),L.qZA(),L.TgZ(5,"i",204),L.NdJ("click",function(){L.CHM(r);var e=L.oxw();return e.filterService.changeFilterWithbottomfilter(!0,!0,"Account List"),e.onTransactionSubmit(null)}),L.qZA(),L.qZA(),L.TgZ(6,"div",18),L.TgZ(7,"app-account-addedit",205),L.NdJ("TransactionredirectAction",function(e){return L.CHM(r),L.oxw().onTransactionSubmit(e)}),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(4),L.Oqu(n.VoucherType),L.xp6(3),L.Q6J("TransactionredirectOnCancel",!1)("IsDuplicate",n.Duplicate)("VoucherType",n.VoucherType)("VoucherId",n.VoucherId)}}function Pr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div"),L.TgZ(1,"strong",206),L._uU(2,"To Date :"),L.qZA(),L.TgZ(3,"input",207,208),L.NdJ("selected",function(e){return L.CHM(r),L.oxw().onToDateSelect(e)}),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(3),L.Q6J("startDate",n._Todate)}}function Gr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",202),L.TgZ(1,"div",13),L.TgZ(2,"div",14),L.TgZ(3,"h4",15),L._uU(4,"Ledger History"),L.qZA(),L.TgZ(5,"button",16),L.NdJ("click",function(){return L.CHM(r),L.oxw().onLedgHistoryHide()}),L.TgZ(6,"span",17),L._uU(7,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(8,"div",18),L._UZ(9,"app-ledgerhistory",209),L.qZA(),L._UZ(10,"div",67),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(9),L.Q6J("LedgId",n._LedgerId)("IsCallasPopup",!0)}}function $r(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"a"),L._uU(1),L.qZA(),L.TgZ(2,"a",92),L.TgZ(3,"i",93),L.NdJ("click",function(){var e=L.CHM(r).item;return L.oxw().OpenLedgerHistoryPopUp(e.UIDN)}),L.qZA(),L.qZA()}if(2&e){var n=t.item;L.xp6(1),L.Oqu(n.LN),L.xp6(1),L.Q6J("hidden",1==n.IsGrp)}}function Br(e,t){1&e&&L._uU(0),2&e&&L.hij(" ",t.item.LN," ")}function Yr(e,t){if(1&e&&(L.TgZ(0,"a"),L._uU(1),L.qZA(),L.TgZ(2,"a",211),L._UZ(3,"i",212),L.qZA()),2&e){var r=t.item,n=L.oxw(2);L.xp6(1),L.Oqu(r.LN),L.xp6(1),L.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function jr(e,t){1&e&&(L.YNc(0,Br,1,1,"ng-template",210),L.YNc(1,Yr,4,3,"ng-template",39))}function Kr(e,t){if(1&e&&(L.TgZ(0,"div",220),L._uU(1," Total "),L.TgZ(2,"b"),L._uU(3),L.qZA(),L._uU(4," inquiry(s) imported And We have found total "),L.TgZ(5,"b"),L._uU(6),L.qZA(),L._uU(7," duplicate inquiry(s). You may download already existed records "),L.qZA()),2&e){var r=L.oxw(2);L.xp6(3),L.Oqu(r.importeddataAPI.length-r.RepeatcontactFromAPI.length),L.xp6(3),L.Oqu(r.RepeatcontactFromAPI.length)}}function zr(e,t){1&e&&(L.TgZ(0,"thead",119),L.TgZ(1,"tr"),L.TgZ(2,"th",221),L._uU(3,"COMMENTS"),L.qZA(),L.TgZ(4,"th",222),L._uU(5,"LEDGER NAME"),L.qZA(),L.TgZ(6,"th",223),L._uU(7,"PARENT LEDGER NAME"),L.qZA(),L.TgZ(8,"th",222),L._uU(9,"OPENING BALANCE"),L.qZA(),L.TgZ(10,"th",222),L._uU(11,"LEDGER TYPE"),L.qZA(),L.TgZ(12,"th",222),L._uU(13,"AFFECTEDDATE"),L.qZA(),L.TgZ(14,"th",222),L._uU(15,"AADHAR NO"),L.qZA(),L.TgZ(16,"th",222),L._uU(17,"CUSTOMER FULL NAME"),L.qZA(),L.TgZ(18,"th",222),L._uU(19,"CUSTOMER ADDRESS"),L.qZA(),L.TgZ(20,"th",222),L._uU(21,"CONTACT NO"),L.qZA(),L.TgZ(22,"th",222),L._uU(23,"EMAIL"),L.qZA(),L.TgZ(24,"th",222),L._uU(25,"PAN NO"),L.qZA(),L.qZA(),L.qZA())}function Wr(e,t){if(1&e){var r=L.EpF();L.ynx(0),L.TgZ(1,"tr"),L.TgZ(2,"td",224),L._uU(3),L.qZA(),L.TgZ(4,"td"),L.TgZ(5,"input",225),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.LN=e}),L.qZA(),L.qZA(),L.TgZ(6,"td"),L.TgZ(7,"ng-select",226,227),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.PI=e}),L.qZA(),L.qZA(),L.TgZ(9,"td"),L.TgZ(10,"input",228),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.OB=e}),L.qZA(),L.qZA(),L.TgZ(11,"td"),L.TgZ(12,"input",225),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.LT=e}),L.qZA(),L.qZA(),L.TgZ(13,"td"),L.TgZ(14,"input",229,230),L.NdJ("selected",function(e){var t=L.CHM(r),n=t.index,i=t.$implicit;return L.oxw(2).AffectedDateSelect(e,n,i)}),L.qZA(),L.qZA(),L.TgZ(16,"td"),L.TgZ(17,"input",225),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.AdharNo=e}),L.qZA(),L.qZA(),L.TgZ(18,"td"),L.TgZ(19,"input",225),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.FullNm=e}),L.qZA(),L.qZA(),L.TgZ(20,"td"),L.TgZ(21,"input",225),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Addr=e}),L.qZA(),L.qZA(),L.TgZ(22,"td"),L.TgZ(23,"input",225),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.CNO=e}),L.qZA(),L.qZA(),L.TgZ(24,"td"),L.TgZ(25,"input",225),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Eml=e}),L.qZA(),L.qZA(),L.TgZ(26,"td"),L.TgZ(27,"input",225),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(2).ValidateImportRow(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.PanNo=e}),L.qZA(),L.qZA(),L.qZA(),L.BQk()}if(2&e){var n=t.$implicit,i=t.index,o=L.oxw(2);L.xp6(1),L.ekj("negative",n.invalidProp)("positive",n.RepeatContactProp),L.xp6(2),L.hij(" ",n.comments," "),L.xp6(2),L.MGl("name","LN_",i,""),L.MGl("id","LN_",i,""),L.Q6J("ngModel",n.LN),L.xp6(2),L.MGl("id","PN_",i,""),L.MGl("name","PN_",i,""),L.Q6J("items",o.GroupLedgers)("ngModel",n.PI)("loading",o.companyLedgerService.loading),L.xp6(3),L.MGl("name","OB_",i,""),L.MGl("id","OB_",i,""),L.Q6J("ngModel",n.OB),L.xp6(2),L.MGl("name","LT_",i,""),L.MGl("id","LT_",i,""),L.Q6J("ngModel",n.LT),L.xp6(2),L.MGl("name","AffDt_",i,""),L.MGl("id","AffDt_",i,""),L.Q6J("startDate",n.AffDt),L.xp6(3),L.MGl("name","AdharNo_",i,""),L.MGl("id","AdharNo_",i,""),L.Q6J("ngModel",n.AdharNo),L.xp6(2),L.MGl("name","FullNm_",i,""),L.MGl("id","FullNm_",i,""),L.Q6J("ngModel",n.FullNm),L.xp6(2),L.MGl("name","Addr_",i,""),L.MGl("id","Addr_",i,""),L.Q6J("ngModel",n.Addr),L.xp6(2),L.MGl("name","CNO_",i,""),L.MGl("id","CNO_",i,""),L.Q6J("ngModel",n.CNO),L.xp6(2),L.MGl("name","Eml_",i,""),L.MGl("id","Eml_",i,""),L.Q6J("ngModel",n.Eml),L.xp6(2),L.MGl("name","PanNo_",i,""),L.MGl("id","PanNo_",i,""),L.Q6J("ngModel",n.PanNo)}}function Xr(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",213),L.TgZ(1,"h5"),L._uU(2),L.qZA(),L.YNc(3,Kr,8,2,"div",214),L.TgZ(4,"virtual-scroller",215,216),L.NdJ("vsUpdate",function(){return L.CHM(r),L.oxw().changeDetectorRef.detectChanges()}),L.TgZ(6,"table",217),L.YNc(7,zr,26,0,"thead",218),L.TgZ(8,"tbody",123,124),L.YNc(10,Wr,28,40,"ng-container",219),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.MAs(5),i=L.oxw(),o=L.MAs(138);L.xp6(2),L.HOy("Total Records: ",i.importeddataAPI.length," | Valid Records:",i.importeddataAPI.length-i.inValidEntry," | Invalid Records: ",i.inValidEntry," | Total Unique Records: ",i.importeddataAPI.length-i.uniqueEntry," "),L.xp6(1),L.Q6J("ngIf",i.RepeatcontactFromAPI.length>0),L.xp6(1),L.Q6J("executeRefreshOutsideAngularZone",!0)("items",i.importeddataAPI)("parentScroll",o),L.xp6(3),L.Q6J("ngIf",i.importeddataAPI.length>0),L.xp6(3),L.Q6J("ngForOf",n.viewPortItems)("ngForTrackBy",i.ImportTrackByFunction)}}var en=function(e){return{"is-invalid":e}},tn=function(){var e=function(){function e(r,n,i,o,a,l,c,s,d,u,g){var p=this;t(this,e),this.changeDetectorRef=r,this.filterService=n,this.companyLedgerService=i,this.natureofTranService=o,this.LedgerhisService=a,this.inventoryService=l,this.route=c,this.router=s,this.alertService=d,this.location=u,this.alert=g,this.popupwindow="",this.isList=!0,this.isCollapsed=!0,this.isScrollEnabled=!0,this.OnlyGroups=!1,this.showTrailBal=!1,this.OnlyLedgers=!1,this.httpfunction=new T.r,this.ledgerData=[],this.isNativeApp=!1,this._sgId=0,this.selectedAll=!1,this.isMultipleLedgerDelete=!1,this.noDataImage=!1,this.GroupLedgers=[],this.isRoundOffSelected=!1,this.isResevredgroup=!1,this.isIndirectIncome=!1,this.isFixedAssets=!1,this.IsStockLedger=!1,this.IsUnusedLedger=!1,this.TotalUnusedLEdger=0,this.Filter=new Ht.Jw,this._chkOpening=!1,this._LedgerId=0,this.drAmountSum=0,this.crAmountSum=0,this.balAmountSum=0,this.IsImportHidden=!0,this.isSubmited=!1,this.importeddataAPI=[],this.inValidEntry=[],this.uniqueEntry=[],this.RepeatcontactFromAPI=[],this.showLedegrHistoryModal=!1,this.showTransactionModal=!1,this.VoucherType="",this.VoucherId=0,this.currentScrollPosition=0,this.Duplicate=!1,this.SignupId=this.companyLedgerService.getSignupId,this.UserId=this.companyLedgerService.GetUserId,this.companyLedgerService.GetAlldatawithsub(!0),this.companyLedgerService.isGetSubscribe=!0,this.subscription=this.companyLedgerService.resultObs.subscribe(function(){if(p.ledgerData=JSON.parse(JSON.stringify(p.companyLedgerService.result)),p.GroupLedgers=p.companyLedgerService.result.filter(function(e){return 1==e.IsGrp&&2!=e.St}),""!=p.httpfunction.getStorage("_filterData")){var e=JSON.parse(p.httpfunction.getStorage("_filterData"));if(null!=e){var t=e.find(function(e){return"CompanyLedger"==e.Module});(null!=t||null!=t)&&(p.currentLedger=t.SearchFilter,p.FilterData())}}}),this.companyLedgerService.singleresult=new h.dJ,this.parentLedger=null,this.companyLedgerService.singleresult.St=Qt.D.Active,this.companyLedgerService.singleresult.PI=0,this.companyLedgerService.singleresult.CI=this.companyLedgerService.getCompanyId,this.companyLedgerService.singleresult.Cat="",this._Todate=new Date,this.companyLedgerService.ExportColumn=[{title:"Ledger",dataKey:"LN",size:260},{title:"Category",dataKey:"Cat",size:100},{title:"Opening Balance",dataKey:"OB",size:100},{title:"Current Balance",dataKey:"CB",size:100}],this.companyLedgerService.ExportName="CompanyLedger_List",this.companyLedgerService.ExportCompanyName=this.companyLedgerService.getCompanyData.CN}return n(e,[{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList)}},{key:"cancel",value:function(){this.httpfunction.scrolltop(),this.isScrollEnabled=!0}},{key:"doRefresh",value:function(e){this.filterService.updatedata(!0,"Chart Of Accounts"),this.companyLedgerService.refreshEvent=e.target,this.FilterData()}},{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.companyLedgerService.arrowDownEvent(150)},800),setTimeout(function(){e.filterService.changeFilterWithbottomfilter(!1,!1,"Chart Of Accounts"),e.companyLedgerService.arrowDownEvent(e.companyLedgerService.selectedRowIndex)},200),this.SignupId=this.companyLedgerService.getSignupId,this.UserId=this.companyLedgerService.GetUserId,this.httpfunction.scrolltop(),this.isScrollEnabled=!0,this.companyLedgerService.refreshEvent=null,setTimeout(function(){null!=e.searchControl&&e.searchControl.focus()},200);var t=this;if(null!=this.transactionModal&&(this.transactionModal.onEsc=function(){t.showTransactionModal=!1,t.transactionModal.hide(),document.scrollingElement.scrollTop=t.currentScrollPosition}),null!=this._LedgerHistoryModal){var r=this;this._LedgerHistoryModal.onEsc=function(){r._LedgerHistoryModal.hide(),document.scrollingElement.scrollTop=r.currentScrollPosition,this._LedgerId=0}}this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this)),this.GroupLedgers=this.companyLedgerService.result.filter(function(e){return 1==e.IsGrp&&2!=e.St})}},{key:"goback",value:function(){this.location.back()}},{key:"routingScroll",value:function(e,t){scrollposition=document.scrollingElement.scrollTop,this.router.navigate(""===t?["/transactions/ledgeredit/"+e]:["/transactions/ledgeradd/"+e+"/"+t])}},{key:"ngOnDestroy",value:function(){null!=this.subscription&&this.subscription.unsubscribe()}},{key:"showTrialBal",value:function(){var e=this;this.ledgerData.forEach(function(t){e.LedgerhisService.LedgerHistoryById(t.UIDN).subscribe(function(e){t.drAmountSum=e.data.reduce(function(e,t){return e+t.VDrAmt},0),t.crAmountSum=e.data.reduce(function(e,t){return e+t.VCrAmt},0),t.balAmountSum=t.drAmountSum-t.crAmountSum})})}},{key:"LedgerHistory",value:function(e,t){e.Expd?setTimeout(function(){e.Expd=!e.Expd},1e3):(e.Expd=!e.Expd,this.LedgerHistoryById(e,t))}},{key:"LedgerHistoryById",value:function(e,t){null!=e.UIDN&&e.UIDN>0&&(this.LedgerhisService.showMessage=!1,null!=e.Remarks&&e.Remarks.length>0||this.LedgerhisService.LedgerHistoryById(e.UIDN).subscribe(function(r){1==t?(e.drAmountSum=r.data.reduce(function(e,t){return e+t.VDrAmt},0),e.crAmountSum=r.data.reduce(function(e,t){return e+t.VCrAmt},0),e.balAmountSum=e.drAmountSum-e.crAmountSum):e.Remarks=r.data}))}},{key:"showGroupsOnly",value:function(){this.httpfunction.IsMobileview()||this.showMobileGroupsOnly()}},{key:"showMobileGroupsOnly",value:function(){var e=this;this.ledgerData=this.OnlyGroups?this.companyLedgerService.result.filter(null!=this.currentLedger&&this.currentLedger.UIDN>0?function(t){return 1==t.IsGrp&&(t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString()))}:function(e){return 1==e.IsGrp}):null!=this.currentLedger&&this.currentLedger.UIDN>0?this.companyLedgerService.result.filter(function(t){return t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString())}):this.companyLedgerService.result}},{key:"showLedgerOnly",value:function(){this.httpfunction.IsMobileview()||this.showMobileLedgersOnly()}},{key:"showMobileLedgersOnly",value:function(){var e=this;this.ledgerData=this.OnlyLedgers?this.companyLedgerService.result.filter(null!=this.currentLedger&&this.currentLedger.UIDN>0?function(t){return 0==t.IsGrp&&(t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString()))}:function(e){return 0==e.IsGrp}):null!=this.currentLedger&&this.currentLedger.UIDN>0?this.companyLedgerService.result.filter(function(t){return t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString())}):this.companyLedgerService.result}},{key:"FilterData",value:function(){var e=this;if(window.scrollTo(0,0),null!=this.currentLedger&&this.currentLedger.UIDN>0){var t=this.companyLedgerService.result.filter(function(t){return t.UIDN==e.currentLedger.UIDN||t.ancestor.includes(e.currentLedger.UIDN.toString())});this.filterService.fillLocalData(t[0],"CompanyLedger")}else this.filterService.fillLocalData("","CompanyLedger");this.showMobileGroupsOnly(),document.scrollingElement.scrollTop=scrollposition,scrollposition=0,this.companyLedgerService.hidesearch()}},{key:"OnKeydown",value:function(e){var t=e.key||e.keyCode;("g"==t||"F1"==t)&&e.altKey&&(this.OnlyGroups=!this.OnlyGroups),"p"==t&&e.altKey&&this.exportheader(1),"s"==t&&e.altKey&&this.exportheader(2),"e"==t&&e.altKey&&e.ctrlKey&&this.exportheader(3)}},{key:"OnCancel",value:function(){this._chkOpening=!1,this._ExportLedgModal.hide()}},{key:"onToDateSelect",value:function(e){this._Todate=e}},{key:"exportheader",value:function(e){var t="All";null!=this.currentLedger&&null!=this.currentLedger&&(t=this.currentLedger.LN),this.companyLedgerService.filterHeader="  Ledger : "+t+" ",this.companyLedgerService.Export(e)}},{key:"OnExportSubmit",value:function(){var e=new A.p;e.chkOpening=this._chkOpening,e.Todate=this._Todate,e.CompanyId=this.companyLedgerService.getCompanyId,e.SignupId=this.companyLedgerService.getSignupId,this.companyLedgerService.page=1,this.companyLedgerService.ExportLedger(e).subscribe(function(e){var t=new Date,r=new Blob([e.data],{type:"text/xml"});(0,Et.saveAs)(r,"LedgerExport_"+t.toISOString()+".xml")})}},{key:"exportForTally",value:function(){this._ExportLedgModal.show(),this._SearchModal.hide()}},{key:"openTransaction",value:function(e,t,r,n){r>0&&null!=r&&this.router.navigate(["/marketing/bookingform/"+r]),""==t&&(t=0),this.currentScrollPosition=document.scrollingElement.scrollTop,this.VoucherType=e,this.showTransactionModal=!0,this.VoucherId=t,this.Duplicate=n,this.transactionModal.show()}},{key:"onTransactionSubmit",value:function(e){(null==e||e.isHide)&&(this.showTransactionModal=!1,this.transactionModal.hide()),document.scrollingElement.scrollTop=this.currentScrollPosition}},{key:"OpenLedgerHistoryPopUp",value:function(e){this.currentScrollPosition=document.scrollingElement.scrollTop,this._LedgerId=e,this.showLedegrHistoryModal=!0,this._LedgerHistoryModal.show()}},{key:"onLedgHistoryHide",value:function(){this.showLedegrHistoryModal=!1,this._LedgerHistoryModal.hide(),document.scrollingElement.scrollTop=this.currentScrollPosition,this._LedgerId=0}},{key:"preventpopup",value:function(e){e.stopPropagation()}},{key:"toggleDropdown",value:function(){$("#adv-search").dropdown("hide")}},{key:"advSearchM",value:function(){this._SearchModal.show()}},{key:"ClearFilter",value:function(){this.currentLedger=null,this.OnlyGroups=null,this.showTrailBal=null,this.FilterData()}},{key:"editOnArrowEvent",value:function(e,t){this.routingScroll(e,t)}},{key:"selectAllchange",value:function(e){this.ledgerData.forEach(function(t){t.Ick=e.target.checked});var t=this.ledgerData.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN}).length;this.isMultipleLedgerDelete=0!=t}},{key:"selectSinglechange",value:function(e,t){var r=this.ledgerData.filter(function(e){return 0==e.PI&&e.UIDN==t}),n=this.ledgerData.filter(function(e){return null!=e.ancestor});if(0!=r.length)for(var i=n.filter(function(e){return e.ancestor[0]==t.toString()}),o=0;o<i.length;o++)i[o].Ick=e.target.checked;else for(var a=n.filter(function(e){return e.PI==t||e.ancestor[0]==t}),l=function(t){if(1==a[t].IsGrp){s=n.filter(function(e){return e.PI==a[t].UIDN||e.ancestor[0]==a[t].UIDN||e.UIDN==a[t].UIDN});for(var r=0;r<s.length;r++)s[r].Ick=e.target.checked}else a[t].Ick=e.target.checked},c=0;c<a.length;c++){var s;l(c)}var d=this.ledgerData.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN}).length;this.isMultipleLedgerDelete=0!=d,this.selectedAll=this.companyLedgerService.result.length==d}},{key:"MultipleVoucherDelete",value:function(){var e=this,t=this.ledgerData.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN});t.length>0?this.httpfunction.IsMobileview()?this.alertService.showMobileConfirm("Confirm Delete","Are you sure you want to delete this record","No","Delete").then(function(r){if(null!=r&&1==r.data)for(var n=0;n<t.length;n++)e.companyLedgerService.deleteMob(t[n])}):this.alertService.showconfirm("Confirm","Are you sure you want to delete this record",["Yes","No"],null).subscribe(function(r){null!=r&&"Yes"==r.answer&&e.companyLedgerService.MultipleVoucherdelete(t).subscribe(function(){e.FilterData();for(var r=function(r){(i=e.ledgerData.findIndex(function(e){return e.UIDN==t[r]}))>-1&&e.ledgerData.splice(i,1)},n=0;n<t.length;n++){var i;r(n)}})}):this.alertService.showError("Error","Please select atleast one record")}},{key:"ChangeGroup",value:function(){var e,t=this;e=this.ledgerData.filter(function(e){return 1==e.Ick}).map(function(e){return e.UIDN}),this.Filter.LedId=e,this.Filter.ParentLedgerId=this.parentLedger.UIDN,e.length>0?this.companyLedgerService.GroupChange(this.Filter).subscribe(function(e){if(e.data.m_Item2>0){t._modalChangeGroup.hide(),t.httpfunction.getStorage("_legData"+t.companyLedgerService.getCompanyId+"_"+t.companyLedgerService.getSignupId)&&t.httpfunction.removeItem("_legData"+t.companyLedgerService.getCompanyId+"_"+t.companyLedgerService.getSignupId);for(var r={},n=0;n<e.data.m_Item1.length;n++)null==r[e.data.m_Item1[n].PI]&&(r[e.data.m_Item1[n].PI]=[]),r[e.data.m_Item1[n].PI].push(e.data.m_Item1[n]);t.companyLedgerService.result=t.companyLedgerService.hierarhySort(r,0,[]),t.companyLedgerService.totalItems=t.companyLedgerService.result.length,t.companyLedgerService.pageWithoutLoad=t.companyLedgerService.totalItems/t.companyLedgerService.pageSize,t.httpfunction.setStorage("_legData"+t.companyLedgerService.getCompanyId+"_"+t.companyLedgerService.getSignupId,JSON.stringify(t.companyLedgerService.result)),t.FilterData()}},function(){}):this.alertService.showError("Error","Please select atleast one record to change Group")}},{key:"openChangeModal",value:function(){this.ledgerData.filter(function(e){return 1==e.Ick}).length>0?(this._modalChangeGroup.show(),event.stopPropagation(),event.preventDefault()):this.alertService.showError("Error","Please select atleast one record")}},{key:"parentSelectionChange",value:function(e){if(this.isRoundOffSelected=!1,null==this.companyLedgerService.singleresult.RS||""==this.companyLedgerService.singleresult.RS||null==this.companyLedgerService.singleresult.RS)if(null==e||null==e)this.isParentSelected=!1,this.companyLedgerService.singleresult.Cat="",this.companyLedgerService.singleresult.IsBank=!1,this.companyLedgerService.singleresult.IsCash=!1,this.companyLedgerService.singleresult.IsSD=!1,this.companyLedgerService.singleresult.IsSC=!1,this.companyLedgerService.singleresult.IsPU=!1,this.companyLedgerService.singleresult.IsSL=!1,this.companyLedgerService.singleresult.isTL=!1,this.companyLedgerService.singleresult.IsBWOn=!1;else{this.isParentSelected=!0;var t=this.companyLedgerService.result.filter(function(e){return"Stock-in-hand"==e.RS});if("Stock-in-hand"==e.RS)this.IsStockLedger=!0;else if("Stock-in-hand"!=e.RS)if(t.length>0)for(var r=0;r<e.ancestor.length;r++){if(e.ancestor[r]==this.companyLedgerService.result.filter(function(e){return"Indirect Expenses"==e.RS})[0].UIDN&&(this.isRoundOffSelected=!0),e.ancestor[r]==t[0].UIDN){this.IsStockLedger=!0;break}this.IsStockLedger=!1,this.isIndirectIncome=!1;for(var n=0;n<e.ancestor.length;n++)e.ancestor[n]==this.companyLedgerService.result.filter(function(e){return"Indirect Incomes"==e.RS})[0].UIDN&&(this.isIndirectIncome=!0);this.isFixedAssets=!1;for(var i=0;i<e.ancestor.length;i++)e.ancestor[i]==this.companyLedgerService.result.filter(function(e){return"Fixed Assets"==e.RS})[0].UIDN&&(this.isFixedAssets=!0)}else this.IsStockLedger=!1;else this.IsStockLedger=!1;this.companyLedgerService.singleresult.Cat=e.Cat,this.companyLedgerService.singleresult.IsBank=e.IsBank,this.companyLedgerService.singleresult.IsCash=e.IsCash,this.companyLedgerService.singleresult.IsSD=e.IsSD,this.companyLedgerService.singleresult.IsSC=e.IsSC,this.companyLedgerService.singleresult.IsPU=e.IsPU,this.companyLedgerService.singleresult.IsSL=e.IsSL,this.companyLedgerService.singleresult.isTL=e.isTL,this.companyLedgerService.singleresult.IsBWOn=e.IsBWOn,(e.IsSC||e.IsSD)&&!e.IsGrp&&(this.companyLedgerService.singleresult.RT="Regular"),e.IsPU?(this.transactiontype=this.natureofTranService.result.filter(function(e){return 0==e.IsSP}),this.companyLedgerService.singleresult.NTId=this.transactiontype.filter(function(e){return"Not Applicable"==e.NA})[0].UIDN):e.IsSL&&(this.transactiontype=this.natureofTranService.result.filter(function(e){return 1==e.IsSP}),this.companyLedgerService.singleresult.NTId=this.transactiontype.filter(function(e){return"Not Applicable"==e.NA})[0].UIDN)}}},{key:"UnusedLedger",value:function(){var e=this;this.IsUnusedLedger=!this.IsUnusedLedger,0==this.IsUnusedLedger?this.FilterData():this.companyLedgerService.GetAllUnusedLedger().subscribe(function(t){e.FilterData();var r=t.data.m_Item1.map(function(e){return e.UIDN});e.ledgerData=e.ledgerData.filter(function(e){var t=e.UIDN;return r.includes(t)}),e.TotalUnusedLEdger=t.data.m_Item2})}},{key:"OpenTrialBalance",value:function(e){this.router.navigate(["reports/trialbalance/"+e])}},{key:"toggleExcelImport",value:function(){this._myImageModal.show(),this.IsImportHidden=!this.IsImportHidden}},{key:"CloseImagePopup",value:function(){this._myImageModal.hide()}},{key:"onExcelAdd",value:function(e){this.excelfileData=[];for(var t=0;t<e.length;t++){var r=new I.Q;r.name=e[t].name,r.operationType=0,r.src=e[t].src,r.CompanyId=this.companyLedgerService.getCompanyId,r.SignupId=this.companyLedgerService.getSignupId,r.FileLength=e[t].size,r.ModifiedDate=new Date,r.CreatedDate=new Date,r.CreatedBy=this.companyLedgerService.userid,r.modifyBy=this.companyLedgerService.userid,this.excelfileData.push(r)}}},{key:"onExcelSubmit",value:function(){var e=this;null!=this.excelfileData&&this.excelfileData.length>0?(this.companyLedgerService.ImportExcel(this.excelfileData).subscribe(function(t){if(null==t.data.m_Item1)return e.alert.showError("Error","Excel column names are incorrect. Please double check your excel column name with predefined format."),void(e.isSubmited=!0);""!=t.data.m_Item1&&null!=t.data.m_Item1&&(e.importeddataAPI=t.data.m_Item1,e.inValidEntry=e.importeddataAPI.filter(function(e){return 1==e.invalidProp}).length,e.uniqueEntry=e.importeddataAPI.filter(function(e){return 1==e.RepeatContactProp}).length,e._myInqImportedDataViewModal.show(),e.isSubmited=!0),e.excelfileData=[],e.IsImportHidden=!e.IsImportHidden},function(){e.excelfileData=[],e.IsImportHidden=!e.IsImportHidden}),this.SiteIdUpload=[],this._myImageModal.hide(),this.IsImportHidden=!this.IsImportHidden):this.alertService.showError("Error","Please select atleast one File")}},{key:"ValidateImportRow",value:function(e){e.comments="",(null==e.LN||""==e.LN)&&(e.comments+="Invalid ledger name \n"),(null==e.PN||""==e.PN)&&(e.comments+="Invalid parent name \n"),null==e.OB&&(e.comments+="Invalid opening balance \n"),(null==e.LT||""==e.LT)&&(e.comments+="Invalid ledger type \n"),(null==e.AffDt||""==e.AffDt)&&(e.comments+="Invalid Affected Date \n"),e.invalidProp=""!=e.comments,this.inValidEntry=null,this.inValidEntry=this.importeddataAPI.filter(function(e){return 1==e.invalidProp}).length,this.uniqueEntry=null,this.uniqueEntry=this.importeddataAPI.filter(function(e){return 1==e.RepeatContactProp}).length}},{key:"ValidateAffectedDate",value:function(e,t){null==e&&(t.AffDt=null),this.ValidateImportRow(t)}},{key:"AffectedDateSelect",value:function(e,t,r){this.importeddataAPI[t].AffDt=e,this.ValidateImportRow(r)}},{key:"LedgerImportContinue",value:function(){var e=this,t=this.importeddataAPI.filter(function(e){return 1==e.invalidProp});t.length>0?this.alert.showError("Error","Please modify grid records. we still have "+t.length+" invalid records"):this.importeddataAPI.length>0?(this.RepeatcontactFromAPI=[],this.companyLedgerService.ImportDatafromGrid(this.importeddataAPI).subscribe(function(t){t.data.length>0?e.RepeatcontactFromAPI=t.data:(e._myImageModal.hide(),e._myInqImportedDataViewModal.hide(),e.alert.showSuccess("Error","Ledger(s) Imported successfully"))},function(){e.alert.showError("Error","Error while File import.Please Correct Sheet")})):this.alert.showError("Error","Ledger Can't imported due to Missing required fields.")}},{key:"ImportTrackByFunction",value:function(e){return e.Index}}]),e}();return e.\u0275fac=function(t){return new(t||e)(L.Y36(L.sBO),L.Y36(w.i),L.Y36(c.Q),L.Y36(Ot.F),L.Y36(Ft.I),L.Y36(p.V),L.Y36(b.gz),L.Y36(b.F0),L.Y36(q.Rq),L.Y36(a.Ye),L.Y36(q.Rq))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-companyledger-list"]],viewQuery:function(e,t){var r;(1&e&&(L.Gf(Pt,5),L.Gf(Gt,5),L.Gf($t,7,d.w9),L.Gf(Bt,7),L.Gf(Yt,7),L.Gf(jt,5),L.Gf(Kt,7),L.Gf(zt,5),L.Gf(Wt,5),L.Gf(Xt,7)),2&e)&&(L.iGM(r=L.CRH())&&(t.form=r.first),L.iGM(r=L.CRH())&&(t._modalChangeGroup=r.first),L.iGM(r=L.CRH())&&(t.searchControl=r.first),L.iGM(r=L.CRH())&&(t.transactionModal=r.first),L.iGM(r=L.CRH())&&(t._ExportLedgModal=r.first),L.iGM(r=L.CRH())&&(t._SearchModal=r.first),L.iGM(r=L.CRH())&&(t._LedgerHistoryModal=r.first),L.iGM(r=L.CRH())&&(t.virtualScroll=r.first),L.iGM(r=L.CRH())&&(t._myImageModal=r.first),L.iGM(r=L.CRH())&&(t._myInqImportedDataViewModal=r.first))},hostBindings:function(e,t){1&e&&L.NdJ("popstate",function(e){return t.onPopState(e)},!1,L.Jf7)},features:[L._Bn([Ft.I,c.Q])],decls:148,vars:28,consts:[[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainerbody","class","tableContainerbodymobile",4,"ngIf"],[4,"ngIf"],["class","add-panel",3,"toggleAction",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["TransactionModal","bs-modal"],["class","modal-dialog fullview modal-lg","role","document",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["ExportLedgModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content"],[1,"c-switch","c-switch-pill","c-switch-primary","float-left","mr-3","mb-3"],["type","checkbox",1,"c-switch-input",3,"checked","change"],[1,"c-switch-slider"],[1,"modal-footer","mt-3",2,"padding-top","50px"],["type","button",1,"btn","btn-dark",3,"click"],["type","button",1,"btn","btn-primary","waves-effect",3,"click"],["LedgerHistoryModal","bs-modal"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade",2,"z-index","99999"],["SearchModal","bs-modal"],["role","document",1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],["role","form",3,"ngSubmit"],["ffilter","ngForm"],[1,"container-fluid"],[1,"row","mt-2"],[1,"col-md-6","col-sm-12"],["for","Ledger"],["selectOnTab","true","name","Ledger1","bindLabel","LN","placeholder","Select Ledger/Group",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["Ledger1","ngModel"],["ng-option-tmp",""],["for","customSwitch1"],[1,"c-switch","c-switch-pill","c-switch-primary"],["type","checkbox","name","OnlyGroups","id","OnlyGroups",1,"c-switch-input",3,"ngModel","ngModelChange"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","button",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["bsModal","","data-backdrop","false","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["myModal","bs-modal"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmSite","ngForm"],[1,"form-group","col-md-12","p-0"],[1,"md-form","form-group","col-sm-12","p-0"],["selectOnTab","true","name","ParentGroup","bindLabel","LN","placeholder","Select Group",3,"virtualScroll","disabled","ngClass","required","items","ngModel","loading","change","ngModelChange"],["grpled","","ParentGroup","ngModel"],["ng-header-tmp",""],[1,"modal-footer"],["type","submit",1,"btn","btn-primary","text-left"],["ImageModal","bs-modal"],["frmImage","ngForm"],[1,"container"],[1,"input-group"],["target","_blank","href","https://api.accountbook24.com/sample/CompanyLedgerImport.xlsx",1,"col-sm-2"],["maxFiles","1","required","","maxSize","2","fileExt","xls, xlsx",3,"filelist","uploadStatus"],["Importexcel",""],[1,"modal-footer","mt-3"],["type","submit",1,"btn","btn-primary"],["bsModal","","tabindex","-1","role","dsialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"fullModal","fade",2,"width","100%"],["myInqImportedDataViewModal","bs-modal"],["role","document",1,"modal-dialog1","modal-md"],["importcontainer",""],["class","card-body col-md-12","id","tableContainer",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"customsearch"],[3,"submit"],[1,"c-header-nav"],[1,"mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mr-1"],["appendTo","body","selectOnTab","true","name","Ledger1","bindLabel","LN","placeholder","Select Ledger/Group",1,"maxpanel",3,"virtualScroll","items","ngModel","loading","ngModelChange"],[1,"mb-2"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],[1,"ml-1","pb-2"],["href","javascript:void(0)",1,"mb-2","font-weight-bold",3,"click"],["class","ml-1 pb-2",4,"ngIf"],["class","mx-2 mb-3",4,"ngIf"],[1,"ml-2","pb-2"],["title","History","placement","bottom",1,"pl-2","d-none",3,"hidden"],[1,"fas","fa-history","text-primary","display-6",3,"click"],["href","javascript:void(0)","accesslevel","Edit","mname","Led",1,"mb-2","font-weight-bold","text-info",3,"appRole","SignupId","UserId","click"],[1,"mx-2","mb-3"],["type","button","accesslevel","Delete","mname","Led",1,"btn","btn-link","text-danger","font-weight-bold","mt-2","pr-3","pl-0",3,"appRole","SignupId","UserId","clickAllowed"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],["id","tableContainer",1,"table-responsive"],["class","card-header p-1 pt-2","id","formHeader",4,"ngIf"],["class","table table-left table-bordered table-striped",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header","p-1","pt-2"],[1,"row"],[1,"col-md-5","col-sm-12","PageNameFsize"],[1,"col-md-2","col-sm-12"],[1,"c-switch","c-switch-pill","c-switch-primary","float-right"],["type","checkbox","name","OnlyLedgers","id","OnlyLedgers",1,"c-switch-input",3,"ngModel","change","ngModelChange"],[1,"mb-2","float-right","mr-2","font-weight-bold","sg"],["type","checkbox","name","OnlyGroups","id","OnlyGroups",1,"c-switch-input",3,"ngModel","change","ngModelChange"],[1,"col-md-3","col-sm-12"],["class","mx-2 text-wrap text-right pr-4",4,"ngIf"],[1,"mx-2","text-wrap","text-right","pr-4"],[1,"table","table-left","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerHead"],[1,"form-check"],["type","checkbox","id","item_All",1,"form-check-input",3,"checked","ngModel","ngModelChange","change"],["for","item_All",1,"form-check-label"],["id","tableContainerbody"],["container",""],[4,"ngFor","ngForOf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup",4,"ngIf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],["type","checkbox",1,"form-check-input",3,"checked","ngModel","id","ngModelChange","change"],[1,"form-check-label",3,"for"],["class","badge badge-primary",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[2,"width","8%"],["dropdown","","container","body",1,"btn-group","actionmenu"],["id","button-state-change","dropdownToggle","","type","button","aria-controls","dropdown-state-change",1,"border-0","waves-effect","btn-primary","btn-floating","btn-sm"],[1,"fas","fa-ellipsis-v"],["id","dropdown-state-change","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-state-change",4,"dropdownMenu"],[1,"badge","badge-primary"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["id","dropdown-state-change","role","menu","aria-labelledby","button-state-change",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["href","javascript:void(0)","accesslevel","Edit","mname","Led",1,"dropdown-item",3,"appRole","SignupId","UserId","click"],["role","menuitem",4,"ngIf"],["accesslevel","View","mname","Led","href","javascript:void(0)",1,"dropdown-item",3,"appRole","SignupId","UserId","click"],["href","javascript:void(0)","accesslevel","Add","mname","Led",1,"dropdown-item",3,"hidden","appRole","SignupId","UserId","click"],["accesslevel","Add","mname","Led",1,"dropdown-item",3,"hidden","appRole","SignupId","UserId","click"],["href","javascript:void(0)","accesslevel","Delete","mname","Led",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["colspan","13"],[1,"table","table-bordered"],["target","blank",3,"click"],[3,"dateValue"],["isDate","false",3,"dateValue"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["id","tableContainerbody",1,"tableContainerbodymobile"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","88px",3,"items"],[3,"rowselected","click",4,"virtualItem"],[3,"click"],[1,"text-dark"],["size","4",1,"text-right"],[1,"text-left","mr-1"],["class","btn btn-primary btn-esm btn-rounded waves-effect waves-light","href","javascript:void(0)","accesslevel","Add","mname","Led",3,"appRole","rLink","SignupId","UserId",4,"ngIf"],["href","javascript:void(0)","class","btn btn-primary btn-esm btn-rounded waves-effect waves-light ml-2","accesslevel","Add","mname","Led",3,"appRole","rLink","SignupId","UserId",4,"ngIf"],["href","javascript:void(0)","accesslevel","Edit","mname","Led",1,"card-link","text-center",3,"appRole","SignupId","UserId","click"],["name","create-outline","color","primary"],["href","javascript:void(0)","accesslevel","Delete","mname","Led",1,"card-link","text-center",3,"appRole","SignupId","UserId","clickAllowed"],["name","trash-outline","color","danger"],["href","javascript:void(0)","accesslevel","Add","mname","Led",1,"btn","btn-primary","btn-esm","btn-rounded","waves-effect","waves-light",3,"appRole","rLink","SignupId","UserId"],["aria-hidden","true",1,"fas","fa-plus","pr-2","pt-1"],["href","javascript:void(0)","accesslevel","Add","mname","Led",1,"btn","btn-primary","btn-esm","btn-rounded","waves-effect","waves-light","ml-2",3,"appRole","rLink","SignupId","UserId"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","80%"],["size","4",2,"text-align","-webkit-right"],[1,"table","table-bordered","table-striped","text-center",3,"fxHeader"],["animated","",2,"width","100%"],[2,"width","40%"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","bottom2","option","four","border-0","waves-effect","btn-amber","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","bottom2","option","three","border-0","waves-effect","btn-purple","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Import",1,"action-button","bottom2","option","two","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-upload"],["tooltip","Export",1,"action-button","bottom2","option","one","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],[1,"border-0","waves-effect","btn-dark","btn-floating","btn-lg","action-button","plus","abs","bottom2"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],["accesslevel","Add","mname","Led","rLink","/transactions/ledgeradd/0/false","tooltip","Add Ledger",1,"border-0","waves-effect","btn-primary","btn-floating","btn-lg","abs","bottom1",3,"appRole","SignupId","UserId"],["accesslevel","Add","mname","Led","rLink","/transactions/ledgeradd/0/true","tooltip","Add Group",1,"border-0","waves-effect","btn-primary","btn-floating",3,"appRole","SignupId","UserId"],["tooltip","UnUsed Ledger",1,"action-button","bottom2","option","five","border-0","waves-effect","btn-success","btn-floating",3,"click"],["aria-hidden","true",1,"fa","fa-briefcase"],["tooltip","Export",1,"action-button","bottom2","option","two","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["tooltip","Multiple Delete",1,"action-button","bottom2","option","one","border-0","waves-effect","btn-danger","btn-floating",3,"click"],[1,"fas","fa-trash"],["role","document",1,"modal-dialog","fullview","modal-lg"],["id","voucherContent",1,"modal-content"],[1,"fas","fa-times","fa-lg",3,"click"],[3,"TransactionredirectOnCancel","IsDuplicate","VoucherType","VoucherId","TransactionredirectAction"],["id","lblTodate"],["type","text","appDatepicker","","id","ToDate","name","ToDate",1,"form-control",3,"startDate","selected"],["ToDate",""],[3,"LedgId","IsCallasPopup"],["ng-label-tmp",""],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1","d-none",3,"appRole","SignupId","UserId"],[1,"fas","fa-pen","text-primary","display-6"],["id","tableContainer",1,"card-body","col-md-12"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"executeRefreshOutsideAngularZone","items","parentScroll","vsUpdate"],["scrollImport",""],[1,"table","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerHead",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","alert",1,"alert","alert-danger"],[2,"min-width","225px","white-space","pre-line"],[2,"min-width","100px"],[2,"min-width","250px"],[2,"white-space","pre-line"],["autofocus","","type","text",1,"form-control",3,"ngModel","name","id","change","ngModelChange"],["name","PN","bindLabel","LN","bindValue","UIDN","placeholder","Select GroupLedgers","required","",3,"items","ngModel","loading","id","name","change","ngModelChange"],["PN","ngModel"],["autofocus","","type","number",1,"form-control",3,"ngModel","name","id","change","ngModelChange"],["type","text","appDatepicker","","placeholder","Select Affected Date","autocomplete","none",1,"form-control",3,"startDate","name","id","selected"],["AffDt",""]],template:function(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",0),L.YNc(1,nr,23,6,"div",1),L.YNc(2,ir,11,0,"div",2),L.YNc(3,Mr,5,3,"div",3),L.YNc(4,Jr,6,1,"div",4),L.YNc(5,Rr,2,1,"div",5),L.YNc(6,Er,22,1,"div",5),L.YNc(7,Fr,18,4,"div",6),L.YNc(8,Hr,20,4,"div",6),L.qZA(),L.TgZ(9,"div",7,8),L.YNc(11,Or,8,5,"div",9),L.qZA(),L.TgZ(12,"div",10,11),L.TgZ(14,"div",12),L.TgZ(15,"div",13),L.TgZ(16,"div",14),L.TgZ(17,"h4",15),L._uU(18,"Exporting List of Ledgers"),L.qZA(),L.TgZ(19,"button",16),L.NdJ("click",function(){return t.OnCancel()}),L.TgZ(20,"span",17),L._uU(21,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(22,"div",18),L.TgZ(23,"div",19),L.TgZ(24,"strong"),L._uU(25,"Export closing balance as opening :"),L.qZA(),L.TgZ(26,"label",20),L.TgZ(27,"input",21),L.NdJ("change",function(){return t._chkOpening=!("1"==t._chkOpening||1==t._chkOpening)}),L.qZA(),L._UZ(28,"span",22),L.qZA(),L.YNc(29,Pr,5,1,"div",5),L.qZA(),L.TgZ(30,"div",23),L.TgZ(31,"button",24),L.NdJ("click",function(){return t.OnCancel()}),L._uU(32,"No"),L.qZA(),L.TgZ(33,"button",25),L.NdJ("click",function(){return t.OnExportSubmit()}),L._uU(34,"Yes"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(35,"div",7,26),L.YNc(37,Gr,11,2,"div",9),L.qZA(),L.TgZ(38,"div",27,28),L.TgZ(40,"div",29),L.TgZ(41,"div",30),L.TgZ(42,"div",14),L.TgZ(43,"h4",15),L._uU(44,"Advance Search "),L.qZA(),L.TgZ(45,"button",16),L.NdJ("click",function(){return t._SearchModal.hide()}),L.TgZ(46,"span",17),L._uU(47,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(48,"form",31,32),L.NdJ("ngSubmit",function(){return t.FilterData()}),L.TgZ(50,"div",33),L.TgZ(51,"div",34),L.TgZ(52,"div",35),L.TgZ(53,"label",36),L._uU(54,"Select Ledger/Group"),L.qZA(),L.TgZ(55,"ng-select",37,38),L.NdJ("ngModelChange",function(e){return t.currentLedger=e}),L.YNc(57,$r,4,2,"ng-template",39),L.qZA(),L.qZA(),L.TgZ(58,"div",35),L.TgZ(59,"label",40),L._uU(60," Show Group"),L.qZA(),L._UZ(61,"br"),L.TgZ(62,"label",41),L.TgZ(63,"input",42),L.NdJ("ngModelChange",function(e){return t.OnlyGroups=e}),L.qZA(),L._UZ(64,"span",22),L.qZA(),L.qZA(),L.TgZ(65,"nav",43),L.TgZ(66,"ul",44),L.TgZ(67,"li",45),L.TgZ(68,"button",46),L.NdJ("click",function(){return t.FilterData(),t._SearchModal.hide()}),L._UZ(69,"i",47),L._uU(70,"Search "),L.qZA(),L.qZA(),L.TgZ(71,"li",48),L.TgZ(72,"button",24),L.NdJ("click",function(){return t.ClearFilter(),t._SearchModal.hide()}),L._uU(73," Clear Filter "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(74,"div",49,50),L.TgZ(76,"div",12),L.TgZ(77,"div",13),L.TgZ(78,"div",14),L.TgZ(79,"h4",15),L._uU(80,"Select Group "),L.qZA(),L.TgZ(81,"button",16),L.NdJ("click",function(){return L.CHM(r),L.MAs(75).hide(),t.parentLedger=null}),L.TgZ(82,"span",17),L._uU(83,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(84,"form",51,52),L.NdJ("ngSubmit",function(){return L.CHM(r),L.MAs(85).form.valid&&t.ChangeGroup()}),L.TgZ(86,"div",18),L.TgZ(87,"div",19),L.TgZ(88,"div",53),L.TgZ(89,"div",54),L.TgZ(90,"ng-select",55,56),L.NdJ("change",function(e){return t.parentSelectionChange(e)})("ngModelChange",function(e){return t.parentLedger=e}),L.YNc(93,jr,2,0,"ng-template",57),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(94,"div",58),L.TgZ(95,"button",24),L.NdJ("click",function(){return L.CHM(r),L.MAs(75).hide(),t.parentLedger=null}),L._uU(96,"Close"),L.qZA(),L.TgZ(97,"button",59),L._uU(98," Change Site "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(99,"div",10,60),L.TgZ(101,"div",12),L.TgZ(102,"div",13),L.TgZ(103,"div",14),L.TgZ(104,"h4",15),L._uU(105,"Import Ledger"),L.qZA(),L.TgZ(106,"button",16),L.NdJ("click",function(){return t.CloseImagePopup()}),L.TgZ(107,"span",17),L._uU(108,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(109,"form",51,61),L.NdJ("ngSubmit",function(){return L.CHM(r),L.MAs(110).form.valid&&t.onExcelSubmit()}),L.TgZ(111,"div",18),L.TgZ(112,"div",19),L.TgZ(113,"div",62),L.TgZ(114,"div",53),L.TgZ(115,"div",63),L.TgZ(116,"div",54),L.TgZ(117,"a",64),L._uU(118," Download sample "),L.qZA(),L.qZA(),L.TgZ(119,"div",54),L.TgZ(120,"app-file-upload",65,66),L.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(122,"div",67),L.TgZ(123,"button",68),L._uU(124,"Upload File"),L.qZA(),L.TgZ(125,"button",24),L.NdJ("click",function(){return t.CloseImagePopup()}),L._uU(126,"Close"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(127,"div",69,70),L.TgZ(129,"div",71),L.TgZ(130,"div",13),L.TgZ(131,"div",14),L.TgZ(132,"h4",15),L._uU(133,"Imported Ledger From Sheet "),L.qZA(),L.TgZ(134,"button",16),L.NdJ("click",function(){return L.CHM(r),L.MAs(128).hide()}),L.TgZ(135,"span",17),L._uU(136,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(137,"div",18,72),L.TgZ(139,"div",53),L.TgZ(140,"form",51,61),L.NdJ("ngSubmit",function(){return L.CHM(r),L.MAs(110).form.valid}),L.YNc(142,Xr,11,11,"div",73),L.qZA(),L.qZA(),L.qZA(),L.TgZ(143,"div",58),L.TgZ(144,"button",74),L.NdJ("click",function(){return t.LedgerImportContinue()}),L._uU(145,"Inquiry Import"),L.qZA(),L.TgZ(146,"button",24),L.NdJ("click",function(){return L.CHM(r),L.MAs(128).hide()}),L._uU(147,"Close"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.MAs(85),i=L.MAs(92);L.xp6(1),L.Q6J("ngIf",!t.companyLedgerService.IsMobileview),L.xp6(1),L.Q6J("ngIf",t.companyLedgerService.IsMobileview),L.xp6(1),L.Q6J("ngIf",!t.companyLedgerService.IsMobileview),L.xp6(1),L.Q6J("ngIf",t.ledgerData.length>0&&t.companyLedgerService.IsMobileview),L.xp6(1),L.Q6J("ngIf",0==t.ledgerData.length&&t.companyLedgerService.IsMobileview),L.xp6(1),L.Q6J("ngIf",0==t.ledgerData.length&&!t.companyLedgerService.IsMobileview),L.xp6(1),L.Q6J("ngIf",!t.companyLedgerService.IsMobileview),L.xp6(1),L.Q6J("ngIf",t.companyLedgerService.IsMobileview),L.xp6(3),L.Q6J("ngIf",t.showTransactionModal),L.xp6(16),L.Q6J("checked",1==t._chkOpening),L.xp6(2),L.Q6J("ngIf",1==t._chkOpening),L.xp6(8),L.Q6J("ngIf",t.showLedegrHistoryModal),L.xp6(18),L.Q6J("virtualScroll",!0)("items",t.companyLedgerService.result)("ngModel",t.currentLedger)("loading",t.companyLedgerService.loading),L.xp6(8),L.Q6J("ngModel",t.OnlyGroups),L.xp6(27),L.Q6J("virtualScroll",!0)("disabled",t.isResevredgroup)("ngClass",L.VKq(26,en,n.submitted&&i.invalid))("required",!t.companyLedgerService.singleresult.IsGrp)("items",t.GroupLedgers)("ngModel",t.parentLedger)("loading",t.companyLedgerService.loading),L.xp6(30),L.Q6J("filelist",t.excelfileData),L.xp6(22),L.Q6J("ngIf",t.isSubmited)}},directives:[a.O5,D.oB,U._Y,U.JL,U.F,d.w9,U.JJ,U.On,k.x,d.Z2,U.Wl,J.u,a.mk,U.Q7,d.A3,V.Y,_.g,y.gu,E.n,a.sg,R.TO,R.Mq,R.Hz,F.a,y.W2,y.nJ,y.Wo,y.aJ,y.Rw,y.PM,y.Nd,y.wI,y.CK,M.e,N.i9,Jt.L,O.q,P.i,d.bb,G.Vw,U.Fj,U.wV],pipes:[B.s],styles:[".boldfont[_ngcontent-%COMP%]{font-weight:bold}.positive[_ngcontent-%COMP%]{background-color:#d6f3d6!important}.negative[_ngcontent-%COMP%]{background-color:#ffeff7!important}"]}),e}(),rn=o(80762),nn=function(){var e=function(){function e(r,n,i){t(this,e),this.reportService=r,this.alert=n,this.router=i,this.ShowTally=!1,this.showfilter=!0,this.scrolleddata=0,this.previousButton="Cancel",this.ledgerresult=[]}return n(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var e=this;this.companyLedgerService.Saveimport(this.companyLedgerService.result).subscribe(function(t){e.alert.showSuccess("Success","All Ledgers imported successfully"),e.showfilter=!1,e.excelfileData=[],e.showfilter=!0,e.router.navigate(["/transactions/ledgerList"]),e.scrolleddata=0},function(t){e.alert.showError("Error","There is some error while importing file. Please try again or contact administrator"),e.excelfileData=[],e.showfilter=!0})}},{key:"expand",value:function(e){e.isDisplay?this.companyLedgerService.result.filter(function(t){return t.PI==e.UIDN&&0==t.IsGrp}).forEach(function(e){return e.isDisplay=!1}):this.companyLedgerService.result.filter(function(t){return t.PI==e.UIDN&&0==t.IsGrp}).forEach(function(e){return e.isDisplay=!0}),e.isDisplay=!e.isDisplay}},{key:"onExcelAdd",value:function(e){var t=this;this.excelfileData=[];for(var r=0;r<e.length;r++){var n=new I.Q;n.name=e[r].name,n.operationType=0,n.ModifiedDate=new Date,n.CreatedDate=new Date,n.CreatedBy=this.reportService.userid,n.modifyBy=this.reportService.userid,n.CompanyId=this.reportService.getCompanyId,n.SignupId=this.reportService.getSignupId,n.FileLength=null==e[r].PK_Id?e[r].size:e[r].FileLength,n.src=e[r].src,this.excelfileData.push(n)}this.reportService.ImportbankStatement(this.excelfileData).subscribe(function(e){t.excelfileData=[],t.alert.showSuccess("Success","All vouchers imported successfully"),t.router.navigate(["/transactions/daybook"])},function(e){t.alert.showError("Error","Error while voucher import.Please contact administrator"),t.excelfileData=[],t.showfilter=!0,t.scrolleddata=0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(L.Y36(rn.r),L.Y36(q.Rq),L.Y36(b.F0))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-bankstatement"]],features:[L._Bn([rn.r])],decls:18,vars:1,consts:[[1,"col-sm-12","nopadding"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],["id","tableFilter",1,"card-header"],[1,"col-sm-12"],["for","Importexcel",2,"font-weight","bold"],[1,"input-group"],["maxFiles","1","maxSize","2","fileExt","xls, xlsx",2,"width","100%",3,"filelist","uploadStatus"],["Importexcel",""],["target","_blank","href","https://api.accountbook24.com/sample/AllLedger.xlsx"],["href","javascript:void(0)",3,"click"]],template:function(e,t){1&e&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"div",2),L.TgZ(3,"div",3),L.TgZ(4,"div",4),L.TgZ(5,"div",5),L.TgZ(6,"div",2),L.TgZ(7,"div",6),L.TgZ(8,"label",7),L._uU(9,"Upload Voucher file"),L.qZA(),L.TgZ(10,"div",8),L.TgZ(11,"app-file-upload",9,10),L.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),L.qZA(),L.qZA(),L.TgZ(13,"a",11),L._uU(14,"Download sample file"),L.qZA(),L._uU(15,"\xa0\xa0\xa0 "),L.TgZ(16,"a",12),L.NdJ("click",function(){return t.ShowTally=!t.ShowTally}),L._uU(17,"Show Steps to Export Ledgers from Tally "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()),2&e&&(L.xp6(11),L.Q6J("filelist",t.excelfileData))},directives:[V.Y],styles:[""]}),e}(),on=o(33433),an=o(75477),ln=o(65178),cn=["f"],sn=["voucherrow"],dn=["vtype"],un=["RefModal"];function gn(e,t){1&e&&(L.TgZ(0,"ng-option",28),L._uU(1," Purchase"),L.qZA())}function hn(e,t){1&e&&(L.TgZ(0,"ng-option",29),L._uU(1," Receipt"),L.qZA())}function pn(e,t){1&e&&(L.TgZ(0,"ng-option",30),L._uU(1," Payment"),L.qZA())}function fn(e,t){1&e&&(L.TgZ(0,"ng-option",31),L._uU(1,"Credit Note"),L.qZA())}function mn(e,t){1&e&&(L.TgZ(0,"ng-option",32),L._uU(1,"Debit Note"),L.qZA())}function Zn(e,t){1&e&&(L.TgZ(0,"ng-option",33),L._uU(1," Receipt Note"),L.qZA())}function vn(e,t){1&e&&(L.TgZ(0,"ng-option",34),L._uU(1," Delivery Note"),L.qZA())}function Tn(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"required"),L.qZA())}function An(e,t){if(1&e&&(L.TgZ(0,"div",35),L.YNc(1,Tn,2,0,"div",36),L.qZA()),2&e){L.oxw();var r=L.MAs(9);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}function xn(e,t){1&e&&L._uU(0),2&e&&L.hij(" ",t.item.LN," ")}function In(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"required"),L.qZA())}function Ln(e,t){if(1&e&&(L.TgZ(0,"div",35),L.YNc(1,In,2,0,"div",36),L.qZA()),2&e){L.oxw();var r=L.MAs(25);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}function wn(e,t){1&e&&L._uU(0),2&e&&L.hij(" ",t.item.LN," ")}function yn(e,t){1&e&&L.YNc(0,wn,1,1,"ng-template",22)}function bn(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"a",67),L.NdJ("click",function(){L.CHM(r);var e=L.oxw().index,t=L.oxw().index;return L.oxw(2).openReferencepopup(t,e)}),L.TgZ(1,"span"),L._uU(2),L.qZA(),L._uU(3),L.TgZ(4,"strong"),L._uU(5),L.qZA(),L.qZA()}if(2&e){var n=t.$implicit;L.xp6(2),L.hij(" ",n.Ref_Type," "),L.xp6(1),L.hij("-",n.Ref_Tag,"-- "),L.xp6(2),L.AsE(" ",n.Balance," ",n.AmtType," ")}}function Cn(e,t){if(1&e&&(L.TgZ(0,"a"),L._uU(1),L.qZA()),2&e){var r=t.item;L.xp6(1),L.Oqu(r.LN)}}function qn(e,t){if(1&e){var r=L.EpF();L.ynx(0),L.TgZ(1,"tr"),L.TgZ(2,"td",46),L.TgZ(3,"div"),L.TgZ(4,"input",47,48),L.NdJ("selectedindex",function(e){return L.CHM(r),L.oxw(3).onVoucherDateSelect(e)}),L.qZA(),L.qZA(),L.qZA(),L.TgZ(6,"td",46),L.TgZ(7,"div"),L.TgZ(8,"ng-select",49,50),L.NdJ("ngModelChange",function(e){return L.CHM(r).$implicit.LedDet=e})("ngModelChange",function(){L.CHM(r);var e=L.oxw().index,t=L.oxw(2);return t.calculateBank(e),t.finalcalculation(e)}),L.YNc(10,yn,1,0,"ng-template",51),L.qZA(),L.qZA(),L.TgZ(11,"div",52),L.YNc(12,bn,6,4,"a",53),L.qZA(),L.qZA(),L.TgZ(13,"td",54),L.TgZ(14,"a",55),L.NdJ("click",function(){var e=L.CHM(r).index,t=L.oxw().index;return L.oxw(2).openReferencepopup(t,e)}),L._uU(15," Reference "),L.qZA(),L.qZA(),L.TgZ(16,"td",46),L.TgZ(17,"input",56,57),L.NdJ("ngModelChange",function(e){return L.CHM(r).$implicit.DrAmt=e})("change",function(){L.CHM(r);var e=L.oxw().index;return L.oxw(2).finalcalculation(e)}),L.qZA(),L.qZA(),L.TgZ(19,"td",58),L.TgZ(20,"ng-select",59,60),L.NdJ("ngModelChange",function(e){return L.CHM(r).$implicit.TaxLedger=e})("change",function(){L.CHM(r);var e=L.oxw().index;return L.oxw(2).finalcalculation(e)}),L.YNc(22,Cn,2,1,"ng-template",61),L.qZA(),L.qZA(),L.TgZ(23,"td",46),L.TgZ(24,"input",62,57),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().$implicit.Narr=e}),L.qZA(),L.qZA(),L.TgZ(26,"td",63),L._uU(27),L.qZA(),L.TgZ(28,"td",64),L.TgZ(29,"a",65),L.NdJ("click",function(){L.CHM(r);var e=L.oxw().index;return L.oxw(2).deleteLedger(e)}),L._UZ(30,"i",66),L.qZA(),L.qZA(),L.qZA(),L.BQk()}if(2&e){var n=t.$implicit,i=L.oxw(),o=i.index,a=i.$implicit,l=L.oxw(2);L.xp6(4),L.MGl("name","ChkDt_",o,""),L.MGl("id","ChkDt_",o,""),L.Q6J("tabindex",n.TabIndex)("startDate",a.VDt)("index",o),L.xp6(4),L.MGl("name","Ledger_",n.Index,""),L.Q6J("tabIndex",n.TabIndex)("virtualScroll",!0)("items",l.ToLedger)("ngModel",n.LedDet)("loading",l.companyLedgerService.loading),L.xp6(4),L.Q6J("ngForOf",l.getreference(n.LedDet,o)),L.xp6(2),L.Q6J("tabIndex",n.TabIndex),L.xp6(3),L.MGl("name","amt__",n.Index,""),L.MGl("id","amt__",n.Index,""),L.Q6J("tabIndex",n.TabIndex)("ngModel",n.DrAmt),L.xp6(3),L.MGl("name","TaxLedger_",n.Index,""),L.Q6J("tabIndex",n.TabIndex)("multiple",!0)("items",l.TaxLedger)("ngModel",n.TaxLedger)("loading",l.companyLedgerService.loading),L.xp6(4),L.MGl("name","Narr__",n.Index,""),L.MGl("id","Narr__",n.Index,""),L.Q6J("tabIndex",n.TabIndex)("ngModel",a.Narr),L.xp6(3),L.hij(" ",a.TotalAmt," "),L.xp6(2),L.Q6J("tabIndex",n.TabIndex)}}function Sn(e,t){if(1&e&&(L.ynx(0),L.YNc(1,qn,31,29,"ng-container",44),L.BQk()),2&e){var r=t.$implicit;L.xp6(1),L.Q6J("ngForOf",r.VDet)}}function Mn(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",37),L.TgZ(1,"div",38),L.TgZ(2,"table",39),L.TgZ(3,"thead"),L.TgZ(4,"tr"),L.TgZ(5,"th",40),L._uU(6," Voucher Date"),L.qZA(),L.TgZ(7,"th",40),L._uU(8," Select Account"),L.qZA(),L.TgZ(9,"th",41),L._uU(10," Reference"),L.qZA(),L.TgZ(11,"th",42),L.TgZ(12,"span"),L._uU(13,"Amount"),L.qZA(),L.qZA(),L.TgZ(14,"th",42),L._uU(15,"Tax"),L.qZA(),L.TgZ(16,"th",42),L._uU(17,"Narration"),L.qZA(),L.TgZ(18,"th",42),L._uU(19,"Total Amount"),L.qZA(),L.TgZ(20,"th",41),L._uU(21,"Actions"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(22,"tbody",null,43),L.YNc(24,Sn,2,1,"ng-container",44),L.qZA(),L.qZA(),L.qZA(),L.TgZ(25,"div"),L.TgZ(26,"input",45),L.NdJ("click",function(){return L.CHM(r),L.oxw().adddNewTransaction()}),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(24),L.Q6J("ngForOf",n.VoucherMasters),L.xp6(2),L.Q6J("tabIndex",500)}}function Nn(e,t){1&e&&(L.TgZ(0,"div",4),L.TgZ(1,"div",68),L.TgZ(2,"button",69,70),L._uU(4," Save "),L.qZA(),L.qZA(),L.qZA())}function _n(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"Ref. type is required"),L.qZA())}function Dn(e,t){if(1&e&&(L.TgZ(0,"div",35),L.YNc(1,_n,2,0,"div",36),L.qZA()),2&e){L.oxw();var r=L.MAs(3);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}function Un(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"required"),L.qZA())}function kn(e,t){if(1&e&&(L.TgZ(0,"div",35),L.YNc(1,Un,2,0,"div",36),L.qZA()),2&e){L.oxw();var r=L.MAs(2);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}var Jn=function(e){return{"is-invalid":e}};function Vn(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"td"),L.TgZ(1,"input",104,105),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw().$implicit.Ref_Tag=e}),L.qZA(),L.YNc(3,kn,2,1,"div",17),L.qZA()}if(2&e){var n=L.MAs(2),i=L.oxw(),o=i.index,a=i.$implicit;L.oxw(3);var l=L.MAs(2);L.xp6(1),L.MGl("name","refTag__",o,""),L.Q6J("ngClass",L.VKq(5,Jn,l.submitted&&n.invalid))("disabled","AgainstRef"==a.Ref_Type||"OnAccount"==a.Ref_Type)("ngModel",a.Ref_Tag),L.xp6(2),L.Q6J("ngIf",l.submitted&&n.invalid)}}function Rn(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"td"),L.TgZ(1,"input",106,107),L.NdJ("selected",function(e){return L.CHM(r),L.oxw().$implicit.DueDate=e}),L.qZA(),L.qZA()}if(2&e){var n=L.MAs(2),i=L.oxw(),o=i.index,a=i.$implicit;L.oxw(3);var l=L.MAs(2);L.xp6(1),L.MGl("name","refdate__",o,""),L.MGl("id","refdate__",o,""),L.Q6J("disabled","AgainstRef"==a.Ref_Type||"OnAccount"==a.Ref_Type)("ngClass",L.VKq(5,Jn,l.submitted&&n.invalid))("startDate",a.DueDate)}}function Qn(e,t){if(1&e&&L._uU(0),2&e){var r=t.item;L.HOy(" ",r.Ref_Type,"- ",r.Ref_Tag,"- ",r.Dr>0?r.Dr:r.Cr,"",r.Dr>0?"Dr":"Cr"," ")}}function En(e,t){if(1&e&&(L._uU(0),L.TgZ(1,"b"),L._uU(2," Available Balance "),L.qZA(),L._uU(3)),2&e){var r=t.item;L.HOy(" ",r.Ref_Type,"- ",r.Ref_Tag,"- ",r.Dr>0?r.Dr:r.Cr,"",r.Dr>0?"Dr":"Cr"," - "),L.xp6(3),L.AsE("-",r.OrgBalance>0?r.OrgBalance:-1*r.OrgBalance,"",r.OrgBalance>0?"Dr":"Cr"," ")}}function Fn(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"ng-select",110,111),L.NdJ("ngModelChange",function(e){return L.CHM(r),L.oxw(2).$implicit.Agnst_Ref_Id=e})("change",function(e){L.CHM(r);var t=L.oxw(2).$implicit;return L.oxw(4).onAgainstRefChange(e,t)}),L.YNc(2,Qn,1,4,"ng-template",22),L.YNc(3,En,4,6,"ng-template",61),L.qZA()}if(2&e){var n=L.oxw(2),i=n.index,o=n.$implicit,a=L.oxw(4);L.MGl("name","agReferences",i,""),L.Q6J("items",a.LedagainstRefList)("ngModel",o.Agnst_Ref_Id)}}function Hn(e,t){if(1&e&&(L.TgZ(0,"td",108),L.YNc(1,Fn,4,3,"ng-select",109),L.qZA()),2&e){var r=L.oxw().$implicit;L.xp6(1),L.Q6J("ngIf","AgainstRef"==r.Ref_Type)}}function On(e,t){1&e&&(L.TgZ(0,"div"),L._uU(1,"required"),L.qZA())}function Pn(e,t){if(1&e&&(L.TgZ(0,"div",35),L.YNc(1,On,2,0,"div",36),L.qZA()),2&e){L.oxw();var r=L.MAs(18);L.xp6(1),L.Q6J("ngIf",r.errors.required)}}function Gn(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"tr",90),L.TgZ(1,"td"),L.TgZ(2,"ng-select",91,92),L.NdJ("ngModelChange",function(e){return L.CHM(r).$implicit.Ref_Type=e}),L.TgZ(4,"ng-option",93),L._uU(5,"New Ref"),L.qZA(),L.TgZ(6,"ng-option",94),L._uU(7,"OnAccount"),L.qZA(),L.TgZ(8,"ng-option",95),L._uU(9,"Advance"),L.qZA(),L.TgZ(10,"ng-option",96),L._uU(11,"AgainstRef"),L.qZA(),L.qZA(),L.YNc(12,Dn,2,1,"div",17),L.qZA(),L.YNc(13,Vn,4,7,"td",36),L.YNc(14,Rn,3,7,"td",36),L.YNc(15,Hn,2,1,"td",97),L.TgZ(16,"td"),L.TgZ(17,"input",98,99),L.NdJ("change",function(){var e=L.CHM(r).$implicit;return L.oxw(4).onReferenceAmountChange(e)})("ngModelChange",function(e){return L.CHM(r).$implicit.Balance=e}),L.qZA(),L.YNc(19,Pn,2,1,"div",17),L.qZA(),L.TgZ(20,"td"),L.TgZ(21,"ng-select",100),L.NdJ("ngModelChange",function(e){return L.CHM(r).$implicit.AmtType=e}),L.TgZ(22,"ng-option",101),L._uU(23,"DR"),L.qZA(),L.TgZ(24,"ng-option",102),L._uU(25,"CR"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(26,"td"),L.TgZ(27,"a",103),L.NdJ("click",function(){var e=L.CHM(r).$implicit;return L.oxw(4).RemoveReference(e.Index)}),L._UZ(28,"i",66),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=t.$implicit,i=t.index,o=L.MAs(3),a=L.MAs(18);L.oxw(3);var l=L.MAs(2);L.xp6(2),L.MGl("name","rafdrp",i,""),L.Q6J("disabled","AgainstRef"!=n.Ref_Type&&n.UIDN>0)("ngModel",n.Ref_Type)("ngClass",L.VKq(14,Jn,l.submitted&&o.invalid)),L.xp6(10),L.Q6J("ngIf",l.submitted&&o.invalid),L.xp6(1),L.Q6J("ngIf","AgainstRef"!=n.Ref_Type),L.xp6(1),L.Q6J("ngIf","AgainstRef"!=n.Ref_Type),L.xp6(1),L.Q6J("ngIf","AgainstRef"==n.Ref_Type),L.xp6(2),L.MGl("name","Refamt__",i,""),L.Q6J("ngModel",n.Balance)("ngClass",L.VKq(16,Jn,l.submitted&&a.invalid)),L.xp6(2),L.Q6J("ngIf",l.submitted&&a.invalid),L.xp6(2),L.MGl("name","AmtType__",i,""),L.Q6J("ngModel",n.AmtType)}}function $n(e,t){if(1&e&&(L.TgZ(0,"table",87,88),L.TgZ(2,"thead"),L.TgZ(3,"tr"),L.TgZ(4,"th"),L._uU(5,"Ref. Method"),L.qZA(),L.TgZ(6,"th"),L._uU(7,"Ref. Tag"),L.qZA(),L.TgZ(8,"th"),L._uU(9,"Due Date"),L.qZA(),L.TgZ(10,"th"),L._uU(11,"Amount"),L.qZA(),L.TgZ(12,"th"),L._uU(13,"Dr/Cr"),L.qZA(),L.TgZ(14,"th"),L._uU(15,"Action"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(16,"tbody"),L.YNc(17,Gn,29,18,"tr",89),L.qZA(),L.qZA()),2&e){var r=L.oxw(3);L.xp6(17),L.Q6J("ngForOf",r.getreferenceforpopup())}}function Bn(e,t){if(1&e&&(L.TgZ(0,"div",85),L.YNc(1,$n,18,1,"table",86),L.qZA()),2&e){var r=L.oxw(2);L.xp6(1),L.Q6J("ngIf",!r.companyLedgerService.IsMobileview)}}function Yn(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",71),L.TgZ(1,"form",72,73),L.NdJ("ngSubmit",function(){L.CHM(r);var e=L.MAs(2),t=L.oxw();return e.form.valid&&t.Savereference()}),L.TgZ(3,"div",74),L.TgZ(4,"div",75),L.TgZ(5,"h4",76),L._uU(6,"Add/Edit Reference "),L.qZA(),L.TgZ(7,"button",77),L.NdJ("click",function(){L.CHM(r);var e=L.oxw(),t=L.MAs(32);return e.showReferencepopup=!1,t.hide()}),L.TgZ(8,"span",78),L._uU(9,"\xd7"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(10,"div",79),L.YNc(11,Bn,2,1,"div",80),L.TgZ(12,"button",81),L.NdJ("click",function(){return L.CHM(r),L.oxw().addNewreference()}),L._uU(13,"Add new row"),L.qZA(),L.qZA(),L.TgZ(14,"div",82),L.TgZ(15,"button",83),L._uU(16,"Save Changes"),L.qZA(),L.TgZ(17,"button",84),L.NdJ("click",function(){L.CHM(r);var e=L.oxw(),t=L.MAs(32);return e.showReferencepopup=!1,t.hide()}),L._uU(18,"Close"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){var n=L.oxw();L.xp6(11),L.Q6J("ngIf",n.curReference.length>0)}}var jn=[],Kn=[{path:"",data:{title:"Transactions"},children:[{path:"challan",component:kt,data:{title:"Challan List",ViewType:"View",component:"ChallanListComponent"},canActivate:[on.i]},{path:"challan/:label",component:kt,data:{title:"Challan List - Billwise",ViewType:"View",component:"ChallanListComponent"},canActivate:[on.i]},{path:"challan/:id",component:H.N,data:{title:"Add/Edit Challan",ViewType:"View",component:"ChallanAddeditComponent"},canActivate:[on.i]},{path:"daybook",component:Vt.C,data:{title:"Day Book",ViewType:"View",component:"AccountListComponent"},canActivate:[on.i]},{path:"ledger",component:Vt.C,data:{title:"Ledger Report",ViewType:"View",component:"AccountListComponent"},canActivate:[on.i]},{path:"group",component:Vt.C,data:{title:"Group Report",ViewType:"View",component:"AccountListComponent"},canActivate:[on.i]},{path:"finalize",component:Vt.C,data:{title:"Finalize Report",ViewType:"View",component:"AccountListComponent"},canActivate:[on.i]},{path:"restorevoucher",component:Vt.C,data:{title:"voucher History",ViewType:"View",component:"AccountListComponent"},canActivate:[on.i]},{path:"daybook/:ledgerid",component:Vt.C,data:{title:"DayBook",ViewType:"View",component:"AccountListComponent"},canActivate:[on.i]},{path:"accountadd",component:function(){var e=function(){function e(r,n,i,o){t(this,e),this.accountService=r,this.companyLedgerService=n,this.alertService=i,this.router=o,this.vouchertypeclass="",this.taxledgerDetails=[],this.VoucherMasters=[],this.FinalVoucherMasters=[],this.VoucherIndex=0,this.AccountText="Select Ledger",this.httpfunction=new T.r,this.bankDetails=[],this.curReference=[],this.allagainstRefList=[],this.modalReferenceIndex=0,this.showReferencepopup=!1,this.modalDrAmt=0,this.modalCrAmt=0,this.VoucherId=0,this.Total="0.0 Dr",this.TotalTax="0.0 Dr",this.GrandTotal="0.0 Dr",this.RoundOFFTotal="0.0 Dr",this.Totalroundoff=0,this.IsRoundOff=!1,this.ReferendeIndex=0,this.modalLedger=null,this.LedagainstRefList=[],this.IsShowLedger=!1}return n(e,[{key:"ngOnInit",value:function(){var e=this;null!=this.serachcontrol&&null!=this.serachcontrol&&this.serachcontrol.focus(),this.companyLedgerService.GetAllledaccount(!0);var t=new g.VN,r=new g.eK;r.TabIndex=r.Index+21,t.VDet=[],t.VDet.push(r),this.VoucherMasters.push(t),this.Refsubscription=this.accountService.resultObs.subscribe(function(){e.allagainstRefList=e.allagainstRefList.concat(e.accountService.result),e.setcurrentreference()})}},{key:"ngOnDestroy",value:function(){null!=this.Refsubscription&&this.Refsubscription.unsubscribe()}},{key:"setcurrentreference",value:function(){var e=this;this.LedagainstRefList=JSON.parse(JSON.stringify(this.allagainstRefList.filter(function(t){return t.L_Id==e.curReferenceedger&&t.VoucherMaster_PK_Id!=e.VoucherId})));for(var t=function(t){var r=e.LedagainstRefList[t];r.Balance<0&&(r.Balance=-1*r.Balance),r.OrgBalance=r.Balance,null!=(n=e.getreferenceforpopup().filter(function(e){return e.Agnst_VoucherMst_Id==r.voucherMasterId&&e.Agnst_Ref_Id==r.UIDN}))&&null!=n&&n.length>0&&(r.OrgBalance+=n[0].Dr>0?n[0].Dr:n[0].Cr,n[0].OrgBalance=r.OrgBalance)},r=0;r<this.LedagainstRefList.length;r++){var n;t(r)}}},{key:"getreferenceforpopup",value:function(){return this.curReference.filter(function(e){return 1!=e.operationType})}},{key:"adddNewTransaction",value:function(){if(!this.httpfunction.IsMobileview()){var e=this.VoucherMasters.length-1;if(null!=this.VoucherMasters[e].VDet[0].LedDet&&null!=this.VoucherMasters[e].VDet[0].LedDet&&null!=this.VoucherMasters[e].VDet[0].DrAmt&&null!=this.VoucherMasters[e].VDet[0].DrAmt&&0!=this.VoucherMasters[e].VDet[0].DrAmt){this.VoucherIndex=this.VoucherIndex+1;var t=new g.VN,r=new g.eK;r.Index=this.VoucherIndex,r.TabIndex=this.VoucherIndex+21,t.VDet=[],t.VDet.push(r),this.VoucherMasters.push(t)}}}},{key:"isNumeric",value:function(e){return null!=e&&/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(e.toString())}},{key:"getNumeric",value:function(e){return this.isNumeric(e)?(e=parseFloat(e),parseFloat(e.toFixed(2))):parseFloat("0")}},{key:"SelectVoucherType",value:function(){var e=this;this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.ReceiptNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()?this.AccountText="Party Name":this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.DeliveryNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()?this.AccountText="Customer":this.accountVoucherType.toLowerCase()==h.$f.Receipt.toLowerCase()?this.AccountText="Receipt In Account":this.accountVoucherType.toLowerCase()==h.$f.Payment.toLowerCase()?this.AccountText="Payment From":this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()?this.AccountText="Deposit To":this.accountVoucherType.toLowerCase()==h.$f.Contra.toLowerCase()&&(this.AccountText="Deposit In");var t=JSON.parse(this.httpfunction.getStorage("VoucherType"));this.IsShowLedger=t.filter(function(t){return t.NA.toUpperCase()==e.accountVoucherType.toUpperCase()})[0].IsShowLed,this.getFromLedger(),this.getToLedger(),this.getTaxLedger()}},{key:"getFromLedger",value:function(){this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DeliveryNote.toLocaleLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()?(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 1==e.IsSL&&0==e.IsGrp&&1==e.St}),this.IsShowLedger&&(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))):this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.ReceiptNote.toLocaleLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()?(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 1==e.IsPU&&0==e.IsGrp&&1==e.St}),this.IsShowLedger&&(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))):this.accountVoucherType.toLocaleLowerCase()==h.$f.Payment.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Receipt.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Contra.toLocaleLowerCase()?this.FromLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash)&&0==e.IsGrp&&1==e.St}):this.accountVoucherType.toLocaleLowerCase()==h.$f.Journal.toLocaleLowerCase()&&(this.FromLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}))}},{key:"getToLedger",value:function(){this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DeliveryNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.SalesOrder.toLocaleLowerCase()?this.ToLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSD)&&0==e.IsGrp&&1==e.St}):this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.ReceiptNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.PurchaseOrder.toLocaleLowerCase()?this.ToLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash||1==e.IsSC)&&0==e.IsGrp&&1==e.St}):this.accountVoucherType.toLocaleLowerCase()==h.$f.Payment.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Receipt.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Journal.toLocaleLowerCase()?this.ToLedger=this.companyLedgerService.result.filter(function(e){return 0==e.IsGrp&&1==e.St}):this.accountVoucherType.toLocaleLowerCase()==h.$f.Contra.toLocaleLowerCase()&&(this.ToLedger=this.companyLedgerService.result.filter(function(e){return(1==e.IsBank||1==e.IsCash)&&0==e.IsGrp&&1==e.St}))}},{key:"getTaxLedger",value:function(){this.TaxLedger=this.companyLedgerService.result.filter(function(e){return 1==e.isTL&&0==e.IsGrp&&1==e.St})}},{key:"getreference",value:function(e,t){if(null!=e)return null!=e&&null!=this.VoucherMasters[t]&&null!=this.VoucherMasters[t].referencemaster?this.VoucherMasters[t].referencemaster.filter(function(t){return t.L_Id==e.UIDN&&1!=t.operationType}):null}},{key:"openReferencepopup",value:function(e,t){var r=this;if(this.curReferenceedger=null,this.curReference=[],-1==e)if(this.httpfunction.IsMobileview())if(this.accountVoucherType.toLowerCase()!=h.$f.Contra.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Purchase.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Sales.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.DebitNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.CreditNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.DeliveryNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.ReceiptNote.toLowerCase()){if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else{if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else if(e>-1)if(this.httpfunction.IsMobileview())if(this.accountVoucherType.toLowerCase()!=h.$f.Contra.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Purchase.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Sales.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.DebitNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.CreditNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.DeliveryNote.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.ReceiptNote.toLowerCase()){if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else{if(null==this.VoucherMasters[e].VDet[t].LedDet||null==this.VoucherMasters[e].VDet[t].LedDet)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.VoucherMasters[e].VDet[t].LedDet.UIDN}null!=this.VoucherMasters[e].referencemaster&&this.VoucherMasters[e].referencemaster.length>0?this.httpfunction.IsMobileview()?e>-1?(this.curReference=JSON.parse(JSON.stringify(this.VoucherMasters[e].referencemaster.filter(function(t){return t.L_Id==r.curReferenceedger&&t.Index==e}))),null!=this.curReference&&this.curReference.length>0||this.addNewreference()):this.addNewreference():(this.curReference=JSON.parse(JSON.stringify(this.VoucherMasters[e].referencemaster.filter(function(e){return e.L_Id==r.curReferenceedger}))),null!=this.curReference&&this.curReference.length>0||this.addNewreference()):this.addNewreference(),0==this.allagainstRefList.filter(function(e){return e.L_Id==r.curReferenceedger&&e.VoucherMaster_PK_Id!=r.VoucherId}).length&&(this.accountService.filterArg=new Ht.Jw,this.accountService.filterArg.LedgerId=this.curReferenceedger,this.accountService.filterArg.voucherMasterId=this.VoucherId,this.accountService.isGetSubscribe=!0,this.accountService.GetAgainstRefDetail()),this.modalReferenceIndex=e,this.showReferencepopup=!0,this.httpfunction.IsMobileview()||this.RefModal.show()}},{key:"onAgainstRefChange",value:function(e,t){null!=t.Agnst_Ref_Id&&this.curReference.filter(function(t){return 1!=t.operationType&&t.Agnst_Ref_Id==e.UIDN}).length>1?(this.alertService.showError("Error","This reference is already in use as against reference. Please select another reference"),setTimeout(function(){t.Agnst_Ref_Id=null,t.OrgBalance=0,t.Agnst_VoucherMst_Id=null},250)):(t.Balance=e.Balance,t.OrgBalance=e.OrgBalance,t.Agnst_VoucherMst_Id=e.VoucherMaster_PK_Id,t.AmtType=e.Cr>0?"Dr":"Cr")}},{key:"Savereference",value:function(){var e=this,t=!0,r=[];if(this.httpfunction.IsMobileview()){if(null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster&&this.VoucherMasters[this.modalReferenceIndex].referencemaster.length>0)if(-1==this.modalReferenceIndex){var n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id==e.curReferenceedger}),i=this.curReference.concat(n||[]);this.curReference=i}else if(this.modalReferenceIndex>-1){var o=this.VoucherMasters[this.modalReferenceIndex].referencemaster.findIndex(function(t){return t.Index==e.modalReferenceIndex});this.VoucherMasters[this.modalReferenceIndex].referencemaster[o]=this.curReference[0],this.curReference=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return void 0!==e})}if(this.curReference.length>0){var a=this.curReference.length;null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster&&this.VoucherMasters[this.modalReferenceIndex].referencemaster.length>0&&-1==this.modalReferenceIndex&&(r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}));for(var l=0;l<a;l++){if("Dr"==this.curReference[l].AmtType?(this.curReference[l].Dr=this.getNumeric(this.curReference[l].Balance),this.curReference[l].Cr=0):(this.curReference[l].Cr=this.getNumeric(this.curReference[l].Balance),this.curReference[l].Dr=0),"AgainstRef"==this.curReference[l].Ref_Type){var c=this.getNumeric(this.curReference[l].OrgBalance);c<0&&(c*=-1),this.getNumeric(this.curReference[l].Balance)>c&&(t=!1)}r.push(this.curReference[l])}this.modalDrAmt=this.TotalAmount,this.VoucherMasters[this.modalReferenceIndex].referencemaster=r}else r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}),this.VoucherMasters[this.modalReferenceIndex].referencemaster=r}else if(this.curReference.length>0){var s=this.curReference.length;null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster&&this.VoucherMasters[this.modalReferenceIndex].referencemaster.length>0&&(r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}));for(var d=0;d<s;d++){if("Dr"==this.curReference[d].AmtType?(this.curReference[d].Dr=this.getNumeric(this.curReference[d].Balance),this.curReference[d].Cr=0):(this.curReference[d].Cr=this.getNumeric(this.curReference[d].Balance),this.curReference[d].Dr=0),"AgainstRef"==this.curReference[d].Ref_Type){var u=this.getNumeric(this.curReference[d].OrgBalance);u<0&&(u*=-1),this.getNumeric(this.curReference[d].Balance)>u&&(t=!1)}r.push(this.curReference[d])}this.VoucherMasters[this.modalReferenceIndex].referencemaster=r}else r=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(t){return t.L_Id!=e.curReferenceedger}),this.VoucherMasters[this.modalReferenceIndex].referencemaster=r;t?(this.showReferencepopup=!1,this.httpfunction.IsMobileview()||this.RefModal.hide(),this.calculateAmount(this.modalReferenceIndex),this.finalcalculation(this.modalReferenceIndex),this.httpfunction.IsMobileview()||setTimeout(function(){},200)):this.alertService.showError("Error","Against reference should not have more amount than the outstanding amount")}},{key:"calculateAmount",value:function(e){var t=this;if(null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster&&null!=this.VoucherMasters[this.modalReferenceIndex].referencemaster){var r=null;if(this.httpfunction.IsMobileview())if(null!=this.modalLedger&&null!=this.modalLedger){r=this.modalLedger;var n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return e.L_Id==t.modalLedger.UIDN&&1!=e.operationType})}else r=this.companyLedgerService.singleresult,n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return e.L_Id==r.UIDN&&1!=e.operationType});else null!=this.VoucherMasters[e]&&this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&e.LedDet.UIDN==t.curReferenceedger}).length>0?(r=this.VoucherMasters[e].VDet.filter(function(e){return e.LedDet.UIDN==t.curReferenceedger})[0],n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return e.L_Id==r.LedDet.UIDN&&1!=e.operationType})):(r=this.companyLedgerService.singleresult,n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.filter(function(e){return e.L_Id==r.UIDN&&1!=e.operationType}));for(var i=0,o=0,a=0;a<n.length;a++)o+=n[a].Dr,i+=n[a].Cr;r.DrAmt=o-i,r.DrAmt<0&&(r.DrAmt=-1*r.DrAmt),this.httpfunction.IsMobileview()&&(this.modalDrAmt=r.DrAmt),this.httpfunction.IsMobileview()?null!=this.VoucherMasters[e]&&this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&e.LedDet.UIDN==t.curReferenceedger}).length>0||((this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase())&&this.VoucherMasters[e].VDet.length>0&&null!=this.VoucherMasters[e].VDet&&(this.VoucherMasters[e].VDet[0].DrAmt=r.DrAmt),this.modalDrAmt=r.DrAmt,this.modalDrAmt<0&&(this.modalDrAmt=-1*r.DrAmt)):null!=this.VoucherMasters[e]&&this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&e.LedDet.UIDN==t.curReferenceedger}).length>0||(this.VoucherMasters[e].VDet[0].DrAmt=r.DrAmt)}else{var l=0,c=null;null!=(c=this.VoucherMasters[e])&&null!=c&&(l=c.Disc,c.DrAmt=this.getNumeric(c.actqty*c.rate),null!=l&&(c.DrAmt=this.getNumeric(c.DrAmt-c.DrAmt*l/100)),c.DrAmt<0&&(c.DrAmt=-1*c.DrAmt))}}},{key:"onReferenceAmountChange",value:function(e){"NewRef"==e.Ref_Type&&(e.Balance<e.Dr-e.OrgBalance||e.Balance<e.Cr-e.OrgBalance)&&(this.alertService.showError("Error","You can not reduce amount which is already paid as against reference"),e.Balance=e.Dr>0?e.Dr:e.Cr)}},{key:"addNewreference",value:function(){var e=new ln.eS;e.Ref_Type=an.l.NewRef,e.L_Id=this.curReferenceedger,e.AmtType=this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.DeliveryNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Payment.toLowerCase()?"Dr":this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.ReceiptNote.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Receipt.toLowerCase()?"Cr":"Dr",e.operationType=0,this.ReferendeIndex=this.ReferendeIndex+1,e.Index=this.ReferendeIndex,this.curReference.push(e)}},{key:"calculateBank",value:function(e){var t=this,r=new Array,n=null,i=0;if(this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()){if(null==this.VoucherMasters[e].VDet||null==this.VoucherMasters[e].VDet)return}else if(null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult)return;if(this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()){if(this.VoucherMasters[e].VDet[0].LedDet.IsBank){for(var o=0;o<this.VoucherMasters[e].VDet.length;o++)i+=this.getNumeric(this.VoucherMasters[e].VDet[o].DrAmt);(l=new g.eK).LId=this.companyLedgerService.singleresult.UIDN,l.L_Name=this.companyLedgerService.singleresult.LN,l.LedDet=new h.dJ,l.LedDet.UIDN=this.companyLedgerService.singleresult.UIDN,l.LedDet.LN=this.companyLedgerService.singleresult.LN,l.LedDet.IsBank=this.companyLedgerService.singleresult.IsBank,i>0?l.DrAmt=i:(l.CrAmt=i,l.CrAmt<0&&(l.CrAmt=-1*l.CrAmt)),null!=this.VoucherMasters[e].VDet[0].TaxLedger&&null!=this.VoucherMasters[e].VDet[0].TaxLedger&&this.VoucherMasters[e].VDet[0].TaxLedger.length>0&&(l.TaxLedger=this.VoucherMasters[e].VDet[0].TaxLedger),r.push(JSON.parse(JSON.stringify(l)))}}else if(this.companyLedgerService.singleresult.IsBank){for(var a=0;a<this.VoucherMasters[e].VDet.length;a++)i+=this.getNumeric(this.VoucherMasters[e].VDet[a].DrAmt);var l;(l=new g.eK).LId=this.companyLedgerService.singleresult.UIDN,l.L_Name=this.companyLedgerService.singleresult.LN,l.LedDet=new h.dJ,l.LedDet.UIDN=this.companyLedgerService.singleresult.UIDN,l.LedDet.LN=this.companyLedgerService.singleresult.LN,l.LedDet.IsBank=this.companyLedgerService.singleresult.IsBank,i>0?l.DrAmt=i:(l.CrAmt=i,l.CrAmt<0&&(l.CrAmt=-1*l.CrAmt)),r.push(JSON.parse(JSON.stringify(l)))}n=this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()?JSON.parse(JSON.stringify(this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&1==e.LedDet.IsBank}))):JSON.parse(JSON.stringify(this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt})));for(var c=0;c<n.length;c++)n[c].DrAmt<0?(n[c].DrAmt=-1*n[c].DrAmt,n[c].CrAmt=0):(n[c].CrAmt=n[c].DrAmt,n[c].DrAmt=0);if((r=r.concat(n?JSON.parse(JSON.stringify(n)):[])).length>0){this.VoucherMasters[e].bankDetails=[],this.bankDetails=[];for(var s=0;s<r.length;s++){var d=0,u=0,p=null;if((r[s].DrAmt>0||r[s].CrAmt>0)&&1==r[s].LedDet.IsBank&&(d=2,u=r[s].LedDet.UIDN,p=r[s].LedDet.LN),d>0){var f=null;if(2==d){if(f=new Array,0==r[s].DrAmt||null==r[s].DrAmt){if(this.accountVoucherType.toLowerCase()==h.$f.Contra.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Payment.toLowerCase())var m=r.filter(function(e){return e.LedDet.UIDN!=u&&e.DrAmt>0})[0];else m=r.filter(function(e){return e.LedDet.UIDN!=u&&0==e.LedDet.IsBank&&e.DrAmt>0})[0];null!=m&&null!=m&&f.push(m)}else null!=(m=this.accountVoucherType.toLowerCase()==h.$f.Contra.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Payment.toLowerCase()?r.filter(function(e){return e.LedDet.UIDN!=u&&e.CrAmt>0})[0]:this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()?r.filter(function(e){return e.LedDet.UIDN!=u&&e.DrAmt>0})[0]:this.accountVoucherType?r.filter(function(e){return null==e.InventoryDetails}).filter(function(e){return e.LedDet.UIDN!=u})[0]:r.filter(function(e){return e.LedDet.UIDN!=u&&0==e.LedDet.IsBank&&e.CrAmt>0})[0])&&null!=m&&f.push(m);var Z=new g.eK,v=r[s],T=0;if(Z.DrAmt=this.getNumeric(v.DrAmt),null!=v.TaxLedger&&null!=v.TaxLedger)for(var A=0;A<v.TaxLedger.length;A++)1==v.TaxLedger[A].IsInclusive?(T+=this.getNumeric(v.DrAmt*v.TaxLedger[A].TR/100),Z.DrAmt=Z.DrAmt-this.getNumeric(v.DrAmt*v.TaxLedger[A].TR/100)):Z.DrAmt=Z.DrAmt+this.getNumeric(v.DrAmt*v.TaxLedger[A].TR/100);for(var x=function(){L=t.bankDetails.filter(function(e){return e.BLId==u&&e.LId==f[I].LedDet.UIDN});var n=t.getNumeric(0==r[s].DrAmt||null==r[s].DrAmt?0:r[s].DrAmt),i=t.getNumeric(0==r[s].DrAmt||null==r[s].DrAmt?r[s].CrAmt:0);if(null!=f[I].TaxLedger&&null!=f[I].TaxLedger)for(var o=0;o<f[I].TaxLedger.length;o++)0==i?1==f[I].TaxLedger[o].IsInclusive?(T+=t.getNumeric(f[I].CrAmt*f[I].TaxLedger[o].TR/100),n-=t.getNumeric(f[I].CrAmt*f[I].TaxLedger[o].TR/100)):n+=t.getNumeric(f[I].CrAmt*f[I].TaxLedger[o].TR/100):1==f[I].TaxLedger[o].IsInclusive?(T+=t.getNumeric(f[I].DrAmt*f[I].TaxLedger[o].TR/100),i-=t.getNumeric(f[I].DrAmt*f[I].TaxLedger[o].TR/100)):i+=t.getNumeric(f[I].DrAmt*f[I].TaxLedger[o].TR/100);if(L.length>0)L[0].Led_Dr=t.getNumeric(L[0].Led_Dr)+t.getNumeric(n);else{var a=new g.oy;a.BankName="",a.TType="Cheque/DD",t.httpfunction.IsMobileview()&&(a.TType="0"),a.ChkDt=new Date,a.ChkNo="",a.BRecoDt=null,null!=t.VoucherMasters[e].bankDetails&&null!=t.VoucherMasters[e].bankDetails&&(0==(w=t.VoucherMasters[e].bankDetails.filter(function(e){return e.BLId==u&&e.LId==f[I].LedDet.UIDN})).length&&(w=t.VoucherMasters[e].bankDetails.filter(function(e){return(e.BLId==u||e.LId==f[I].LedDet.UIDN)&&e.Led_Dr==n})),0==w.length&&(w=t.VoucherMasters[e].bankDetails.filter(function(e){return(e.BLId==u||e.LId==f[I].LedDet.UIDN)&&e.Led_Dr==f[I].DrAmt})),w.length>0&&(a.BankName=w[0].BankName,a.TType=w[0].TType,a.ChkDt=w[0].ChkDt,a.ChkNo=w[0].ChkNo,a.BRecoDt=w[0].BRecoDt,w[0].Led_Dr=n)),a.InclusiveAmount=T,a.BLId=u,a.BL_Name=p,a.LId=f[I].LedDet.UIDN,a.L_Name=f[I].LedDet.LN,t.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||t.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||t.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||t.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()?(a.Led_Dr=parseFloat(i.toFixed(2)),a.Led_Cr=parseFloat(n.toFixed(2))):(a.Led_Dr=parseFloat(n.toFixed(2)),a.Led_Cr=parseFloat(i.toFixed(2))),a.bankTabIndex=t.bankDetails.length+1010,t.bankDetails.push(a),t.VoucherMasters[e].bankDetails=t.bankDetails}},I=0;I<f.length;I++){var L,w;x()}}}}}}},{key:"DebitOrCreditByCategory",value:function(e,t){var r="";if(this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()&&1==t)return"CREDIT";if(this.accountVoucherType.toLowerCase()==h.$f.Journal.toLowerCase()&&0==t)return"DEBIT";if(this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.DeliveryNote.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()&&0==t)return"DEBIT";if(this.accountVoucherType.toLowerCase()==h.$f.DebitNote.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.Sales.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.DeliveryNote.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.SalesOrder.toLowerCase()&&1==t)return"CREDIT";if(this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.ReceiptNote.toLowerCase()&&0==t||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()&&0==t)return"CREDIT";if(this.accountVoucherType.toLowerCase()==h.$f.CreditNote.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.Purchase.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.ReceiptNote.toLowerCase()&&1==t||this.accountVoucherType.toLowerCase()==h.$f.PurchaseOrder.toLowerCase()&&1==t)return"DEBIT";r=this.accountVoucherType.toLowerCase()==h.$f.Receipt.toLowerCase()||this.accountVoucherType.toLowerCase()==h.$f.Contra.toLowerCase()?"Increase":"Decrease",t&&(r="Decrease"==r?"Increase":"Decrease");var n="";if("Increase"==r)switch(e){case"Assets":case"Expenses":n="DEBIT";break;case"Liability":case"Income":n="CREDIT"}else switch(e){case"Assets":case"Expenses":n="CREDIT";break;case"Liability":case"Income":n="DEBIT"}return n}},{key:"finalcalculation",value:function(e){if(null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult){for(var t=this.VoucherMasters[e].VDet.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt}),r=0,n=0,i=0,o=0,a=0,l=0;l<t.length;l++){var c;c=this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()?this.DebitOrCreditByCategory(this.VoucherMasters[l].VDet[0].L_Cat,!0):this.DebitOrCreditByCategory(this.companyLedgerService.singleresult.Cat,!0);var s=0,d=0;if(t[l].LedDet.isTL?"DEBIT"==c?this.getNumeric(t[l].DrAmt)<0?i+=this.getNumeric(-1*t[l].DrAmt):o+=this.getNumeric(t[l].DrAmt):this.getNumeric(t[l].DrAmt)<0?o+=this.getNumeric(-1*t[l].DrAmt):i+=this.getNumeric(t[l].DrAmt):"DEBIT"==c?this.getNumeric(t[l].DrAmt)<0?(d=this.getNumeric(-1*t[l].DrAmt),r+=this.getNumeric(d)):(s=this.getNumeric(t[l].DrAmt),n+=this.getNumeric(s)):this.getNumeric(t[l].DrAmt)<0?(s=this.getNumeric(-1*t[l].DrAmt),n+=this.getNumeric(s)):(d=this.getNumeric(t[l].DrAmt),r+=this.getNumeric(d)),null!=t[l].TaxLedger&&null!=t[l].TaxLedger)for(var u=0;u<t[l].TaxLedger.length;u++)s>0&&(o+=this.getNumeric(s*t[l].TaxLedger[u].TR/100),t[l].TaxLedger[u].IsInclusive&&(a+=this.getNumeric(s*t[l].TaxLedger[u].TR/100))),d>0&&(i+=this.getNumeric(d*t[l].TaxLedger[u].TR/100),t[l].TaxLedger[u].IsInclusive&&(a+=this.getNumeric(d*t[l].TaxLedger[u].TR/100)));var g=n-r,p=o-i;this.Total=g>0?parseFloat((g-1*a).toString()).toFixed(2)+" Dr":parseFloat((-1*g-1*a).toString()).toFixed(2)+" Cr",this.TotalTax=p>0?parseFloat((1*p).toString()).toFixed(2)+" Dr":parseFloat((-1*p*1).toString()).toFixed(2)+" Cr",this.GrandTotal=g+p>0?this.Totalroundoff>0?parseFloat((1*(g+p-a-this.Totalroundoff)).toString()).toFixed(2)+" Dr":parseFloat((1*(g+p-this.Totalroundoff-a)).toString()).toFixed(2)+" Dr":this.Totalroundoff>0?parseFloat((1*(-1*(g+p)-a-this.Totalroundoff)).toString()).toFixed(2)+" Cr":parseFloat((1*(-1*(g+p)-this.Totalroundoff-a)).toString()).toFixed(2)+" Cr"}this.VoucherMasters[e].TotalAmt=Number(this.GrandTotal.replace("Cr","").replace("Dr","")),this.calculateBank(e)}}},{key:"onVoucherDateSelect",value:function(e){this.VoucherMasters[e.index].VDt=e.startDate}},{key:"IsvalidDate",value:function(e){if(null!=this.VoucherMasters[e].VDt&&null!=this.VoucherMasters[e].VDt){var t=this.httpfunction.getCompanyvariale();return!(moment(t.StDt).format("YYYY-MM-DD")>moment(this.VoucherMasters[e].VDt).format("YYYY-MM-DD")&&(this.alertService.showError("Error","Voucher date must be greater than a company creation date: "+moment(this.companyLedgerService.getCompanyData.StDt).format("YYYY-MM-DD")+"."),1))}return!1}},{key:"GenerateTableLedger",value:function(e,t){if(0==t){this.taxledgerDetails=[];var r,n=new g.eK;return r=this.DebitOrCreditByCategory(this.comapny_LedgerAccount.Cat,!0),n.isMainled=!1,n.LId=e.LedDet.UIDN,n.L_Name=e.LedDet.LN,n.L_PId=e.LedDet.PI,n.L_Cat=e.LedDet.Cat,n.L_anc=e.LedDet.ancestor,n.CrAmt=e.DrAmt,n.deletedreference=e.deletedreference,n.TT=e.TT,n.TTA=e.TTA,n.challan=e.challan,n.IsBank=e.LedDet.IsBank,n.TCN=e.TCN,"DEBIT"==r?(n.CrAmt=0,n.DrAmt=this.getNumeric(e.DrAmt),this.getNumeric(e.DrAmt)<0&&(n.CrAmt=-1*this.getNumeric(e.DrAmt),n.DrAmt=0)):(n.DrAmt=0,n.CrAmt=this.getNumeric(e.DrAmt),this.getNumeric(e.DrAmt)<0&&(n.DrAmt=-1*this.getNumeric(e.DrAmt),n.CrAmt=0)),n.InventoryId=0,n.Quantity=0,n.UnitCost=0,n.IsTax=!1,null!=e.TaxLedger&&null!=e.TaxLedger&&e.TaxLedger.length>0?(n.TaxLedger=e.TaxLedger,n.TaxLedgerId=0,n.TaxRate=0):(n.TaxLedgerId=0,n.TaxRate=0),this.taxledgerDetails.push(n),this.taxledgerDetails}if(this.taxledgerDetails=[],null!=e.TaxLedger&&null!=e.TaxLedger){for(var i=0;i<e.TaxLedger.length;i++){var o;o=this.DebitOrCreditByCategory(this.comapny_LedgerAccount.Cat,!0);var a=new g.eK;a.isMainled=!1,a.IsTax=!0,a.LId=e.TaxLedger[i].UIDN,a.L_Name=e.TaxLedger[i].LN,a.L_PId=e.TaxLedger[i].PI,a.L_Cat=e.TaxLedger[i].Cat,a.L_anc=e.TaxLedger[i].ancestor,a.TaxLedgerId=e.TaxLedger[i].UIDN,a.TaxRate=e.TaxLedger[i].TR,a.isInclusive=e.TaxLedger[i].IsInclusive,null!=e.InventoryDetails&&null!=e.InventoryDetails&&(a.InventoryId=e.InventoryDetails.UIDN),"DEBIT"==o?(a.DrAmt=parseFloat((e.DrAmt*e.TaxLedger[i].TR/100).toFixed(2)),a.CrAmt=0):(a.CrAmt=parseFloat((e.DrAmt*e.TaxLedger[i].TR/100).toFixed(2)),a.DrAmt=0),this.taxledgerDetails.push(a)}return this.taxledgerDetails}return null}},{key:"deleteLedger",value:function(e){this.VoucherMasters.splice(e,1)}},{key:"RemoveReference",value:function(e){var t=this,r=this.curReference.findIndex(function(t){return t.Index==e});if(this.httpfunction.IsMobileview())if(0==this.curReference[r].operationType){var n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.findIndex(function(e){return e.Index==t.modalReferenceIndex});this.VoucherMasters[this.modalReferenceIndex].referencemaster.splice(n,1),this.curReference.splice(r,1)}else"NewRef"==this.curReference[r].Ref_Type&&this.curReference[r].Balance>this.curReference[r].OrgBalance?this.alertService.showError("Error","This reference already have against reference. Please delete against reference first"):(n=this.VoucherMasters[this.modalReferenceIndex].referencemaster.findIndex(function(e){return e.Index==t.modalReferenceIndex}),this.VoucherMasters[this.modalReferenceIndex].referencemaster[n].operationType=1,this.curReference[r].operationType=1);else 0==this.curReference[r].operationType?this.curReference.splice(r,1):"NewRef"==this.curReference[r].Ref_Type&&this.curReference[r].Balance>this.curReference[r].OrgBalance?this.alertService.showError("Error","This reference already have against reference. Please delete against reference first"):this.curReference[r].operationType=1;this.calculateAmount(this.modalReferenceIndex),this.finalcalculation(this.modalReferenceIndex)}},{key:"onSubmit",value:function(){this.form.valid&&this.formvalid()}},{key:"formvalid",value:function(){var e=this;this.FinalVoucherMasters=[];for(var t=1,r=0;r<this.VoucherMasters.length;r++)this.IsvalidDate(r)?this.form.valid&&(null!=this.VoucherMasters[r].VDt&&this.VoucherMasters[r].VDet.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt}).length>0?(this.FinalVoucherMasters[r]=new g.VN,this.AddUpdateVoucher(r),t=0):(t+=1,this.alertService.showInfo("Info","Please enter proper detail in account."))):(t+=1,this.alertService.showInfo("Info","Please enter proper detail in account."));0==t&&this.accountService.addQuickVoucher(this.FinalVoucherMasters).subscribe(function(t){e.router.navigate(["/transactions/daybook"])},function(){})}},{key:"AddVoucher",value:function(e){this.accountService.waitforMessage=!1,this.accountService.isPopUpMessage=!1,this.accountVoucherType.toLowerCase()!=h.$f.Contra.toLowerCase()&&this.accountVoucherType.toLowerCase()!=h.$f.Payment.toLowerCase()&&(this.FinalVoucherMasters[e].VDet=this.FinalVoucherMasters[e].VDet.sort(function(e,t){return e.isMainled===t.isMainled?0:e.isMainled?-1:1})),this.FinalVoucherMasters[e].referencemaster=this.VoucherMasters[e].referencemaster}},{key:"AddUpdateVoucher",value:function(e){var t=null,r=[];this.comapny_LedgerAccount=null;var n=this.VoucherMasters[e].VDet;this.accountVoucherType.toLocaleLowerCase()==h.$f.Sales.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.CreditNote.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.Purchase.toLocaleLowerCase()||this.accountVoucherType.toLocaleLowerCase()==h.$f.DebitNote.toLocaleLowerCase()?(t=n.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt}),this.comapny_LedgerAccount=n.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt})[0].LedDet,(r=r.concat(t?JSON.parse(JSON.stringify(t)):[]))[0].LedDet=this.companyLedgerService.singleresult):(r=n.filter(function(e){return null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt}),this.comapny_LedgerAccount=this.companyLedgerService.singleresult),this.FinalVoucherMasters[e].VT=this.accountVoucherType,this.FinalVoucherMasters[e].Narr=this.VoucherMasters[e].Narr,this.FinalVoucherMasters[e].VDt=this.VoucherMasters[e].VDt,this.FinalVoucherMasters[e].VDet=[];var i=new g.eK;i.LId=this.comapny_LedgerAccount.UIDN,i.L_Name=this.comapny_LedgerAccount.LN,i.L_PId=this.comapny_LedgerAccount.PI,i.L_Cat=this.comapny_LedgerAccount.Cat,i.L_anc=this.comapny_LedgerAccount.ancestor,i.challan=this.comapny_LedgerAccount.challan,i.TaxLedgerId=0,i.TaxRate=0,i.InventoryId=0,i.Quantity=0,i.UnitCost=0,i.IsTax=!1,i.isMainled=!0,i.IsBank=this.comapny_LedgerAccount.IsBank;for(var o=!0,a=0;a<r.length;a++){var l=this.GenerateTableLedger(r[a],!1);if(this.FinalVoucherMasters[e].STA=null==r[a].State?JSON.parse(this.httpfunction.getStorage("_company")).Ste:r[a].State,null!=r[a].TaxLedger&&null!=r[a].TaxLedger&&(this.taxxxledger=this.GenerateTableLedger(r[a],!0),null!=l[0].TaxLedger))for(var c=0;c<l[0].TaxLedger.length;c++)l[0].TaxLedger[c].IsInclusive&&(l[0].DrAmt>0?l[0].DrAmt=l[0].DrAmt-this.getNumeric(l[0].DrAmt*l[0].TaxLedger[c].TR/100):l[0].CrAmt=l[0].CrAmt-this.getNumeric(l[0].CrAmt*l[0].TaxLedger[c].TR/100));if(null!=r[a].TaxLedger&&null!=r[a].TaxLedger&&null!=this.taxxxledger&&null!=this.taxxxledger)for(var s=0;s<this.taxxxledger.length;s++)this.taxxxledger[s].TaxLedgerId=l[0].LId,this.FinalVoucherMasters[e].VDet.push(this.taxxxledger[s]);if(null==l){o=!1;break}this.FinalVoucherMasters[e].VDet.push(l[0])}var d=this.FinalVoucherMasters[e].VDet.find(function(e){return 1==e.isMainled});if(null==d&&null==d)for(var u=0;u<this.FinalVoucherMasters[e].VDet.length;u++)if(null==this.FinalVoucherMasters[e].VDet){o=!1;break}if(0==r.length&&(o=!1),o){var p=0,f=0;if("DEBIT"==this.DebitOrCreditByCategory(this.comapny_LedgerAccount.Cat,!1)){for(var m=0;m<this.FinalVoucherMasters[e].VDet.length;m++)p+=parseFloat(this.FinalVoucherMasters[e].VDet[m].CrAmt.toFixed(2)),p-=parseFloat(this.FinalVoucherMasters[e].VDet[m].DrAmt.toFixed(2));(p=parseFloat(p.toFixed(2)))>0?(i.CrAmt=0,i.DrAmt=p):(i.DrAmt=0,i.CrAmt=-1*p)}else{for(var Z=0;Z<this.FinalVoucherMasters[e].VDet.length;Z++)f+=parseFloat(this.FinalVoucherMasters[e].VDet[Z].DrAmt.toFixed(2)),f-=parseFloat(this.FinalVoucherMasters[e].VDet[Z].CrAmt.toFixed(2));f=parseFloat(f.toFixed(2)),p>0?(i.DrAmt=0,i.CrAmt=f):(i.CrAmt=0,i.DrAmt=-1*f)}this.FinalVoucherMasters[e].VDet.push(i);for(var v=0;v<this.FinalVoucherMasters[e].VDet.length;v++)parseFloat(this.FinalVoucherMasters[e].VDet[v].DrAmt.toFixed(2))<0?(this.FinalVoucherMasters[e].VDet[v].CrAmt=-1*parseFloat(this.FinalVoucherMasters[e].VDet[v].DrAmt.toFixed(2)),this.FinalVoucherMasters[e].VDet[v].DrAmt=0):parseFloat(this.FinalVoucherMasters[e].VDet[v].CrAmt.toFixed(2))<0&&(this.FinalVoucherMasters[e].VDet[v].DrAmt=-1*parseFloat(this.FinalVoucherMasters[e].VDet[v].CrAmt.toFixed(2)),this.FinalVoucherMasters[e].VDet[v].CrAmt=0);p=0,f=0;for(var T=0;T<this.FinalVoucherMasters[e].VDet.length;T++)f+=parseFloat(this.FinalVoucherMasters[e].VDet[T].DrAmt.toFixed(2)),p+=parseFloat(this.FinalVoucherMasters[e].VDet[T].CrAmt.toFixed(2));(p=parseFloat(p.toFixed(2)))!=(f=parseFloat(f.toFixed(2)))?this.alertService.showError("Error","Debit and Credit amount is not matched, Please select proper Account."):(this.FinalVoucherMasters[e].ActionId=0,this.AddBankdetails(e))}else this.alertService.showError("Error","Please enter proper debit or credit amount for reference.")}},{key:"AddBankdetails",value:function(e){for(var t=this,r=!1,n=this.VoucherMasters[e].bankDetails,i=function(i){var o=n[i],l=o.Led_Cr>0?o.Led_Cr:o.Led_Dr;a=t.FinalVoucherMasters[e].VDet.filter(function(e){return e.LId==o.BLId});for(var c=0,s=function(r){if(c+=a[r].CrAmt>0?null==o.InclusiveAmount&&null==o.InclusiveAmount?t.getNumeric(a[r].CrAmt):t.getNumeric(a[r].CrAmt)-o.InclusiveAmount:null==o.InclusiveAmount&&null==o.InclusiveAmount?t.getNumeric(a[r].DrAmt):t.getNumeric(a[r].DrAmt)-o.InclusiveAmount,null!=a[r].TaxLedger&&null!=a[r].TaxLedger)for(var n=function(n){var i,o;o=a[r].TaxLedger[n],i=t.FinalVoucherMasters[e].VDet.filter(function(e){return e.LId==o.UIDN&&e.TaxLedgerId==a[r].LId&&1==e.IsTax})[0],a[r].CrAmt>0?i.isInclusive?c-=t.getNumeric(i.CrAmt):c+=t.getNumeric(i.CrAmt):i.isInclusive?c-=t.getNumeric(i.DrAmt):c+=t.getNumeric(i.DrAmt)},i=0;i<a[r].TaxLedger.length;i++)n(i)},d=0;d<a.length;d++)s(d);if(l!=c)return r=!0,"break"},o=0;o<n.length;o++){var a;if("break"===i(o))break}r?this.alertService.showError("Error","Bank amount is not matched with the voucher amount. Please enter proper amount"):(this.FinalVoucherMasters[e].bankDetails=this.VoucherMasters[e].bankDetails,this.finalSave(e))}},{key:"finalSave",value:function(e){this.FinalVoucherMasters[e].CI=this.accountService.getCompanyId,this.FinalVoucherMasters[e].SI=this.accountService.getSignupId;var t=this.httpfunction.getStorage("_roledata");t&&"null"!=t&&null!=t&&JSON.parse(this.httpfunction.getStorage("_roledata"));var r=JSON.parse(this.httpfunction.getStorage("_company"));null!=r.CL&&null!=r&&r.CL.length>0&&(this.FinalVoucherMasters[e].logoname=r.CL[0].name),this.AddVoucher(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(L.Y36(u.B),L.Y36(c.Q),L.Y36(q.Rq),L.Y36(b.F0))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-account"]],viewQuery:function(e,t){var r;(1&e&&(L.Gf(cn,5),L.Gf(sn,5),L.Gf(dn,7,d.w9),L.Gf(un,7)),2&e)&&(L.iGM(r=L.CRH())&&(t.form=r.first),L.iGM(r=L.CRH())&&(t.ITableRef=r.first),L.iGM(r=L.CRH())&&(t.serachcontrol=r.first),L.iGM(r=L.CRH())&&(t.RefModal=r.first))},features:[L._Bn([c.Q])],decls:34,vars:27,consts:[[3,"ngClass"],[1,"card"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],[1,"row"],[1,"md-form","col-4"],["for","Voucher"],["autofocus","","selectOnTab","true","name","vtype","id","vtype","placeholder","Select Voucher",3,"tabIndex","ngClass","ngModel","ngModelChange","change"],["vtype","ngModel"],["value","Sales"],["value","Purchase",4,"ngIf"],["value","Receipt",4,"ngIf"],["value","Payment",4,"ngIf"],["value","Credit Note",4,"ngIf"],["value","Debit Note",4,"ngIf"],["value","Receipt Note",4,"ngIf"],["value","Delivery Note",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"col-4"],["for","AccountText"],["selectOnTab","true","dropdownPosition","bottom","required","","name","FLedger","bindLabel","LN",3,"tabIndex","virtualScroll","items","ngModel","ngClass","loading","placeholder","ngModelChange"],["led","","FLedger","ngModel"],["ng-label-tmp",""],["class","col-md-12 p-0",4,"ngIf"],["class","row",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modalNew","fade"],["RefModal","bs-modal"],["class","modal-lg","role","document","id","myModalRef",4,"ngIf"],["value","Purchase"],["value","Receipt"],["value","Payment"],["value","Credit Note"],["value","Debit Note"],["value","Receipt Note"],["value","Delivery Note"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-md-12","p-0"],[1,"my-custom-scrollbar"],[1,"table","table-bordered","table-account"],[1,"text-left"],["scope","col",1,"text-center"],["scope","col",1,"text-left"],["voucherrow",""],[4,"ngFor","ngForOf"],["type","button","value","Add Item",1,"btn","btn-primary","btn-sm","lighten-3",3,"tabIndex","click"],["scope","row",1,"text-left"],["autofocus","","type","text","appDatepicker","","placeholder","Select Voucher Date",1,"form-control",3,"tabindex","name","startDate","index","id","selectedindex"],["ChkDt",""],["autofocus","","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Account","selectOnTab","true","appendTo","body",1,"maxpanel",3,"tabIndex","virtualScroll","items","name","ngModel","loading","ngModelChange"],["toled",""],["ng-header-tmp",""],[1,"clearfix","text-left","ml-2","font-italic","font-weight-light"],["href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],["scope","row",1,"text-center"],["href","javascript:void(0)",1,"btn","btn-link",3,"tabIndex","click"],["type","number","placeholder","Enter Amount","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"min-width","75px",3,"tabIndex","name","ngModel","id","ngModelChange","change"],["dramt",""],["scope","row"],["selectOnTab","true","appendTo","body","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",1,"maxpanel",2,"min-width","140px",3,"tabIndex","multiple","items","name","ngModel","loading","ngModelChange","change"],["toTax",""],["ng-option-tmp",""],["type","text","placeholder","Enter Narration",1,"form-control",2,"min-width","75px",3,"tabIndex","name","ngModel","id","ngModelChange"],["scope","row",1,"text-left","pt-1","pl-2",2,"min-width","75px"],["scope","row",1,"text-center",2,"background","white"],["href","javascript:void(0)","title","Delete Ledger","placement","bottom",2,"text-decoration","none",3,"tabIndex","click"],[1,"fas","fa-trash","text-danger","mr-1"],["href","javascript:void(0)",3,"click"],["id","formbtnContainer",1,"col-sm-12","p-0","text-right"],["tabindex","1020","type","submit","name","btnsubmit","id","btnsubmit",1,"btn","btn-primary"],["btnsubmit",""],["role","document","id","myModalRef",1,"modal-lg"],["role","form",3,"ngSubmit"],["frefitem","ngForm"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","table-responsive refTable",4,"ngIf"],["type","button",1,"btn","btn-link","p-0","m-0",3,"click"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-primary"],["type","button",1,"btn","btn-sm","btn-dark",3,"click"],[1,"table-responsive","refTable"],["class","table table-account table-bordered",4,"ngIf"],[1,"table","table-account","table-bordered"],["refTable",""],["class","md-form",4,"ngFor","ngForOf"],[1,"md-form"],["required","","appendTo","body","placeholder","Select Ref Type",2,"width","130px",3,"name","disabled","ngModel","ngClass","ngModelChange"],["RefType","ngModel"],["value","NewRef"],["value","OnAccount"],["value","Advance"],["value","AgainstRef"],["colspan","2",4,"ngIf"],["type","number","required","","placeholder","Enter Amount",1,"accText","form-control",2,"width","130px",3,"name","ngModel","ngClass","change","ngModelChange"],["Refamt","ngModel"],["placeholder","Select","appendTo","body",2,"min-width","65px",3,"name","ngModel","ngModelChange"],["value","Dr"],["value","Cr"],["href","javascript:void(0)",2,"text-decoration","none",3,"click"],["type","text","required","","placeholder","Reference Tag",1,"form-control","accText",2,"min-width","130px",3,"ngClass","disabled","name","ngModel","ngModelChange"],["refTag","ngModel"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",2,"width","85px",3,"disabled","ngClass","startDate","name","id","selected"],["refdate",""],["colspan","2"],["style","min-width:200px;","selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",3,"items","name","ngModel","ngModelChange","change",4,"ngIf"],["selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",2,"min-width","200px",3,"items","name","ngModel","ngModelChange","change"],["agReferences",""]],template:function(e,t){if(1&e){var r=L.EpF();L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"form",2,3),L.NdJ("ngSubmit",function(){return L.CHM(r),L.MAs(3).form.valid&&t.onSubmit()}),L.TgZ(4,"div",4),L.TgZ(5,"div",5),L.TgZ(6,"label",6),L._uU(7," Voucher"),L.qZA(),L.TgZ(8,"ng-select",7,8),L.NdJ("ngModelChange",function(e){return t.accountVoucherType=e})("change",function(){return t.SelectVoucherType()}),L.TgZ(10,"ng-option",9),L._uU(11," Sales"),L.qZA(),L.YNc(12,gn,2,0,"ng-option",10),L.YNc(13,hn,2,0,"ng-option",11),L.YNc(14,pn,2,0,"ng-option",12),L.YNc(15,fn,2,0,"ng-option",13),L.YNc(16,mn,2,0,"ng-option",14),L.YNc(17,Zn,2,0,"ng-option",15),L.YNc(18,vn,2,0,"ng-option",16),L.qZA(),L.YNc(19,An,2,1,"div",17),L.qZA(),L.TgZ(20,"div",18),L.TgZ(21,"label",19),L._uU(22,"Select Ledger"),L.qZA(),L.TgZ(23,"ng-select",20,21),L.NdJ("ngModelChange",function(e){return t.companyLedgerService.singleresult=e}),L.YNc(26,xn,1,1,"ng-template",22),L.qZA(),L.YNc(27,Ln,2,1,"div",17),L.qZA(),L.qZA(),L.TgZ(28,"div",4),L.YNc(29,Mn,27,2,"div",23),L.qZA(),L.YNc(30,Nn,5,0,"div",24),L.qZA(),L.qZA(),L.TgZ(31,"div",25,26),L.YNc(33,Yn,19,1,"div",27),L.qZA(),L.qZA()}if(2&e){var n=L.MAs(3),i=L.MAs(9),o=L.MAs(25);L.Q6J("ngClass",t.vouchertypeclass),L.xp6(8),L.Q6J("tabIndex",1)("ngClass",L.VKq(23,Jn,n.submitted&&i.invalid))("ngModel",t.accountVoucherType),L.xp6(4),L.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),L.xp6(1),L.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),L.xp6(1),L.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),L.xp6(1),L.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),L.xp6(1),L.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),L.xp6(1),L.Q6J("ngIf","Trading"==t.accountService.getCompanyData.Type),L.xp6(1),L.Q6J("ngIf","Trading"==t.accountService.getCompanyData.Type),L.xp6(1),L.Q6J("ngIf",n.submitted&&i.invalid),L.xp6(4),L.s9C("placeholder",t.AccountText),L.Q6J("tabIndex",2)("virtualScroll",!0)("items",t.FromLedger)("ngModel",t.companyLedgerService.singleresult)("ngClass",L.VKq(25,Jn,n.submitted&&o.invalid))("loading",t.companyLedgerService.loading),L.xp6(4),L.Q6J("ngIf",n.submitted&&o.invalid),L.xp6(2),L.Q6J("ngIf",!t.accountService.IsMobileview),L.xp6(1),L.Q6J("ngIf",!t.accountService.isMobile),L.xp6(3),L.Q6J("ngIf",t.showReferencepopup)}},directives:[a.mk,U._Y,U.JL,U.F,J.u,d.w9,k.x,U.JJ,U.On,d.xv,a.O5,U.Q7,d.bb,D.oB,a.sg,O.q,d.A3,U.wV,U.Fj,U.c5,d.Z2],styles:[""]}),e}(),data:{title:"Add Transaction",ViewType:"View",component:"AccountComponent"},canActivate:[on.i]},{path:"accountaddedit/:id",component:Jt.L,data:{title:"Add Transaction",ViewType:"View",component:"AccountAddeditComponent"},canActivate:[on.i]},{path:"account/:Type",component:Jt.L,data:{title:"Add Transaction",ViewType:"View",component:"AccountAddeditComponent"},canActivate:[on.i]},{path:"account/:Type/:Id",component:Jt.L,data:{title:"Edit Transaction",ViewType:"View",component:"AccountAddeditComponent"},canActivate:[on.i]},{path:"ledgerList",component:tn,data:{title:"Ledger List",ViewType:"View",component:"CompanyledgerListComponent"},canActivate:[on.i]},{path:"ledgeradd/:parentid/:group",component:Rt.k,data:{title:"Add/Edit Ledger",ViewType:"View",component:"CompanyledgerAddeditComponent"},canActivate:[on.i]},{path:"ledgeredit/:cmpledgerid",component:Rt.k,data:{title:"Add/Edit Ledger",ViewType:"View",component:"CompanyledgerAddeditComponent"},canActivate:[on.i]},{path:"bankstatement",component:nn,data:{title:"Bank Statement",ViewType:"View",component:"BankstatementComponent"},canActivate:[on.i]}]}],zn=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({imports:[[b.Bz.forChild(Kn)],b.Bz]}),e}(),Wn=o(26246),Xn=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({providers:[jn],imports:[[a.ez,zn,G.Lr,y.Pc.forRoot(),Wn.p.forRoot()]]}),e}()}}])}();