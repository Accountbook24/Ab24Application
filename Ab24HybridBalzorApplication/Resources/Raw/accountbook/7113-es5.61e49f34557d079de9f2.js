!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function a(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(k){a=function(e,t,i){return e[t]=i}}function c(e,t,i,n){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),s=new C(n||[]);return o._invoke=function(e,t,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return q()}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var l=b(s,i);if(l){if(l===d)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var a=u(e,t,i);if("normal"===a.type){if(n=i.done?"completed":"suspendedYield",a.arg===d)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(n="completed",i.method="throw",i.arg=a.arg)}}}(e,i,s),o}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(k){return{type:"throw",arg:k}}}e.wrap=c;var d={};function g(){}function p(){}function h(){}var m={};a(m,o,function(){return this});var f=Object.getPrototypeOf,v=f&&f(f(I([])));v&&v!==t&&n.call(v,o)&&(m=v);var Z=h.prototype=g.prototype=Object.create(m);function A(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){function i(r,o,s,l){var a=u(e[r],e,o);if("throw"!==a.type){var c=a.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){i("next",e,s,l)},function(e){i("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return i("throw",e,s,l)})}l(a.arg)}var r;this._invoke=function(e,n){function o(){return new t(function(t,r){i(e,n,t,r)})}return r=r?r.then(o,o):o()}}function b(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:q}}function q(){return{value:void 0,done:!0}}return p.prototype=h,a(Z,"constructor",h),a(h,"constructor",p),p.displayName=a(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a(e,l,"GeneratorFunction")),e.prototype=Object.create(Z),e},e.awrap=function(e){return{__await:e}},A(T.prototype),a(T.prototype,s,function(){return this}),e.AsyncIterator=T,e.async=function(t,i,n,r,o){void 0===o&&(o=Promise);var s=new T(c(t,i,n,r),o);return e.isGeneratorFunction(i)?s:s.next().then(function(e){return e.done?e.value:s.next()})},A(Z),a(Z,l,"Generator"),a(Z,o,function(){return this}),a(Z,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,n){return s.type="throw",s.arg=e,t.next=i,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),a=n.call(o,"finallyLoc");if(l&&a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),x(i),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;x(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:I(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),d}},e}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=r(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:i):o.value}},n.apply(this,arguments)}function r(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=c(e);if(t){var r=c(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,i){return t&&d(e.prototype,t),i&&d(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccoubtbook=self.webpackChunkaccoubtbook||[]).push([[7113],{70309:function(e,t,i){i.d(t,{ht:function(){return h},QV:function(){return d}});var n=i(77393),r=i(59193),s=i(25917),a=i(67574),c=function(){function e(t,i,n){u(this,e),this.kind=t,this.value=i,this.error=n,this.hasValue="N"===t}return g(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}},{key:"accept",value:function(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new a.y(function(t){return t.error(e)});case"C":return(0,r.c)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(i){return i.lift(new p(e,t))}}c.completeNotification=new c("C"),c.undefinedValueNotification=new c("N",void 0);var p=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.scheduler=t,this.delay=i}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.scheduler,this.delay))}}]),e}(),h=function(e){o(i,e);var t=l(i);function i(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return u(this,i),(r=t.call(this,e)).scheduler=n,r.delay=o,r}return g(i,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(i.dispatch,this.delay,new m(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(c.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(c.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(c.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,i=e.destination;t.observe(i),this.unsubscribe()}}]),i}(n.L),m=g(function e(t,i){u(this,e),this.notification=t,this.destination=i})},57771:function(e,t,i){i.d(t,{c:function(){return a},N:function(){return s}});var r=i(36465),s=new(function(e){o(i,e);var t=l(i);function i(){return u(this,i),t.apply(this,arguments)}return g(i)}(i(16102).v))(function(e){o(i,e);var t=l(i);function i(e,n){var r;return u(this,i),(r=t.call(this,e,n)).scheduler=e,r.work=n,r}return g(i,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?n(c(i.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?n(c(i.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?n(c(i.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),i}(r.o)),a=s},48291:function(e,t,n){n.d(t,{p:function(){return ut}});var r=n(64762),s=n(33018),a=n(24498),c=n(32364),d=n(27541),p=n(70609),h=n(61362),m=function(e){o(i,e);var t=l(i);function i(){return u(this,i),t.apply(this,arguments)}return g(i)}(h.X),f=n(82316),v=n(39478),Z=n(65529),A=n(84306),T=n(12868),b=n(44667),S=n(38583),x=n(89525),C=n(92859),I=n(89401),q=n(78980),k=n(43647),y=n(3679),M=n(66496),w=n(85895),N=n(37919),_=n(91113),D=n(25575),P=n(48429),O=n(6642),U=n(58679),E=n(87520),L=n(21974),J=n(10743),F=n(3359),R=["SearchModal"],Q=["ImageModal"],B=["ChannelPartner"],Y=["search"],G=["f"],H=["ionInfinitescroll"],V=["ionvscroll"];function K(e,t){if(1&e&&(s.TgZ(0,"small",94),s._uU(1),s.qZA()),2&e){var i=s.oxw(4);s.xp6(1),s.AsE(" Loaded ",i.siteService.result.length," of ",i.siteService.totalItems," ")}}function j(e,t){if(1&e&&(s.TgZ(0,"small",94),s._uU(1),s.qZA()),2&e){var i=s.oxw(4);s.xp6(1),s.AsE(" Loaded ",i.userService.result.length," of ",i.userService.totalItems," ")}}function W(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",79),s.NdJ("click",function(e){return s.CHM(i),s.oxw(3).preventpopup(e)}),s.TgZ(1,"form",10,80),s.NdJ("ngSubmit",function(){return s.CHM(i),s.oxw(3).FilterData("")}),s.TgZ(3,"div",12),s.TgZ(4,"div",81),s.TgZ(5,"label",82),s._uU(6,"Search"),s.qZA(),s.TgZ(7,"input",83,84),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw(3).filtertext=e}),s.qZA(),s.qZA(),s.TgZ(9,"div",81),s.TgZ(10,"div",85),s._uU(11,"Site"),s.qZA(),s.TgZ(12,"ng-select",86),s.NdJ("scrollToEnd",function(){return s.CHM(i),s.oxw(3).siteService.ScrollDown()})("ngModelChange",function(e){return s.CHM(i),s.oxw(3).cpfilter.CPSiteId=e}),s.YNc(13,K,2,2,"ng-template",87),s.qZA(),s.qZA(),s.TgZ(14,"div",81),s.TgZ(15,"div",88),s._uU(16,"Select User"),s.qZA(),s.TgZ(17,"ng-select",89),s.NdJ("scrollToEnd",function(){return s.CHM(i),s.oxw(3).userService.ScrollDown()})("ngModelChange",function(e){return s.CHM(i),s.oxw(3).cpfilter.CPUserId=e}),s.YNc(18,j,2,2,"ng-template",87),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",90),s.TgZ(20,"div",90),s.TgZ(21,"button",91),s.NdJ("click",function(){s.CHM(i);var e=s.oxw(3);return e.toggleDropdown(),e.clearfilterandloadnewdata()}),s._uU(22," Clear Filter "),s.qZA(),s.TgZ(23,"button",92),s.NdJ("click",function(){return s.CHM(i),s.oxw(3).toggleDropdown()}),s._UZ(24,"i",93),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(3);s.xp6(7),s.Q6J("ngModel",n.filtertext),s.xp6(5),s.Q6J("items",n.siteService.result)("ngModel",n.cpfilter.CPSiteId)("loading",n.siteService.loading),s.xp6(5),s.Q6J("items",n.userService.result)("ngModel",n.cpfilter.CPUserId)("loading",n.userService.loading)}}function z(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",68),s.TgZ(1,"ul",69),s.TgZ(2,"li",70),s.TgZ(3,"button",71),s.NdJ("click",function(){return s.CHM(i),s.oxw(2).goback()}),s._UZ(4,"i",72),s.qZA(),s.qZA(),s.TgZ(5,"li",73),s.TgZ(6,"div",14),s._UZ(7,"span",15),s._UZ(8,"input",16),s.qZA(),s.YNc(9,W,25,7,"div",74),s.qZA(),s.TgZ(10,"li",75),s.TgZ(11,"button",76),s.NdJ("click",function(){return s.CHM(i),s.oxw(2).toggleDropdown()}),s._UZ(12,"span",77),s.TgZ(13,"span",78),s._uU(14,"Search"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(2);s.xp6(9),s.Q6J("ngIf",!n.channelParnerService.IsMobileview)}}function X(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",95),s.TgZ(1,"ul",69),s.TgZ(2,"li",96),s.TgZ(3,"ion-icon",97),s.NdJ("click",function(){return s.CHM(i),s.oxw(2).goback()}),s.qZA(),s.qZA(),s.TgZ(4,"li",96),s.TgZ(5,"ion-icon",98),s.NdJ("click",function(){return s.CHM(i),s.oxw(2).advSearchM()}),s.qZA(),s.qZA(),s.TgZ(6,"li",99),s.TgZ(7,"div",100),s.TgZ(8,"strong"),s._uU(9,"Channel Partner List"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"li",101),s.TgZ(11,"ion-icon",102),s.NdJ("click",function(e){return s.CHM(i),s.oxw(2).sortPopover(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function ee(e,t){if(1&e&&(s.TgZ(0,"div",108),s.TgZ(1,"div",109),s.TgZ(2,"div",110),s.TgZ(3,"strong"),s._uU(4,"Channel Partner List"),s.qZA(),s.qZA(),s.TgZ(5,"div",111),s.TgZ(6,"div",112),s._uU(7),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){var i=s.oxw(3);s.xp6(7),s.Oqu(i.channelParnerService.currentShowing)}}function te(e,t){1&e&&(s.TgZ(0,"span",137),s._uU(1,"Active"),s.qZA())}function ie(e,t){1&e&&(s.TgZ(0,"span",138),s._uU(1,"InActive"),s.qZA())}function ne(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"ul",139),s.TgZ(1,"li",140),s.TgZ(2,"a",141),s.NdJ("clickAllowed",function(){s.CHM(i);var e=s.oxw().$implicit;return s.oxw(4).edit(e.UIDN)}),s._uU(3," Edit Channel Partner "),s.qZA(),s.qZA(),s.TgZ(4,"li",140),s.TgZ(5,"a",142),s.NdJ("clickAllowed",function(){s.CHM(i);var e=s.oxw().$implicit;return s.oxw(4).channelParnerService.delete(e.UIDN)}),s._uU(6," Delete Channel Partner "),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(5);s.xp6(2),s.Q6J("SignupId",n.SignupId)("UserId",n.UserId),s.xp6(3),s.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function re(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"tr",129),s.NdJ("keydown.enter",function(){var e=s.CHM(i).$implicit;return s.oxw(4).editOnArrowEvent(e.UIDN)})("keydown.arrowdown",function(){var e=s.CHM(i).index;return s.oxw(4).channelParnerService.arrowDownEvent(e+151)})("keydown.arrowup",function(){var e=s.CHM(i).index;return s.oxw(4).channelParnerService.arrowUpEvent(e+149)}),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s._uU(16),s.qZA(),s.TgZ(17,"td"),s._uU(18),s.qZA(),s.TgZ(19,"td"),s._uU(20),s.qZA(),s.TgZ(21,"td"),s.YNc(22,te,2,0,"span",130),s.YNc(23,ie,2,0,"span",131),s.qZA(),s.TgZ(24,"td",132),s.TgZ(25,"div",133),s.TgZ(26,"button",134),s._UZ(27,"i",135),s.qZA(),s.YNc(28,ne,7,4,"ul",136),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=t.$implicit;s.s9C("tabindex",t.index+150),s.xp6(2),s.Oqu(n.CPcode),s.xp6(2),s.Oqu(n.CP),s.xp6(2),s.Oqu(n.AP),s.xp6(2),s.Oqu(n.add),s.xp6(2),s.Oqu(n.CN),s.xp6(2),s.Oqu(n.EId),s.xp6(2),s.Oqu(n.RERA),s.xp6(2),s.Oqu(n.GST),s.xp6(2),s.Oqu(n.SiteNm),s.xp6(2),s.Oqu(n.UserNm),s.xp6(2),s.Q6J("ngIf",1==n.St),s.xp6(1),s.Q6J("ngIf",0==n.St)}}function oe(e,t){if(1&e&&(s.TgZ(0,"table",113),s.TgZ(1,"thead",114),s.TgZ(2,"tr"),s.TgZ(3,"th",115),s._uU(4,"Channel Partner Code"),s.qZA(),s.TgZ(5,"th",116),s._uU(6,"Channel Partner Firm"),s.qZA(),s.TgZ(7,"th",117),s._uU(8,"Authorised Person"),s.qZA(),s.TgZ(9,"th",118),s._uU(10,"Address"),s.qZA(),s.TgZ(11,"th",119),s._uU(12,"Contact No"),s.qZA(),s.TgZ(13,"th",120),s._uU(14,"Email ID"),s.qZA(),s.TgZ(15,"th",121),s._uU(16,"RERA No"),s.qZA(),s.TgZ(17,"th",122),s._uU(18,"GST No"),s.qZA(),s.TgZ(19,"th",123),s._uU(20,"Site Name"),s.qZA(),s.TgZ(21,"th",124),s._uU(22,"User Dedicated"),s.qZA(),s.TgZ(23,"th",125),s._uU(24,"Status"),s.qZA(),s.TgZ(25,"th"),s._uU(26,"Actions"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"tbody",126,127),s.YNc(29,re,29,13,"tr",128),s.qZA(),s.qZA()),2&e){var i=s.oxw(3);s.xp6(3),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(6),s.Q6J("ngForOf",i.channelParnerService.result)}}function se(e,t){if(1&e&&(s.TgZ(0,"div",108),s.TgZ(1,"div",109),s.TgZ(2,"div",110),s.TgZ(3,"strong"),s._uU(4,"Channel Partner List"),s.qZA(),s.qZA(),s.TgZ(5,"div",111),s.TgZ(6,"div",112),s._uU(7),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){var i=s.oxw(4);s.xp6(7),s.Oqu(i.channelParnerService.currentShowing)}}function le(e,t){if(1&e&&(s.TgZ(0,"div",143),s.YNc(1,se,8,1,"div",104),s.TgZ(2,"table",144),s.TgZ(3,"thead",114),s.TgZ(4,"tr"),s.TgZ(5,"th",115),s._uU(6,"Channel Partner Code"),s.qZA(),s.TgZ(7,"th",116),s._uU(8,"Channel Partner Firm"),s.qZA(),s.TgZ(9,"th",117),s._uU(10,"Authorised Person"),s.qZA(),s.TgZ(11,"th",118),s._uU(12,"Address"),s.qZA(),s.TgZ(13,"th",119),s._uU(14,"Contact No"),s.qZA(),s.TgZ(15,"th",120),s._uU(16,"Email ID"),s.qZA(),s.TgZ(17,"th",121),s._uU(18,"RERA No"),s.qZA(),s.TgZ(19,"th",122),s._uU(20,"GST No"),s.qZA(),s.TgZ(21,"th",123),s._uU(22,"Site Name"),s.qZA(),s.TgZ(23,"th",124),s._uU(24,"User Dedicated"),s.qZA(),s.TgZ(25,"th",125),s._uU(26,"Status"),s.qZA(),s.TgZ(27,"th"),s._uU(28,"Actions"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){var i=s.oxw(3);s.xp6(1),s.Q6J("ngIf",0==(i.channelParnerService.isMobile||i.channelParnerService.IsMobileview)),s.xp6(4),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService),s.xp6(2),s.Q6J("dirsort",i.channelParnerService)}}function ae(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",103),s.YNc(1,ee,8,1,"div",104),s.TgZ(2,"div",105),s.NdJ("scrolled",function(e){return s.CHM(i),s.oxw(2).onCPScroll(e)}),s.YNc(3,oe,30,12,"table",106),s.qZA(),s.YNc(4,le,29,12,"div",107),s.qZA()}if(2&e){var n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",0==(n.channelParnerService.isMobile||n.channelParnerService.IsMobileview)),s.xp6(1),s.Q6J("scrollWindow",!0),s.xp6(1),s.Q6J("ngIf",n.channelParnerService.result.length>0),s.xp6(1),s.Q6J("ngIf",n.channelParnerService.result.length>0)}}function ce(e,t){if(1&e&&(s.TgZ(0,"ion-col",154),s._uU(1),s.qZA()),2&e){var i=s.oxw().$implicit;s.xp6(1),s.hij(" CP Code: ",i.CPcode," ")}}function ue(e,t){if(1&e&&(s.TgZ(0,"ion-col",161),s._uU(1),s.qZA()),2&e){var i=s.oxw().$implicit;s.xp6(1),s.hij(" Authority: ",i.AP," ")}}function de(e,t){if(1&e&&(s.TgZ(0,"ion-col",154),s._uU(1),s.qZA()),2&e){var i=s.oxw().$implicit;s.xp6(1),s.hij(" Site ",i.SiteNm," ")}}function ge(e,t){if(1&e&&(s.TgZ(0,"ion-col",161),s._uU(1),s.qZA()),2&e){var i=s.oxw().$implicit;s.xp6(1),s.hij(" User: ",i.UserNm," ")}}function pe(e,t){if(1&e&&(s.TgZ(0,"ion-col",154),s._uU(1),s.qZA()),2&e){var i=s.oxw().$implicit;s.xp6(1),s.hij(" ",i.add," ")}}function he(e,t){if(1&e&&(s.TgZ(0,"ion-col",161),s._uU(1),s.qZA()),2&e){var i=s.oxw().$implicit;s.xp6(1),s.hij(" ",i.CN," ")}}function me(e,t){if(1&e&&(s.TgZ(0,"ion-col",154),s._uU(1),s.qZA()),2&e){var i=s.oxw().$implicit;s.xp6(1),s.hij(" ",i.EId," ")}}function fe(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"ion-card"),s.TgZ(1,"ion-row"),s.YNc(2,ce,2,1,"ion-col",153),s.TgZ(3,"ion-col",154),s.TgZ(4,"h5"),s._uU(5),s.qZA(),s.qZA(),s.YNc(6,ue,2,1,"ion-col",155),s.qZA(),s.TgZ(7,"ion-row"),s.YNc(8,de,2,1,"ion-col",153),s.YNc(9,ge,2,1,"ion-col",155),s.qZA(),s.TgZ(10,"ion-row"),s.YNc(11,pe,2,1,"ion-col",153),s.YNc(12,he,2,1,"ion-col",155),s.qZA(),s.TgZ(13,"ion-row"),s.YNc(14,me,2,1,"ion-col",153),s.TgZ(15,"ion-col",156),s.TgZ(16,"a",157),s.NdJ("clickAllowed",function(){var e=s.CHM(i).$implicit;return s.oxw(3).edit(e.UIDN)}),s._UZ(17,"ion-icon",158),s.qZA(),s.TgZ(18,"a",159),s.NdJ("clickAllowed",function(){var e=s.CHM(i).$implicit;return s.oxw(3).channelParnerService.delete(e.UIDN)}),s._UZ(19,"ion-icon",160),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=t.$implicit,r=s.oxw(3);s.xp6(2),s.Q6J("ngIf",null!=n.CPcode),s.xp6(3),s.hij(" ",n.CP," "),s.xp6(1),s.Q6J("ngIf",null!=n.AP),s.xp6(2),s.Q6J("ngIf",""!=n.SiteNm),s.xp6(1),s.Q6J("ngIf",""!=n.UserNm),s.xp6(2),s.Q6J("ngIf",null!=n.add),s.xp6(1),s.Q6J("ngIf",null!=n.CN),s.xp6(2),s.Q6J("ngIf",null!=n.EId),s.xp6(2),s.Q6J("SignupId",r.SignupId)("UserId",r.UserId),s.xp6(2),s.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function ve(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",126),s.TgZ(1,"ion-content"),s.TgZ(2,"ion-refresher",145),s.NdJ("ionRefresh",function(e){return s.CHM(i),s.oxw(2).doRefresh(e)}),s._UZ(3,"ion-refresher-content",146),s.qZA(),s.TgZ(4,"ion-virtual-scroll",147,148),s.YNc(6,fe,20,12,"ion-card",149),s.qZA(),s.TgZ(7,"ion-infinite-scroll",150,151),s.NdJ("ionInfinite",function(e){return s.CHM(i),s.oxw(2).onCPScroll(e)}),s._UZ(9,"ion-infinite-scroll-content",152),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(2);s.Udp("height",n.channelParnerService.mobileContainer),s.xp6(4),s.Q6J("approxItemHeight",500)("items",n.channelParnerService.result),s.xp6(5),s.s9C("loadingText",n.channelParnerService.nextloading)}}function Ze(e,t){1&e&&(s.TgZ(0,"ion-card",163),s.TgZ(1,"ion-row"),s.TgZ(2,"ion-col"),s._UZ(3,"ion-skeleton-text",164),s.qZA(),s.TgZ(4,"ion-col"),s._UZ(5,"ion-skeleton-text",165),s.qZA(),s.TgZ(6,"ion-col",166),s._UZ(7,"ion-skeleton-text",164),s.qZA(),s.qZA(),s.qZA())}function Ae(e,t){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,Ze,8,0,"ion-card",162),s.qZA()),2&e){var i=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",i.channelParnerService.noImageRepeat)}}function Te(e,t){1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._UZ(2,"ion-skeleton-text",168),s.qZA(),s.TgZ(3,"td",169),s._UZ(4,"ion-skeleton-text",168),s.qZA(),s.TgZ(5,"td",170),s._UZ(6,"ion-skeleton-text",168),s.qZA(),s.qZA())}function be(e,t){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"table",113),s.TgZ(2,"thead",167),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._UZ(5,"ion-skeleton-text",168),s.qZA(),s.TgZ(6,"th",169),s._UZ(7,"ion-skeleton-text",168),s.qZA(),s.TgZ(8,"th",170),s._UZ(9,"ion-skeleton-text",168),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"tbody"),s.YNc(11,Te,7,0,"tr",171),s.qZA(),s.qZA(),s.qZA()),2&e){var i=s.oxw(2);s.xp6(11),s.Q6J("ngForOf",i.channelParnerService.noImageRepeat)}}function Se(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div"),s._UZ(1,"div",173),s._UZ(2,"br"),s.TgZ(3,"div",174),s._uU(4,"Add your first record by clicking in below button. "),s._UZ(5,"br"),s._UZ(6,"br"),s.TgZ(7,"input",175),s.NdJ("clickAllowed",function(){return s.CHM(i),s.oxw(3).edit("")}),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(3);s.xp6(7),s.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function xe(e,t){if(1&e&&(s.TgZ(0,"div",172),s._UZ(1,"br"),s._UZ(2,"br"),s.YNc(3,Se,8,2,"div",52),s._UZ(4,"br"),s._UZ(5,"br"),s.qZA()),2&e){var i=s.oxw(2);s.xp6(3),s.Q6J("ngIf",i.noDataImage)}}function Ce(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",44),s.YNc(1,z,15,1,"div",45),s.YNc(2,X,12,0,"div",46),s.TgZ(3,"div",47),s.TgZ(4,"a",48),s._uU(5," By Channel Partner Name "),s.qZA(),s.TgZ(6,"a",49),s._uU(7," By Status "),s.qZA(),s.qZA(),s.YNc(8,ae,5,4,"div",50),s.YNc(9,ve,10,5,"div",51),s.YNc(10,Ae,2,1,"div",52),s.YNc(11,be,12,1,"div",52),s.YNc(12,xe,6,1,"div",53),s.TgZ(13,"div",54),s.TgZ(14,"div",55),s.TgZ(15,"button",56,17),s.NdJ("click",function(){s.CHM(i);var e=s.MAs(16);return s.oxw().exportheader(e.value,1)}),s._UZ(17,"i",57),s.qZA(),s.TgZ(18,"button",58,17),s.NdJ("click",function(){s.CHM(i);var e=s.MAs(16);return s.oxw().exportheader(e.value,2)}),s._UZ(20,"i",59),s.qZA(),s.TgZ(21,"button",60),s.NdJ("click",function(){return s.CHM(i),s.oxw().toggleExcelImport()}),s._UZ(22,"i",61),s.qZA(),s.TgZ(23,"button",62,17),s.NdJ("click",function(){s.CHM(i);var e=s.MAs(16);return s.oxw().exportheader(e.value,3)}),s._UZ(25,"i",63),s.qZA(),s.TgZ(26,"button",64),s._UZ(27,"i",65),s.qZA(),s.TgZ(28,"button",66),s.NdJ("clickAllowed",function(){return s.CHM(i),s.oxw().edit("")}),s._UZ(29,"i",67),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw();s.xp6(1),s.Q6J("ngIf",!n.channelParnerService.IsMobileview),s.xp6(1),s.Q6J("ngIf",n.channelParnerService.IsMobileview),s.xp6(2),s.Q6J("dirsort",n.channelParnerService),s.xp6(2),s.Q6J("dirsort",n.channelParnerService),s.xp6(2),s.Q6J("ngIf",!n.channelParnerService.IsMobileview),s.xp6(1),s.Q6J("ngIf",n.channelParnerService.result.length>0&&n.channelParnerService.IsMobileview),s.xp6(1),s.Q6J("ngIf",0==n.channelParnerService.result.length&&!n.noDataImage&&n.channelParnerService.IsMobileview),s.xp6(1),s.Q6J("ngIf",0==n.channelParnerService.result.length&&!n.noDataImage&&!n.channelParnerService.IsMobileview),s.xp6(1),s.Q6J("ngIf",0==n.channelParnerService.result.length),s.xp6(16),s.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Ie(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",68),s.TgZ(1,"ul",69),s.TgZ(2,"li",70),s.TgZ(3,"button",71),s.NdJ("click",function(){return s.CHM(i),s.oxw(2).cancel(null)}),s._UZ(4,"i",72),s.qZA(),s.qZA(),s.TgZ(5,"li",223),s.TgZ(6,"strong"),s._uU(7,"Channel Partner"),s.qZA(),s.TgZ(8,"small"),s._uU(9," Add/Edit"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function qe(e,t){1&e&&(s.TgZ(0,"span"),s._uU(1,"Save"),s.qZA())}function ke(e,t){1&e&&(s.TgZ(0,"span"),s._uU(1,"Update"),s.qZA())}function ye(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",95),s.TgZ(1,"ul",69),s.TgZ(2,"li",96),s.TgZ(3,"ion-icon",97),s.NdJ("click",function(){return s.CHM(i),s.oxw(2).goback()}),s.qZA(),s.qZA(),s.TgZ(4,"li",99),s.TgZ(5,"strong"),s._uU(6,"Channel Partner"),s.qZA(),s.TgZ(7,"small"),s._uU(8," Add/Edit"),s.qZA(),s.qZA(),s.TgZ(9,"li",224),s.TgZ(10,"a",225),s.NdJ("click",function(e){return s.CHM(i),s.oxw(),s.MAs(6).onSubmit(e)}),s.YNc(11,qe,2,0,"span",52),s.YNc(12,ke,2,0,"span",52),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(2);s.xp6(11),s.Q6J("ngIf",0==n._sgId),s.xp6(1),s.Q6J("ngIf",n._sgId>0)}}function Me(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1," Channel Partner Firm required "),s.qZA())}function we(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,Me,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(14);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function Ne(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1," Channel Partner Code required "),s.qZA())}function _e(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,Ne,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(20);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function De(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1," Authorised Person required "),s.qZA())}function Pe(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,De,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(26);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function Oe(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1," Channel Partner Address required "),s.qZA())}function Ue(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,Oe,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(32);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function Ee(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1," Channel Partner Contact required "),s.qZA())}function Le(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,Ee,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(38);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function Je(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1," Channel Partner Email required "),s.qZA())}function Fe(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,Je,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(44);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function Re(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1," Channel Partner RERA required "),s.qZA())}function Qe(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,Re,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(50);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function Be(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1," Channel Partner GST required "),s.qZA())}function Ye(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,Be,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(56);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function Ge(e,t){if(1&e&&(s.TgZ(0,"small",94),s._uU(1),s.qZA()),2&e){var i=s.oxw(2);s.xp6(1),s.AsE("Loaded ",i.siteService.result.length," of ",i.siteService.totalItems,"")}}function He(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1,"Site Name is required"),s.qZA())}function Ve(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,He,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(62);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function Ke(e,t){if(1&e&&(s.TgZ(0,"small",94),s._uU(1),s.qZA()),2&e){var i=s.oxw(2);s.xp6(1),s.AsE(" Loaded ",i.userService.result.length," of ",i.userService.result.length," ")}}function $e(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1,"User selection is required"),s.qZA())}function je(e,t){if(1&e&&(s.TgZ(0,"div",226),s.YNc(1,$e,2,0,"div",52),s.qZA()),2&e){s.oxw();var i=s.MAs(69);s.xp6(1),s.Q6J("ngIf",i.errors.required)}}function We(e,t){1&e&&s._uU(0),2&e&&s.hij(" ",t.item.LN," ")}function ze(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"a"),s._uU(1),s.qZA(),s.TgZ(2,"a",230),s.NdJ("click",function(){var e=s.CHM(i).item;return s.oxw(3).openLedgerPopup(e.UIDN)}),s._UZ(3,"i",231),s.qZA()}if(2&e){var n=t.item,r=s.oxw(3);s.xp6(1),s.Oqu(n.LN),s.xp6(1),s.Q6J("SignupId",r.SignupId)("UserId",r.UserId)}}function Xe(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"small",94),s.TgZ(1,"a",227),s.NdJ("click",function(){s.CHM(i),s.oxw();var e=s.MAs(76);return s.oxw().addNewCustomer(e)}),s._uU(2," Add New Customer "),s.qZA(),s.qZA(),s.YNc(3,We,1,1,"ng-template",228),s.YNc(4,ze,4,3,"ng-template",229)}}function et(e,t){1&e&&(s.TgZ(0,"span"),s._uU(1,"Save"),s.qZA())}function tt(e,t){1&e&&(s.TgZ(0,"span"),s._uU(1,"Update"),s.qZA())}function it(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",232),s.TgZ(1,"button",233),s.YNc(2,et,2,0,"span",52),s.YNc(3,tt,2,0,"span",52),s.qZA(),s.TgZ(4,"a",234),s.NdJ("click",function(){return s.CHM(i),s.oxw(2).cancel(null)}),s._uU(5,"Cancel"),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(2);s.xp6(2),s.Q6J("ngIf",0==n._sgId),s.xp6(1),s.Q6J("ngIf",n._sgId>0)}}function nt(e,t){1&e&&(s.TgZ(0,"span"),s._uU(1,"Save"),s.qZA())}function rt(e,t){1&e&&(s.TgZ(0,"span"),s._uU(1,"Update"),s.qZA())}function ot(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"nav",18),s.TgZ(1,"ul",19),s.TgZ(2,"li",20),s.TgZ(3,"button",41),s.YNc(4,nt,2,0,"span",52),s.YNc(5,rt,2,0,"span",52),s.qZA(),s.qZA(),s.TgZ(6,"li",23),s.TgZ(7,"a",234),s.NdJ("click",function(){return s.CHM(i),s.oxw(2).cancel(null)}),s._uU(8,"Cancel"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(2);s.xp6(4),s.Q6J("ngIf",0==n._sgId),s.xp6(1),s.Q6J("ngIf",n._sgId>0)}}var st=function(e){return{"is-invalid":e}};function lt(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",176),s.YNc(1,Ie,10,0,"div",45),s.YNc(2,ye,13,2,"div",46),s.TgZ(3,"div",44),s.TgZ(4,"div",177),s.TgZ(5,"form",178,11),s.NdJ("ngSubmit",function(){s.CHM(i);var e=s.MAs(6),t=s.oxw();return e.form.valid&&t.onSubmit()}),s.TgZ(7,"div",179),s.TgZ(8,"div",180),s.TgZ(9,"label",181),s._uU(10,"Channel Partner Firm"),s.TgZ(11,"span",182),s._uU(12,"*"),s.qZA(),s.qZA(),s.TgZ(13,"input",183,184),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.CP=e}),s.qZA(),s.YNc(15,we,2,1,"div",185),s.qZA(),s.TgZ(16,"div",180),s.TgZ(17,"label",186),s._uU(18,"Channel Partner Code"),s.qZA(),s.TgZ(19,"input",187,188),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.CPcode=e}),s.qZA(),s.YNc(21,_e,2,1,"div",185),s.qZA(),s.TgZ(22,"div",180),s.TgZ(23,"label",189),s._uU(24,"Authorised Person"),s.qZA(),s.TgZ(25,"input",190,191),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.AP=e}),s.qZA(),s.YNc(27,Pe,2,1,"div",185),s.qZA(),s.TgZ(28,"div",180),s.TgZ(29,"label",192),s._uU(30,"Address"),s.qZA(),s.TgZ(31,"input",193,194),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.add=e}),s.qZA(),s.YNc(33,Ue,2,1,"div",185),s.qZA(),s.TgZ(34,"div",180),s.TgZ(35,"label",195),s._uU(36,"Contact No"),s.qZA(),s.TgZ(37,"input",196,197),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.CN=e}),s.qZA(),s.YNc(39,Le,2,1,"div",185),s.qZA(),s.TgZ(40,"div",180),s.TgZ(41,"label",198),s._uU(42,"Email ID"),s.qZA(),s.TgZ(43,"input",199,200),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.EId=e}),s.qZA(),s.YNc(45,Fe,2,1,"div",185),s.qZA(),s.TgZ(46,"div",180),s.TgZ(47,"label",201),s._uU(48,"RERA No"),s.qZA(),s.TgZ(49,"input",202,203),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.RERA=e}),s.qZA(),s.YNc(51,Qe,2,1,"div",185),s.qZA(),s.TgZ(52,"div",180),s.TgZ(53,"label",204),s._uU(54,"GST No"),s.qZA(),s.TgZ(55,"input",205,206),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.GST=e}),s.qZA(),s.YNc(57,Ye,2,1,"div",185),s.qZA(),s.TgZ(58,"div",180),s.TgZ(59,"label",207),s._uU(60,"Site Name"),s.qZA(),s.TgZ(61,"ng-select",208,209),s.NdJ("scrollToEnd",function(){return s.CHM(i),s.oxw().siteService.ScrollDown()})("ngModelChange",function(e){return s.CHM(i),s.oxw().siteService.singleresult=e}),s.YNc(63,Ge,2,2,"ng-template",87),s.qZA(),s.YNc(64,Ve,2,1,"div",185),s.qZA(),s.TgZ(65,"div",180),s.TgZ(66,"label",210),s._uU(67,"Select User"),s.qZA(),s.TgZ(68,"ng-select",211,212),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().userService.singleresult=e}),s.YNc(70,Ke,2,2,"ng-template",87),s.qZA(),s.YNc(71,je,2,1,"div",185),s.qZA(),s.TgZ(72,"div",180),s.TgZ(73,"label",213),s._uU(74," Customer Account "),s.qZA(),s.TgZ(75,"ng-select",214,215),s.NdJ("ngModelChange",function(e){return s.CHM(i),s.oxw().channelParnerService.singleresult.CPLedId=e}),s.YNc(77,Xe,5,0,"ng-template",87),s.qZA(),s.qZA(),s.TgZ(78,"div",216),s.TgZ(79,"strong",217),s._uU(80,"Is Active"),s.qZA(),s.TgZ(81,"div"),s.TgZ(82,"label",218),s.TgZ(83,"input",219),s.NdJ("change",function(){s.CHM(i);var e=s.oxw();return e.channelParnerService.singleresult.St=!("1"==e.channelParnerService.singleresult.St||1==e.channelParnerService.singleresult.St)}),s.qZA(),s._UZ(84,"span",220),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(85,it,6,2,"div",221),s.YNc(86,ot,9,2,"nav",222),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.MAs(6),r=s.MAs(14),o=s.MAs(20),l=s.MAs(26),a=s.MAs(32),c=s.MAs(38),u=s.MAs(44),d=s.MAs(50),g=s.MAs(56),p=s.MAs(62),h=s.MAs(69),m=s.oxw();s.Udp("display",m.showCompanyLedgerpopup?"none":"block"),s.xp6(1),s.Q6J("ngIf",!m.channelParnerService.isMobile),s.xp6(1),s.Q6J("ngIf",m.channelParnerService.isMobile),s.xp6(11),s.Q6J("ngClass",s.VKq(46,st,n.submitted&&r.invalid))("ngModel",m.channelParnerService.singleresult.CP),s.xp6(2),s.Q6J("ngIf",n.submitted&&r.invalid),s.xp6(4),s.Q6J("ngClass",s.VKq(48,st,n.submitted&&o.invalid))("ngModel",m.channelParnerService.singleresult.CPcode),s.xp6(2),s.Q6J("ngIf",n.submitted&&o.invalid),s.xp6(4),s.Q6J("ngClass",s.VKq(50,st,n.submitted&&l.invalid))("ngModel",m.channelParnerService.singleresult.AP),s.xp6(2),s.Q6J("ngIf",n.submitted&&l.invalid),s.xp6(4),s.Q6J("ngClass",s.VKq(52,st,n.submitted&&a.invalid))("ngModel",m.channelParnerService.singleresult.add),s.xp6(2),s.Q6J("ngIf",n.submitted&&a.invalid),s.xp6(4),s.Q6J("ngClass",s.VKq(54,st,n.submitted&&c.invalid))("ngModel",m.channelParnerService.singleresult.CN),s.xp6(2),s.Q6J("ngIf",n.submitted&&c.invalid),s.xp6(4),s.Q6J("ngClass",s.VKq(56,st,n.submitted&&u.invalid))("ngModel",m.channelParnerService.singleresult.EId),s.xp6(2),s.Q6J("ngIf",n.submitted&&u.invalid),s.xp6(4),s.Q6J("ngClass",s.VKq(58,st,n.submitted&&d.invalid))("ngModel",m.channelParnerService.singleresult.RERA),s.xp6(2),s.Q6J("ngIf",n.submitted&&d.invalid),s.xp6(4),s.Q6J("ngClass",s.VKq(60,st,n.submitted&&g.invalid))("ngModel",m.channelParnerService.singleresult.GST),s.xp6(2),s.Q6J("ngIf",n.submitted&&g.invalid),s.xp6(4),s.Q6J("virtualScroll",!0)("ngClass",s.VKq(62,st,n.submitted&&p.invalid))("items",m.siteService.result)("ngModel",m.siteService.singleresult)("loading",m.siteService.loading),s.xp6(3),s.Q6J("ngIf",n.submitted&&p.invalid),s.xp6(4),s.Q6J("virtualScroll",!0)("ngClass",s.VKq(64,st,n.submitted&&h.invalid))("items",m.userService.result)("ngModel",m.userService.singleresult)("loading",m.userService.loading),s.xp6(3),s.Q6J("ngIf",n.submitted&&h.invalid),s.xp6(4),s.Q6J("items",m.Customers)("ngModel",m.channelParnerService.singleresult.CPLedId)("loading",m.channelParnerService.loading),s.xp6(8),s.Q6J("checked",1==m.channelParnerService.singleresult.St),s.xp6(2),s.Q6J("ngIf",!m.channelParnerService.isMobile),s.xp6(1),s.Q6J("ngIf",m.channelParnerService.isMobile)}}function at(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"app-companyledger-addedit",235),s.NdJ("redirectAction",function(e){return s.CHM(i),s.oxw().popupAction(e)}),s.qZA()}if(2&e){var n=s.oxw();s.Q6J("isMobilePopup",!1)("inputLedgerId",n.ledgerIdVal)("CompanyIdforReport",n.channelParnerService.getCompanyId)("redirectOnCancel",!1)}}var ct,ut=((ct=function(){function e(t,i,n,r,o,l,a,c,g,p,f){var v=this;u(this,e),this.channelParnerService=t,this.userService=i,this.siteService=n,this.page=r,this.route=o,this.router=l,this.location=a,this.filterService=c,this.popoverController=g,this.alertService=p,this.companyledgerservice=f,this.isList=!0,this.IsImportHidden=!0,this.httpfunction=new d.r,this._sgId=0,this.isBusy=!0,this.currentScrollPosition=0,this.Customers=[],this.showCompanyLedgerpopup=!1,this.cpfilter=new A.yz,this.isScrollEnabled=!0,this.noDataImage=!1,this.sortarray=[{order:this.channelParnerService.sortorder,column:"ChannelPartner",title:"By Channel Partner Name"},{order:this.channelParnerService.sortorder,column:"Status",title:"By Status"}],this.redirectOnCancelonChannelist=!0,this.redirectActiononChannelist=new s.vpe,this.CompanyIdforReport=0,this.isMobilePopup=!1,this.SignupId=this.channelParnerService.getSignupId,this.UserId=this.channelParnerService.GetUserId,this.channelParnerService.singleresult=new m,this.channelParnerService.singleresult.SI=this.channelParnerService.getSignupId,this.channelParnerService.singleresult.St=h.D.Active,this.route.params.subscribe(function(e){v.router.url.startsWith("/marketing/bookingform")?v.isList=!1:null!=e.id&&""!=e.id?(v.isList=!1,v.edit(e.id)):"/masters/source/Add"==v.router.url||"/marketing/inquiry"==v.router.url?v.isList=!1:v.resetUrl()}),this.channelParnerService.ExportColumn=[{title:"Channel Partner Code",dataKey:"CPcode",size:40},{title:"Channel Partner",dataKey:"CP",size:120},{title:"Authorised Person",dataKey:"AP",size:70},{title:"Address",dataKey:"add",size:135},{title:"Contact No",dataKey:"CN",size:55},{title:"Email",dataKey:"EId",size:120},{title:"RERA No",dataKey:"RERA",size:90},{title:"GST No",dataKey:"GST",size:90}],this.channelParnerService.ExportName="Channel_Partner_List"}return g(e,[{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList)}},{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.channelParnerService.arrowDownEvent(150)},500),setTimeout(function(){e.filterService.changeFilter(!0,!0,"Source List")},200),null!=this.serchcontrol&&null!=this.serchcontrol&&setTimeout(function(){e.serchcontrol.nativeElement.focus()},200),this.SignupId=this.channelParnerService.getSignupId,this.UserId=this.channelParnerService.GetUserId,0==this.siteService.result.length&&this.siteService.GetAllsitesforsInventoryCP(),this.companyledgerservice.isGetSubscribe=!0,this.companyledgerservice.GetAlldatawithsub(!0),this.subscription=this.companyledgerservice.resultObs.subscribe(function(){e.Customers=e.companyledgerservice.result.filter(function(e){return 0==e.IsGrp})}),this.userService.GetAlluserforfacebook(),this.siteService.isGetSubscribe=!0,this.sitesubscription=this.siteService.resultObs.subscribe(function(e){}),this.channelParnerService.GetAlldata(),this.channelParnerService.isGetSubscribe=!0,this.channelParnerService.refreshEvent=null,this.Srcsubscription=this.channelParnerService.resultObs.subscribe(function(t){1==e.isBusy&&(e.isBusy=!1),0==e.channelParnerService.result.length&&(e.noDataImage=!0)}),this.httpfunction.scrolltop(),this.isScrollEnabled=!0,this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this))}},{key:"OnKeydown",value:function(e){var t=this,i=e.key||e.keyCode;("Backspace"==i&&e.altKey||"Escape"==i)&&(this.isList=!0,this.resetUrl(),setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition,t.channelParnerService.arrowDownEvent(t.channelParnerService.selectedRowIndex)},150))}},{key:"ngOnDestroy",value:function(){null!=this.Srcsubscription&&this.Srcsubscription.unsubscribe(),null!=this.sitesubscription&&this.sitesubscription.unsubscribe(),null!=this.subscription&&this.subscription.unsubscribe()}},{key:"goback",value:function(){this.location.back()}},{key:"onCPScroll",value:function(e){null!=this.infiniteScroll&&(this.channelParnerService.mobileinfinitescroll=this.infiniteScroll,this.channelParnerService.mobilevirtualscroll=this.virtualScroll,this.channelParnerService.refreshEvent=e.target),this.channelParnerService.ScrollDown()}},{key:"FilterData",value:function(e){return this.cpfilter.filterstr=this.filtertext,null==this.cpfilter.CPSiteId&&null==this.cpfilter.CPSiteId&&(this.cpfilter.CPSiteId=0),null==this.cpfilter.CPUserId&&null==this.cpfilter.CPUserId&&(this.cpfilter.CPUserId=0),this.channelParnerService.filterArg=this.cpfilter,this.channelParnerService.page=0,!1}},{key:"advSearchM",value:function(){this._SearchModal.show()}},{key:"sortPopover",value:function(e){return(0,r.mG)(this,void 0,void 0,i().mark(function t(){var n,r=this;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:a.r,cssClass:"my-custom-class",event:e,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:function(e,t){var i=new c.p(e,t);r.channelParnerService.sortdata=i,n.dismiss()}}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}))}},{key:"editOnArrowEvent",value:function(e){this.httpfunction.RolebaseData("CpM")?this.edit(e):this.alertService.showInfo("Error","You do not have sufficient rights to perform this action. Please contact administrator.")}},{key:"edit",value:function(e){var t=this;setTimeout(function(){t.filterService.hideQuickFilter(!1,!1,"Source (Add/Edit)",!1)},200),setTimeout(function(){null!=t.inputName&&null!=t.inputName&&t.inputName.nativeElement.focus()},200),this.currentScrollPosition=document.scrollingElement.scrollTop,this.isScrollEnabled=!1;var i="Add";e>0?(this._sgId=e,i=e.toString(),this.channelParnerService.result.filter(function(t){return t.UIDN==e}).length>0?(this.channelParnerService.singleresult=Object.assign({},this.channelParnerService.result.filter(function(t){return t.UIDN==e})[0]),this.channelParnerService.singleresult.User>0&&(this.userService.singleresult=Object.assign({},this.userService.result.filter(function(e){return e.UIDN==t.channelParnerService.singleresult.User})[0])),this.channelParnerService.singleresult.STI>0&&(this.siteService.singleresult=Object.assign({},this.siteService.result.filter(function(e){return e.UIDN==t.channelParnerService.singleresult.STI})[0]))):this.router.navigate(["masters/ChannelPartner"])):(this.channelParnerService.singleresult=new m,this.channelParnerService.singleresult.SI=this.channelParnerService.getSignupId,this.channelParnerService.singleresult.St=h.D.Active);var n=this.router.url;this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(n=n.replace("/"+e.id,"")),t.location.go("".concat(n,"/").concat(i))}),this.isList=!1}},{key:"doRefresh",value:function(e){this.filterService.updatedata(!0,"Source List"),this.channelParnerService.refreshEvent=e.target,this.FilterData("")}},{key:"exportheader",value:function(e,t){var i="All";new Date,null!=e&&""!=e&&(i=e),this.channelParnerService.filterHeader=" SearchBy : "+i+" ",this.channelParnerService.Export(t)}},{key:"cancel",value:function(e){var t=this;this.redirectOnCancelonChannelist?(setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition,t.filterService.changeFilter(!0,!0,"Source List")},200),null!=this.serchcontrol&&null!=this.serchcontrol&&setTimeout(function(){t.serchcontrol.nativeElement.focus()},200),this.form.resetForm(),this.resetUrl(),this.httpfunction.scrolltop(),this.isScrollEnabled=!0,setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition,t.channelParnerService.arrowDownEvent(t.channelParnerService.selectedRowIndex)},150)):this.redirectActiononChannelist.emit(e)}},{key:"onSubmit",value:function(){var e=this;this.form.valid&&(this.channelParnerService.singleresult.User=null!=this.channelParnerService.singleresult&&null!=this.channelParnerService.singleresult&&null!=this.userService.singleresult?this.userService.singleresult.UIDN:0,null!=this.siteService.singleresult&&(this.channelParnerService.singleresult.STI=this.siteService.singleresult.UIDN,this.channelParnerService.singleresult.SiteNm=this.siteService.singleresult.SN),null!=this.userService.singleresult&&(this.channelParnerService.singleresult.User=this.userService.singleresult.UIDN,this.channelParnerService.singleresult.UserNm=this.userService.singleresult.UN),this.channelParnerService.singleresult.CI=this.channelParnerService.getCompanyId,this.channelParnerService.singleresult.SI=this.channelParnerService.getSignupId,null==this.channelParnerService.singleresult.UIDN||0==this.channelParnerService.singleresult.UIDN?this.channelParnerService.add(this.channelParnerService.singleresult).subscribe(function(t){e.cancel(t)},function(e){}):this.channelParnerService.edit(this.channelParnerService.singleresult).subscribe(function(t){setTimeout(function(){document.scrollingElement.scrollTop=e.currentScrollPosition,e.channelParnerService.arrowDownEvent(e.channelParnerService.selectedRowIndex)},150),e.cancel(t)},function(e){}))}},{key:"ClearFilter",value:function(){this.serchcontrol.nativeElement.value="",this.FilterData("")}},{key:"resetUrl",value:function(){var e=this;this.isList=!0;var t=this.router.url;this.route.params.subscribe(function(i){null!=i.id&&""!=i.id&&(t=t.replace("/"+i.id,"")),e.location.go(t)}),this._sgId=0}},{key:"toggleExcelImport",value:function(){this._myImageModal.show(),this.IsImportHidden=!this.IsImportHidden}},{key:"CloseImagePopup",value:function(){this._myImageModal.hide()}},{key:"onExcelAdd",value:function(e){this.excelfileData=[];for(var t=0;t<e.length;t++){var i=new f.Q;i.name=e[t].name,i.operationType=0,i.src=e[t].src,i.CompanyId=this.channelParnerService.getCompanyId,i.SignupId=this.channelParnerService.getSignupId,i.FileLength=e[t].size,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.channelParnerService.userid,i.modifyBy=this.channelParnerService.userid,this.excelfileData.push(i)}}},{key:"onExcelSubmit",value:function(){var e=this;null!=this.excelfileData&&this.excelfileData.length>0?(this.channelParnerService.ImportExcel(this.excelfileData).subscribe(function(){e.excelfileData=[],e.IsImportHidden=!e.IsImportHidden},function(){e.excelfileData=[],e.IsImportHidden=!e.IsImportHidden}),this._myImageModal.hide(),this.IsImportHidden=!this.IsImportHidden):this.alertService.showError("Error","Please select atleast one File")}},{key:"clearfilterandloadnewdata",value:function(){this.cpfilter.CPSiteId=null,this.cpfilter.CPUserId=null,this.filtertext="",this.FilterData("")}},{key:"preventpopup",value:function(e){e.stopPropagation()}},{key:"toggleDropdown",value:function(){$("#adv-search").dropdown("hide")}},{key:"openLedgerPopup",value:function(e){return this.ledgerIdVal=e.toString(),this.showCompanyLedgerpopup=!0,!0}},{key:"popupAction",value:function(e){this.showCompanyLedgerpopup=!1,null!=e&&(this.channelParnerService.singleresult.CPLedId=e.UIDN,this.Customers=this.Customers.concat(e))}},{key:"addNewCustomer",value:function(e){e.close(),this.showCompanyLedgerpopup=!0}}]),e}()).\u0275fac=function(e){return new(e||ct)(s.Y36(p.W),s.Y36(Z.K),s.Y36(v.P),s.Y36(T.T3),s.Y36(b.gz),s.Y36(b.F0),s.Y36(S.Ye),s.Y36(x.i),s.Y36(C.Dh),s.Y36(I.Rq),s.Y36(q.Q))},ct.\u0275cmp=s.Xpm({type:ct,selectors:[["app-channel-partner"]],viewQuery:function(e,t){var i;1&e&&(s.Gf(R,5),s.Gf(Q,5),s.Gf(B,5,s.SBq),s.Gf(Y,7,s.SBq),s.Gf(G,5),s.Gf(H,5),s.Gf(V,5)),2&e&&(s.iGM(i=s.CRH())&&(t._SearchModal=i.first),s.iGM(i=s.CRH())&&(t._myImageModal=i.first),s.iGM(i=s.CRH())&&(t.inputName=i.first),s.iGM(i=s.CRH())&&(t.serchcontrol=i.first),s.iGM(i=s.CRH())&&(t.form=i.first),s.iGM(i=s.CRH())&&(t.infiniteScroll=i.first),s.iGM(i=s.CRH())&&(t.virtualScroll=i.first))},hostBindings:function(e,t){1&e&&s.NdJ("popstate",function(e){return t.onPopState(e)},!1,s.Jf7)},inputs:{redirectOnCancelonChannelist:"redirectOnCancelonChannelist",CompanyIdforReport:"CompanyIdforReport",InputChannelPartnerId:"InputChannelPartnerId",isMobilePopup:"isMobilePopup"},outputs:{redirectActiononChannelist:"redirectActiononChannelist"},features:[s._Bn([p.W,v.P,Z.K])],decls:57,vars:4,consts:[["class","card",4,"ngIf"],["class","nopadding",3,"display",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade",2,"z-index","99999"],["SearchModal","bs-modal"],["role","document",1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","form",3,"ngSubmit"],["f","ngForm"],[1,"row","m-0"],[1,"md-form","col","mt-3"],["data-toggle","dropdown","aria-expanded","false","id","adv-search",1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control"],["search",""],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["ImageModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmImage","ngForm"],[1,"modal-body"],[1,"content"],[1,"container"],[1,"form-group","col-md-12","p-0"],[1,"input-group"],[1,"md-form","form-group","col-sm-12","p-0"],["maxFiles","1","required","","maxSize","2","fileExt","xls, xlsx",3,"filelist","uploadStatus"],["Importexcel",""],["target","_blank","href","https://api.accountbook24.com/sample/ChannelPartner.xlsx",1,"col-sm-2"],[1,"modal-footer","mt-3"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-dark",3,"click"],[3,"isMobilePopup","inputLedgerId","CompanyIdforReport","redirectOnCancel","redirectAction",4,"ngIf"],[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["id","tableSort",1,"dropdown-menu","arrow_box"],["sortcolumn","ChannelPartner","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["sortcolumn","Status","href","javascript:void(0)",1,"dropdown-item",3,"dirsort"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainerbody",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0 margin140",4,"ngIf"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","option","four","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","option","three","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Import",1,"action-button","option","two","border-0","waves-effect","btn-purple","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-upload"],["tooltip","Export",1,"action-button","option","one","border-0","waves-effect","btn-default","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],[1,"border-0","waves-effect","btn-dark","btn-floating","action-button","plus","abs"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],["accesslevel","Add","mname","CpM","tooltip","Add New",1,"border-0","waves-effect","btn-primary","btn-floating",3,"appRole","SignupId","UserId","clickAllowed"],[1,"fas","fa-plus"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mx-2"],["aria-labelledby","adv-search","class","dropdown-menu filterform",3,"click",4,"ngIf"],[1,"mb-3"],["type","submit",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],["aria-labelledby","adv-search",1,"dropdown-menu","filterform",3,"click"],["ffilter","ngForm"],[1,"md-form","col-md-6","col-sm-12"],["for","Search"],["type","text","name","filterstr","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange"],["filterstr","ngModel"],["for","Site"],["selectOnTab","true","name","Site1","bindLabel","SN","bindValue","UIDN","placeholder","Select Site",3,"items","ngModel","loading","scrollToEnd","ngModelChange"],["ng-header-tmp",""],["for","user"],["selectOnTab","true","name","user","bindLabel","UN","bindValue","UIDN","placeholder","Select User",3,"items","ngModel","loading","scrollToEnd","ngModelChange"],[1,"text-right","mr-3"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-dark","pull-right",3,"click"],[1,"fas","fa-search"],[1,"form-text","text-muted"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],["id","tableContainer",1,"table-responsive"],["class","card-header","id","formHeader",4,"ngIf"],["infinite-scroll","",3,"scrollWindow","scrolled"],["class","table table-bordered table-striped text-center",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header"],[1,"row"],[1,"col-md-6","col-sm-12","PageNameFsize"],[1,"col-md-6","col-sm-12"],[1,"mx-2","text-wrap","text-right","LeftLi"],[1,"table","table-bordered","table-striped","text-center",3,"fxHeader"],["id","tableContainerHead"],["sortcolumn","ChannelPartnerCode",3,"dirsort"],["sortcolumn","ChannelPartner",3,"dirsort"],["sortcolumn","AP",3,"dirsort"],["sortcolumn","Address",3,"dirsort"],["sortcolumn","ContactNo",3,"dirsort"],["sortcolumn","EmailID",3,"dirsort"],["sortcolumn","RERANo",3,"dirsort"],["sortcolumn","GSTNo",3,"dirsort"],["sortcolumn","SiteId",3,"dirsort"],["sortcolumn","AssignedUser",3,"dirsort"],["sortcolumn","Status",3,"dirsort"],["id","tableContainerbody"],["container",""],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup",4,"ngFor","ngForOf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[2,"width","7%"],["dropdown","","container","body",1,"btn-group","actionmenu"],["id","button-state-change","dropdownToggle","","type","button","aria-controls","dropdown-state-change",1,"border-0","waves-effect","btn-primary","btn-floating","btn-sm"],[1,"fas","fa-ellipsis-v"],["id","dropdown-state-change","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-state-change",4,"dropdownMenu"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["id","dropdown-state-change","role","menu","aria-labelledby","button-state-change",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["href","javascript:void(0)","accesslevel","Edit","mname","CpM",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["href","javascript:void(0)","accesslevel","Delete","mname","CpM",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","36px",3,"approxItemHeight","items"],["ionvscroll",""],[4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],["class","text-left",4,"ngIf"],[1,"text-left"],["class","text-right",4,"ngIf"],[1,"text-right","mr-1"],["href","javascript:void(0)","accesslevel","Edit","mname","CpM",1,"card-link",3,"appRole","SignupId","UserId","clickAllowed"],["name","create-outline","color","primary"],["href","javascript:void(0)","accesslevel","Delete","mname","CpM",1,"card-link",3,"appRole","SignupId","UserId","clickAllowed"],["name","trash-outline","color","danger"],[1,"text-right"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","90%"],["animated","",2,"width","80%"],[2,"text-align","-webkit-right"],["id","tableContainerHead1"],["animated","",2,"width","100%"],[2,"width","30%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"col-md-12","pl-0","pr-0","margin140"],[1,"mx-auto","noDataImage"],[1,"text-center"],["type","button","value","Add New","accesslevel","Add","mname","CpM",1,"btn","btn-primary",3,"appRole","SignupId","UserId","clickAllowed"],[1,"nopadding"],[1,"mt-2","mb-5"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["id","formContainer",1,"row"],[1,"md-form","col-sm-6","col-md-3"],["for","ChannelPartner"],[1,"ml-1","text-danger","font-weight-bold","h5"],["type","text","required","","name","ChannelPartner","id","ChannelPartner","placeholder","Enter Channel Partner Firm",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["ChannelPartner","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","cpCode"],["type","text","name","cpCode","id","cpCode","placeholder","Enter Channel Partner Code",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["cpCode","ngModel"],["for","authPer"],["type","text","name","authPer","id","authPer","placeholder","Enter Authorised Person",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["authPer","ngModel"],["for","Address"],["type","text","name","Address","id","Address","placeholder","Enter Address",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Address","ngModel"],["for","Contact"],["type","text","name","Contact","id","Contact","placeholder","Enter Contact No",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Contact","ngModel"],["for","EmailID`"],["type","text","name","EmailID","id","EmailID","placeholder","Enter Email ID",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["EmailID","ngModel"],["for","RERA"],["type","text","name","RERA","id","RERA","placeholder","Enter RERA No",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["RERA","ngModel"],["for","GST"],["type","text","name","GST","id","GST","placeholder","Enter GST No",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["GST","ngModel"],["for","SiteName"],["name","SiteName","bindLabel","SN","placeholder","Select Site",3,"virtualScroll","ngClass","items","ngModel","loading","scrollToEnd","ngModelChange"],["SiteName","ngModel"],["for","UserName"],["selectOnTab","true","placeholder","Select User","name","AttBy","bindLabel","FN",3,"virtualScroll","ngClass","items","ngModel","loading","ngModelChange"],["AttBy","ngModel"],["for","custledgename"],["selectOnTab","true","name","custledgename","bindLabel","LN","bindValue","UIDN","placeholder","Customer Ledger",3,"items","ngModel","loading","ngModelChange"],["custledgename",""],[1,"form-group","col-sm-6"],["for","DocTypeStatus"],[1,"c-switch","c-switch-pill","c-switch-primary","m-2"],["type","checkbox",1,"c-switch-input",3,"checked","change"],[1,"c-switch-slider"],["class","col-sm-12 text-right","id","formbtnContainer",4,"ngIf"],["class","navbar fixed-bottom navbar-expand-sm navbar-dark bg-light",4,"ngIf"],[1,"text-center","mb-3","LeftLi"],[1,"text-center","mb-2","float-right"],[1,"btn","btn-link",3,"click"],[1,"invalid-feedback"],["href","javascript:void(0);",1,"addLeg",3,"click"],["ng-label-tmp",""],["ng-option-tmp",""],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["id","formbtnContainer",1,"col-sm-12","text-right"],["type","submit",1,"btn","btn-primary","mr-1"],["href","javascript:void(0)",1,"btn","btn-dark",3,"click"],[3,"isMobilePopup","inputLedgerId","CompanyIdforReport","redirectOnCancel","redirectAction"]],template:function(e,t){if(1&e){var i=s.EpF();s.YNc(0,Ce,30,11,"div",0),s.YNc(1,lt,87,66,"div",1),s.TgZ(2,"div",2,3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.TgZ(7,"h4",7),s._uU(8,"Advance Search "),s.qZA(),s.TgZ(9,"button",8),s.NdJ("click",function(){return t._SearchModal.hide()}),s.TgZ(10,"span",9),s._uU(11,"\xd7"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"form",10,11),s.NdJ("ngSubmit",function(){return s.CHM(i),s.MAs(13).form.valid}),s.TgZ(14,"div",12),s.TgZ(15,"div",13),s.TgZ(16,"div",14),s._UZ(17,"span",15),s._UZ(18,"input",16,17),s.qZA(),s.qZA(),s.TgZ(20,"nav",18),s.TgZ(21,"ul",19),s.TgZ(22,"li",20),s.TgZ(23,"button",21),s.NdJ("click",function(){s.CHM(i);var e=s.MAs(19);return t.FilterData(e.value),t._SearchModal.hide()}),s._UZ(24,"i",22),s._uU(25,"Search "),s.qZA(),s.qZA(),s.TgZ(26,"li",23),s.TgZ(27,"button",24),s.NdJ("click",function(){return t.ClearFilter(),t._SearchModal.hide()}),s._uU(28," Clear Filter "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(29,"div",25,26),s.TgZ(31,"div",27),s.TgZ(32,"div",28),s.TgZ(33,"div",6),s.TgZ(34,"h4",7),s._uU(35,"Import Channel Partner through sheet"),s.qZA(),s.TgZ(36,"button",8),s.NdJ("click",function(){return t.CloseImagePopup()}),s.TgZ(37,"span",9),s._uU(38,"\xd7"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(39,"form",29,30),s.NdJ("ngSubmit",function(){return s.CHM(i),s.MAs(40).form.valid&&t.onExcelSubmit()}),s.TgZ(41,"div",31),s.TgZ(42,"div",32),s.TgZ(43,"div",33),s.TgZ(44,"div",34),s.TgZ(45,"div",35),s.TgZ(46,"div",36),s.TgZ(47,"app-file-upload",37,38),s.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),s.qZA(),s.TgZ(49,"a",39),s._uU(50," Download sample "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(51,"div",40),s.TgZ(52,"button",41),s._uU(53,"Submit"),s.qZA(),s.TgZ(54,"button",42),s.NdJ("click",function(){return t.CloseImagePopup()}),s._uU(55,"Close"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(56,at,1,4,"app-companyledger-addedit",43)}2&e&&(s.Q6J("ngIf",t.isList),s.xp6(1),s.Q6J("ngIf",!t.isList),s.xp6(46),s.Q6J("filelist",t.excelfileData),s.xp6(9),s.Q6J("ngIf",t.showCompanyLedgerpopup))},directives:[S.O5,k.oB,y._Y,y.JL,y.F,M.u,w.Y,N.n,_.e,D.i9,P.g,y.Fj,y.JJ,y.On,O.x,U.w9,U.A3,C.gu,E.R,L.n,S.sg,J.TO,J.Mq,J.Hz,C.W2,C.nJ,C.Wo,C.aJ,C.Rw,C.ju,C.MB,C.PM,C.Nd,C.wI,C.CK,y.Q7,S.mk,U.bb,U.Z2,F.k],styles:[""]}),ct)},63713:function(e,t,i){i.d(t,{y:function(){return v}});var r,s=i(78446),a=i(32364),d=i(33018),p=i(91841),h=i(89401),m=i(86845),f=i(44667),v=((r=function(e){o(i,e);var t=l(i);function i(e,n,r,o,s){var l;return u(this,i),(l=t.call(this,e,n,r,o,s))._config=n,l}return g(i,[{key:"GetAlldata",value:function(){n(c(i.prototype),"GetAlldata",this).call(this,a.qE.Bank_GetAll)}},{key:"GetAlldataforBooking",value:function(){n(c(i.prototype),"GetAlldata",this).call(this,a.qE.Bank_GetAllForBooking)}},{key:"getById",value:function(e){return n(c(i.prototype),"getById",this).call(this,e,a.qE.Bank_GetById)}},{key:"edit",value:function(e){return n(c(i.prototype),"edit",this).call(this,e,a.qE.Bank_Update)}},{key:"add",value:function(e){return n(c(i.prototype),"add",this).call(this,e,a.qE.Bank_Add)}},{key:"delete",value:function(e){n(c(i.prototype),"delete",this).call(this,e,a.qE.Bank_Delete)}}]),i}(s.a)).\u0275fac=function(e){return new(e||r)(d.LFG(p.eN),d.LFG(a.De),d.LFG(h.Rq),d.LFG(m.D),d.LFG(f.F0))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),r)},57475:function(e,t,i){i.d(t,{v:function(){return f}});var r,s=i(32364),a=i(78446),d=i(33018),p=i(91841),h=i(89401),m=i(86845),f=((r=function(e){o(i,e);var t=l(i);function i(e,n,r,o){var s;return u(this,i),(s=t.call(this,e,n,r,o))._config=n,s}return g(i,[{key:"GetAlldata",value:function(){n(c(i.prototype),"GetAlldata",this).call(this,s.Sv.Customer_GetAll)}},{key:"getById",value:function(e){return n(c(i.prototype),"getById",this).call(this,e,s.Sv.Customer_GetById)}},{key:"getByforbookingId",value:function(e){return n(c(i.prototype),"getById",this).call(this,e,s.Sv.Customer_GetbyIdforbooking)}},{key:"edit",value:function(e){return n(c(i.prototype),"edit",this).call(this,e,s.Sv.Customer_Update)}},{key:"add",value:function(e){return n(c(i.prototype),"add",this).call(this,e,s.Sv.Customer_Add)}},{key:"delete",value:function(e){n(c(i.prototype),"delete",this).call(this,e,s.Sv.Customer_Delete)}},{key:"CustomerImport",value:function(e,t){return n(c(i.prototype),"changeInquirySite",this).call(this,0,e,t,s.Sv.Customer_Import)}}]),i}(a.a)).\u0275fac=function(e){return new(e||r)(d.LFG(p.eN),d.LFG(s.De),d.LFG(h.Rq),d.LFG(m.D))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),r)},27317:function(e,t,i){i.d(t,{P:function(){return f}});var r,s=i(32364),a=i(78446),d=i(33018),p=i(91841),h=i(89401),m=i(86845),f=((r=function(e){o(i,e);var t=l(i);function i(e,n,r,o){var s;return u(this,i),(s=t.call(this,e,n,r,o))._config=n,s}return g(i,[{key:"GetAlldata",value:function(){n(c(i.prototype),"GetAlldata",this).call(this,s.I5.EmailTemplate_GetAll)}},{key:"GetAlldataBooking",value:function(){n(c(i.prototype),"GetAlldata",this).call(this,s.I5.EmailTemplate_GetAllForBooking)}},{key:"getById",value:function(e){return n(c(i.prototype),"getById",this).call(this,e,s.I5.EmailTemplate_GetById)}},{key:"getByName",value:function(e){return n(c(i.prototype),"getById",this).call(this,e,s.I5.EmailTemplate_GetByName)}},{key:"edit",value:function(e){return n(c(i.prototype),"edit",this).call(this,e,s.I5.EmailTemplate_Update)}},{key:"add",value:function(e){return n(c(i.prototype),"add",this).call(this,e,s.I5.EmailTemplate_Add)}},{key:"delete",value:function(e){n(c(i.prototype),"delete",this).call(this,e,s.I5.EmailTemplate_Delete)}},{key:"GetAllImages",value:function(){return n(c(i.prototype),"GetAllGeneral",this).call(this,s.I5.EmailTemplate_GetAllImages)}}]),i}(a.a)).\u0275fac=function(e){return new(e||r)(d.LFG(p.eN),d.LFG(s.De),d.LFG(h.Rq),d.LFG(m.D))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),r)},74071:function(e,t,i){i.d(t,{M:function(){return v}});var r,s=i(32364),a=i(78446),d=i(27541),p=i(33018),h=i(91841),m=i(89401),f=i(86845),v=((r=function(e){o(i,e);var t=l(i);function i(e,n,r,o){var s;return u(this,i),(s=t.call(this,e,n,r,o))._config=n,s.httpfunction=new d.r,s}return g(i,[{key:"GetAlldata",value:function(){var e=this;this.isGetSubscribe=!0,n(c(i.prototype),"GetAlldata",this).call(this,s.lV.Site_GetAll),null==this.subscription&&(this.subscription=this.resultObs.subscribe(function(t){var i=e.getRoleData;if(i&&"null"!=i&&null!=i){var n=i.AlwSt;e.result=e.result.filter(function(e){return n.indexOf(e.UIDN.toString())>-1}),e.totalItems=e.result.length}}))}},{key:"GetAllrelatedData",value:function(){n(c(i.prototype),"GetAlldata",this).call(this,s.lV.getAllSiteForAllCompany)}}]),i}(a.a)).\u0275fac=function(e){return new(e||r)(p.LFG(h.eN),p.LFG(s.De),p.LFG(m.Rq),p.LFG(f.D))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r)},99165:function(t,i,n){n.d(i,{V:function(){return yt}});var r=n(33018),o=n(3306),s=n(25039),l=n(62411),a=n(78980),c=n(27541),d=n(65529),p=n(82316),h=n(39302),m=n(39478),f=n(44667),v=n(38583),Z=n(89401),A=n(70609),T=n(3679),b=n(66496),S=n(58679),x=n(6642),C=n(85895),I=n(92859),q=n(3001),k=n(48429),y=n(3359),M=n(48291),w=["Termform"],N=["f"];function _(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",46),r.TgZ(1,"ul",47),r.TgZ(2,"li",48),r.TgZ(3,"button",49),r.NdJ("click",function(){return r.CHM(i),r.oxw().cancel()}),r._UZ(4,"i",50),r.qZA(),r.qZA(),r.TgZ(5,"li",51),r.TgZ(6,"strong"),r._uU(7,"Booking"),r.qZA(),r.TgZ(8,"small"),r._uU(9," Add/Edit"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function D(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",52),r.TgZ(1,"ul",47),r.TgZ(2,"li",53),r.TgZ(3,"ion-icon",54),r.NdJ("click",function(){return r.CHM(i),r.oxw().cancel()}),r.qZA(),r.qZA(),r.TgZ(4,"li",55),r.TgZ(5,"strong"),r._uU(6,"Booking"),r.qZA(),r.TgZ(7,"small"),r._uU(8," Add/Edit"),r.qZA(),r.qZA(),r.TgZ(9,"li",56),r.TgZ(10,"a",57),r.NdJ("click",function(e){return r.CHM(i),r.oxw(),r.MAs(7).onSubmit(e)}),r._uU(11," Save "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function P(e,t){1&e&&(r.TgZ(0,"div",58),r.TgZ(1,"div",59),r._uU(2," Since the booking was finalized, changes are restricted. "),r.qZA(),r.qZA())}function O(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Site selection is required"),r.qZA())}function U(e,t){if(1&e&&(r.TgZ(0,"div",60),r.YNc(1,O,2,0,"div",61),r.qZA()),2&e){r.oxw();var i=r.MAs(18);r.xp6(1),r.Q6J("ngIf",i.errors.required)}}function E(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Booking Status selection is required"),r.qZA())}function L(e,t){if(1&e&&(r.TgZ(0,"div",60),r.YNc(1,E,2,0,"div",61),r.qZA()),2&e){r.oxw();var i=r.MAs(26);r.xp6(1),r.Q6J("ngIf",i.errors.required)}}function J(e,t){if(1&e&&(r.TgZ(0,"small",62),r._uU(1),r.qZA()),2&e){var i=r.oxw();r.xp6(1),r.AsE(" Loaded ",i.userService.result.length," of ",i.userService.result.length," ")}}function F(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Sales By selection is required"),r.qZA())}function R(e,t){if(1&e&&(r.TgZ(0,"div",60),r.YNc(1,F,2,0,"div",61),r.qZA()),2&e){r.oxw();var i=r.MAs(44);r.xp6(1),r.Q6J("ngIf",i.errors.required)}}function Q(e,t){if(1&e&&(r.ynx(0),r._UZ(1,"img",63),r.BQk()),2&e){var i=t.$implicit;r.xp6(1),r.Q6J("src",i.src,r.LSH)("alt",i.name)}}function B(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@CustomerAccount@@"),r.qZA())}function Y(e,t){1&e&&r._uU(0),2&e&&r.hij(" ",t.item.LN," ")}function G(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"a"),r._uU(1),r.qZA(),r.TgZ(2,"a",133),r.NdJ("click",function(){var e=r.CHM(i).item;return r.oxw(4).openLedgerPopup(e.UIDN)}),r._UZ(3,"i",134),r.qZA()}if(2&e){var n=t.item,o=r.oxw(4);r.xp6(1),r.Oqu(n.LN),r.xp6(1),r.Q6J("SignupId",o.SignupId)("UserId",o.UserId)}}function H(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"small",62),r.TgZ(1,"a",130),r.NdJ("click",function(){r.CHM(i),r.oxw();var e=r.MAs(16);return r.oxw(2).addNewCustomer(e)}),r._uU(2," Add New Customer "),r.qZA(),r.qZA(),r.YNc(3,Y,1,1,"ng-template",131),r.YNc(4,G,4,3,"ng-template",132)}}function V(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@AllotmentDate@@"),r.qZA())}function K(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter date"),r.qZA())}function $(e,t){if(1&e&&(r.TgZ(0,"div",60),r.YNc(1,K,2,0,"div",61),r.qZA()),2&e){r.oxw();var i=r.MAs(25);r.xp6(1),r.Q6J("ngIf",i.errors.required)}}function j(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@AgreementDate@@"),r.qZA())}function W(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Please enter date"),r.qZA())}function z(e,t){if(1&e&&(r.TgZ(0,"div",60),r.YNc(1,W,2,0,"div",61),r.qZA()),2&e){r.oxw();var i=r.MAs(32);r.xp6(1),r.Q6J("ngIf",i.errors.required)}}function X(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@cpcompanyname@@"),r.qZA())}function ee(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"small",62),r.TgZ(1,"a",130),r.NdJ("click",function(){r.CHM(i),r.oxw();var e=r.MAs(40);return r.oxw(2).openChannelPartnerPopup(e)}),r._uU(2," Add New Channel Partner "),r.qZA(),r.qZA()}}function te(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"selection is required"),r.qZA())}function ie(e,t){if(1&e&&(r.TgZ(0,"div",60),r.YNc(1,te,2,0,"div",61),r.qZA()),2&e){r.oxw();var i=r.MAs(39);r.xp6(1),r.Q6J("ngIf",i.errors.required)}}function ne(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@CusAdharNo@@"),r.qZA())}function re(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@CusFullName@@"),r.qZA())}function oe(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@CusFullAddress@@"),r.qZA())}function se(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@CusContactNo@@"),r.qZA())}function le(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@CusEmail@@"),r.qZA())}function ae(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@CusPanNo@@"),r.qZA())}var ce=function(e){return{"is-invalid":e}};function ue(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",135),r.TgZ(1,"div",66),r.TgZ(2,"div",136),r.TgZ(3,"h5",68),r.TgZ(4,"button",137),r._uU(5," CUSTOMER'S INFORMATION FROM ACCOUNT LEDGER "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",138),r.TgZ(7,"div",139),r.TgZ(8,"div",9),r.TgZ(9,"div",12),r.TgZ(10,"label",140),r._uU(11," Aadhar No"),r.YNc(12,ne,2,0,"span",87),r.qZA(),r.TgZ(13,"input",141,142),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).updateAdharNo(e)}),r.qZA(),r.qZA(),r.TgZ(15,"div",12),r.TgZ(16,"label",143),r._uU(17," Name on Agreement (as per Aadhar)"),r.YNc(18,re,2,0,"span",87),r.qZA(),r.TgZ(19,"input",144,145),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).updateName(e)}),r.qZA(),r.qZA(),r.TgZ(21,"div",12),r.TgZ(22,"label",146),r._uU(23," Full Address (as per Aadhar)"),r.YNc(24,oe,2,0,"span",87),r.qZA(),r.TgZ(25,"input",147,148),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).updateAddress(e)}),r.qZA(),r.qZA(),r.TgZ(27,"div",12),r.TgZ(28,"label",149),r._uU(29," Contact No"),r.YNc(30,se,2,0,"span",87),r.qZA(),r.TgZ(31,"input",150,151),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).updateContact(e)}),r.qZA(),r.qZA(),r.TgZ(33,"div",12),r.TgZ(34,"label",152),r._uU(35," Email"),r.YNc(36,le,2,0,"span",87),r.qZA(),r.TgZ(37,"input",153,154),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).updateEmail(e)}),r.qZA(),r.qZA(),r.TgZ(39,"div",12),r.TgZ(40,"label",155),r._uU(41," PAN No"),r.YNc(42,ae,2,0,"span",87),r.qZA(),r.TgZ(43,"input",156,157),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).updatePAN(e)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.MAs(14),o=r.MAs(20),s=r.MAs(26),l=r.MAs(32),a=r.MAs(38),c=r.MAs(44),u=r.oxw(3),d=r.MAs(7);r.xp6(12),r.Q6J("ngIf",1==u.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(18,ce,d.submitted&&n.invalid))("ngModel",null==u.companyledgerservice.singleresult?null:u.companyledgerservice.singleresult.AdharNo),r.xp6(5),r.Q6J("ngIf",1==u.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(20,ce,d.submitted&&o.invalid))("ngModel",null==u.companyledgerservice.singleresult?null:u.companyledgerservice.singleresult.FullNm),r.xp6(5),r.Q6J("ngIf",1==u.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(22,ce,d.submitted&&s.invalid))("ngModel",null==u.companyledgerservice.singleresult?null:u.companyledgerservice.singleresult.Addr),r.xp6(5),r.Q6J("ngIf",1==u.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(24,ce,d.submitted&&l.invalid))("ngModel",null==u.companyledgerservice.singleresult?null:u.companyledgerservice.singleresult.CNO),r.xp6(5),r.Q6J("ngIf",1==u.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(26,ce,d.submitted&&a.invalid))("ngModel",null==u.companyledgerservice.singleresult?null:u.companyledgerservice.singleresult.Eml),r.xp6(5),r.Q6J("ngIf",1==u.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(28,ce,d.submitted&&c.invalid))("ngModel",null==u.companyledgerservice.singleresult?null:u.companyledgerservice.singleresult.PanNo)}}function de(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"span"),r.TgZ(1,"input",165,166),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.Value=e}),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.xp6(1),r.MGl("placeholder","enter ",o.trms,""),r.MGl("name","termsvaluesown_",s,""),r.MGl("id","termsvaluesown_",s,""),r.Q6J("ngModel",o.Value)}}function ge(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"ng-select",168,169),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).$implicit.Value=e}),r.qZA()}if(2&e){var n=r.MAs(1),o=r.oxw(2),s=o.index,l=o.$implicit;r.MGl("name","termsValuesOwns_",s,""),r.MGl("id","termsValuesOwns_",s,""),r.Q6J("items",l.DropDownValues)("ngClass",r.VKq(6,ce,n.invalid))("placeholder","Select an option")("ngModel",l.Value)}}function pe(e,t){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,ge,2,8,"ng-select",167),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf","OWNER_FIELD_DROPDOWN"===i.FType)}}function he(e,t){if(1&e&&(r.TgZ(0,"div",163),r.TgZ(1,"label",164),r._uU(2),r.qZA(),r.YNc(3,de,3,4,"span",61),r.YNc(4,pe,2,1,"span",61),r.qZA()),2&e){var i=t.$implicit,n=t.index;r.xp6(1),r.MGl("for","term_",n,""),r.xp6(1),r.Oqu(i.Trms),r.xp6(1),r.Q6J("ngIf","OWNER_FIELD_DROPDOWN"!==i.FType),r.xp6(1),r.Q6J("ngIf","OWNER_FIELD_DROPDOWN"===i.FType)}}function me(e,t){if(1&e&&(r.TgZ(0,"div",158),r.TgZ(1,"div",66),r.TgZ(2,"div",159),r.TgZ(3,"h5",68),r.TgZ(4,"button",160),r._uU(5," OWNER'S DETAILS "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",161),r.TgZ(7,"div",139),r.TgZ(8,"div",9),r.YNc(9,he,5,4,"div",162),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw(3);r.xp6(9),r.Q6J("ngForOf",i.sitestrService.singleresult.OwnersFields)}}function fe(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",163),r.TgZ(1,"div",173),r.TgZ(2,"label",164),r._uU(3),r.qZA(),r.TgZ(4,"input",165,174),r.NdJ("ngModelChange",function(e){return r.CHM(i).$implicit.Value=e}),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=t.$implicit,o=t.index;r.xp6(2),r.MGl("for","term_",o,""),r.xp6(1),r.Oqu(n.Trms),r.xp6(1),r.MGl("placeholder","Enter ",n.Trms,""),r.MGl("name","term_",o,""),r.MGl("id","term_",o,""),r.Q6J("ngModel",n.Value)}}function ve(e,t){if(1&e&&(r.TgZ(0,"div",158),r.TgZ(1,"div",66),r.TgZ(2,"div",170),r.TgZ(3,"h5",68),r.TgZ(4,"button",171),r._uU(5," CO-OWNER'S DETAILS "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",172),r.TgZ(7,"div",139),r.TgZ(8,"div",9),r.YNc(9,fe,6,6,"div",162),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw(3);r.xp6(9),r.Q6J("ngForOf",i.sitestrService.singleresult.siteTermsForCoowner)}}function Ze(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@BookTokenAmount@@"),r.qZA())}function Ae(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@LoanAmount@@"),r.qZA())}function Te(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@Bank@@"),r.qZA())}function be(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@PostBookingStatus@@"),r.qZA())}function Se(e,t){1&e&&(r.TgZ(0,"span",129),r._uU(1,"@@PostBookingReason@@"),r.qZA())}function xe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Remarks is required"),r.qZA())}function Ce(e,t){if(1&e&&(r.TgZ(0,"div",60),r.YNc(1,xe,2,0,"div",61),r.qZA()),2&e){r.oxw();var i=r.MAs(5);r.xp6(1),r.Q6J("ngIf",i.errors.required)}}function Ie(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",175),r.TgZ(1,"label",176),r._uU(2,"Remarks of Post Booking if any"),r.YNc(3,Se,2,0,"span",87),r.qZA(),r.TgZ(4,"textarea",177,178),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).sitestrService.singleresult.bkStatusReason=e}),r.qZA(),r.YNc(6,Ce,2,1,"div",17),r.qZA()}if(2&e){var n=r.MAs(5),o=r.oxw(3),s=r.MAs(7);r.xp6(3),r.Q6J("ngIf",1==o.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(4,ce,s.submitted&&n.invalid))("ngModel",o.sitestrService.singleresult.bkStatusReason),r.xp6(2),r.Q6J("ngIf",s.submitted&&n.invalid)}}function qe(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",179),r.TgZ(1,"label",180),r._uU(2," Annual Interest Rate "),r.qZA(),r.TgZ(3,"input",181,182),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).sitestrService.singleresult.BookingWiseOutstandingIntrestRate=e}),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(3);r.xp6(3),r.Q6J("ngModel",n.sitestrService.singleresult.BookingWiseOutstandingIntrestRate)}}function ke(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",82),r.TgZ(1,"div",66),r.TgZ(2,"div",83),r.TgZ(3,"h5",68),r.TgZ(4,"button",84),r.NdJ("click",function(){return r.CHM(i),r.oxw(2).toggleCollapse1()}),r.TgZ(5,"span",70),r._uU(6,"CUSTOMER'S PERSONAL DETAILS"),r.qZA(),r.TgZ(7,"span",71),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",85),r.TgZ(10,"div",73),r.TgZ(11,"div",12),r.TgZ(12,"label",86),r._uU(13," Customer Account "),r.YNc(14,B,2,0,"span",87),r.qZA(),r.TgZ(15,"ng-select",88,89),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).sitestrService.singleresult.CusLedgerId=e})("change",function(){return r.CHM(i),r.oxw(2).ledSelcted()}),r.YNc(17,H,5,0,"ng-template",30),r.qZA(),r.qZA(),r.TgZ(18,"div",12),r.TgZ(19,"label",90),r._uU(20,"Allotment Date:"),r.TgZ(21,"span",14),r._uU(22,"*"),r.qZA(),r.YNc(23,V,2,0,"span",87),r.qZA(),r.TgZ(24,"input",91,92),r.NdJ("selected",function(e){return r.CHM(i),r.oxw(2).onAllotmentdateSelect(e)}),r.qZA(),r.YNc(26,$,2,1,"div",17),r.qZA(),r.TgZ(27,"div",12),r.TgZ(28,"label",93),r._uU(29,"Agreement Date: "),r.YNc(30,j,2,0,"span",87),r.qZA(),r.TgZ(31,"input",94,95),r.NdJ("selected",function(e){return r.CHM(i),r.oxw(2).onAgreementdateSelect(e)}),r.qZA(),r.YNc(33,z,2,1,"div",17),r.qZA(),r.TgZ(34,"div",12),r.TgZ(35,"label",96),r._uU(36,"Select Broker (Channel Partner): "),r.YNc(37,X,2,0,"span",87),r.qZA(),r.TgZ(38,"ng-select",97,98),r.NdJ("scrollToEnd",function(){return r.CHM(i),r.oxw(2).channelPartnerService.ScrollDown()})("ngModelChange",function(e){return r.CHM(i),r.oxw(2).sitestrService.singleresult.CpId=e}),r.YNc(41,ee,3,0,"ng-template",30),r.qZA(),r.YNc(42,ie,2,1,"div",17),r.qZA(),r.YNc(43,ue,45,30,"div",99),r.YNc(44,me,10,1,"div",100),r.YNc(45,ve,10,1,"div",100),r.TgZ(46,"div",12),r.TgZ(47,"label",101),r._uU(48," Token/DownPayment Amount "),r.YNc(49,Ze,2,0,"span",87),r.qZA(),r.TgZ(50,"input",102,103),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).sitestrService.singleresult.TokenAmount=e}),r.qZA(),r.qZA(),r.TgZ(52,"div",12),r.TgZ(53,"label",104),r._uU(54," Loan Amount "),r.YNc(55,Ae,2,0,"span",87),r.qZA(),r.TgZ(56,"input",105,106),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).sitestrService.singleresult.LoanAmount=e})("change",function(){return r.CHM(i),r.oxw(2).changeLoan()}),r.qZA(),r.qZA(),r.TgZ(58,"div",12),r.TgZ(59,"label",107),r._uU(60," Bank"),r.YNc(61,Te,2,0,"span",87),r.qZA(),r.TgZ(62,"ng-select",108,109),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).sitestrService.singleresult.BankLedger=e}),r.qZA(),r.qZA(),r.TgZ(64,"div",12),r.TgZ(65,"label",110),r._uU(66,"Post Booking Status"),r.YNc(67,be,2,0,"span",87),r.qZA(),r.TgZ(68,"ng-select",111,112),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).sitestrService.singleresult.bkStatus=e}),r.TgZ(70,"ng-option",113),r._uU(71,"Registration Done"),r.qZA(),r.TgZ(72,"ng-option",114),r._uU(73,"Booking Finalized"),r.qZA(),r.TgZ(74,"ng-option",115),r._uU(75,"Postpone"),r.qZA(),r.TgZ(76,"ng-option",116),r._uU(77,"In Progress"),r.qZA(),r.TgZ(78,"ng-option",117),r._uU(79,"Loan Issue"),r.qZA(),r.TgZ(80,"ng-option",118),r._uU(81,"Booking Cancelled"),r.qZA(),r.qZA(),r.qZA(),r.YNc(82,Ie,7,6,"div",119),r.TgZ(83,"div",120),r.TgZ(84,"label",121),r._uU(85," Insert Sales/Journal Entry "),r.qZA(),r._UZ(86,"br"),r.TgZ(87,"label",122),r.TgZ(88,"input",123),r.NdJ("change",function(){r.CHM(i);var e=r.oxw(2);return e.sitestrService.singleresult.IsSalesEntry=1!=e.sitestrService.singleresult.IsSalesEntry}),r.qZA(),r._UZ(89,"span",35),r.qZA(),r.qZA(),r.TgZ(90,"div",120),r.TgZ(91,"label",124),r._uU(92," Is Final Booking? "),r.qZA(),r._UZ(93,"br"),r.TgZ(94,"label",122),r.TgZ(95,"input",125),r.NdJ("change",function(){r.CHM(i);var e=r.oxw(2);return e.sitestrService.singleresult.IsFinalBook=1!=e.sitestrService.singleresult.IsFinalBook}),r.qZA(),r._UZ(96,"span",35),r.qZA(),r.qZA(),r.TgZ(97,"div",120),r.TgZ(98,"div",9),r.TgZ(99,"div"),r.TgZ(100,"label",126),r._uU(101," Want to add interest on Due? "),r.qZA(),r._UZ(102,"br"),r.TgZ(103,"label",122),r.TgZ(104,"input",127),r.NdJ("change",function(){r.CHM(i);var e=r.oxw(2);return e.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding=1!=e.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding}),r.qZA(),r._UZ(105,"span",35),r.qZA(),r.qZA(),r.YNc(106,qe,5,1,"div",128),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.MAs(25),o=r.MAs(32),s=r.MAs(39),l=r.oxw(2),a=r.MAs(7);r.xp6(4),r.uIk("aria-expanded",l.isCollapsed1?"false":"true"),r.xp6(4),r.Oqu(l.isCollapsed1?"+":"-"),r.xp6(6),r.Q6J("ngIf",1==l.IsTagView),r.xp6(1),r.Q6J("items",l.Customers)("ngModel",l.sitestrService.singleresult.CusLedgerId)("loading",l.companyledgerservice.loading),r.xp6(8),r.Q6J("ngIf",1==l.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(39,ce,a.submitted&&n.invalid))("startDate",l.sitestrService.singleresult.AllotmentDate),r.xp6(2),r.Q6J("ngIf",a.submitted&&n.invalid),r.xp6(4),r.Q6J("ngIf",1==l.IsTagView),r.xp6(1),r.Q6J("ngClass",r.VKq(41,ce,a.submitted&&o.invalid))("startDate",l.sitestrService.singleresult.AgreementDate),r.xp6(2),r.Q6J("ngIf",a.submitted&&o.invalid),r.xp6(4),r.Q6J("ngIf",1==l.IsTagView),r.xp6(1),r.Q6J("virtualScroll",!0)("items",l.channelPartnerService.result)("ngClass",r.VKq(43,ce,a.submitted&&s.invalid))("ngModel",l.sitestrService.singleresult.CpId)("loading",l.channelPartnerService.loading),r.xp6(4),r.Q6J("ngIf",a.submitted&&s.invalid),r.xp6(1),r.Q6J("ngIf",null!=l.sitestrService.singleresult.CusLedgerId||null!=l.sitestrService.singleresult.CusLedgerId),r.xp6(1),r.Q6J("ngIf",l.sitestrService.singleresult.OwnersFields.length>0),r.xp6(1),r.Q6J("ngIf",l.sitestrService.singleresult.siteTermsForCoowner.length>0),r.xp6(4),r.Q6J("ngIf",1==l.IsTagView),r.xp6(1),r.Q6J("ngModel",l.sitestrService.singleresult.TokenAmount),r.xp6(5),r.Q6J("ngIf",1==l.IsTagView),r.xp6(1),r.Q6J("ngModel",l.sitestrService.singleresult.LoanAmount),r.xp6(5),r.Q6J("ngIf",1==l.IsTagView),r.xp6(1),r.Q6J("items",l.bankMaster)("ngModel",l.sitestrService.singleresult.BankLedger),r.xp6(5),r.Q6J("ngIf",1==l.IsTagView),r.xp6(1),r.Q6J("ngModel",l.sitestrService.singleresult.bkStatus),r.xp6(14),r.Q6J("ngIf",null!=l.sitestrService.singleresult.bkStatus),r.xp6(6),r.Q6J("checked",1==l.sitestrService.singleresult.IsSalesEntry),r.xp6(7),r.Q6J("checked",1==l.sitestrService.singleresult.IsFinalBook),r.xp6(9),r.Q6J("checked",1==l.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding)("disabled",1!=l.OutstndInterstShow),r.xp6(2),r.Q6J("ngIf",1==l.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding)}}function ye(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"span"),r.TgZ(1,"input",165,166),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.Value=e}),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.xp6(1),r.MGl("placeholder","enter ",o.trms,""),r.MGl("name","termsvaluesown_",s,""),r.MGl("id","termsvaluesown_",s,""),r.Q6J("ngModel",o.Value)}}function Me(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"ng-select",168,169),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).$implicit.Value=e}),r.qZA()}if(2&e){var n=r.MAs(1),o=r.oxw(2),s=o.index,l=o.$implicit;r.MGl("name","termsValuesOwns_",s,""),r.MGl("id","termsValuesOwns_",s,""),r.Q6J("items",l.DropDownValuess)("ngClass",r.VKq(6,ce,n.invalid))("placeholder","Select option(s)")("ngModel",l.Value)}}function we(e,t){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,Me,2,8,"ng-select",167),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf","PROJECT_FIELD_DROPDOWN"===i.FType)}}function Ne(e,t){if(1&e&&(r.TgZ(0,"div",163),r.TgZ(1,"label",164),r._uU(2),r.qZA(),r.YNc(3,ye,3,4,"span",61),r.YNc(4,we,2,1,"span",61),r.qZA()),2&e){var i=t.$implicit,n=t.index;r.xp6(1),r.MGl("for","term_",n,""),r.xp6(1),r.Oqu(i.Trms),r.xp6(1),r.Q6J("ngIf","PROJECT_FIELD_DROPDOWN"!==i.FType),r.xp6(1),r.Q6J("ngIf","PROJECT_FIELD_DROPDOWN"===i.FType)}}function _e(e,t){if(1&e&&(r.TgZ(0,"div",183),r.TgZ(1,"div",66),r.TgZ(2,"div",184),r.TgZ(3,"h5",68),r.TgZ(4,"button",185),r._uU(5," PROJECT'S DATAILS "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",186),r.TgZ(7,"div",139),r.TgZ(8,"div",9),r.YNc(9,Ne,5,4,"div",162),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw(2);r.xp6(9),r.Q6J("ngForOf",i.sitestrService.singleresult.ProjectsFields)}}function De(e,t){if(1&e&&(r.TgZ(0,"span",192),r._uU(1),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(1),r.hij(" ",i.ArMeasType," ")}}function Pe(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"number"),r.qZA()),2&e){var i=r.oxw(2).$implicit;r.xp6(1),r.hij(" sq m. ",r.xi3(2,1,.092903*i.Value,"1.2-2")," ")}}function Oe(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"number"),r.qZA()),2&e){var i=r.oxw(2).$implicit;r.xp6(1),r.hij(" Sq ft ",r.xi3(2,1,10.764*i.Value,"1.2-2")," ")}}function Ue(e,t){if(1&e&&(r.TgZ(0,"span",193),r.TgZ(1,"small"),r._uU(2," In "),r.YNc(3,Pe,3,4,"span",61),r.YNc(4,Oe,3,4,"span",61),r.qZA(),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(3),r.Q6J("ngIf","Sq. Foot"==i.ArMeasType),r.xp6(1),r.Q6J("ngIf","Sq. Meter"==i.ArMeasType)}}function Ee(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",194,174),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.Value=e})("keyup",function(e){r.CHM(i);var t=r.oxw(),n=t.$implicit,o=t.index,s=r.oxw(2);return s.IsAutoCalcAgrAmt&&("RERA_AREA_FIELD"===n.FType||"RATE_FIELD"===n.FType)&&s.ChangeAgreementValue(e,o),s.calculateAmountOnOrder(n.order,n.Value,1),s.changeLoan(),s.ChangeTotalAmtValue(e)}),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.MGl("placeholder","Enter ",o.Trms,""),r.MGl("name","SDterm_",s,""),r.MGl("id","SDterm_",s,""),r.Q6J("ngModel",o.Value)}}function Le(e,t){if(1&e&&(r.TgZ(0,"span",129),r._uU(1),r.qZA()),2&e){var i=r.oxw(3).$implicit;r.xp6(1),r.hij("",i.Token,"SqMeter@@")}}function Je(e,t){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,Le,2,1,"span",87),r.qZA()),2&e){var i=r.oxw(4);r.xp6(1),r.Q6J("ngIf",i.IsTagView)}}function Fe(e,t){if(1&e&&(r.TgZ(0,"span",129),r._uU(1),r.qZA()),2&e){var i=r.oxw(3).$implicit;r.xp6(1),r.hij("",i.Token,"SqFoot@@")}}function Re(e,t){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,Fe,2,1,"span",87),r.qZA()),2&e){var i=r.oxw(4);r.xp6(1),r.Q6J("ngIf",i.IsTagView)}}function Qe(e,t){if(1&e&&(r.TgZ(0,"span",195),r.YNc(1,Je,2,1,"span",61),r.YNc(2,Re,2,1,"span",61),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf","Sq. Foot"==i.ArMeasType),r.xp6(1),r.Q6J("ngIf","Sq. Meter"==i.ArMeasType)}}function Be(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"ng-select",168,196),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).$implicit.Value=e}),r.qZA()}if(2&e){var n=r.MAs(1),o=r.oxw(2),s=o.index,l=o.$implicit;r.MGl("name","termsValuesSitFie_",s,""),r.MGl("id","termsValuesSitFie_",s,""),r.Q6J("items",l.DropDownValuess)("ngClass",r.VKq(6,ce,n.invalid))("placeholder","Select option(s)")("ngModel",l.Value)}}function Ye(e,t){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,Be,2,8,"ng-select",167),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf","DROPDOWN_FIELD"===i.FType)}}function Ge(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",197,198),r.NdJ("selectedindex",function(e){r.CHM(i);var t=r.oxw().index;return r.oxw(2).onSiteDateSelect(e,t)}),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.MGl("placeholder","Enter ",o.Trms,""),r.MGl("name","SDterm_",s,""),r.MGl("id","SDterm_",s,""),r.Q6J("startDate",o.Value)}}function He(e,t){if(1&e&&(r.TgZ(0,"div",12),r.TgZ(1,"label",18),r._uU(2),r.YNc(3,De,2,1,"span",187),r.YNc(4,Ue,5,2,"span",188),r.qZA(),r.YNc(5,Ee,2,4,"input",189),r.YNc(6,Qe,3,2,"span",190),r.YNc(7,Ye,2,1,"span",61),r.YNc(8,Ge,2,4,"input",191),r.qZA()),2&e){var i=t.$implicit;r.xp6(2),r.hij("",i.Trms," "),r.xp6(1),r.Q6J("ngIf","TOTALAREA_FIELD"==i.FType||"RERA_AREA_FIELD"==i.FType),r.xp6(1),r.Q6J("ngIf",!("TOTALAREA_FIELD"!=i.FType&&"RERA_AREA_FIELD"!=i.FType||"Sq. Foot"!=i.ArMeasType&&"Sq. Meter"!=i.ArMeasType)),r.xp6(1),r.Q6J("ngIf","DATE_FIELD"!=i.FType&&"DROPDOWN_FIELD"!=i.FType),r.xp6(1),r.Q6J("ngIf",!("TOTALAREA_FIELD"!=i.FType&&"RERA_AREA_FIELD"!=i.FType||"Sq. Foot"!=i.ArMeasType&&"Sq. Meter"!=i.ArMeasType)),r.xp6(1),r.Q6J("ngIf","DROPDOWN_FIELD"===i.FType),r.xp6(1),r.Q6J("ngIf","DATE_FIELD"==i.FType)}}function Ve(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",202,174),r.NdJ("keyup",function(e){return r.CHM(i),r.oxw(3).ChangeTotalAmtValue(e)})("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.Value=e})("change",function(){r.CHM(i);var e=r.oxw().$implicit;return r.oxw(2).calculateAmountOnOrder(e.order,e.Value,0)}),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.MGl("placeholder","Enter ",o.Trms,""),r.MGl("name","PaySterm_22",s,""),r.MGl("id","PaySterm_22",s,""),r.Q6J("ngModel",o.Value)}}function Ke(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",202,174),r.NdJ("keyup",function(e){return r.CHM(i),r.oxw(3).ChangeTotalAmtValue(e)})("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.Value=e})("change",function(e){r.CHM(i);var t=r.oxw().$implicit,n=r.oxw(2);return n.calculateAmountOnOrder(t.order,t.Value,0),n.changeLoan(),n.ChangeTotalAmtValue(e)}),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.MGl("placeholder","Enter ",o.Trms,""),r.MGl("name","PaySterm_22",s,""),r.MGl("id","PaySterm_22",s,""),r.Q6J("ngModel",o.Value)}}function $e(e,t){1&e&&(r.TgZ(0,"div",203),r._uU(1," Auto Count (AREA * RATE)"),r.qZA())}function je(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",202,174),r.NdJ("keyup",function(e){return r.CHM(i),r.oxw(3).ChangeTotalAmtValue(e)})("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.Value=e})("change",function(){r.CHM(i);var e=r.oxw().$implicit,t=r.oxw(2);return t.calculateAmountOnOrder(e.order,e.Value,0),t.changeLoan()}),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.MGl("placeholder","Enter ",o.Trms,""),r.MGl("name","PaySterm_22",s,""),r.MGl("id","PaySterm_22",s,""),r.Q6J("ngModel",o.Value)}}function We(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",202,174),r.NdJ("keyup",function(e){return r.CHM(i),r.oxw(3).ChangeTotalAmtValue(e)})("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.Value=e})("change",function(){r.CHM(i);var e=r.oxw().$implicit,t=r.oxw(2);return t.calculateAmountOnOrder(e.order,e.Value,0),t.changeLoan()}),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.MGl("placeholder","Enter ",o.Trms,""),r.MGl("name","PaySterm_22",s,""),r.MGl("id","PaySterm_22",s,""),r.Q6J("ngModel",o.Value)}}function ze(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",204,174),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.Value=e})("change",function(){r.CHM(i);var e=r.oxw().$implicit,t=r.oxw(2);return t.calculateAmountOnOrder(e.order,e.Value,0),t.changeLoan()}),r.qZA()}if(2&e){var n=r.oxw(),o=n.$implicit,s=n.index;r.MGl("placeholder","Enter ",o.Trms,""),r.MGl("name","PaySterm_22",s,""),r.MGl("id","PaySterm_22",s,""),r.Q6J("ngModel",o.Value)}}function Xe(e,t){if(1&e&&(r.TgZ(0,"div",12),r.TgZ(1,"label",18),r._uU(2),r.qZA(),r.YNc(3,Ve,2,4,"input",199),r.YNc(4,Ke,2,4,"input",199),r.YNc(5,$e,2,0,"div",200),r.YNc(6,je,2,4,"input",199),r.YNc(7,We,2,4,"input",199),r.YNc(8,ze,2,4,"input",201),r.qZA()),2&e){var i=t.$implicit,n=r.oxw(2);r.xp6(2),r.Oqu(i.Trms),r.xp6(1),r.Q6J("ngIf","AGREEMENT_VALUE"!=i.FType&&"OTHER_INLUDEAGREEMENT"!=i.FType&&"OTHER_EXCLUDEAGREEMENT"!=i.FType&&"GST_AGREEMENT"!=i.FType&&"TOTAL_AMOUNT"!=i.FType),r.xp6(1),r.Q6J("ngIf","AGREEMENT_VALUE"==i.FType||"GST_AGREEMENT"==i.FType),r.xp6(1),r.Q6J("ngIf",n.IsAutoCalcAgrAmt&&"AGREEMENT_VALUE"==i.FType),r.xp6(1),r.Q6J("ngIf","OTHER_INLUDEAGREEMENT"==i.FType),r.xp6(1),r.Q6J("ngIf","OTHER_EXCLUDEAGREEMENT"==i.FType),r.xp6(1),r.Q6J("ngIf","TOTAL_AMOUNT"==i.FType)}}function et(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r.TgZ(4,"input",213,214),r.NdJ("ngModelChange",function(e){return r.CHM(i).$implicit.Value=e}),r.qZA(),r.qZA(),r.TgZ(6,"td"),r.TgZ(7,"input",215,216),r.NdJ("selectedindex",function(e){var t=r.CHM(i).index;return r.oxw(4).onEstimatedDateOCR_IncAgreement(e,t)}),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=t.$implicit,o=t.index;r.xp6(2),r.hij(" ",n.Trms," "),r.xp6(2),r.MGl("name","Agrterm_1112",o,""),r.MGl("id","Agrterm_1112",o,""),r.Q6J("ngModel",n.Value),r.xp6(3),r.MGl("name","Agrterm_1152",o,""),r.MGl("id","Agrterm_1152",o,""),r.Q6J("startDate",n.CommitmentDate)}}function tt(e,t){if(1&e&&(r.TgZ(0,"div",210),r.TgZ(1,"table",211),r.TgZ(2,"thead"),r.TgZ(3,"tr"),r.TgZ(4,"th",212),r._uU(5,"Term"),r.qZA(),r.TgZ(6,"th",212),r._uU(7,"OCR Amount"),r.qZA(),r.TgZ(8,"th",212),r._uU(9,"Due Date"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"tbody"),r.YNc(11,et,9,7,"tr",40),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw(3);r.xp6(11),r.Q6J("ngForOf",i.sitestrService.singleresult.siteTermsForpayment_IncAgreement)}}function it(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",205),r.TgZ(1,"div",66),r.TgZ(2,"div",206),r.TgZ(3,"h5",68),r.TgZ(4,"button",207),r.NdJ("click",function(){return r.CHM(i),r.oxw(2).toggleCollapse4()}),r.TgZ(5,"span",70),r._uU(6,"OCR PAYMENT FIELDS"),r.qZA(),r.TgZ(7,"span",71),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",208),r.YNc(10,tt,12,1,"div",209),r.ALo(11,"lowercase"),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(4),r.uIk("aria-expanded",n.isCollapsed1?"false":"true"),r.xp6(4),r.Oqu(n.isCollapsed4?"+":"-"),r.xp6(2),r.Q6J("ngIf","unsold"!=r.lcZ(11,3,n.sitestrService.singleresult.BookSts))}}function nt(e,t){1&e&&(r.TgZ(0,"span",14),r._uU(1,"Dynamic booking terms can't be undo once booking made, "),r._UZ(2,"br"),r._uU(3," You've to DELETE this for to do so."),r.qZA())}function rt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",229),r.TgZ(1,"label",230),r._uU(2,"Want to Add/Edit Terms? "),r._UZ(3,"br"),r.YNc(4,nt,4,0,"span",231),r.qZA(),r.TgZ(5,"div"),r.TgZ(6,"label",122),r.TgZ(7,"input",232),r.NdJ("change",function(){r.CHM(i);var e=r.oxw(3);return e.sitestrService.singleresult.IsDynBookTrm=1!=e.sitestrService.singleresult.IsDynBookTrm}),r.qZA(),r._UZ(8,"span",35),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(3);r.xp6(4),r.Q6J("ngIf",n.IsdynamicBooking),r.xp6(3),r.Q6J("checked",n.sitestrService.singleresult.IsDynBookTrm&&n.IsDynamicPayTrms)("disabled",!n.IsDynamicPayTrms||n.IsdynamicBooking)}}function ot(e,t){1&e&&(r.TgZ(0,"div",60),r._uU(1," Payment Terms is Already Exist! "),r.qZA())}function st(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",245),r.TgZ(1,"label",263),r._uU(2,"Estimated Date:"),r.qZA(),r.TgZ(3,"input",264,265),r.NdJ("selected",function(e){return r.CHM(i),r.oxw(4).onEstimatedateSelectLoanOCR(e)})("ngModelChange",function(e){return r.CHM(i),r.oxw(4).newLoanOcrTerms.EDt=e}),r.qZA(),r.qZA()}if(2&e){var n=r.MAs(4);r.oxw();var o=r.MAs(1),s=r.oxw(3);r.xp6(3),r.Q6J("ngClass",r.VKq(3,ce,o.submitted&&n.invalid))("ngModel",s.newLoanOcrTerms.EDt)("startDate",s.newLoanOcrTerms.EDt)}}function lt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"form",233,234),r.NdJ("ngSubmit",function(e){r.CHM(i);var t=r.MAs(1),n=r.oxw(3);return t.form.valid&&n.AddNewLoanOCRTerm(e)}),r.TgZ(2,"div",11),r.TgZ(3,"div",235),r.TgZ(4,"label",236),r._uU(5,"Order:"),r.qZA(),r.TgZ(6,"input",237,238),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).newLoanOcrTerms.order=e}),r.qZA(),r.qZA(),r.TgZ(8,"div",175),r.TgZ(9,"label",239),r._uU(10,"Particular:"),r.qZA(),r.TgZ(11,"input",240,241),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).newLoanOcrTerms.Trms=e})("change",function(e){return r.CHM(i),r.oxw(3).IsAlredyexistTerm(null,e)}),r.qZA(),r.YNc(13,ot,2,0,"div",17),r.qZA(),r.TgZ(14,"div",235),r.TgZ(15,"label",242),r._uU(16,"Percentage:"),r.qZA(),r.TgZ(17,"input",243,244),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).newLoanOcrTerms.Prcntge=e}),r.qZA(),r.qZA(),r.TgZ(19,"div",245),r.TgZ(20,"label",246),r._uU(21,"Payment Date Type:"),r.qZA(),r.TgZ(22,"ng-select",247,248),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).newLoanOcrTerms.PayDateType=e}),r.TgZ(24,"ng-option",249),r._uU(25,"ALLOTMENT_DATE"),r.qZA(),r.TgZ(26,"ng-option",250),r._uU(27,"ESTIMATION_DATE"),r.qZA(),r.TgZ(28,"ng-option",251),r._uU(29,"TERM_COMPLETED"),r.qZA(),r.qZA(),r.qZA(),r.YNc(30,st,5,5,"div",252),r.TgZ(31,"div",235),r.TgZ(32,"label",253),r._uU(33,"Additional Days:"),r.qZA(),r.TgZ(34,"input",254,255),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).newLoanOcrTerms.PayDays=e}),r.qZA(),r.qZA(),r.TgZ(36,"div",235),r.TgZ(37,"label",256),r._uU(38,"Reference:"),r.qZA(),r.TgZ(39,"input",257,258),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).newLoanOcrTerms.RefName=e}),r.qZA(),r.qZA(),r.TgZ(41,"div",175),r.TgZ(42,"label",259),r._uU(43,"Loan/OCR Token:"),r.qZA(),r.TgZ(44,"input",260,261),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(3).newLoanOcrTerms.Token=e}),r.qZA(),r.qZA(),r.TgZ(46,"div",235),r.TgZ(47,"button",262),r._uU(48," Add "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.MAs(1),o=r.MAs(7),s=r.MAs(12),l=r.MAs(18),a=r.MAs(23),c=r.MAs(35),u=r.MAs(40),d=r.MAs(45),g=r.oxw(3);r.xp6(6),r.Q6J("ngClass",r.VKq(16,ce,n.submitted&&o.invalid))("ngModel",g.newLoanOcrTerms.order),r.xp6(5),r.Q6J("ngClass",r.VKq(18,ce,n.submitted&&s.invalid||g.newLoanOcrTerms.IsAlreadyExist))("ngModel",g.newLoanOcrTerms.Trms),r.xp6(2),r.Q6J("ngIf",g.newLoanOcrTerms.IsAlreadyExist),r.xp6(4),r.Q6J("ngClass",r.VKq(20,ce,n.submitted&&l.invalid))("ngModel",g.newLoanOcrTerms.Prcntge),r.xp6(5),r.Q6J("ngClass",r.VKq(22,ce,n.submitted&&a.invalid))("ngModel",g.newLoanOcrTerms.PayDateType),r.xp6(8),r.Q6J("ngIf","ESTIMATION_DATE"==g.newLoanOcrTerms.PayDateType||"TERM_COMPLETED"==g.newLoanOcrTerms.PayDateType),r.xp6(4),r.Q6J("ngClass",r.VKq(24,ce,n.submitted&&c.invalid))("ngModel",g.newLoanOcrTerms.PayDays),r.xp6(5),r.Q6J("ngClass",r.VKq(26,ce,n.submitted&&u.invalid))("ngModel",g.newLoanOcrTerms.RefName),r.xp6(5),r.Q6J("ngClass",r.VKq(28,ce,n.submitted&&d.invalid))("ngModel",g.newLoanOcrTerms.Token)}}function at(e,t){1&e&&(r.TgZ(0,"div",60),r._uU(1," Payment Terms is Already Exist! "),r.qZA())}function ct(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Payment Terms is required "),r.qZA())}function ut(e,t){if(1&e&&(r.TgZ(0,"div",60),r.YNc(1,ct,2,0,"div",61),r.qZA()),2&e){r.oxw();var i=r.MAs(8);r.xp6(1),r.Q6J("ngIf",i.errors.required)}}function dt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"input",290,291),r.NdJ("selected",function(e){r.CHM(i);var t=r.oxw().index;return r.oxw(4).onEstimatedDateOCR(e,t)}),r.qZA(),r.qZA()}if(2&e){var n=r.MAs(2),o=r.oxw(),s=o.index,l=o.$implicit;r.oxw(4);var a=r.MAs(7);r.xp6(1),r.MGl("name","Estimateddate___LO_",s,""),r.MGl("id","Estimateddate___LO_",s,""),r.Q6J("ngClass",r.VKq(4,ce,a.submitted&&n.invalid))("startDate",l.EDt)}}function gt(e,t){1&e&&(r.TgZ(0,"div",292),r._uU(1,"Input exceeds 75 characters!"),r.qZA())}function pt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r.TgZ(2,"div",173),r.TgZ(3,"input",273,274),r.NdJ("ngModelChange",function(e){return r.CHM(i).$implicit.order=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"div",173),r.TgZ(7,"input",275,276),r.NdJ("ngModelChange",function(e){return r.CHM(i).$implicit.Trms=e})("change",function(){var e=r.CHM(i).index;return r.oxw(4).IsAlredyexistTerm(e,null)}),r.qZA(),r.YNc(9,at,2,0,"div",17),r.YNc(10,ut,2,1,"div",17),r.qZA(),r.qZA(),r.TgZ(11,"td"),r.TgZ(12,"div",173),r.TgZ(13,"input",277,278),r.NdJ("ngModelChange",function(e){return r.CHM(i).$implicit.Prcntge=e})("change",function(){return r.CHM(i),r.oxw(4).changeLoan()}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"td"),r.TgZ(16,"ng-select",279,280),r.NdJ("ngModelChange",function(e){return r.CHM(i).$implicit.PayDateType=e}),r.TgZ(18,"ng-option",249),r._uU(19,"ALLOTMENT_DATE"),r.qZA(),r.TgZ(20,"ng-option",250),r._uU(21,"ESTIMATION_DATE"),r.qZA(),r.TgZ(22,"ng-option",251),r._uU(23,"TERM_COMPLETED"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"td"),r.YNc(25,dt,3,6,"div",281),r.qZA(),r.TgZ(26,"td"),r.TgZ(27,"input",282,283),r.NdJ("change",function(){return r.CHM(i),r.oxw(4).DateGetFromTerms()})("ngModelChange",function(e){return r.CHM(i).$implicit.PayDays=e}),r.qZA(),r.qZA(),r.TgZ(29,"td"),r.TgZ(30,"input",284,285),r.NdJ("input",function(e){var t=r.CHM(i).index;return r.oxw(4).validateInput(e.target.value,t)})("ngModelChange",function(e){return r.CHM(i).$implicit.RefName=e}),r.qZA(),r.YNc(32,gt,2,0,"div",286),r.qZA(),r.TgZ(33,"td"),r.TgZ(34,"input",287,288),r.NdJ("ngModelChange",function(e){return r.CHM(i).$implicit.Token=e}),r.qZA(),r.qZA(),r.TgZ(36,"td"),r.TgZ(37,"a",289),r.NdJ("click",function(){var e=r.CHM(i).index;return r.oxw(4).RemovePaymentTerm(e,1)}),r._uU(38,"Delete"),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=t.$implicit,o=t.index,s=r.MAs(8),l=r.oxw(4),a=r.MAs(7);r.xp6(3),r.MGl("name","order__LO_",o,""),r.Q6J("ngModel",n.order),r.xp6(4),r.MGl("name","ptermsLO_",o,""),r.MGl("id","ptermsLO_",o,""),r.Q6J("ngClass",r.VKq(24,ce,a.submitted&&s.invalid||n.IsAlreadyExist))("ngModel",n.Trms),r.xp6(2),r.Q6J("ngIf",n.IsAlreadyExist),r.xp6(1),r.Q6J("ngIf",a.submitted&&s.invalid),r.xp6(3),r.MGl("name","PercentageLO_",o,""),r.MGl("id","PercentageLO_",o,""),r.Q6J("ngModel",n.Prcntge),r.xp6(3),r.MGl("name","PayDateTypeLO_",o,""),r.Q6J("ngModel",n.PayDateType),r.xp6(9),r.Q6J("ngIf","ESTIMATION_DATE"==n.PayDateType||"TERM_COMPLETED"==n.PayDateType),r.xp6(2),r.MGl("name","daysLO_",o,""),r.MGl("id","PDaysLO_",o,""),r.Q6J("ngModel",n.PayDays),r.xp6(3),r.MGl("name","RNameLO_",o,""),r.MGl("id","RNameLO_",o,""),r.Q6J("ngModel",n.RefName),r.xp6(2),r.Q6J("ngIf",l.isInputTooLong[o]),r.xp6(2),r.MGl("name","TokenLO_",o,""),r.MGl("id","TokenLO_",o,""),r.Q6J("ngModel",n.Token)}}function ht(e,t){if(1&e&&(r.TgZ(0,"div",266),r.TgZ(1,"table",267),r.TgZ(2,"thead"),r.TgZ(3,"tr"),r.TgZ(4,"th",268),r._uU(5," LOAN OCR TERMS"),r.qZA(),r.qZA(),r.TgZ(6,"tr"),r.TgZ(7,"th",269),r._uU(8,"Order"),r.qZA(),r.TgZ(9,"th",270),r._uU(10,"Particular"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Terms Percentage:"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Payment Date Type:"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Estimated Date:"),r.qZA(),r.TgZ(17,"th",271),r._uU(18,"Additional Days:"),r.qZA(),r.TgZ(19,"th",272),r._uU(20,"Reference:"),r.qZA(),r.TgZ(21,"th",272),r._uU(22,"Token:"),r.qZA(),r.TgZ(23,"th"),r._uU(24,"Action"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"tbody"),r.YNc(26,pt,39,26,"tr",40),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw(3);r.xp6(26),r.Q6J("ngForOf",i.sitestrService.singleresult.siteTermsForLoanOCR)}}function mt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(1),r.hij(" - ",i.Prcntge,"%")}}function ft(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",301,296),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.OCRAmt=e}),r.qZA()}if(2&e){var n=r.oxw(),o=n.index,s=n.$implicit;r.MGl("name","term_113",o,""),r.MGl("id","term_113",o,""),r.Q6J("readonly",!0)("ngModel",s.OCRAmt)}}function vt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",302,303),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().$implicit.LoanAmt=e}),r.qZA()}if(2&e){var n=r.oxw(),o=n.index,s=n.$implicit;r.MGl("name","term_112",o,""),r.MGl("id","term_112",o,""),r.Q6J("readonly",!0)("ngModel",s.LoanAmt)}}function Zt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.YNc(3,mt,2,1,"span",61),r.qZA(),r.TgZ(4,"td"),r.TgZ(5,"input",295,296),r.NdJ("ngModelChange",function(e){return r.CHM(i).$implicit.Value=e}),r.qZA(),r.qZA(),r.TgZ(7,"td"),r.YNc(8,ft,2,4,"input",297),r.qZA(),r.TgZ(9,"td"),r.YNc(10,vt,2,4,"input",298),r.qZA(),r.TgZ(11,"td"),r.TgZ(12,"input",299,300),r.NdJ("selectedindex",function(e){var t=r.CHM(i).index;return r.oxw(4).onEstimatedDateOCR(e,t)}),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=t.$implicit,o=t.index;r.xp6(2),r.hij(" ",n.Trms," "),r.xp6(1),r.Q6J("ngIf","AGREEMENT_TERMS"==n.FType),r.xp6(2),r.MGl("name","term_111",o,""),r.MGl("id","term_111",o,""),r.Q6J("readonly",!0)("ngModel",n.Value),r.xp6(3),r.Q6J("ngIf","AGREEMENT_TERMS"==n.FType),r.xp6(2),r.Q6J("ngIf","AGREEMENT_TERMS"==n.FType),r.xp6(2),r.Q6J("disabled",!0)("startDate",n.CommitmentDate)}}function At(e,t){if(1&e&&(r.TgZ(0,"div",293),r.TgZ(1,"table",294),r.TgZ(2,"thead"),r.TgZ(3,"tr"),r.TgZ(4,"th",212),r._uU(5,"Term"),r.qZA(),r.TgZ(6,"th",212),r._uU(7,"Total Amount"),r.qZA(),r.TgZ(8,"th",212),r._uU(9,"OCR Amount"),r.qZA(),r.TgZ(10,"th",212),r._uU(11,"Loan Amount"),r.qZA(),r.TgZ(12,"th",212),r._uU(13,"Due Date"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"tbody"),r.YNc(15,Zt,14,10,"tr",40),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw(3);r.xp6(15),r.Q6J("ngForOf",i.sitestrService.singleresult.siteTermsForLoanOCR)}}function Tt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",217),r.TgZ(1,"div",66),r.TgZ(2,"div",218),r.TgZ(3,"h5",68),r.TgZ(4,"button",219),r.NdJ("click",function(){return r.CHM(i),r.oxw(2).toggleCollapse5()}),r.TgZ(5,"span",70),r._uU(6,"PAYMENT TERMS"),r.qZA(),r.TgZ(7,"span",71),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",220),r.TgZ(10,"div",221),r.TgZ(11,"div",66),r.TgZ(12,"div",222),r.TgZ(13,"h5",68),r.TgZ(14,"button",223),r._uU(15," WOULD YOU LIKE TO DYNAMIC TERMS FOR THIS BOOKING? "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",224),r.TgZ(17,"div",139),r.YNc(18,rt,9,3,"div",225),r.ALo(19,"lowercase"),r.YNc(20,lt,49,30,"form",226),r.YNc(21,ht,27,1,"div",227),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(22,At,16,1,"div",228),r.ALo(23,"lowercase"),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(4),r.uIk("aria-expanded",n.isCollapsed1?"false":"true"),r.xp6(4),r.Oqu(n.isCollapsed5?"+":"-"),r.xp6(10),r.Q6J("ngIf","unsold"!=r.lcZ(19,6,n.sitestrService.singleresult.BookSts)),r.xp6(2),r.Q6J("ngIf",n.sitestrService.singleresult.IsDynBookTrm&&n.IsDynamicPayTrms),r.xp6(1),r.Q6J("ngIf",n.sitestrService.singleresult.IsDynBookTrm&&n.IsDynamicPayTrms),r.xp6(1),r.Q6J("ngIf","unsold"!=r.lcZ(23,8,n.sitestrService.singleresult.BookSts))}}function bt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",9),r.YNc(1,ke,107,45,"div",64),r.ALo(2,"lowercase"),r.TgZ(3,"div",65),r.TgZ(4,"div",66),r.TgZ(5,"div",67),r.TgZ(6,"h5",68),r.TgZ(7,"button",69),r.NdJ("click",function(){return r.CHM(i),r.oxw().toggleCollapse2()}),r.TgZ(8,"span",70),r._uU(9,"SITE FIELDS"),r.qZA(),r.TgZ(10,"span",71),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",72),r.TgZ(13,"div",73),r.YNc(14,_e,10,1,"div",74),r.YNc(15,He,9,7,"div",75),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",76),r.TgZ(17,"div",66),r.TgZ(18,"div",77),r.TgZ(19,"h5",68),r.TgZ(20,"button",78),r.NdJ("click",function(){return r.CHM(i),r.oxw().toggleCollapse3()}),r.TgZ(21,"span",70),r._uU(22,"PAYMENT FIELDS"),r.qZA(),r.TgZ(23,"span",71),r._uU(24),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"div",79),r.TgZ(26,"div",73),r.YNc(27,Xe,9,7,"div",75),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(28,it,12,5,"div",80),r.ALo(29,"lowercase"),r.YNc(30,Tt,24,10,"div",81),r.ALo(31,"lowercase"),r.qZA()}if(2&e){var n=r.oxw();r.xp6(1),r.Q6J("ngIf",null!=n.sitestrService.singleresult.SI&&"unsold"!=r.lcZ(2,10,n.sitestrService.singleresult.BookSts)),r.xp6(6),r.uIk("aria-expanded",n.isCollapsed1?"false":"true"),r.xp6(4),r.Oqu(n.isCollapsed2?"+":"-"),r.xp6(3),r.Q6J("ngIf",n.sitestrService.singleresult.ProjectsFields.length>0),r.xp6(1),r.Q6J("ngForOf",n.sitestrService.singleresult.siteTermsForSite),r.xp6(5),r.uIk("aria-expanded",n.isCollapsed1?"false":"true"),r.xp6(4),r.Oqu(n.isCollapsed3?"+":"-"),r.xp6(3),r.Q6J("ngForOf",n.sitestrService.singleresult.siteTermsForpayment),r.xp6(1),r.Q6J("ngIf","unsold"!=r.lcZ(29,12,n.sitestrService.singleresult.BookSts)),r.xp6(2),r.Q6J("ngIf","unsold"!=r.lcZ(31,14,n.sitestrService.singleresult.BookSts))}}function St(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"a",308),r.NdJ("click",function(){r.CHM(i);var e=r.oxw(2);return e.DeleteStructure(2,e.sitestrService.singleresult.UIDN)}),r._uU(1,"Cancel Booking"),r.qZA()}}function xt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",304),r.YNc(1,St,2,0,"a",305),r.ALo(2,"lowercase"),r.TgZ(3,"button",306),r._uU(4),r.qZA(),r.TgZ(5,"a",307),r.NdJ("click",function(){return r.CHM(i),r.oxw().cancel()}),r._uU(6,"Cancel"),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(1),r.Q6J("ngIf","Update Booking"==n.saveText&&"unsold"!=r.lcZ(2,3,n.sitestrService.singleresult.BookSts)&&!n.sitestrService.singleresult.IsFinalBook),r.xp6(2),r.Q6J("hidden",n.IsFinalBooking),r.xp6(1),r.Oqu(n.saveText)}}function Ct(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"nav",309),r.TgZ(1,"ul",310),r.TgZ(2,"li",311),r.TgZ(3,"button",312),r._uU(4,"Save"),r.qZA(),r.qZA(),r.TgZ(5,"li",313),r.TgZ(6,"a",307),r.NdJ("click",function(){return r.CHM(i),r.oxw().cancel()}),r._uU(7,"Cancel"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function It(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"app-companyledger-addedit",314),r.NdJ("redirectAction",function(e){return r.CHM(i),r.oxw().popupAction(e)}),r.qZA()}if(2&e){var n=r.oxw();r.Q6J("isMobilePopup",!1)("inputLedgerId",n.ledgerIdVal)("CompanyIdforReport",n.sitestrService.getCompanyId)("redirectOnCancel",!1)}}function qt(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"app-channel-partner",315),r.NdJ("redirectActiononChannelist",function(e){return r.CHM(i),r.oxw().ChannelPartnerAdded(e)}),r.qZA()}if(2&e){var n=r.oxw();r.Q6J("isMobilePopup",!0)("redirectOnCancelonChannelist",!1)("CompanyIdforReport",n.CompanyIdforReport)("InputChannelPartnerId",n.ChannelPartnerIdVal)}}var kt,yt=((kt=function(){function t(e,i,n,a,d,g,p,h,m){var f=this;u(this,t),this.sitestrService=e,this.siteservice=i,this.route=n,this.location=a,this.router=d,this.companyledgerservice=g,this.alertService=p,this.userService=h,this.channelPartnerService=m,this.siteTerms=[],this.locationname="",this.sfilter=new o.e,this.paymentTerms=[],this.LoanOcrTerms=[],this.newLoanOcrTerms=new s.j6,this.FieldsList=[],this.isInputTooLong=[],this.Valid=!0,this.isLedgerpopupopen=!1,this.siteStrList=[],this.isList=!0,this._sgId=0,this.isMobilePopup=!1,this.BookingredirectOnCancel=!0,this.CompanyIdforReport=0,this.TaxLedgers=[],this.curAddLedgerLoc=0,this.taxLedger=[],this.TermLoanOCR=[],this.BookingredirectAction=new r.vpe,this.totLoan=0,this.totOCR=0,this.CustomerGroupLedger=[],this.Customers=[],this.showCompanyLedgerpopup=!1,this.OutstndInterstShow=!1,this.bankMaster=[],this.files=[],this.isChannelPartnerpopupopen=!1,this.IsTagView=!1,this.IsAutoCalcAgrAmt=!1,this.IsDynamicPayTrms=!1,this.WantToChangeTrms=!1,this.IsdynamicBooking=!1,this.isCollapsed1=!0,this.isCollapsed2=!0,this.isCollapsed3=!0,this.isCollapsed4=!0,this.isCollapsed5=!0,this.httpfunction=new c.r,this.TotalAgrAmtWithoutGst=0,this.IsFinalBooking=!1,this.saveText="Confirm Booking",this.TotalAgrAmt=0,this.totaltermamount=0,this.SignupId=this.sitestrService.getSignupId,this.CompanyId=this.sitestrService.getCompanyId,this.UserId=this.sitestrService.GetUserId,e.singleresult=new l.T,e.singleresult.SI=null,this.channelPartnerService.singleresult=null,this.sitestrService.singleresult.CI=this.sitestrService.getCompanyId,this.ledSelcted(),this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&"add"!=e.id.toLowerCase()?f.getData(2,e.id):null!=e.id&&""!=e.id&&"add"==e.id.toLowerCase()&&f.getData(1,0),null!=e.location&&""!=e.location&&("booking"==e.location.toLowerCase()?f.locationname="booking":"ledgerhistory"==e.location.toLowerCase()&&(f.locationname="ledgerhistory"))})}return g(t,[{key:"ngOnDestroy",value:function(){null!=this.subscription&&this.subscription.unsubscribe()}},{key:"cancel",value:function(){if(this.BookingredirectOnCancel){if(""!=this.httpfunction.getStorage("_filterData")){var e=JSON.parse(this.httpfunction.getStorage("_filterData")).reverse();if(null!=e&&null!=e){var t=e.find(function(e){return"Daybook"==e.Module||"Outstanding Payable"==e.Module||"Outstanding Receivable"==e.Module});if(null!=t||null!=t)return"Ledger"==t.SearchFilter[0].PageType?void this.router.navigate(["/transactions/ledger"]):"Group"==t.SearchFilter[0].PageType?void this.router.navigate(["/transactions/group"]):"Monthly Summary"==t.SearchFilter[0].PageType?void this.router.navigate(["/reports/monthlysummary/"+t.SearchFilter[0].LedgerId]):"Finalize"==t.SearchFilter[0].PageType?void this.router.navigate(["/transactions/finalize"]):"Restorevoucher"==t.SearchFilter[0].PageType?void this.router.navigate(["/transactions/restorevoucher"]):"Daybook"==t.SearchFilter[0].PageType?void this.router.navigate(["/transactions/daybook"]):"Outstanding Payable"==t.SearchFilter[0].PageType?void this.router.navigate(["/reports/outstandingpayble"]):"Outstanding Receivable"==t.SearchFilter[0].PageType?void this.router.navigate(["/reports/outstandingrecivable"]):this.router.url.toLowerCase().indexOf("bookingform")>=0?void this.router.navigate(["/marketing/bookinglist"]):void this.router.navigate(["/masters/sitestructure"]);this.router.url.toLowerCase().indexOf("bookingform")>=0?this.router.navigate(["/marketing/bookinglist"]):this.router.navigate(["/masters/sitestructure"])}else this.router.url.toLowerCase().indexOf("bookingform")>=0?this.router.navigate(["/marketing/bookinglist"]):this.router.navigate(["/masters/sitestructure"])}}else this.BookingredirectAction.emit(null)}},{key:"SiteChange",value:function(e){this.getData(3,this.sitestrService.singleresult.SI)}},{key:"getData",value:function(e,t){var i=this;1==e?(this.sfilter.siteid=0,this.sfilter.sitestructureid=0,this.sfilter.action=1):2==e?(this.sfilter.siteid=0,this.sfilter.sitestructureid=t,this.sfilter.action=2):(this.sfilter.siteid=t,this.sfilter.action=3),this.sitestrService.filterArg=this.sfilter,this.sitestrService.GetAllDynamicData().subscribe(function(e){var n,r;if(i.sitestrService.singleresult.IsBookingFromInquiry=!1,i.companyledgerservice.singleresult=i.companyledgerservice.result.filter(function(e){return e.UIDN==i.sitestrService.singleresult.CusLedgerId})[0],1==i.sfilter.action)i.siteservice.result=e.site,i.sitestrService.singleresult=e.siteStructure,i.sitestrService.singleresult.St=1,i.bankMaster=e.bankdetails,i.channelPartnerService.result=e.channelPartnerMasters;else if(2==i.sfilter.action)i.siteservice.result=e.site,i.sitestrService.singleresult=e.siteStructure,i.userService.singleresult=Object.assign({},i.userService.result.filter(function(e){return e.UIDN==i.sitestrService.singleresult.SalBy})[0]),i.bankMaster=e.bankdetails,i.channelPartnerService.result=e.channelPartnerMasters,i.OutstndInterstShow=e.site[0].IntrestOnOutstanding,1!=i.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding&&1==e.site[0].IntrestOnOutstanding&&null!=e.site[0].IntrestOnOutstanding&&(i.sitestrService.singleresult.BookingWiseOutstandingIntrestRate=e.site[0].IntrestOutstanding),1==e.siteStructure.IsFinalBook&&(i.IsFinalBooking=e.siteStructure.IsFinalBook),i.saveText="Update Booking",i.SiteStructureId>0&&(i.sitestrService.singleresult.IsBookingFromInquiry=!0,i.sitestrService.singleresult.InqI=i.InquiryId,i.sitestrService.singleresult.BookSts="Sold",i.sitestrService.singleresult.NameOnAgreement=i.CustomerName),i.companyledgerservice.singleresult=i.companyledgerservice.result.filter(function(e){return e.UIDN==i.sitestrService.singleresult.CusLedgerId})[0],i.files=e.files;else if(3==i.sfilter.action){var o=i.sitestrService.singleresult.BookSts,s=i.sitestrService.singleresult.St;i.sitestrService.singleresult=e.siteStructure,i.channelPartnerService.result=e.channelPartnerMasters,i.sitestrService.singleresult.CI=i.sitestrService.getCompanyId,i.sitestrService.singleresult.SI=t,i.sitestrService.singleresult.BookSts=o,i.sitestrService.singleresult.St=s,i.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding=e.site[0].IntrestOnOutstanding,i.OutstndInterstShow=e.site[0].IntrestOnOutstanding,i.sitestrService.singleresult.BookingWiseOutstandingIntrestRate=e.site[0].IntrestOutstanding}i.siteservice.result.filter(function(e){return e.UIDN==i.sitestrService.singleresult.SI}).length>0&&(i.IsAutoCalcAgrAmt=!!i.siteservice.result.filter(function(e){return e.UIDN==i.sitestrService.singleresult.SI})[0].IsAutoCalcAgrAmt,i.IsDynamicPayTrms=!!i.siteservice.result.filter(function(e){return e.UIDN==i.sitestrService.singleresult.SI})[0].IsDynamicpayTrm),i.IsdynamicBooking=null===(r=null===(n=i.sitestrService)||void 0===n?void 0:n.singleresult)||void 0===r?void 0:r.IsDynBookTrm,i.sitestrService.singleresult.siteTermsForCoowner=i.sitestrService.singleresult.siteTerms.filter(function(e){return"CO_OWNER_FIELD"==e.FType}).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)}),i.sitestrService.singleresult.OwnersFields=i.sitestrService.singleresult.siteTerms.filter(function(e){return"OWNERS_FIELD"==e.FType||"OWNER_FIELD_DROPDOWN"==e.FType}).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)});for(var l=0;l<i.sitestrService.singleresult.OwnersFields.length;l++){var a=i.sitestrService.singleresult.OwnersFields[l];"OWNER_FIELD_DROPDOWN"===a.FType&&(a.DropDownValues=a.SiteDropdownVal.split(","))}i.sitestrService.singleresult.ProjectsFields=i.sitestrService.singleresult.siteTerms.filter(function(e){return"PROJECT_FIELD"==e.FType||"PROJECT_FIELD_DROPDOWN"==e.FType}).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)});for(var c=0;c<i.sitestrService.singleresult.ProjectsFields.length;c++){var u=i.sitestrService.singleresult.ProjectsFields[c];"PROJECT_FIELD_DROPDOWN"===u.FType&&(u.DropDownValuess=u.SiteDropdownVal.split(","))}i.sitestrService.singleresult.siteTermsForSite=i.sitestrService.singleresult.siteTerms.filter(function(e){return"TOTALAREA_FIELD"==e.FType||"RATE_FIELD"==e.FType||"TEXT_FIELD"==e.FType||"DATE_FIELD"==e.FType||"WING_FIELD"==e.FType||"FLATNO_FIELD"==e.FType||"BUILDING_FIELD"==e.FType||"RERA_AREA_FIELD"==e.FType||"DROPDOWN_FIELD"==e.FType}).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)});for(var d=0;d<i.sitestrService.singleresult.siteTermsForSite.length;d++){var g=i.sitestrService.singleresult.siteTermsForSite[d];"DROPDOWN_FIELD"===g.FType&&(g.DropDownValuess=g.SiteDropdownVal.split(","))}i.sitestrService.singleresult.siteTermsForpayment=i.sitestrService.singleresult.siteTerms.filter(function(e){return"AGREEMENT_VALUE"==e.FType||"OTHER_INLUDEAGREEMENT"==e.FType||"OTHER_EXCLUDEAGREEMENT"==e.FType||"OTHER_EXCLUDEAGREEMENT_EXC_GST"==e.FType||"GST_AGREEMENT"==e.FType||"GST_OTHER"==e.FType||"TOTAL_AMOUNT"==e.FType||"BROKERAGE_AMOUNT"==e.FType}).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)}).map(function(e){if(null!=e.Value&&""!=e.Value&&null!=e.Value){var t=parseFloat(e.Value).toFixed(2);e.Value=parseFloat(t)==parseInt(t)?parseInt(t):t}return e}),i.sitestrService.singleresult.siteTermsForpayment_IncAgreement=i.sitestrService.singleresult.siteTerms.filter(function(e){return"OTHER_EXCLUDEAGREEMENT"==e.FType||"OTHER_EXCLUDEAGREEMENT_EXC_GST"==e.FType||"OTHER_INLUDEAGREEMENT"==e.FType||"GST_AGREEMENT"==e.FType||"GST_OTHER"==e.FType}).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)}),i.sitestrService.singleresult.siteTermsForLoanOCR=i.sitestrService.singleresult.siteTerms.filter(function(e){return"AGREEMENT_TERMS"==e.FType&&"GST_AGREEMENT"!=e.FType}).sort(function(e,t){return parseFloat(e.order)-parseFloat(t.order)});for(var p=0;p<i.sitestrService.singleresult.siteTermsForpayment_IncAgreement.length;p++){var h=i.sitestrService.singleresult.siteTermsForpayment_IncAgreement[p];if(null!=h.CommitmentDate||""!=h.CommitmentDate)if("ALLOTMENT_DATE"==h.PayDateType&&null!=i.sitestrService.singleresult.AllotmentDate){var m=moment(i.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),f=moment(m).add(h.PayDays,"days").format("YYYY MM DD");h.CommitmentDate=f}else"TERM_COMPLETED"!=h.PayDateType&&"ESTIMATION_DATE"!=h.PayDateType||null==h.EDt||(m=moment(h.EDt).format("YYYY MM DD"),f=moment(m).add(h.PayDays,"days").format("YYYY MM DD"),h.CommitmentDate=f)}for(var v=0;v<i.sitestrService.singleresult.siteTermsForLoanOCR.length;v++){var Z=i.sitestrService.singleresult.siteTermsForLoanOCR[v];null==Z.CommitmentDate&&""==Z.CommitmentDate||("ALLOTMENT_DATE"==Z.PayDateType&&null!=i.sitestrService.singleresult.AllotmentDate?(m=moment(i.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),f=moment(m).add(Z.PayDays,"days").format("YYYY MM DD"),Z.CommitmentDate=f):"TERM_COMPLETED"!=Z.PayDateType&&"ESTIMATION_DATE"!=Z.PayDateType||null==Z.EDt||(m=moment(Z.EDt).format("YYYY MM DD"),f=moment(m).add(Z.PayDays,"days").format("YYYY MM DD"),Z.CommitmentDate=f))}i.sitestrService.singleresult.siteTerms.filter(function(e){return"AGREEMENT_VALUE"==e.FType||"OTHER_INLUDEAGREEMENT"==e.FType}).forEach(function(e){parseFloat(e.Value)>0&&(i.TotalAgrAmt+=parseFloat(e.Value))}),i.sitestrService.singleresult.siteTermsForLoanOCR.forEach(function(e){parseFloat(e.Value)>0&&(i.totaltermamount+=parseFloat(e.Value))}),i.changeLoan(),i.calculateMaxGridorderAndSet()})}},{key:"changeLoan",value:function(){var e=0;this.sitestrService.singleresult.siteTerms.filter(function(e){return"AGREEMENT_VALUE"==e.FType||"OTHER_INLUDEAGREEMENT"==e.FType}).forEach(function(t){parseFloat(t.Value)>0&&(e+=parseFloat(t.Value))});var t=this.getNumeric(this.sitestrService.singleresult.LoanAmount),i=e-t;if(e>=0&&null!=this.sitestrService.singleresult.siteTermsForLoanOCR&&null!=this.sitestrService.singleresult.siteTermsForLoanOCR&&this.sitestrService.singleresult.siteTermsForLoanOCR.length>0)for(var n=0;n<this.sitestrService.singleresult.siteTermsForLoanOCR.length;n++){var r=this.sitestrService.singleresult.siteTermsForLoanOCR[n];i=parseFloat(i.toFixed(2));var o=0,s=0,l=this.getNumeric(e*r.Prcntge/100);l=parseFloat(l.toFixed(2)),i>0?i>=l?(o=0,s=parseFloat(l.toFixed(2)),i-=l):(s=i,i=0,t-=o=l-s):(s=0,o=l,t-=l),this.sitestrService.singleresult.siteTermsForLoanOCR[n].LoanAmt=o,this.sitestrService.singleresult.siteTermsForLoanOCR[n].OCRAmt=s,this.sitestrService.singleresult.siteTermsForLoanOCR[n].Value=l}}},{key:"isNumeric",value:function(e){return null!=e&&/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(e.toString())}},{key:"getNumeric",value:function(e){return this.isNumeric(e)?parseFloat(e):parseFloat("0")}},{key:"calculateAmountOnOrder",value:function(e,t,i){if(null!=e&&this.isNumeric(e)&&null!=t&&this.isNumeric(t)){var n=null;if(1==i&&this.IsAutoCalcAgrAmt){var r=this.sitestrService.singleresult.siteTermsForpayment.filter(function(e){return"AGREEMENT_VALUE"==e.FieldType});r.length>0&&(t=r[0].Value,n=this.sitestrService.singleresult.siteTermsForpayment.filter(function(e){return e.FieldValPer==r[0].order}))}else n=this.sitestrService.singleresult.siteTermsForpayment.filter(function(t){return t.FieldValPer==e});for(var o=0;o<n.length;o++){var s=n[o];s.Value=Number(t)*s.Prcntge/100,this.calculateAmountOnOrder(s.order,s.Value,0)}}}},{key:"onEstimatedDateOCR",value:function(e,t){if(null!=e.startDate)this.sitestrService.singleresult.siteTermsForLoanOCR[t].EDt=e.startDate;else{var i=new Date(e),n="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0")).concat("2023-09-20T00:00:00".slice(10));this.sitestrService.singleresult.siteTermsForLoanOCR[t].EDt=n}this.DateGetFromTerms()}},{key:"onEstimatedDateOCR_IncAgreement",value:function(e,t){this.sitestrService.singleresult.siteTermsForpayment_IncAgreement[t].CommitmentDate=e.startDate}},{key:"onAgreementdateSelect",value:function(e){this.sitestrService.singleresult.AgreementDate=e}},{key:"onAllotmentdateSelect",value:function(e){this.sitestrService.singleresult.AllotmentDate=e;for(var t=0;t<this.sitestrService.singleresult.siteTermsForLoanOCR.length;t++){var i=this.sitestrService.singleresult.siteTermsForLoanOCR[t];if("ALLOTMENT_DATE"==i.PayDateType){var n=moment(this.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),r=moment(n).add(i.PayDays,"days").format("YYYY MM DD");i.CommitmentDate=r}}for(var o=0;o<this.sitestrService.singleresult.siteTermsForpayment_IncAgreement.length;o++){var s=this.sitestrService.singleresult.siteTermsForpayment_IncAgreement[o];"ALLOTMENT_DATE"==s.PayDateType&&(n=moment(this.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),r=moment(n).add(s.PayDays,"days").format("YYYY MM DD"),s.CommitmentDate=r)}}},{key:"onSiteDateSelect",value:function(e,t){this.sitestrService.singleresult.siteTermsForSite[t].Value=e.startDate}},{key:"onSubmit",value:function(){var e=this;if(this.form.valid){if(!("sold"!==this.sitestrService.singleresult.BookSts.toLowerCase()&&"onhold"!==this.sitestrService.singleresult.BookSts.toLowerCase()&&"tenent"!==this.sitestrService.singleresult.BookSts.toLowerCase()&&"member"!==this.sitestrService.singleresult.BookSts.toLowerCase()||1!=this.sitestrService.singleresult.IsSalesEntry||null!=this.sitestrService.singleresult.CusLedgerId&&0!=this.sitestrService.singleresult.CusLedgerId))return void this.alertService.showInfo("Info","Please select customer ledger");if(("sold"===this.sitestrService.singleresult.BookSts.toLowerCase()||"onhold"===this.sitestrService.singleresult.BookSts.toLowerCase()||"tenent"===this.sitestrService.singleresult.BookSts.toLowerCase()||"member"===this.sitestrService.singleresult.BookSts.toLowerCase())&&null==this.sitestrService.singleresult.AllotmentDate)return void this.alertService.showInfo("Info","Please Enter Allotment Date");this.sitestrService.singleresult.SalBy=null!=this.sitestrService.singleresult&&null!=this.sitestrService.singleresult&&null!=this.userService.singleresult?this.userService.singleresult.UIDN:0;var t=this.sitestrService.singleresult.siteTermsForSite.concat(this.sitestrService.singleresult.siteTermsForpayment.filter(function(e){return"AGREEMENT_VALUE"==e.FType||"TOTAL_AMOUNT"==e.FType||"BROKERAGE_AMOUNT"==e.FType})).concat(this.sitestrService.singleresult.siteTermsForLoanOCR).concat(this.sitestrService.singleresult.siteTermsForpayment_IncAgreement).concat(this.sitestrService.singleresult.siteTermsForCoowner).concat(this.sitestrService.singleresult.OwnersFields).concat(this.sitestrService.singleresult.ProjectsFields);this.sitestrService.singleresult.siteTerms=t;for(var i=0;i<this.sitestrService.singleresult.siteTerms.length;i++){var n=this.sitestrService.singleresult.siteTerms[i];null==n.Value&&(n.Value="")}this.sitestrService.add(this.sitestrService.singleresult).subscribe(function(t){if(""!=t||null!=t)if("0"==t)e.alertService.showInfo("Error","There is some issue while storing data.");else{if(!e.BookingredirectOnCancel&&(""!=t||null!=t)){var i=window.open(t,"_blank");i.focus(),i.print()}e.cancel()}})}}},{key:"popupAction",value:function(e){this.showCompanyLedgerpopup=!1,null!=e&&(this.sitestrService.singleresult.CusLedgerId=e.UIDN,this.Customers=this.Customers.concat(e),this.ledSelcted())}},{key:"ngOnInit",value:function(){var e=this;this.SiteStructureId>0&&(console.log("this.SiteStructureId"+this.SiteStructureId),this.getData(2,this.SiteStructureId)),this.userService.GetAlldata(),this.companyledgerservice.isGetSubscribe=!0,this.companyledgerservice.GetAlldatawithsub(!0),this.subscription=this.companyledgerservice.resultObs.subscribe(function(){e.Customers=e.companyledgerservice.result.filter(function(e){return 0==e.IsGrp}),e.CustomerGroupLedger=e.companyledgerservice.result.filter(function(e){return 1==e.IsGrp})})}},{key:"IsTagViews",value:function(e){this.IsTagView=e}},{key:"ChangeAgreementValue",value:function(e,t){var i=this;this.IsAutoCalcAgrAmt&&this.sitestrService.singleresult.siteTerms.filter(function(e){return"AGREEMENT_VALUE"===e.FType}).forEach(function(e){var t,n,r=parseFloat(null===(t=i.sitestrService.singleresult.siteTerms.find(function(e){return"RATE_FIELD"===e.FType}))||void 0===t?void 0:t.Value)||0,o=parseFloat(null===(n=i.sitestrService.singleresult.siteTerms.find(function(e){return"RERA_AREA_FIELD"===e.FType}))||void 0===n?void 0:n.Value)||0;if(r>=0&&o>=0){var s=(r*o).toString();e.Value=s}})}},{key:"ChangeTotalAmtValue",value:function(e){var t=this.sitestrService.singleresult.siteTermsForpayment,i=t.filter(function(e){return"TOTAL_AMOUNT"===e.FType});i.length>0&&i.forEach(function(e){var i=e.TtlCal.split(/\+|-/).filter(Boolean),n=e.TtlCal.match(/[-+]/g)||[],r=0;i.forEach(function(e,i){var o=t.filter(function(t){return parseInt(e)===t.order&&"TOTAL_AMOUNT"!==t.FType&&"OTHER_INLUDEAGREEMENT"!==t.FType&&null!==t.Value&&""!==t.Value}).reduce(function(e,t){return null!==t.Value&&""!==t.Value&&(e+=parseFloat(t.Value)),e},0);0===i||"+"===n[i-1]?r+=o:"-"===n[i-1]&&(r-=o)}),e.Value=r.toString()})}},{key:"DynamicTermOption",value:function(e){this.WantToChangeTrms=e}},{key:"AddNewLoanOCRTerm",value:function(e){var t,i,n=this;"COMPLETION_DATE"==(null===(t=this.sitestrService.singleresult.siteTermsForLoanOCR[0])||void 0===t?void 0:t.PayDateType)&&null==this.newLoanOcrTerms.EDt?this.alertService.showInfo("Info","Please select estimation date"):(this.paymentTerms.filter(function(e){return e.Trms==n.newLoanOcrTerms.Trms}).length>0&&this.alertService.showInfo("Info","You already have "+this.newLoanOcrTerms.Trms+", in your LOAN OCR TERMS list. Please update the record from list instead of adding new."),this.paymentTerms.filter(function(e){return e.order==n.newLoanOcrTerms.order}).length>0&&this.alertService.showInfo("Info","You already have order number:"+this.newLoanOcrTerms.order+", in your LOAN OCR TERMS list. Please update the record from list instead of adding new."),null==this.newLoanOcrTerms.Prcntge&&(this.newLoanOcrTerms.Prcntge=0),this.newLoanOcrTerms.SiteMaster_PK_Id=this.sitestrService.singleresult.SI,this.newLoanOcrTerms.FType="AGREEMENT_TERMS",this.newLoanOcrTerms.FieldType="AGREEMENT_TERMS",this.sitestrService.singleresult.siteTermsForLoanOCR.push(this.newLoanOcrTerms),this.changeLoan(),this.newLoanOcrTerms=new s.j6,this.newLoanOcrTerms.FType="AGREEMENT_TERMS",null===(i=this.formLoanOCR)||void 0===i||i.reset()),this.calculateMaxGridorderAndSet(),this.DateGetFromTerms()}},{key:"onEstimatedateSelectLoanOCR",value:function(e){this.newLoanOcrTerms.EDt=null==e?null:moment(e).format("DD-MM-YYYY")}},{key:"RemovePaymentTerm",value:function(e,t){0==t?this.paymentTerms.splice(e,1):1==t?this.sitestrService.singleresult.siteTermsForLoanOCR.splice(e,1):this.FieldsList.splice(e,1),this.calculateMaxGridorderAndSet()}},{key:"validateInput",value:function(e,t){this.isInputTooLong[t]=e&&e.length>75,e.length>75?(this.Valid=!1,this.alertService.showInfo("Info","Input exceeds 75 characters in Reference")):this.Valid=!0}},{key:"handleCheckboxChange",value:function(){this.alertService.showError("Error","You can't off Add/Edit Terms.")}},{key:"DeleteStructure",value:function(e,t){var i=this;this.httpfunction.IsMobileview()?this.alertService.showMobileConfirm("Confirm Delete","Are you sure you want to delete this record","No","Delete").then(function(n){null!=n&&1==n.data&&(1==e?i.sitestrService.delete(t).subscribe(function(e){i.siteStrList=i.siteStrList.filter(function(e){return e.PK_Id!=t})}):i.sitestrService.DeleteBooking(t).subscribe(function(e){i.siteStrList=i.siteStrList.filter(function(e){return e.PK_Id!=t}),i.router.navigate(["/marketing/bookinglist"])}))}):this.alertService.showconfirm("Confirm","Are you sure you want to delete this record",["Yes","No"],null).subscribe(function(n){null!=n&&"Yes"==n.answer&&(1==e?i.sitestrService.delete(t).subscribe(function(e){i.siteStrList=i.siteStrList.filter(function(e){return e.PK_Id!=t})}):i.sitestrService.DeleteBooking(t).subscribe(function(e){i.siteStrList=i.siteStrList.filter(function(e){return e.PK_Id!=t}),i.router.navigate(["/marketing/bookinglist"])}))})}},{key:"AssurityFinalizeBooking",value:function(){var e=this;this.httpfunction.IsMobileview()?this.alertService.showMobileConfirm("Confirm Delete","Are you sure you want to finalize this booking? After finalization, you won't be able to edit this booking.","No","Delete").then(function(t){null!=t&&1==t.data&&e.onSubmit()}):this.alertService.showconfirm("Confirm","Are you sure you want to finalize this booking? After finalization, you won't be able to edit this booking.",["Yes","No"],null).subscribe(function(t){null!=t&&"Yes"==t.answer&&e.onSubmit()})}},{key:"DateGetFromTerms",value:function(){for(var e=0;e<this.sitestrService.singleresult.siteTermsForLoanOCR.length;e++){var t=this.sitestrService.singleresult.siteTermsForLoanOCR[e];if(null!=t.CommitmentDate||""!=t.CommitmentDate)if("ALLOTMENT_DATE"==t.PayDateType&&null!=this.sitestrService.singleresult.AllotmentDate){var i=moment(this.sitestrService.singleresult.AllotmentDate).format("YYYY MM DD"),n=moment(i).add(t.PayDays,"days").format("YYYY MM DD");t.CommitmentDate=n}else"TERM_COMPLETED"!=t.PayDateType&&"ESTIMATION_DATE"!=t.PayDateType||null==t.EDt||(t.EDt.length<=10?(i=moment(t.EDt,"DD-MM-YYYY").format("YYYY MM DD"),n=moment(i).add(t.PayDays,"days").format("YYYY MM DD"),t.CommitmentDate=n):(i=moment(t.EDt).format("YYYY MM DD"),n=moment(i).add(t.PayDays,"days").format("YYYY MM DD"),t.CommitmentDate=n))}}},{key:"addNewCustomer",value:function(e){e.close(),this.showCompanyLedgerpopup=!0}},{key:"openLedgerPopup",value:function(e){return this.ledgerIdVal=e.toString(),this.showCompanyLedgerpopup=!0,!0}},{key:"ledSelcted",value:function(){var e,t=this;this.companyledgerservice.singleresult=null,this.companyledgerservice.result=JSON.parse(this.httpfunction.getStorage("_legData"+this.CompanyId+"_"+this.SignupId)),this.companyledgerservice.singleresult=null===(e=this.companyledgerservice.result)||void 0===e?void 0:e.filter(function(e){return e.UIDN==t.sitestrService.singleresult.CusLedgerId})[0]}},{key:"toggleCollapse1",value:function(){event.preventDefault(),this.isCollapsed1=!this.isCollapsed1}},{key:"toggleCollapse2",value:function(){event.preventDefault(),this.isCollapsed2=!this.isCollapsed2}},{key:"toggleCollapse3",value:function(){event.preventDefault(),this.isCollapsed3=!this.isCollapsed3}},{key:"toggleCollapse4",value:function(){event.preventDefault(),this.isCollapsed4=!this.isCollapsed4}},{key:"toggleCollapse5",value:function(){event.preventDefault(),this.isCollapsed5=!this.isCollapsed5}},{key:"calculateMaxGridorderAndSet",value:function(){var t=Math.max.apply(Math,e(this.sitestrService.singleresult.siteTermsForLoanOCR.map(function(e){return e.order})).concat([0]));this.newLoanOcrTerms.order=t+1}},{key:"IsAlredyexistTerm",value:function(e,t){var i=null!=t?this.newLoanOcrTerms.Trms:e>=0?this.sitestrService.singleresult.siteTermsForLoanOCR[e].Trms.trim():null;if(null!==i){var n=-1!==this.sitestrService.singleresult.siteTermsForLoanOCR.findIndex(function(n,r){return null!=t?n.Trms===i:e>=0&&r!==e&&n.Trms.trim()===i});null!=e&&e>=0?this.sitestrService.singleresult.siteTermsForLoanOCR[e].IsAlreadyExist=n:this.newLoanOcrTerms.IsAlreadyExist=n}}},{key:"openChannelPartnerPopup",value:function(e){return this.ChannelPartnerIdVal="0",e.close(),this.isChannelPartnerpopupopen=!0,this.addurl("masters/ChannelPartner/Add"),this.isList=!1,!0}},{key:"ChannelPartnerAdded",value:function(e){null!=e&&(this.channelPartnerService.GetAlldata(),this.channelPartnerService.result.push(e),this.channelPartnerService.singleresult=e,this.sitestrService.singleresult.CpId=e.UIDN),this.isList=!0,this.resetUrl(),this.isChannelPartnerpopupopen=!1}},{key:"updateProperty",value:function(e,t){this.companyledgerservice.singleresult&&(this.companyledgerservice.singleresult[e]=t)}},{key:"updateAdharNo",value:function(e){this.updateProperty("AdharNo",e)}},{key:"updateName",value:function(e){this.updateProperty("FullNm",e)}},{key:"updateAddress",value:function(e){this.updateProperty("Addr",e)}},{key:"updateContact",value:function(e){this.updateProperty("CNO",e)}},{key:"updateEmail",value:function(e){this.updateProperty("Eml",e)}},{key:"updatePAN",value:function(e){this.updateProperty("PanNo",e)}},{key:"resetUrl",value:function(){var e=this;this.isList=!0,this.isList=!0;var t=this.router.url;this.route.params.subscribe(function(i){e.isList||null!=i.id&&""!=i.id&&(t=t.replace("/"+i.id,"")),e.location.go(t)}),this._sgId=0}},{key:"addurl",value:function(e){var t=this,i=e,n=this.router.url;n=(n=n.substring(0,n.lastIndexOf("/")+0)).substring(0,n.lastIndexOf("/")+0),this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(n=n.replace("/"+e.id,"")),t.location.go("".concat(n,"/").concat(i))})}},{key:"onImageAdd",value:function(e){this.sitestrService.singleresult.Imgs=[];for(var t=0;t<e.length;t++){var i=new p.Q;i.name=e[t].name,i.operationType=e[t].operationType,i.src=e[t].src,i.src=e[t].src,i.BuildingMaster_PK_Id=e[t].Booking_Pk_Id,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.sitestrService.userid,i.modifyBy=this.sitestrService.userid,i.CompanyId=this.sitestrService.getCompanyId,i.SignupId=this.sitestrService.getSignupId,i.FileLength=null==e[t].PK_Id?e[t].size:e[t].FileLength,i.PK_Id=e[t].PK_Id,this.sitestrService.singleresult.Imgs.push(i)}}},{key:"ClearUserData",value:function(){this.sitestrService.singleresult.CusLedgerId=null,this.sitestrService.singleresult.AllotmentDate=null,this.sitestrService.singleresult.AgreementDate=null,this.sitestrService.singleresult.CpId=null,this.sitestrService.singleresult.OwnersFields=null,this.sitestrService.singleresult.siteTermsForCoowner=null,this.sitestrService.singleresult.ProjectsFields=null,this.sitestrService.singleresult.TokenAmount=null,this.sitestrService.singleresult.LoanAmount=null,this.sitestrService.singleresult.BankLedger=null,this.sitestrService.singleresult.bkStatus=null,this.sitestrService.singleresult.bkStatusReason=null,this.sitestrService.singleresult.IsSalesEntry=null,this.sitestrService.singleresult.IsFinalBook=null,this.sitestrService.singleresult.BookingWiseIsIntrestOnOutstanding=null,this.sitestrService.singleresult.BookingWiseOutstandingIntrestRate=null}}]),t}()).\u0275fac=function(e){return new(e||kt)(r.Y36(h.l),r.Y36(m.P),r.Y36(f.gz),r.Y36(v.Ye),r.Y36(f.F0),r.Y36(a.Q),r.Y36(Z.Rq),r.Y36(d.K),r.Y36(A.W))},kt.\u0275cmp=r.Xpm({type:kt,selectors:[["app-sitestructure-add"]],viewQuery:function(e,t){var i;1&e&&(r.Gf(w,7),r.Gf(N,7)),2&e&&(r.iGM(i=r.CRH())&&(t.formLoanOCR=i.first),r.iGM(i=r.CRH())&&(t.form=i.first))},inputs:{isMobilePopup:"isMobilePopup",InquiryId:"InquiryId",SiteStructureId:"SiteStructureId",CustomerName:"CustomerName",customerId:"customerId",BookingredirectOnCancel:"BookingredirectOnCancel",CompanyIdforReport:"CompanyIdforReport"},outputs:{BookingredirectAction:"BookingredirectAction"},features:[r._Bn([a.Q,d.K])],decls:67,vars:33,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css","integrity","sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm","crossorigin","anonymous"],[1,"nopadding"],[1,"card","p-2"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],[1,"mt-2","mb-5"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],["id","formContainer"],[1,"row"],["class","input-group bg-danger p-2 text-white",4,"ngIf"],[1,"input-group"],[1,"md-form","col-sm-6","col-md-3"],["for","Site"],[1,"ml-1","text-danger","font-weight-bold","h5"],["name","Site","required","","bindLabel","SN","placeholder","Select Site","bindValue","UIDN",3,"virtualScroll","ngClass","items","ngModel","ngModelChange","change"],["Site","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","Status"],["name","BookStatus","placeholder","Select Status","id","BookStatus","required","",3,"ngClass","ngModel","ngModelChange"],["BookStatus","ngModel"],["value",""],["value","UnSold"],["value","OnHold"],["value","Sold"],["value","Tenent"],["value","Member"],["for","SalesBy"],["selectOnTab","true","placeholder","Select Sales By","name","SalesBy","bindLabel","FN",3,"virtualScroll","ngClass","items","ngModel","loading","ngModelChange","scrollToEnd"],["SalesBy","ngModel"],["ng-header-tmp",""],[1,"form-group","col-sm-6","col-md-1"],[1,"c-switch","c-switch-pill","c-switch-primary"],["type","checkbox",1,"c-switch-input",3,"checked","change"],["inputEl",""],[1,"c-switch-slider"],[1,"form-group","col-md-*","pl-4","ml-2"],["for","CompanyLogo"],["maxFiles","10","maxSize","2","fileExt","JPG, GIF, PNG, PDF, JPEG, DOC, DOCX",3,"filelist","uploadStatus"],["fileUpload",""],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["class","col-sm-12 text-right mt-2","id","formbtnContainer",4,"ngIf"],["class","navbar fixed-bottom navbar-expand-sm navbar-dark bg-light mt-2",4,"ngIf"],[3,"isMobilePopup","inputLedgerId","CompanyIdforReport","redirectOnCancel","redirectAction",4,"ngIf"],[3,"isMobilePopup","redirectOnCancelonChannelist","CompanyIdforReport","InputChannelPartnerId","redirectActiononChannelist",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"text-center","mb-3","LeftLi"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"text-center","mb-2","float-right"],[1,"btn","btn-link",3,"click"],[1,"input-group","bg-danger","p-2","text-white"],[1,"md-form","col-md-12","col-sm-12","text-center","font-weight-bold"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-text","text-muted"],[3,"src","alt"],["id","accordion","class","md-form col-sm-12 col-md-12","id","myAccordion1",4,"ngIf"],["id","accordion","id","myAccordion2",1,"md-form","col-sm-12","col-md-12"],[1,"card","m-0"],["id","heading2",1,"card-header","text-white","bg-primary","pt-1","pb-1"],[1,"mb-0"],["data-toggle","collapse","data-target","#collapse2",1,"btn","btn-link","custom-button",3,"click"],[1,"white-text","text-left"],[1,"white-text","font-weight-bold",2,"font-size","20px"],["id","collapse2","aria-labelledby","heading2","data-parent","#myAccordion2",1,"collapse"],[1,"row","p-2"],["id","accordion","class","md-form col-sm-12 col-md-12 mb-2",4,"ngIf"],["class","md-form col-sm-6 col-md-3",4,"ngFor","ngForOf"],["id","accordion","id","myAccordion3",1,"md-form","col-sm-12","col-md-12"],["id","heading3",1,"card-header","text-white","bg-primary","pt-1","pb-1"],["data-toggle","collapse","data-target","#collapse3",1,"btn","btn-link","custom-button",3,"click"],["id","collapse3","aria-labelledby","heading3","data-parent","#myAccordion3",1,"collapse"],["id","accordion","class","md-form col-sm-12 col-md-12","id","myAccordion4",4,"ngIf"],["id","accordion","class","md-form col-sm-12 col-md-12","id","myAccordion5",4,"ngIf"],["id","accordion","id","myAccordion1",1,"md-form","col-sm-12","col-md-12"],["id","heading1",1,"card-header","text-white","bg-primary","pt-1","pb-1"],["data-toggle","collapse","data-target","#collapse1",1,"btn","btn-link","custom-button",3,"click"],["id","collapse1","aria-labelledby","heading1","data-parent","#myAccordion1",1,"collapse"],["for","custledgename"],["class","small text-primary ml-2",4,"ngIf"],["selectOnTab","true","name","custledgename","bindLabel","LN","bindValue","UIDN","placeholder","Customer Ledger",3,"items","ngModel","loading","ngModelChange","change"],["custledgename",""],["for","AltDate"],["type","text","required","","appDatepicker","","autocomplete","off","name","AltDate","id","AltDate",1,"form-control",3,"ngClass","startDate","selected"],["AltDate",""],["for","AgrDate"],["type","text","required","","appDatepicker","","name","AgrDate","id","AgrDate",1,"form-control",3,"ngClass","startDate","selected"],["AgrDate",""],["for","txtref"],["name","CPart","id","CPart","bindLabel","CP","bindValue","UIDN","placeholder","Select Channel Partner",3,"virtualScroll","items","ngClass","ngModel","loading","scrollToEnd","ngModelChange"],["CPart","ngModel","Chnprt",""],["id","accordion","class","md-form col-sm-12 col-md-12","id","myAccordion",4,"ngIf"],["id","accordion","class","md-form col-sm-12 col-md-12",4,"ngIf"],["for","txtTokenAmount"],["type","text","name","txtTokenAmount","placeholder","Please enter Token/DownPayment Amount","id","txtTokenAmount",1,"form-control",3,"ngModel","ngModelChange"],["txtTokenAmount","ngModel"],["for","txtloanAmount"],["type","text","name","txtloanAmount","placeholder","Please Enter Loan Amount","id","txtloanAmount",1,"form-control",3,"ngModel","ngModelChange","change"],["txtloanAmount","ngModel"],["for","Bankdetail"],["selectOnTab","true","name","Bankdetail","bindLabel","BN","bindValue","UIDN","placeholder","Select Bank",3,"items","ngModel","ngModelChange"],["Bankdetail",""],["for","bkStatus"],["name","bkStatus","id","bkStatus","placeholder","Select Post Book Status",3,"ngModel","ngModelChange"],["bkStatus","ngModel"],["value","Registration Done"],["value","Booking Finalized"],["value","Postpone"],["value","In Progress"],["value","Loan Issue"],["value","Booking Cancelled"],["class","md-form col-md-3 col-sm-6",4,"ngIf"],[1,"md-form","col-sm-6","col-md-2"],["for","txtIsSales"],[1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","id","customSwitch1",1,"c-switch-input",3,"checked","change"],["for","IsFinalBook"],["type","checkbox","id","IsFinalBook",1,"c-switch-input",3,"checked","change"],["for","OutIntrest"],["type","checkbox","id","OutIntrest",1,"c-switch-input",3,"checked","disabled","change"],["class","mt-4",4,"ngIf"],[1,"small","text-primary","ml-2"],["href","javascript:void(0);",1,"addLeg",3,"click"],["ng-label-tmp",""],["ng-option-tmp",""],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["id","accordion","id","myAccordion",1,"md-form","col-sm-12","col-md-12"],["id","CusLedheading1",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#Cuscollapse1","aria-expanded","true","aria-controls","Cuscollapse1","onclick","event.preventDefault();",1,"btn","btn-link"],["id","Cuscollapse1","aria-labelledby","CusLedheading1","data-parent","#myAccordion",1,"collapse"],[1,"card-body"],["for","Aadhar"],["type","text","readonly","true","name","Aadhar","placeholder","Please enter Customer Name","value","Aadhar","id","Aadhar",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Aadhar","ngModel"],["for","txtNameOnAgr"],["type","text","readonly","true","name","txtNameOnAgr","placeholder","Please enter Customer Name","value","txtNameOnAgr","id","txtNameOnAgr",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["txtNameOnAgr","ngModel"],["for","Addr"],["type","text","readonly","true","name","Addr","placeholder","Please enter Full Address","value","Addr","id","Addr",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Addr","ngModel"],["for","CNO"],["type","text","readonly","true","name","CNO","placeholder","Please enter Contact No","value","CNO","id","CNO",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["CNO","ngModel"],["for","Eml"],["type","text","readonly","true","name","Eml","placeholder","Please enter Email","value","","id","Eml",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Eml","ngModel"],["for","PanNo"],["type","text","readonly","true","name","PanNo","placeholder","Please enter PAN","value","","id","PanNo",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["PanNo","ngModel"],["id","accordion",1,"md-form","col-sm-12","col-md-12"],["id","headingOwners",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#Ownerscollaps","aria-expanded","true","aria-controls","Ownerscollaps","onclick","event.preventDefault();",1,"btn","btn-link"],["id","Ownerscollaps","aria-labelledby","headingOwners","data-parent","#Ownerscollaps",1,"collapse"],["class","col-sm-6 col-md-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-3"],[3,"for"],["type","text",1,"form-control",3,"placeholder","ngModel","name","id","ngModelChange"],["termsvaluesown","ngModel"],["bindLabel","$this","bindValue","$this",3,"name","id","items","ngClass","placeholder","ngModel","ngModelChange",4,"ngIf"],["bindLabel","$this","bindValue","$this",3,"name","id","items","ngClass","placeholder","ngModel","ngModelChange"],["termsValuesOwns","ngModel"],["id","headingOwner",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#Ownercollapse2","aria-expanded","true","aria-controls","Ownercollapse2","onclick","event.preventDefault();",1,"btn","btn-link"],["id","Ownercollapse2","aria-labelledby","headingOwner","data-parent","#Ownercollapse2",1,"collapse"],[1,"md-form"],["termsValues","ngModel"],[1,"md-form","col-md-3","col-sm-6"],["for","bkStatusReason"],["autofocus","","name","bkStatusReason","id","bkStatusReason","placeholder","Enter Remarks",1,"md-textarea","form-control",3,"ngClass","ngModel","ngModelChange"],["bkStatusReason","ngModel"],[1,"mt-4"],["for","BookingWiseOutstandingIntrestRate",1,"text-primary"],["type","text","name","BookingWiseOutstandingIntrestRate","placeholder","Please Enter IntestRate","id","BookingWiseOutstandingIntrestRate",1,"form-control",3,"ngModel","ngModelChange"],["BookingWiseOutstandingIntrestRate","ngModel"],["id","accordion",1,"md-form","col-sm-12","col-md-12","mb-2"],["id","headingProject",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#Projectscollaps","aria-expanded","true","aria-controls","Projectscollaps","onclick","event.preventDefault();",1,"btn","btn-link"],["id","Projectscollaps","aria-labelledby","headingProject","data-parent","#Projectscollaps",1,"collapse"],["class","small text-primary",4,"ngIf"],["class","ml-1 text-danger small font-weight-bold h6","style","font-size: 14px;",4,"ngIf"],["type","text","class","form-control",3,"placeholder","ngModel","name","id","ngModelChange","keyup",4,"ngIf"],["class","ml-1 text-danger font-weight-bold h6","style","font-size: 14px;",4,"ngIf"],["type","text","class","form-control","appDatepicker","","autocomplete","off",3,"placeholder","name","id","startDate","selectedindex",4,"ngIf"],[1,"small","text-primary"],[1,"ml-1","text-danger","small","font-weight-bold","h6",2,"font-size","14px"],["type","text",1,"form-control",3,"placeholder","ngModel","name","id","ngModelChange","keyup"],[1,"ml-1","text-danger","font-weight-bold","h6",2,"font-size","14px"],["termsValuesSitFie","ngModel"],["type","text","appDatepicker","","autocomplete","off",1,"form-control",3,"placeholder","name","id","startDate","selectedindex"],["termsValues",""],["type","text","class","form-control",3,"placeholder","ngModel","name","id","keyup","ngModelChange","change",4,"ngIf"],["style","font-size: 8px;","class","text-danger font-weight-bold",4,"ngIf"],["disabled","","type","text","class","form-control",3,"placeholder","ngModel","name","id","ngModelChange","change",4,"ngIf"],["type","text",1,"form-control",3,"placeholder","ngModel","name","id","keyup","ngModelChange","change"],[1,"text-danger","font-weight-bold",2,"font-size","8px"],["disabled","","type","text",1,"form-control",3,"placeholder","ngModel","name","id","ngModelChange","change"],["id","accordion","id","myAccordion4",1,"md-form","col-sm-12","col-md-12"],["id","heading4",1,"card-header","text-white","bg-primary","pt-1","pb-1"],["data-toggle","collapse","data-target","#collapse4",1,"btn","btn-link","custom-button",3,"click"],["id","collapse4","aria-labelledby","heading4","data-parent","#myAccordion4",1,"collapse"],["class","col-sm-12 col-md-12 table-responsive",4,"ngIf"],[1,"col-sm-12","col-md-12","table-responsive"],[1,"table-sm","table","table-striped","col-sm-12","col-md-12",2,"margin-bottom","40px"],[1,"grey","lighten-1","text-black","font-weight-bold"],["type","text","placeholder","Enter Total amount",1,"form-control",3,"ngModel","name","id","ngModelChange"],["termsValues_Agr","ngModel"],["type","text","appDatepicker","","required","",1,"form-control",3,"startDate","name","id","selectedindex"],["CompDate_Agr",""],["id","accordion","id","myAccordion5",1,"md-form","col-sm-12","col-md-12"],["id","heading5",1,"card-header","text-white","bg-primary","pt-1","pb-1"],["data-toggle","collapse","data-target","#collapse5",1,"btn","btn-link","custom-button",3,"click"],["id","collapse5","aria-labelledby","heading5","data-parent","#myAccordion5",1,"collapse"],["id","accordion",1,"mt-4","md-form","col-sm-12","col-md-12"],["id","headingDyTerms",1,"card-header","pt-1","pb-1"],["data-toggle","collapse","data-target","#DyTerms","aria-expanded","true","aria-controls","DyTerms","onclick","event.preventDefault();",1,"btn","btn-link"],["id","DyTerms","aria-labelledby","headingDyTerms","data-parent","#DyTerms",1,"collapse"],["class","form-group col",4,"ngIf"],["name","formLoanOCR","novalidate","",3,"ngSubmit",4,"ngIf"],["class","table-responsive m-2",4,"ngIf"],["class","mt-3 col-sm-12 col-md-12 table-responsive",4,"ngIf"],[1,"form-group","col"],["for","IsDynBookTrm"],["class","ml-1 text-danger font-weight-bold h5",4,"ngIf"],["type","checkbox","id","IsDynBookTrm",1,"c-switch-input",3,"checked","disabled","change"],["name","formLoanOCR","novalidate","",3,"ngSubmit"],["Termform","ngForm"],[1,"md-form","col-md-2","col-sm-6"],["for","orforsite1",1,"mr-2"],["type","number","placeholder","Enter Order","name","orforsite1","id","orforsite1","disabled","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["orforsite1","ngModel"],["for","termsfrsite1",1,"mr-2"],["type","text","placeholder","Enter Terms","name","termsforsite1","id","termsfrsite1",1,"form-control",3,"ngClass","ngModel","ngModelChange","change"],["termsforsite1","ngModel"],["for","perGST1",1,"mr-2"],["type","number","placeholder","Enter Percentage","required","","name","perGST1","id","perGST1",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["perGST1","ngModel"],[1,"md-form","col-md-2","col-sm-3"],["for","payDateType1",1,"mr-2"],["name","payDateType1","required","","placeholder","Payment Date Type",3,"ngClass","ngModel","ngModelChange"],["payDateType1","ngModel"],["value","ALLOTMENT_DATE"],["value","ESTIMATION_DATE"],["value","TERM_COMPLETED"],["class","md-form col-md-2 col-sm-3",4,"ngIf"],["for","PayDays1",1,"mr-2"],["type","number","placeholder","Enter Days","required","","name","PayDays1","id","PayDays1",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["PayDays1","ngModel"],["for","orref1",1,"mr-2"],["type","text","placeholder","Enter Reference Name","required","","name","orref1","id","orref1",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["orref1","ngModel"],["for","Tokenfr1site",1,"mr-2"],["type","text","placeholder","Enter Token","name","Tokenfr1site","id","Tokenfr1site","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Tokenfr1site","ngModel"],["type","submit",1,"btn","btn-primary","mt-4"],["for","Estdate1",1,"mr-2"],["type","text","placeholder","Select Estimated Date","aria-colspan","form-control","required","","appDatepicker","","autocomplete","off","autocomplete","none","name","EDt","id","Estdate1",1,"form-control",3,"ngClass","ngModel","startDate","selected","ngModelChange"],["EDt","ngModel"],[1,"table-responsive","m-2"],[1,"table","table-bordered"],["colspan","12"],[2,"min-width","50px"],[2,"min-width","250px"],[2,"min-width","75px"],[2,"min-width","130px"],["type","number","name","txtOrder","id","txtOrder",1,"form-control",3,"ngModel","name","ngModelChange"],["txtOrder",""],["type","text",1,"form-control","minWidth",3,"ngClass","ngModel","name","id","ngModelChange","change"],["pterms","ngModel"],["type","number",1,"form-control",3,"ngModel","name","id","ngModelChange","change"],["txtperc11",""],["placeholder","Payment Date Type",3,"name","ngModel","ngModelChange"],["PDateType11","ngModel"],["class","md-form",4,"ngIf"],["type","number",1,"form-control",3,"ngModel","name","id","change","ngModelChange"],["txtPayDays11",""],["type","text",1,"form-control",3,"ngModel","name","id","input","ngModelChange"],["txtRef11",""],["class","text-danger font-weight-bold",4,"ngIf"],["type","text",1,"form-control",3,"ngModel","name","id","ngModelChange"],["txtRef12",""],["href","javascript:void(0)",3,"click"],["autocomplete","off","autofocus","","type","text","appDatepicker","","required","","placeholder","Select Date",1,"form-control","datecontrol",3,"ngClass","startDate","name","id","selected"],["Estimateddate11",""],[1,"text-danger","font-weight-bold"],[1,"mt-3","col-sm-12","col-md-12","table-responsive"],[1,"table-sm","table","table-bordered","table-striped","col-sm-12","col-md-12",2,"margin-bottom","40px"],["type","text","placeholder","Enter Total amount",1,"form-control",3,"readonly","ngModel","name","id","ngModelChange"],["termsValues_OCR","ngModel"],["type","text","placeholder","Enter OCR","class","form-control",3,"readonly","ngModel","name","id","ngModelChange",4,"ngIf"],["type","text","placeholder","Enter Loan Amount","class","form-control",3,"readonly","ngModel","name","id","ngModelChange",4,"ngIf"],["type","text","appDatepicker","","required","","name","term_115{i}}","id","term_115{i}}",1,"form-control",3,"disabled","startDate","selectedindex"],["CompDate_OCR",""],["type","text","placeholder","Enter OCR",1,"form-control",3,"readonly","ngModel","name","id","ngModelChange"],["type","text","placeholder","Enter Loan Amount",1,"form-control",3,"readonly","ngModel","name","id","ngModelChange"],["termsValues_Loan","ngModel"],["id","formbtnContainer",1,"col-sm-12","text-right","mt-2"],["href","javascript:void(0)","class","btn btn-danger mr-1",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","mr-1",3,"hidden"],["href","javascript:void(0)",1,"btn","btn-dark",3,"click"],["href","javascript:void(0)",1,"btn","btn-danger","mr-1",3,"click"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light","mt-2"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary"],[1,"nav-item","active","mr-2"],[3,"isMobilePopup","inputLedgerId","CompanyIdforReport","redirectOnCancel","redirectAction"],[3,"isMobilePopup","redirectOnCancelonChannelist","CompanyIdforReport","InputChannelPartnerId","redirectActiononChannelist"]],template:function(e,t){if(1&e){var i=r.EpF();r._UZ(0,"link",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.YNc(3,_,10,0,"div",3),r.YNc(4,D,12,0,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"form",6,7),r.NdJ("ngSubmit",function(){r.CHM(i);var e=r.MAs(7);return t.sitestrService.singleresult.IsFinalBook?e.form.valid&&t.AssurityFinalizeBooking():e.form.valid&&t.onSubmit()}),r.ynx(8,8),r.TgZ(9,"div",9),r.YNc(10,P,3,0,"div",10),r.TgZ(11,"div",11),r.TgZ(12,"div",12),r.TgZ(13,"label",13),r._uU(14,"Site"),r.TgZ(15,"span",14),r._uU(16,"*"),r.qZA(),r.qZA(),r.TgZ(17,"ng-select",15,16),r.NdJ("ngModelChange",function(e){return t.sitestrService.singleresult.SI=e})("change",function(e){return t.sitestrService.singleresult.SI>0&&t.SiteChange(e)}),r.qZA(),r.YNc(19,U,2,1,"div",17),r.qZA(),r.TgZ(20,"div",12),r.TgZ(21,"label",18),r._uU(22,"Status"),r.TgZ(23,"span",14),r._uU(24,"*"),r.qZA(),r.qZA(),r.TgZ(25,"ng-select",19,20),r.NdJ("ngModelChange",function(e){return t.sitestrService.singleresult.BookSts=e}),r.TgZ(27,"ng-option",21),r._uU(28,"Select Booking Status"),r.qZA(),r.TgZ(29,"ng-option",22),r._uU(30,"UnSold"),r.qZA(),r.TgZ(31,"ng-option",23),r._uU(32,"OnHold"),r.qZA(),r.TgZ(33,"ng-option",24),r._uU(34,"Sold"),r.qZA(),r.TgZ(35,"ng-option",25),r._uU(36,"Tenent"),r.qZA(),r.TgZ(37,"ng-option",26),r._uU(38,"Member"),r.qZA(),r.qZA(),r.YNc(39,L,2,1,"div",17),r.qZA(),r.TgZ(40,"div",12),r.TgZ(41,"label",27),r._uU(42,"Sales By"),r.qZA(),r.TgZ(43,"ng-select",28,29),r.NdJ("ngModelChange",function(e){return t.userService.singleresult=e})("scrollToEnd",function(){return t.userService.ScrollDown()}),r.YNc(45,J,2,2,"ng-template",30),r.qZA(),r.YNc(46,R,2,1,"div",17),r.qZA(),r.TgZ(47,"div",31),r.TgZ(48,"strong",18),r._uU(49,"Is TagView"),r.qZA(),r.TgZ(50,"div"),r.TgZ(51,"label",32),r.TgZ(52,"input",33,34),r.NdJ("change",function(){r.CHM(i);var e=r.MAs(53);return t.IsTagViews(e.checked)}),r.qZA(),r._UZ(54,"span",35),r.qZA(),r.qZA(),r.qZA(),r.TgZ(55,"div",36),r.TgZ(56,"label",37),r._uU(57,"Image"),r.qZA(),r.TgZ(58,"div",11),r.TgZ(59,"app-file-upload",38,39),r.NdJ("uploadStatus",function(e){return t.onImageAdd(e)}),r.YNc(61,Q,2,2,"ng-container",40),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(62,bt,32,16,"div",41),r.BQk(),r.YNc(63,xt,7,5,"div",42),r.YNc(64,Ct,8,0,"nav",43),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(65,It,1,4,"app-companyledger-addedit",44),r.YNc(66,qt,1,4,"app-channel-partner",45)}if(2&e){var n=r.MAs(7),o=r.MAs(18),s=r.MAs(26),l=r.MAs(44);r.xp6(1),r.Udp("display",t.showCompanyLedgerpopup||t.isChannelPartnerpopupopen?"none":"block"),r.xp6(2),r.Q6J("ngIf",!t.sitestrService.isMobile),r.xp6(1),r.Q6J("ngIf",t.sitestrService.isMobile),r.xp6(6),r.Q6J("ngIf",t.IsFinalBooking),r.xp6(7),r.Q6J("virtualScroll",!0)("ngClass",r.VKq(27,ce,n.submitted&&o.invalid))("items",t.siteservice.result)("ngModel",t.sitestrService.singleresult.SI),r.xp6(2),r.Q6J("ngIf",n.submitted&&o.invalid),r.xp6(6),r.Q6J("ngClass",r.VKq(29,ce,n.submitted&&s.invalid))("ngModel",t.sitestrService.singleresult.BookSts),r.xp6(14),r.Q6J("ngIf",n.submitted&&s.invalid),r.xp6(4),r.Q6J("virtualScroll",!0)("ngClass",r.VKq(31,ce,n.submitted&&l.invalid))("items",t.userService.result)("ngModel",t.userService.singleresult)("loading",t.userService.loading),r.xp6(3),r.Q6J("ngIf",n.submitted&&l.invalid),r.xp6(6),r.Q6J("checked",1==t.IsTagView),r.xp6(7),r.Q6J("filelist",t.files),r.xp6(2),r.Q6J("ngForOf",t.files),r.xp6(1),r.Q6J("ngIf",null!=t.sitestrService.singleresult.SI),r.xp6(1),r.Q6J("ngIf",!t.sitestrService.isMobile),r.xp6(1),r.Q6J("ngIf",t.sitestrService.isMobile),r.xp6(1),r.Q6J("ngIf",t.showCompanyLedgerpopup),r.xp6(1),r.Q6J("ngIf",t.isChannelPartnerpopupopen)}},directives:[v.O5,T._Y,T.JL,T.F,b.u,S.w9,T.Q7,v.mk,T.JJ,T.On,x.x,S.xv,S.A3,C.Y,v.sg,I.gu,q.q,T.Fj,S.bb,S.Z2,k.g,T.wV,y.k,M.p],pipes:[v.i8,v.JJ],styles:[".white-text[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.custom-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:left}.custom-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:right}"]}),kt)},60181:function(e,t,r){r.d(t,{d:function(){return wn}});var s,a=r(64762),d=r(33018),p=r(14254),h=r(3306),m=r(40411),f=r(82316),v=r(32364),Z=r(27541),A=r(24498),T=r(41895),b=r(78980),S=r(89525),x=r(92859),C=r(39302),I=r(89401),q=r(12868),k=r(39478),y=r(44667),M=r(38583),w=r(43647),N=r(3679),_=r(6642),D=r(58679),P=r(66496),O=r(85895),U=r(10743),E=r(87520),L=r(21974),J=r(37919),F=r(48429),R=r(91113),Q=r(25575),B=r(62411),Y=r(66203),G=r(85121),H=function(e){o(i,e);var t=l(i);function i(){var e;return u(this,i),(e=t.apply(this,arguments)).IsDoccharge=!1,e.Ismainchrge=!1,e.Isothchar=!1,e.agrval=0,e.FltCst=0,e.agrledId=null,e.GSTLedId=null,e.StmpLedId=null,e.docledId=null,e.MaintledId=null,e.Othval=0,e.OthLedId=null,e.BankId=null,e.BankName="",e.LoanAmt=0,e.p_Terms=[],e.BkNoc="",e.AgreementLetter="",e.AllotmentLetter="",e.RegNo="",e.TtlAmt=0,e.ISFAgree=!1,e.IsDueDt=!1,e.IsSJ=!0,e.rcvAmt=0,e.DemandLetter="",e.OtherGSTLedId=null,e.carParkingLedId=null,e.buildingProtectionLedId=null,e.addCoOwner=!1,e}return g(i)}(r(61362).X),V=g(function e(){u(this,e),this.OCRsplit=!1,this.spitOfIndex=-1,this.PaytpId=""}),K=r(78446),j=r(91841),W=r(86845),z=(s=function(e){o(i,e);var t=l(i);function i(e,n,r,o){var s;return u(this,i),(s=t.call(this,e,n,r,o))._config=n,s}return g(i,[{key:"GetAlldata",value:function(){n(c(i.prototype),"GetAlldata",this).call(this,v.IH.BookingForm_GetAll)}},{key:"getById",value:function(e){return n(c(i.prototype),"getById",this).call(this,e,v.IH.BookingForm_GetById)}},{key:"Update",value:function(e){return n(c(i.prototype),"edit",this).call(this,e,v.IH.BookingForm_Update)}},{key:"GenerateDemand",value:function(e,t,r,o){return n(c(i.prototype),"getById",this).call(this,e+"/"+t+"/"+r+"/"+o,v.IH.BookingForm_GenerateDemand)}},{key:"add",value:function(e){return n(c(i.prototype),"add",this).call(this,e,v.IH.BookingForm_Add)}},{key:"directDelete",value:function(e,t){return n(c(i.prototype),"directDelete",this).call(this,e,v.IH.BookingForm_Delete,t,!1)}},{key:"GenerateNOC",value:function(e,t,r){return n(c(i.prototype),"getById",this).call(this,e+"/"+t+"/"+r,v.IH.BookingForm_GenerateNOC)}},{key:"GenerateAgreement",value:function(e,t,r){return n(c(i.prototype),"getById",this).call(this,e+"/"+t+"/"+r,v.IH.BookingForm_GenerateAgreement)}},{key:"AddImage",value:function(e,t){return n(c(i.prototype),"changeInquirySite",this).call(this,0,t,e,v.IH.BookingForm_AddImageDocument)}}]),i}(K.a),s.\u0275fac=function(e){return new(e||s)(d.LFG(j.eN),d.LFG(v.De),d.LFG(I.Rq),d.LFG(W.D))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s),X=r(57475),ee=r(7638),te=r(63713),ie=r(27317),ne=r(2499),re=r(3001),oe=r(12366),se=r(11661),le=r(3359),ae=["txtNameOnAgreement"],ce=["f"];function ue(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",189),d.TgZ(1,"ul",190),d.TgZ(2,"li",191),d.TgZ(3,"button",192),d.NdJ("click",function(){return d.CHM(i),d.oxw().cancel()}),d._UZ(4,"i",193),d.qZA(),d.qZA(),d.TgZ(5,"li",194),d.TgZ(6,"strong"),d._uU(7,"Booking"),d.qZA(),d.TgZ(8,"small"),d._uU(9," Add/Edit"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}}function de(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",195),d.TgZ(1,"ul",190),d.TgZ(2,"li",196),d.TgZ(3,"ion-icon",197),d.NdJ("click",function(){return d.CHM(i),d.oxw().cancel()}),d.qZA(),d.qZA(),d.TgZ(4,"li",198),d.TgZ(5,"strong"),d._uU(6,"Booking"),d.qZA(),d.TgZ(7,"small"),d._uU(8," Add/Edit"),d.qZA(),d.qZA(),d.TgZ(9,"a",199),d.NdJ("click",function(e){return d.CHM(i),d.oxw(),d.MAs(5).onSubmit(e)}),d.TgZ(10,"span"),d._uU(11),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(11),d.Oqu(n.saveText)}}function ge(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Aggrement Name is required"),d.qZA())}function pe(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,ge,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(39);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function he(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"small",201),d.TgZ(1,"a",202),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(),t=d.MAs(45);return e.addNewCustomer(t)}),d._uU(2," Add New Customer "),d.qZA(),d.qZA()}}function me(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Required"),d.qZA())}function fe(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,me,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(51);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function ve(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Required"),d.qZA())}function Ze(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,ve,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(57);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Ae(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Required"),d.qZA())}function Te(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1," Invalid PAN number "),d.qZA())}function be(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,Ae,2,0,"div",163),d.YNc(2,Te,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(63);d.xp6(1),d.Q6J("ngIf",i.errors.required),d.xp6(1),d.Q6J("ngIf",i.hasError("pattern"))}}function Se(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Required"),d.qZA())}function xe(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1," Invalid Aadhar number "),d.qZA())}function Ce(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,Se,2,0,"div",163),d.YNc(2,xe,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(69);d.xp6(1),d.Q6J("ngIf",i.errors.required),d.xp6(1),d.Q6J("ngIf",i.hasError("pattern"))}}function Ie(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter date"),d.qZA())}function qe(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,Ie,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(75);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function ke(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter referance"),d.qZA())}function ye(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,ke,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(81);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Me(e,t){if(1&e&&(d.TgZ(0,"small",201),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.AsE(" Loaded ",i.emailtemp.result.length," of ",i.emailtemp.totalItems," ")}}function we(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter rera area"),d.qZA())}function Ne(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,we,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(110);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function _e(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter Sale area"),d.qZA())}function De(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,_e,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(114);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Pe(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter base rate"),d.qZA())}function Oe(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,Pe,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(118);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Ue(e,t){1&e&&d._UZ(0,"div",203)}function Ee(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function Le(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,Ee,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(136);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Je(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function Fe(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,Je,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(145);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Re(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function Qe(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,Re,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(157);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Be(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function Ye(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,Be,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(169);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Ge(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function He(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,Ge,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(175);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Ve(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter value"),d.qZA())}function Ke(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,Ve,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(181);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function $e(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter value"),d.qZA())}function je(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,$e,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(187);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function We(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter value"),d.qZA())}function ze(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,We,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(193);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Xe(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function et(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,Xe,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(199);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function tt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function it(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,tt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(205);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function nt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function rt(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,nt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(211);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function ot(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter val"),d.qZA())}function st(e,t){if(1&e&&(d.TgZ(0,"div",203),d.YNc(1,ot,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(217);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function lt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please select agreement Ledger "),d.qZA())}function at(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,lt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(229);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function ct(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter Ledger"),d.qZA())}function ut(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,ct,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(237);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function dt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please select field"),d.qZA())}function gt(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,dt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(245);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function pt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please select field"),d.qZA())}function ht(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,pt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(245);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function mt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please select field"),d.qZA())}function ft(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,mt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(245);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function vt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please select field"),d.qZA())}function Zt(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,vt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(245);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function At(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please select field"),d.qZA())}function Tt(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,At,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(277);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function bt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please select Bank"),d.qZA())}function St(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,bt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(285);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}var xt=function(e){return{"is-invalid":e}};function Ct(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"input",212,213),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().$implicit.AmtVal=e}),d.qZA()}if(2&e){var n=d.MAs(1),r=d.oxw(),o=r.index,s=r.$implicit;d.oxw(2);var l=d.MAs(5);d.MGl("name","Amount__",o,""),d.MGl("id","amunttxt__",o,""),d.Q6J("ngClass",d.VKq(4,xt,l.submitted&&n.invalid))("ngModel",s.AmtVal)}}function It(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"input",214,215),d.NdJ("selectedindex",function(e){d.CHM(i);var t=d.oxw().index;return d.oxw(2).onDueDchkDateSelect(e,t)}),d.ALo(2,"date"),d.qZA()}if(2&e){var n=d.MAs(1),r=d.oxw(),o=r.index,s=r.$implicit,l=d.oxw(2),a=d.MAs(5);d.MGl("name","DueD__",o,""),d.MGl("id","DueD__",o,""),d.Q6J("ngClass",d.VKq(8,xt,a.submitted&&n.invalid))("ngModel",d.xi3(2,5,s.DueD,"dd-MM-yyyy"))("required",s.AmtVal>0&&1==l.bookingservice.singleresult.IsCommdate)}}function qt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"input",216,217),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().$implicit.OCRAmtVal=e}),d.qZA()}if(2&e){var n=d.MAs(1),r=d.oxw(),o=r.index,s=r.$implicit;d.oxw(2);var l=d.MAs(5);d.MGl("name","OCRAmount__",o,""),d.MGl("id","OCRamunttxt__",o,""),d.Q6J("disabled",1==s.OCRsplit)("ngClass",d.VKq(5,xt,l.submitted&&n.invalid))("ngModel",s.OCRAmtVal)}}function kt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"input",218,219),d.NdJ("selectedindex",function(e){d.CHM(i);var t=d.oxw().index;return d.oxw(2).onOCRDuechkDateSelect(e,t)}),d.ALo(2,"date"),d.qZA()}if(2&e){var n=d.MAs(1),r=d.oxw(),o=r.index,s=r.$implicit,l=d.oxw(2),a=d.MAs(5);d.MGl("name","OCRDueD__",o,""),d.MGl("id","OCRDueD__",o,""),d.Q6J("ngClass",d.VKq(8,xt,a.submitted&&n.invalid))("ngModel",d.xi3(2,5,s.OCRDueD,"dd-MM-yyyy"))("required",s.OCRAmtVal>0&&0==s.OCRsplit&&1==l.bookingservice.singleresult.IsCommdate)}}function yt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"a",220),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(),t=e.$implicit,n=e.index;return d.oxw(2).addSplitPaymentTerm(t.index,n)}),d._uU(1," Split Amount "),d.qZA()}}function Mt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"a",221),d.NdJ("click",function(){d.CHM(i);var e=d.oxw().$implicit;return d.oxw(2).removePaymentTerm(e.index)}),d._uU(1," Delete "),d.qZA()}}function wt(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"tr"),d.TgZ(2,"td"),d._uU(3),d.qZA(),d.TgZ(4,"td",204),d.YNc(5,Ct,2,6,"input",205),d.qZA(),d.TgZ(6,"td",204),d.YNc(7,It,3,10,"input",206),d.qZA(),d.TgZ(8,"td",204),d.YNc(9,qt,2,7,"input",207),d.qZA(),d.TgZ(10,"td",208),d.YNc(11,kt,3,10,"input",209),d.qZA(),d.TgZ(12,"td"),d.YNc(13,yt,2,0,"a",210),d.YNc(14,Mt,2,0,"a",211),d.qZA(),d.qZA(),d.BQk()),2&e){var i=t.$implicit,n=d.oxw(2);d.xp6(1),d.ekj("bg-gray-300",i.OCRsplit||-1!=i.spitOfIndex),d.xp6(2),d.Oqu(i.Nurr),d.xp6(2),d.Q6J("ngIf",-1==i.spitOfIndex),d.xp6(2),d.Q6J("ngIf",-1==i.spitOfIndex&&1==n.bookingservice.singleresult.IsCommdate),d.xp6(2),d.Q6J("ngIf","LOAN-OCR"==i.PaytpId),d.xp6(2),d.Q6J("ngIf",0==i.OCRsplit&&"LOAN-OCR"==i.PaytpId&&1==n.bookingservice.singleresult.IsCommdate),d.xp6(2),d.Q6J("ngIf",-1==i.spitOfIndex&&"LOAN-OCR"==i.PaytpId),d.xp6(1),d.Q6J("ngIf","LOAN-OCR"==i.PaytpId)}}function Nt(e,t){if(1&e&&(d.ynx(0),d.YNc(1,wt,15,9,"ng-container",165),d.BQk()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngForOf",i.bookingservice.singleresult.p_Terms)("ngForTrackBy",i.indexTracker)}}function _t(e,t){if(1&e&&(d.TgZ(0,"div",222),d._uU(1,"TOTAL "),d.TgZ(2,"b"),d._uU(3),d.qZA(),d._uU(4," WORK COMPLETED, RECEIVABLE OCR AMOUNT IS: "),d.TgZ(5,"b"),d._uU(6),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(3),d.hij("",i.cmWrkPr,"%"),d.xp6(3),d.Oqu(i.DueAmtcmWrkPr)}}function Dt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"input",212,213),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).$implicit.AmtVal=e}),d.qZA()}if(2&e){var n=d.MAs(1),r=d.oxw(2),o=r.index,s=r.$implicit;d.oxw();var l=d.MAs(5);d.MGl("name","Amount__",o,""),d.MGl("id","amunttxt__",o,""),d.Q6J("ngClass",d.VKq(4,xt,l.submitted&&n.invalid))("ngModel",s.AmtVal)}}function Pt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"input",214,215),d.NdJ("selectedindex",function(e){d.CHM(i);var t=d.oxw(2).index;return d.oxw().onDueDchkDateSelect(e,t)}),d.ALo(2,"date"),d.qZA()}if(2&e){var n=d.MAs(1),r=d.oxw(2),o=r.index,s=r.$implicit,l=d.oxw(),a=d.MAs(5);d.MGl("name","DueD__",o,""),d.MGl("id","DueD__",o,""),d.Q6J("ngClass",d.VKq(8,xt,a.submitted&&n.invalid))("ngModel",d.xi3(2,5,s.DueD,"dd-MM-yyyy"))("required",s.AmtVal>0&&1==l.bookingservice.singleresult.IsCommdate)}}function Ot(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"input",216,217),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).$implicit.OCRAmtVal=e}),d.qZA()}if(2&e){var n=d.MAs(1),r=d.oxw(2),o=r.index,s=r.$implicit;d.oxw();var l=d.MAs(5);d.MGl("name","OCRAmount__",o,""),d.MGl("id","OCRamunttxt__",o,""),d.Q6J("disabled",1==s.OCRsplit)("ngClass",d.VKq(5,xt,l.submitted&&n.invalid))("ngModel",s.OCRAmtVal)}}function Ut(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"input",218,219),d.NdJ("selectedindex",function(e){d.CHM(i);var t=d.oxw(2).index;return d.oxw().onOCRDuechkDateSelect(e,t)}),d.ALo(2,"date"),d.qZA()}if(2&e){var n=d.MAs(1),r=d.oxw(2),o=r.index,s=r.$implicit,l=d.oxw(),a=d.MAs(5);d.MGl("name","OCRDueD__",o,""),d.MGl("id","OCRDueD__",o,""),d.Q6J("ngClass",d.VKq(8,xt,a.submitted&&n.invalid))("ngModel",d.xi3(2,5,s.OCRDueD,"dd-MM-yyyy"))("required",s.OCRAmtVal>0&&0==s.OCRsplit&&1==l.bookingservice.singleresult.IsCommdate)}}function Et(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"a",220),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(2),t=e.$implicit,n=e.index;return d.oxw().addSplitPaymentTerm(t.index,n)}),d._uU(1," Split Amount "),d.qZA()}}function Lt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"a",221),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(2).$implicit;return d.oxw().removePaymentTerm(e.index)}),d._uU(1," Delete "),d.qZA()}}function Jt(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"tr"),d.TgZ(2,"td"),d._uU(3),d.qZA(),d.TgZ(4,"td",204),d.YNc(5,Dt,2,6,"input",205),d.qZA(),d.TgZ(6,"td",204),d.YNc(7,Pt,3,10,"input",206),d.qZA(),d.TgZ(8,"td",204),d.YNc(9,Ot,2,7,"input",207),d.qZA(),d.TgZ(10,"td",208),d.YNc(11,Ut,3,10,"input",209),d.qZA(),d.TgZ(12,"td"),d.YNc(13,Et,2,0,"a",210),d.YNc(14,Lt,2,0,"a",211),d.qZA(),d.qZA(),d.BQk()),2&e){var i=d.oxw().$implicit,n=d.oxw();d.xp6(1),d.ekj("bg-gray-300",i.OCRsplit||-1!=i.spitOfIndex),d.xp6(2),d.Oqu(i.Nurr),d.xp6(2),d.Q6J("ngIf",-1==i.spitOfIndex),d.xp6(2),d.Q6J("ngIf",-1==i.spitOfIndex&&1==n.bookingservice.singleresult.IsCommdate),d.xp6(2),d.Q6J("ngIf","LOAN-OCR"==i.PaytpId),d.xp6(2),d.Q6J("ngIf",0==i.OCRsplit&&"LOAN-OCR"==i.PaytpId&&1==n.bookingservice.singleresult.IsCommdate),d.xp6(2),d.Q6J("ngIf",-1==i.spitOfIndex&&"LOAN-OCR"==i.PaytpId),d.xp6(1),d.Q6J("ngIf","LOAN-OCR"==i.PaytpId)}}function Ft(e,t){if(1&e&&(d.ynx(0),d.YNc(1,Jt,15,9,"ng-container",163),d.BQk()),2&e){var i=t.$implicit,n=d.oxw();d.xp6(1),d.Q6J("ngIf",1==n.bookingservice.singleresult.IsDueDt&&0==i.flag&&"LOAN-OCR"==i.PaytpId)}}function Rt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter Nurration"),d.qZA())}function Qt(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,Rt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(344);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Bt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please select payment type"),d.qZA())}function Yt(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,Bt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(350);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Gt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter amount"),d.qZA())}function Ht(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,Gt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(360);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Vt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter duedate."),d.qZA())}function Kt(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,Vt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(366);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function $t(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter amount"),d.qZA())}function jt(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,$t,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(5);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function Wt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",223),d.TgZ(1,"label",126),d._uU(2,"OCR Amount:"),d.qZA(),d.TgZ(3,"div",224),d.TgZ(4,"input",225,226),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().Terms.OCRAmtVal=e}),d.qZA(),d.YNc(6,jt,2,1,"div",22),d.qZA(),d.qZA()}if(2&e){var n=d.MAs(5),r=d.oxw(),o=d.MAs(5);d.xp6(4),d.Q6J("ngClass",d.VKq(3,xt,o.submitted&&n.invalid))("ngModel",r.Terms.OCRAmtVal),d.xp6(2),d.Q6J("ngIf",n.invalid)}}function zt(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Please enter duedate."),d.qZA())}function Xt(e,t){if(1&e&&(d.TgZ(0,"div",200),d.YNc(1,zt,2,0,"div",163),d.qZA()),2&e){d.oxw();var i=d.MAs(5);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function ei(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",223),d.TgZ(1,"label",126),d._uU(2,"OCR Duedate:"),d.qZA(),d.TgZ(3,"div",224),d.TgZ(4,"input",227,228),d.NdJ("selected",function(e){return d.CHM(i),d.oxw().onOCRDuedateSelect(e)}),d.qZA(),d.YNc(6,Xt,2,1,"div",22),d.qZA(),d.qZA()}if(2&e){var n=d.MAs(5),r=d.oxw(),o=d.MAs(5);d.xp6(4),d.Q6J("ngClass",d.VKq(3,xt,o.submitted&&n.invalid))("startDate",r.Terms.OCRDueD),d.xp6(2),d.Q6J("ngIf",n.invalid)}}function ti(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",229),d.TgZ(1,"button",230),d._uU(2),d.qZA(),d.TgZ(3,"a",231),d.NdJ("click",function(){return d.CHM(i),d.oxw().cancel()}),d._uU(4,"Cancel"),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(2),d.Oqu(n.saveText)}}function ii(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"nav",232),d.TgZ(1,"ul",233),d.TgZ(2,"li",234),d.TgZ(3,"button",235),d._uU(4),d.qZA(),d.qZA(),d.TgZ(5,"li",236),d.TgZ(6,"a",231),d.NdJ("click",function(){return d.CHM(i),d.oxw().cancel()}),d._uU(7,"Cancel"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(4),d.Oqu(n.saveText)}}function ni(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"app-companyledger-addedit",237),d.NdJ("redirectAction",function(e){return d.CHM(i),d.oxw().popupAction(e)}),d.qZA()}if(2&e){var n=d.oxw();d.Q6J("isMobilePopup",!0)("CompanyIdforReport",n.bookingservice.singleresult.CI)("redirectOnCancel",!1)}}var ri=function(){var e=function(){function e(t,i,n,r,o,s,l,a,c,g,p,h,m,f){u(this,e),this.sitestrService=t,this.filterService=i,this.customerService=n,this.bookingservice=r,this.siteService=o,this.route=s,this.location=l,this._config=a,this.router=c,this.alertservice=g,this._ngZone=p,this.companyledgerservice=h,this.emailtemp=m,this.bankService=f,this.paytypenative=!1,this.totLoan=0,this.isList=!0,this._sgId=0,this.currentScrollPosition=0,this.isScrollEnabled=!0,this.httpfunction=new Z.r,this.BookingVoucher=null,this.isShowConditionDest=null,this.PageType="",this.totOCR=0,this.cmWrkPr=0,this.DueAmtcmWrkPr=0,this.totOther=0,this.totGST=0,this.totOtherGST=0,this.totCarParking=0,this.totBuildPro=0,this.totStampDuty=0,this.saveText="Confirm Booking",this.paymentermindex=0,this.FromLedger=[],this.GSTLedger=[],this.CustomerGroupLedger=[],this.Customers=[],this.custledger=null,this.p_TermsRev=[],this.p_TermsPer=[],this.customer=null,this.totalAgreementLedger=null,this.totalGstAgreementLedger=null,this.totalDutyAgreementLedger=null,this.OtherAgreement=null,this.newcustomer="",this.customerName="",this.isrecevable=!1,this.baseratepattern="[0-9]+(.[0-9][0-9]?)?",this.infradevpattern="[0-9]+(.[0-9][0-9]?)?",this.socratepattern="[0-9]+(.[0-9][0-9]?)?",this.docratepattern="[0-9]+(.[0-9][0-9]?)?",this.mainratepattern="[0-9]+(.[0-9][0-9]?)?",this.otherratepattern="[0-9]+(.[0-9][0-9]?)?",this.gstratepattern="[0-9]+(.[0-9][0-9]?)?",this.stmpratepattern="[0-9]+(.[0-9][0-9]?)?",this.showCompanyLedgerpopup=!1,this.BookingredirectOnCancel=!0,this.IsSiteStructureBooking=!0,this.BookingredirectAction=new d.vpe,this.customerId=null,this.customerService.singleresult=new ee.e,this.currentdate=(new Date).toJSON().split("T")[0],this.bookingservice.singleresult=new H,this.bookingservice.singleresult.CI=this.bookingservice.getCompanyId,this.bookingservice.singleresult.IsSJ=!0;var v=null,A=null;this.route.params.subscribe(function(e){v=e.bookingvoucher,A=e.outstandingrecivable}),this.emailtemp.singleresult=null,this.BookingVoucher=v,this.isShowConditionDest=A,this.Terms=new V,this.sitestrService.singleresult=new B.T,this.bankService.singleresult=null,this.emailtemp.singleresult=new ne.H,this.emailtemp.singleresult.CI=this.emailtemp.getCompanyId,this.emailtemp.GetAlldataBooking(),this.bookingservice.singleresult.AltDate=new Date}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.companyledgerservice.isGetSubscribe=!0,this.companyledgerservice.GetAlldatawithsub(!0),this.subscription=this.companyledgerservice.resultObs.subscribe(function(){if(e.Customers=e.companyledgerservice.result.filter(function(e){return 1==e.IsSD&&0==e.IsGrp}),e.FromLedger=e.companyledgerservice.result.filter(function(e){return 1==e.IsSL&&0==e.IsGrp}),e.CustomerGroupLedger=e.companyledgerservice.result.filter(function(e){return 1==e.IsSD&&1==e.IsGrp}),e.GSTLedger=e.companyledgerservice.result.filter(function(e){return(1==e.isTL||1==e.IsSL)&&0==e.IsGrp}),null!=e.bookingservice.singleresult&&null!=e.bookingservice.singleresult.custledgename&&null!=e.bookingservice.singleresult.custledgename){var t=e.Customers.filter(function(t){return t.LN==e.bookingservice.singleresult.custledgename});null!=t&&t.legth>0?e.custledger=t[0]:(e.custledger=new Y.dJ,null!=e.bookingservice.singleresult.CusLedgerId&&null!=e.bookingservice.singleresult.CusLedgerId?(e.custledger.LN=e.bookingservice.singleresult.custledgename,e.custledger.UIDN=e.bookingservice.singleresult.CusLedgerId):(e.custledger.LN="",e.custledger.UIDN="0"),e.Customers=e.Customers.concat(e.custledger))}}),setTimeout(function(){e.filterService.hideQuickFilter(!1,!1,"BookingForm (Add/Edit)",!1)},200),this.LoadBanks(),this.BookingredirectOnCancel?this.route.params.subscribe(function(t){null!=t.bookingid&&(e.bookingservice.singleresult.UIDN=t.bookingid,e.BookingId=t.bookingid,e.saveText="Update Booking",e.LoadBookingData(e.bookingservice.singleresult.UIDN))}):(this.sitestrService.singleresult=this.SiteStructure,this.bookingservice.singleresult.CId=this.customerId,this.bookingservice.singleresult.SiteId=this.SiteId,this.bookingservice.singleresult.StrID=this.SiteStructure.UIDN,this.bookingservice.singleresult.Sitename=this.SiteStructure.StNm,this.bookingservice.singleresult.Building=this.SiteStructure.Bldg,this.bookingservice.singleresult.Wing=this.SiteStructure.Wng,this.bookingservice.singleresult.BuildingName=this.SiteStructure.BLNm,this.bookingservice.singleresult.WingName=this.SiteStructure.WingNm,this.bookingservice.singleresult.Flatnum=this.SiteStructure.FltN,this.bookingservice.singleresult.salesqft=this.SiteStructure.SalAr,this.bookingservice.singleresult.bssqft=this.SiteStructure.RerCarAr,this.bookingservice.singleresult.bsrate=this.SiteStructure.Rate,this.bookingservice.singleresult.InqId=this.InquiryId,this.bookingservice.singleresult.socchrge=this.SiteStructure.InfraSocChrge,this.bookingservice.singleresult.docchrge=this.SiteStructure.Docchrge,this.bookingservice.singleresult.maintchrge=this.SiteStructure.Maintchrge,this.bookingservice.singleresult.buildProCost=this.SiteStructure.buildProCost,this.bookingservice.singleresult.regisCost=this.SiteStructure.regisCost,this.bookingservice.singleresult.carParkCrg=this.SiteStructure.carParkCrg,this.bookingservice.singleresult.NoCarPark=this.SiteStructure.NoCarPark,this.bookingservice.singleresult.OtherGst=this.SiteStructure.OtherGst,this.bookingservice.singleresult.otherchrge=0,this.bookingservice.singleresult.gstchrge=this.getNumeric(this.SiteStructure.Gst),this.bookingservice.singleresult.stmp=this.getNumeric(this.SiteStructure.Stamp),this.bookingservice.singleresult.isbssqft=!0,this.bookingservice.singleresult.Issocchrge=!0,this.bookingservice.singleresult.FltCst=this.getNumeric(this.SiteStructure.FltCst),this.onCheck(),this.CalculateGST(),this.CalculateStamp(),this.getSiteTerm(this.SiteId),setTimeout(function(){e.getCustomerdetailbyId(e.customerId)},200),this.bankService.singleresult=null),setTimeout(function(){null!=e.NameOnAgreementInput&&e.NameOnAgreementInput.nativeElement.focus()},1e3),this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this))}},{key:"OnKeydown",value:function(e){var t=this,i=e.key||e.keyCode;("Backspace"==i&&e.altKey||"Escape"==i)&&(setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition},150),this.router.navigate(["/marketing/bookinglist"]))}},{key:"ngOnDestroy",value:function(){null!=this.subscription&&this.subscription.unsubscribe()}},{key:"onCheckedChange",value:function(e,t){var i=e.object;"Soc"==t?this.bookingservice.singleresult.Issocchrge=i.checked:"Main"==t?this.bookingservice.singleresult.Ismainchrge=i.checked:this.bookingservice.singleresult.Isothchar=i.checked,this.onCheck(),this.CalculateStamp(),this.CalculateGST(),this.autoCalculateLoanOCR()}},{key:"addNewCustomer",value:function(e){e.close(),this.newcustomer="",this.showCompanyLedgerpopup=!0}},{key:"popupAction",value:function(e){this.showCompanyLedgerpopup=!1,null!=e&&(this.bookingservice.singleresult.custledgename=e.LN,this.custledger=e,this.Customers=this.Customers.concat(e))}},{key:"saveNewCustomer",value:function(){var e=this;if(null!=this.newcustomer&&null!=this.newcustomer&&""!=this.newcustomer){if(this.bookingservice.singleresult.custledgename=this.newcustomer,null!=this.bookingservice.singleresult&&null!=this.bookingservice.singleresult.custledgename&&null!=this.bookingservice.singleresult.custledgename){var t=this.Customers.filter(function(t){return t.LN==e.bookingservice.singleresult.custledgename});null!=t&&t.legth>0?this.custledger=t[0]:(this.custledger=new Y.dJ,this.custledger.LN=this.bookingservice.singleresult.custledgename,this.custledger.UIDN=null!=this.bookingservice.singleresult.CusLedgerId&&null!=this.bookingservice.singleresult.CusLedgerId?this.bookingservice.singleresult.CusLedgerId:"0",this.Customers=this.Customers.concat(this.custledger))}this.showCompanyLedgerpopup=!1}else this.alertservice.showError("Error","Please enter customer ledger name")}},{key:"isNumeric",value:function(e){return null!=e&&/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(e.toString())}},{key:"getNumeric",value:function(e){return this.isNumeric(e)?parseFloat(e):parseFloat("0")}},{key:"LoadBookingData",value:function(e){var t=this;this.bookingservice.getById(e).subscribe(function(e){if(t.bookingservice.singleresult=e,t.bankService.singleresult=new G.j,t.bankService.singleresult.UIDN=t.bookingservice.singleresult.BankId,t.bankService.singleresult.BN=t.bookingservice.singleresult.BankName,t.LoadsiteStructure(t.bookingservice.singleresult.StrID),t.SiteId=t.bookingservice.singleresult.SiteId,t.getSiteTerm(t.SiteId),t.customerId=t.bookingservice.singleresult.CId,null!=t.bookingservice.singleresult&&null!=t.bookingservice.singleresult.custledgename&&null!=t.bookingservice.singleresult.custledgename){var i=t.Customers.filter(function(e){return e.LN==t.bookingservice.singleresult.custledgename});null!=i&&i.legth>0?t.custledger=i[0]:(t.custledger=new Y.dJ,t.custledger.LN=t.bookingservice.singleresult.custledgename,t.custledger.UIDN=null!=t.bookingservice.singleresult.CusLedgerId&&null!=t.bookingservice.singleresult.CusLedgerId?t.bookingservice.singleresult.CusLedgerId:"0",t.Customers=t.Customers.concat(t.custledger))}t.getCustomerdetailbyId(t.customerId)})}},{key:"LoadsiteStructure",value:function(e){var t=this;this.sitestrService.getById(e).subscribe(function(e){t.sitestrService.singleresult=e,t.SiteStructure=t.sitestrService.singleresult})}},{key:"LoadBanks",value:function(){this.bankService.GetAlldataforBooking()}},{key:"addPaymentTermswithValidation",value:function(e,t,i,n){this.f.controls.pType.valid&&this.f.controls.Nurration.valid&&this.addPaymentTerms(e,t,i,this.Terms.OCRAmtVal,this.Terms.OCRDueD,n,-1)}},{key:"ontypechange",value:function(){this.paytypenative=!0}},{key:"addPaymentTermsNative",value:function(){null!=this.Terms.PaytpId&&null!=this.Terms.PaytpId&&(this.Terms.PaytpId="LOAN-OCR"),this.addPaymentTerms(this.Terms.PaytpId,this.Terms.AmtVal,this.Terms.DueD,this.Terms.OCRAmtVal,this.Terms.OCRDueD,this.Terms.Nurr,-1)}},{key:"addPaymentTerms",value:function(e,t,i,n,r,o,s){var l=new V;l.PaytpId=e,l.AmtVal=this.getNumeric(t),l.DueD=i,l.OCRAmtVal=this.getNumeric(n),l.OCRDueD=r,l.Nurr=o,l.index=this.paymentermindex,l.spitOfIndex=s,this.paymentermindex=this.paymentermindex+1,this.totLoan=0,this.totOCR=0,this.totGST=0,this.totOtherGST=0,this.totStampDuty=0,this.totOther=0;for(var a=0;a<this.bookingservice.singleresult.p_Terms.length;a++)this.bookingservice.singleresult.p_Terms[a].spitOfIndex>=0||("LOAN-OCR"==this.bookingservice.singleresult.p_Terms[a].PaytpId?(this.totLoan+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal),this.totOCR+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].OCRAmtVal)):"GST"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totGST+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"Other GST"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totOtherGST+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"Car Charges"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totCarParking+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"Building Protection"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totBuildPro+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"StampDuty"==this.bookingservice.singleresult.p_Terms[a].PaytpId?this.totStampDuty+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal):"OTHER"==this.bookingservice.singleresult.p_Terms[a].PaytpId&&(this.totOther+=this.getNumeric(this.bookingservice.singleresult.p_Terms[a].AmtVal)));"LOAN-OCR"==l.PaytpId?(this.totLoan+=l.AmtVal,this.totOCR+=l.OCRAmtVal):"GST"==l.PaytpId?this.totGST+=l.AmtVal:"Other GST"==l.PaytpId?this.totOtherGST+=l.AmtVal:"Car Charges"==l.PaytpId?this.totCarParking+=l.AmtVal:"Building Protection"==l.PaytpId?this.totBuildPro+=l.AmtVal:"StampDuty"==l.PaytpId?this.totStampDuty+=l.AmtVal:"OTHER"==l.PaytpId&&(this.totOther+=l.AmtVal),this.bookingservice.singleresult.p_Terms.push(l)}},{key:"onCheck",value:function(){this.bookingservice.singleresult.agrval=0,this.bookingservice.singleresult.Othval=0,this.bookingservice.singleresult.stmp=0,this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.FltCst),1==this.bookingservice.singleresult.Issocchrge?this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.socchrge):this.bookingservice.singleresult.Othval+=this.getNumeric(this.bookingservice.singleresult.socchrge),1==this.bookingservice.singleresult.IsDoccharge&&(this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.docchrge)),1==this.bookingservice.singleresult.Ismainchrge&&(this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.maintchrge)),1==this.bookingservice.singleresult.Isothchar?this.bookingservice.singleresult.agrval+=this.getNumeric(this.bookingservice.singleresult.otherchrge):this.bookingservice.singleresult.Othval+=this.getNumeric(this.bookingservice.singleresult.otherchrge)}},{key:"onChangeTotalCost",value:function(){this.bookingservice.singleresult.bsrate=this.getNumeric((this.getNumeric(this.bookingservice.singleresult.FltCst)/this.getNumeric(this.bookingservice.singleresult.salesqft)).toFixed(2)),this.onCheck()}},{key:"CalculateStamp",value:function(){this.bookingservice.singleresult.stmp=this.SiteStructure.Stamp,this.bookingservice.singleresult.stmp=this.getNumeric(this.SiteStructure.Stamp)>0?this.getNumeric(this.getNumeric(this.SiteStructure.Stamp).toFixed(2)):0}},{key:"CalculateGST",value:function(){this.bookingservice.singleresult.gstPer=this.SiteStructure.Gst,this.bookingservice.singleresult.gstchrge=this.getNumeric(this.SiteStructure.Gst)>0?this.getNumeric(this.getNumeric(this.SiteStructure.Gst).toFixed(2)):0}},{key:"onAgreementdateSelect",value:function(e){this.bookingservice.singleresult.AltDate=e}},{key:"onDuedateSelect",value:function(e){this.Terms.DueD=e}},{key:"onOCRDuedateSelect",value:function(e){this.Terms.OCRDueD=e}},{key:"onOCRDuechkDateSelect",value:function(e,t){this.bookingservice.singleresult.p_Terms[t].OCRDueD=e.startDate}},{key:"onDueDchkDateSelect",value:function(e,t){this.bookingservice.singleresult.p_Terms[t].DueD=e.startDate}},{key:"addSplitPaymentTerm",value:function(e,t){this.bookingservice.singleresult.p_Terms.filter(function(t){return t.index==e})[0].OCRsplit=!0;var i=new V;i.index=this.paymentermindex,i.spitOfIndex=e,i.PaytpId="LOAN-OCR",i.OCRAmtVal=0,i.AmtVal=0,this.bookingservice.singleresult.p_Terms.splice(t+1,0,i),this.paymentermindex=this.paymentermindex+1}},{key:"removePaymentTerm",value:function(e){var t=this.bookingservice.singleresult.p_Terms.filter(function(t){return t.index==e})[0];-1==t.spitOfIndex?("LOAN-OCR"==t.PaytpId?(this.totLoan-=t.AmtVal,this.totOCR-=t.OCRAmtVal):"GST"==t.PaytpId?this.totGST-=t.AmtVal:"Other GST"==t.PaytpId?this.totOtherGST-=t.AmtVal:"Car Charges"==t.PaytpId?this.totCarParking-=t.AmtVal:"Building Protection"==t.PaytpId?this.totBuildPro-=t.AmtVal:"StampDuty"==t.PaytpId?this.totStampDuty-=t.AmtVal:"OTHER"==t.PaytpId&&(this.totOther-=t.AmtVal),this.bookingservice.singleresult.p_Terms=this.bookingservice.singleresult.p_Terms.filter(function(t){return t.spitOfIndex!=e})):1==this.bookingservice.singleresult.p_Terms.filter(function(e){return e.spitOfIndex==t.spitOfIndex}).length&&(this.bookingservice.singleresult.p_Terms.filter(function(e){return e.index==t.spitOfIndex})[0].OCRsplit=!1),this.bookingservice.singleresult.p_Terms=this.bookingservice.singleresult.p_Terms.filter(function(t){return t.index!=e})}},{key:"getCustomerdetailbyId",value:function(e){var t=this;if(-1==this.InquiryId){if(this.customerService.singleresult=new ee.e,0==this.BookingredirectOnCancel){this.bookingservice.singleresult.NameOnAgreement=null!=this.customerService.singleresult.MN&&null!=this.customerService.singleresult.MN?this.customerService.singleresult.FN+" "+this.customerService.singleresult.MN+" "+this.customerService.singleresult.LN:"",this.bookingservice.singleresult.custledgename=this.sitestrService.singleresult.BLNm+"-"+this.sitestrService.singleresult.WingNm+"-"+this.sitestrService.singleresult.FltN+" "+this.bookingservice.singleresult.NameOnAgreement;var i=this.Customers.filter(function(e){return e.LN==t.bookingservice.singleresult.custledgename});null!=i&&i.legth>0?this.custledger=i[0]:(this.custledger=new Y.dJ,this.custledger.LN=this.bookingservice.singleresult.custledgename,this.custledger.UIDN="0",this.Customers=this.Customers.concat(this.custledger)),this.bookingservice.singleresult.AgreementAddress=this.customerService.singleresult.CustAddr,this.bookingservice.singleresult.PanNumber=this.customerService.singleresult.PAN,this.bookingservice.singleresult.AadharNumber=this.customerService.singleresult.Aadhar,this.bookingservice.singleresult.AgrDate=new Date}}else this.customerService.getByforbookingId(e).subscribe(function(e){if(t.customerService.singleresult=e,0==t.BookingredirectOnCancel){null!=t.customerService.singleresult.MN&&null!=t.customerService.singleresult.MN?(null==t.customerService.singleresult.LN&&(t.customerService.singleresult.LN=""),t.bookingservice.singleresult.NameOnAgreement=t.customerService.singleresult.FN+" "+t.customerService.singleresult.MN+" "+t.customerService.singleresult.LN):(null==t.customerService.singleresult.LN&&(t.customerService.singleresult.LN=""),t.bookingservice.singleresult.NameOnAgreement=t.customerService.singleresult.FN+" "+t.customerService.singleresult.LN),t.bookingservice.singleresult.custledgename=t.sitestrService.singleresult.BLNm+"-"+t.sitestrService.singleresult.WingNm+"-"+t.sitestrService.singleresult.FltN+" "+t.bookingservice.singleresult.NameOnAgreement;var i=t.Customers.filter(function(e){return e.LN==t.bookingservice.singleresult.custledgename});null!=i&&i.legth>0?t.custledger=i[0]:(t.custledger=new Y.dJ,t.custledger.LN=t.bookingservice.singleresult.custledgename,t.custledger.UIDN="0",t.Customers=t.Customers.concat(t.custledger)),t.bookingservice.singleresult.AgreementAddress=t.customerService.singleresult.CustAddr,t.bookingservice.singleresult.PanNumber=t.customerService.singleresult.PAN,t.bookingservice.singleresult.AadharNumber=t.customerService.singleresult.Aadhar,t.bookingservice.singleresult.AgrDate=new Date}})}},{key:"getSiteTerm",value:function(e){var t=this;this.siteService.getByIdForBooking(e).subscribe(function(e){t.siteService.singleresult=e,t.bookingservice.singleresult.areaUnit=t.siteService.singleresult.areaUnit,0==t.BookingredirectOnCancel?(null!=t.siteService.singleresult.flatgroupId&&t.siteService.singleresult.flatgroupId>0&&(t.bookingservice.singleresult.CusParentLedgerId=t.siteService.singleresult.flatgroupId),null!=t.siteService.singleresult.agrledId&&t.siteService.singleresult.agrledId>0&&(t.bookingservice.singleresult.agrledId=t.siteService.singleresult.agrledId),null!=t.siteService.singleresult.MaintledId&&t.siteService.singleresult.MaintledId>0&&(t.bookingservice.singleresult.MaintledId=t.siteService.singleresult.MaintledId),null!=t.siteService.singleresult.GSTLedId&&t.siteService.singleresult.GSTLedId>0&&(t.bookingservice.singleresult.GSTLedId=t.siteService.singleresult.GSTLedId),null!=t.siteService.singleresult.OthLedId&&t.siteService.singleresult.OthLedId>0&&(t.bookingservice.singleresult.OthLedId=t.siteService.singleresult.OthLedId),null!=t.siteService.singleresult.OtherGSTLedId&&t.siteService.singleresult.OtherGSTLedId>0&&(t.bookingservice.singleresult.OtherGSTLedId=t.siteService.singleresult.OtherGSTLedId),null!=t.siteService.singleresult.carParkingLedId&&t.siteService.singleresult.carParkingLedId>0&&(t.bookingservice.singleresult.carParkingLedId=t.siteService.singleresult.carParkingLedId),null!=t.siteService.singleresult.buildingProtectionLedId&&t.siteService.singleresult.buildingProtectionLedId>0&&(t.bookingservice.singleresult.buildingProtectionLedId=t.siteService.singleresult.buildingProtectionLedId),t._ngZone.runOutsideAngular(function(){t.autoCalculateLoanOCR(),t._ngZone.run(function(){})})):(null!=t.siteService.singleresult.flatgroupId&&t.siteService.singleresult.flatgroupId>0||(t.bookingservice.singleresult.CusParentLedgerId=null),null!=t.siteService.singleresult.agrledId&&t.siteService.singleresult.agrledId>0||(t.bookingservice.singleresult.agrledId=null),null!=t.siteService.singleresult.MaintledId&&t.siteService.singleresult.MaintledId>0||(t.bookingservice.singleresult.MaintledId=null),null!=t.siteService.singleresult.GSTLedId&&t.siteService.singleresult.GSTLedId>0||(t.bookingservice.singleresult.GSTLedId=null),null!=t.siteService.singleresult.OthLedId&&t.siteService.singleresult.OthLedId>0||(t.bookingservice.singleresult.OthLedId=null))})}},{key:"autoCalculateLoanOCR",value:function(){if(this.bookingservice.singleresult.stmp>0)0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"StampDuty"==e.PaytpId}).length?this.addPaymentTerms("StampDuty",this.bookingservice.singleresult.stmp,null,0,null,"Stamp duty",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"StampDuty"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.stmp;else if(this.bookingservice.singleresult.p_Terms.filter(function(e){return"StampDuty"==e.PaytpId}).length>0){var e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"StampDuty"==e.PaytpId})[0].index;this.removePaymentTerm(e)}this.bookingservice.singleresult.gstchrge>0?0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"GST"==e.PaytpId}).length?this.addPaymentTerms("GST",this.bookingservice.singleresult.gstchrge,null,0,null,"GST",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"GST"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.gstchrge:this.bookingservice.singleresult.p_Terms.filter(function(e){return"GST"==e.PaytpId}).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"GST"==e.PaytpId})[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.OtherGst>0?0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"Other GST"==e.PaytpId}).length?this.addPaymentTerms("Other GST",this.bookingservice.singleresult.OtherGst,null,0,null,"Other GST",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"Other GST"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.OtherGst:this.bookingservice.singleresult.p_Terms.filter(function(e){return"Other GST"==e.PaytpId}).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"Other GST"==e.PaytpId})[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.carParkCrg>0?0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"Car Charges"==e.PaytpId}).length?this.addPaymentTerms("Car Charges",this.bookingservice.singleresult.carParkCrg,null,0,null,"Car Charges",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"Car Charges"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.carParkCrg:this.bookingservice.singleresult.p_Terms.filter(function(e){return"Car Charges"==e.PaytpId}).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"Car Charges"==e.PaytpId})[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.buildProCost>0?0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"Building Protection"==e.PaytpId}).length?this.addPaymentTerms("Building Protection",this.bookingservice.singleresult.buildProCost,null,0,null,"Building Protection",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"Building Protection"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.buildProCost:this.bookingservice.singleresult.p_Terms.filter(function(e){return"Building Protection"==e.PaytpId}).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"Building Protection"==e.PaytpId})[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.regisCost>0?0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"Registration Cost"==e.PaytpId}).length?this.addPaymentTerms("Registration Cost",this.bookingservice.singleresult.regisCost,null,0,null,"Registration Cost",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"Registration Cost"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.regisCost:this.bookingservice.singleresult.p_Terms.filter(function(e){return"Registration Cost"==e.PaytpId}).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"Registration Cost"==e.PaytpId})[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.Othval>0&&1!=this.bookingservice.singleresult.Isothchar?0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"OTHER"==e.PaytpId}).length?this.addPaymentTerms("OTHER",this.bookingservice.singleresult.Othval,null,0,null,"OTHER",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"OTHER"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.Othval:this.bookingservice.singleresult.p_Terms.filter(function(e){return"OTHER"==e.PaytpId}).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"OTHER"==e.PaytpId})[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.docchrge>0&&1!=this.bookingservice.singleresult.IsDoccharge?0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"DOC-Charge"==e.PaytpId}).length?this.addPaymentTerms("DOC-Charge",this.bookingservice.singleresult.docchrge,null,0,null,"Doc. Charge",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"DOC-Charge"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.docchrge:this.bookingservice.singleresult.p_Terms.filter(function(e){return"DOC-Charge"==e.PaytpId}).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"DOC-Charge"==e.PaytpId})[0].index,this.removePaymentTerm(e)),this.bookingservice.singleresult.maintchrge>0&&1!=this.bookingservice.singleresult.Ismainchrge?0==this.bookingservice.singleresult.p_Terms.filter(function(e){return"Main-Charge"==e.PaytpId}).length?this.addPaymentTerms("Main-Charge",this.bookingservice.singleresult.maintchrge,null,0,null,"Maintanance. Charge",-1):this.bookingservice.singleresult.p_Terms.filter(function(e){return"Main-Charge"==e.PaytpId})[0].AmtVal=this.bookingservice.singleresult.maintchrge:this.bookingservice.singleresult.p_Terms.filter(function(e){return"Main-Charge"==e.PaytpId}).length>0&&(e=this.bookingservice.singleresult.p_Terms.filter(function(e){return"Main-Charge"==e.PaytpId})[0].index,this.removePaymentTerm(e)),this.changeLoan()}},{key:"changeLoan",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.bookingservice.singleresult.p_Terms.filter(function(e){return"LOAN-OCR"==e.PaytpId})));this.bookingservice.singleresult.p_Terms=this.bookingservice.singleresult.p_Terms.filter(function(e){return"LOAN-OCR"!=e.PaytpId}),this.totLoan=0,this.totOCR=0;var i=this.getNumeric(this.bookingservice.singleresult.agrval),n=this.getNumeric(this.bookingservice.singleresult.LoanAmt),r=i-n;if(i>0&&null!=this.siteService.singleresult.payTerms&&null!=this.siteService.singleresult.payTerms&&this.siteService.singleresult.payTerms.length>0)for(var o=function(){var o=e.siteService.singleresult.payTerms[s].Prcntge+"% "+e.siteService.singleresult.payTerms[s].Trms,a=e.getNumeric(i*e.siteService.singleresult.payTerms[s].Prcntge/100),c=0,u=0;if(r>0&&r>=a?(c=0,u=a,r-=a):r>0?(u=r,r=0,n-=c=a-u):(u=0,c=a,n-=a),0==t.filter(function(e){return e.Nurr==o}).length)e.addPaymentTerms("LOAN-OCR",c,null,u,null,o,-1);else{var d=t.filter(function(e){return e.Nurr==o})[0];d.AmtVal=c,d.OCRAmtVal=u,e.bookingservice.singleresult.p_Terms.push(d);var g=t.filter(function(e){return e.spitOfIndex==d.index});for(l=0;l<g.length;l++)e.bookingservice.singleresult.p_Terms.push(g[l])}},s=0;s<this.siteService.singleresult.payTerms.length;s++){var l;o()}}},{key:"indexTracker",value:function(e){return e}},{key:"cancel",value:function(){var e=this;if(setTimeout(function(){e.filterService.changeFilter(!0,!0,"booking-form List")},200),this.BookingredirectOnCancel)if("true"==this.BookingVoucher)if(""!=this.httpfunction.getStorage("_filterData")){var t=JSON.parse(this.httpfunction.getStorage("_filterData")).reverse();if(null!=t&&null!=t){var i=t.find(function(e){return"Daybook"==e.Module||"Outstanding Payable"==e.Module||"Outstanding Receivable"==e.Module});this.router.navigate(null!=i||null!=i?"true"==this.BookingVoucher&&"Ledger"==i.SearchFilter[0].PageType?["/transactions/ledger"]:"true"==this.BookingVoucher&&"Group"==i.SearchFilter[0].PageType?["/transactions/group"]:"true"==this.BookingVoucher&&"Monthly Summary"==i.SearchFilter[0].PageType?["/reports/monthlysummary/"+i.SearchFilter[0].LedgerId]:"true"==this.BookingVoucher&&"Finalize"==i.SearchFilter[0].PageType?["/transactions/finalize"]:"true"==this.BookingVoucher&&"Restorevoucher"==i.SearchFilter[0].PageType?["/transactions/restorevoucher"]:"true"==this.BookingVoucher&&"Daybook"==i.SearchFilter[0].PageType?["/transactions/daybook"]:"true"==this.BookingVoucher&&"Outstanding Payable"==i.SearchFilter[0].PageType?["/reports/outstandingpayble"]:"true"==this.BookingVoucher&&"Outstanding Receivable"==i.SearchFilter[0].PageType?["/reports/outstandingrecivable"]:["/marketing/bookinglist"]:["/marketing/bookinglist"])}}else this.router.navigate(["/marketing/bookinglist"]);else this.router.navigate(["/marketing/bookinglist"]);else this.IsSiteStructureBooking?this.location.back():this.BookingredirectAction.emit(null)}},{key:"onTemplateChange",value:function(e){this.bookingservice.singleresult.TI=null!=e?e.UIDN:null}},{key:"dueDtChange",value:function(){this.p_TermsRev=[],this.p_TermsRev=[],this.cmWrkPr=0,this.DueAmtcmWrkPr=0;var e=this.bookingservice.singleresult.p_Terms.length;if(1==this.bookingservice.singleresult.IsDueDt){for(var t=0;t<e;t++)this.p_TermsRev.push(this.bookingservice.singleresult.p_Terms.filter(function(e){return 0==e.flag})[t]),this.p_TermsPer.push(this.bookingservice.singleresult.p_Terms.filter(function(e){return 1==e.flag})[t]);for(var i=0;i<this.p_TermsPer.length;i++)this.cmWrkPr+=this.getNumeric(this.p_TermsPer[i].Prcntge),this.DueAmtcmWrkPr+=this.getNumeric(this.p_TermsPer[i].OCRAmtVal)}}},{key:"OnSubmit",value:function(){var e=this;if(this.f.valid){var t=!0,i=0,n=0,r=0;if(null!=this.bookingservice.singleresult.p_Terms&&null!=this.bookingservice.singleresult.p_Terms&&this.bookingservice.singleresult.p_Terms.length>0)for(var o=0;o<this.bookingservice.singleresult.p_Terms.length;o++)if(!("LOAN-OCR"==this.bookingservice.singleresult.p_Terms[o].PaytpId&&this.bookingservice.singleresult.p_Terms[o].spitOfIndex>=0)){var s=[];if("LOAN-OCR"==this.bookingservice.singleresult.p_Terms[o].PaytpId&&(n+=this.getNumeric(this.bookingservice.singleresult.p_Terms[o].AmtVal),r+=this.getNumeric(this.bookingservice.singleresult.p_Terms[o].OCRAmtVal),(s=this.bookingservice.singleresult.p_Terms.filter(function(t){return t.spitOfIndex==e.bookingservice.singleresult.p_Terms[o].index})).length>0)){for(var l=0,a=0;a<s.length;a++){if(this.bookingservice.singleresult.IsCommdate&&null==s[a].OCRDueD&&this.getNumeric(s[a].OCRAmtVal)>0){this.alertservice.showError("Error","Please enter date and amount in payment terms"),t=!1;break}t&&(l+=this.getNumeric(s[a].OCRAmtVal))}if(this.getNumeric(this.bookingservice.singleresult.p_Terms[o].OCRAmtVal)!=l){this.alertservice.showError("Error","OCR split amount must matched with total Ocr Amount."),t=!1;break}}if(this.bookingservice.singleresult.IsCommdate&&null==this.bookingservice.singleresult.p_Terms[o].DueD&&this.getNumeric(this.bookingservice.singleresult.p_Terms[o].AmtVal)>0){this.alertservice.showError("Error","Please enter date and amount in payment terms"),t=!1;break}if(0==s.length&&this.bookingservice.singleresult.IsCommdate&&null==this.bookingservice.singleresult.p_Terms[o].OCRDueD&&this.getNumeric(this.bookingservice.singleresult.p_Terms[o].OCRAmtVal)>0){this.alertservice.showError("Error","Please enter date and amount in payment terms"),t=!1;break}i+=this.getNumeric(this.bookingservice.singleresult.p_Terms[o].AmtVal)+this.getNumeric(this.bookingservice.singleresult.p_Terms[o].OCRAmtVal)}if(t&&n!=this.bookingservice.singleresult.LoanAmt&&(t=!1,this.alertservice.showError("Error","Payment Terms did not matched with the Loan Amount")),t&&Math.round(n+r)!=Math.round(this.bookingservice.singleresult.agrval)&&(t=!1,this.alertservice.showError("Error","Load and OCR terms should be matched with agreement value")),t){var c=this.getNumeric(this.bookingservice.singleresult.agrval);1!=this.bookingservice.singleresult.Issocchrge&&(c+=this.getNumeric(this.bookingservice.singleresult.socchrge)),1!=this.bookingservice.singleresult.IsDoccharge&&(c+=this.getNumeric(this.bookingservice.singleresult.docchrge)),1!=this.bookingservice.singleresult.Ismainchrge&&(c+=this.getNumeric(this.bookingservice.singleresult.maintchrge)),1!=this.bookingservice.singleresult.Isothchar&&(c+=this.getNumeric(this.bookingservice.singleresult.otherchrge)),c+=this.getNumeric(this.bookingservice.singleresult.gstchrge),c+=this.getNumeric(this.bookingservice.singleresult.stmp),c+=this.getNumeric(this.bookingservice.singleresult.OtherGst),c+=this.getNumeric(this.bookingservice.singleresult.carParkCrg),c+=this.getNumeric(this.bookingservice.singleresult.buildProCost),c+=this.getNumeric(this.bookingservice.singleresult.regisCost),i.toFixed(2)!=c.toFixed(2)&&(t=!1,this.alertservice.showError("Error","Payment Tems did not matched with the agreement , GST, stampduty and other amount"))}t&&(null!=this.bankService.singleresult&&!this.httpfunction.IsMobileview()&&(this.bookingservice.singleresult.BankId=this.bankService.singleresult.UIDN,this.bookingservice.singleresult.BankName=this.bankService.singleresult.BN),this.bookingservice.singleresult.custledgename=this.custledger.LN,this.bookingservice.singleresult.CusLedgerId=this.custledger.UIDN,null==this.bookingservice.singleresult.CusParentLedgerId&&!(null!=this.siteService.singleresult.flatgroupId&&this.siteService.singleresult.flatgroupId>0)&&(this.bookingservice.singleresult.CusParentLedgerId=0),null!=this.bookingservice.singleresult.UIDN&&null!=this.bookingservice.singleresult.UIDN&&this.bookingservice.singleresult.UIDN>0?(this.bookingservice.singleresult.CI=this.bookingservice.getCompanyId,this.bookingservice.Update(this.bookingservice.singleresult).subscribe(function(t){e.BookingredirectOnCancel?(setTimeout(function(){var e=window.open(t,"_blank");e.focus(),e.print(),e.onload=function(){window.close()}},200),setTimeout(function(){e.filterService.changeFilterWithbottomfilter(!0,!0,"Booking List")},200),e.cancel()):null==t?e.alertservice.showError("Error","There is some error occured. Please check sales/journal entries before booking of this flat again"):e.BookingredirectAction.emit(t)},function(){})):this.bookingservice.add(this.bookingservice.singleresult).subscribe(function(t){e.BookingredirectOnCancel?(setTimeout(function(){e.filterService.changeFilterWithbottomfilter(!0,!0,"Booking List")},200),e.router.navigate(["/marketing/bookinglist"])):-1==e.InquiryId?e.BookingredirectAction.emit(t):null==t?e.alertservice.showError("Error","There is some error occured. Please check sales/journal entries before booking of this flata again"):(setTimeout(function(){var e=window.open(t,"_blank");e.focus(),e.print(),e.onload=function(){window.close()}},200),e.BookingredirectAction.emit(t))},function(){}))}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(C.l),d.Y36(S.i),d.Y36(X.v),d.Y36(z),d.Y36(k.P),d.Y36(y.gz),d.Y36(M.Ye),d.Y36(v.De),d.Y36(y.F0),d.Y36(I.Rq),d.Y36(d.R0b),d.Y36(b.Q),d.Y36(ie.P),d.Y36(te.y))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-booking-form"]],viewQuery:function(e,t){var i;(1&e&&(d.Gf(ae,7,d.SBq),d.Gf(ce,7)),2&e)&&(d.iGM(i=d.CRH())&&(t.NameOnAgreementInput=i.first),d.iGM(i=d.CRH())&&(t.f=i.first))},inputs:{BookingVoucher:"BookingVoucher",isShowConditionDest:"isShowConditionDest",BookingredirectOnCancel:"BookingredirectOnCancel",IsSiteStructureBooking:"IsSiteStructureBooking",SiteId:"SiteId",InquiryId:"InquiryId",CustomerName:"CustomerName",BookingId:"BookingId",SiteStructure:"SiteStructure",customerId:"customerId"},outputs:{BookingredirectAction:"BookingredirectAction"},features:[d._Bn([I.Rq,C.l,z,ie.P,b.Q,te.y,X.v])],decls:376,vars:263,consts:[[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],[1,"mb-3"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],[1,"card","mt-0"],[1,"shadow","p-3","bg-white","rounded"],[1,"row","no-gutters"],[1,"col-sm-6","col-7","bg-primary","text-white"],[1,"pb-2","mb-0","pt-3","pl-3"],[1,"text-uppercase"],[1,"col-sm-6","col-5","bg-danger","text-white"],[1,"pb-0","mb-0","pt-3","pl-3"],[1,"card-header","mb-2","text-black","font-weight-bold","bg-secondary"],[1,"card-body"],[1,"card-text"],[1,"row","m-0","form-group"],[1,"md-form","col-sm-6","col-md-3","form-group","no-gutters"],["for","txtNameOnAgreement",1,"col","col-auto-sm"],["type","text","required","","name","txtNameOnAgreement","placeholder","Please enter Customer Name","value","","id","txtNameOnAgreement",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["txtNameOnAgreement","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","custledgename",1,"col","col-auto-sm"],["selectOnTab","true","required","","name","custledgename","bindLabel","LN","placeholder","Customer Account",3,"items","ngModel","loading","ngModelChange"],["custledgename",""],["ng-header-tmp",""],[1,"md-form","col-sm-6","col-md-6","form-group","no-gutters"],["for","CusParentLedgerId",1,"col","col-auto-sm"],["selectOnTab","true","required","","name","CusParentLedgerId","bindLabel","LN","bindValue","UIDN","placeholder","Select Customer group",3,"items","ngClass","ngModel","loading","ngModelChange"],["CusParentLedgerId","ngModel"],[1,"md-form","col-sm-12","col-md-6","form-group","no-gutters"],["for","AgreementAddress",1,"col","col-auto-sm"],["type","text","required","","name","AgreementAddress","placeholder","Please enter Address as per Aadhar","value","","id","AgreementAddress",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["AgreementAddress","ngModel"],["for","PanNumber",1,"col","col-auto-sm"],["type","text","placeholder","Please Enter PAN Number","pattern","[A-Za-z]{5}\\d{4}[A-Za-z]{1}","name","PanNumber","value","","id","PanNumber",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["PanNumber","ngModel"],["for","AadharNumber",1,"col","col-auto-sm"],["type","number","pattern","^\\d{4}\\d{4}\\d{4}$","placeholder","Please Enter Aadhar Number","name","AadharNumber","value","","id","AadharNumber",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["AadharNumber","ngModel"],["for","AltDate",1,"col","col-auto-sm"],["type","text","appDatepicker","","required","","name","AltDate","id","AltDate",1,"form-control",3,"startDate","selected"],["AltDate",""],["for","txtref",1,"col","col-auto-sm"],["type","text","name","Refby","placeholder","Please Enter Reference","value","","id","txtref",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Refby","ngModel"],["for","country"],[3,"countryinput","oncountrychange"],["for","states"],[3,"isRequired","StateInput","onStateChange"],["bindLabel","TN","placeholder","Select Template","bindValue","UIDN","name","emailtemplate",3,"virtualScroll","items","loading","ngModel","scrollToEnd","ngModelChange","change"],["emailtemplate","ngModel"],[1,"card-header","mb-2","font-weight-bold","bg-secondary"],[1,"row","m-0"],[1,"col-sm-7","col-md-4","no-gutters","form-group"],[1,"row"],[1,"col-12","input-group"],["for","lblSiteName",1,"col-sm-12","pl-0","font-weight-bold"],[1,"md-form","m-0",2,"max-width","78px"],["type","number","name","Ratesq","required","","placeholder","RERA Area","regexvalue","baserate","id","reratxt",1,"form-control","mt-0",3,"ngClass","ngModel","ngModelChange"],["Ratesq","ngModel"],["class","invalid-feedback offset-2",4,"ngIf"],["type","number","name","Salesqft","required","","placeholder","Saleble Area","regexvalue","baserate","id","saletxt","placeholder","Sale area",1,"form-control","mt-0",3,"ngClass","ngModel","ngModelChange"],["Salesqft","ngModel"],["type","number","name","baseRate","regexvalue","baserate","id","ratetxt","placeholder","Base Rate",1,"form-control","mt-0",3,"ngClass","ngModel","change","ngModelChange"],["baseRate","ngModel"],[1,"md-form","m-0","pl-2",2,"max-width","200px"],[1,"md-form","m-0","pl-2",2,"max-width","100px"],["type","number","name","FltCst","required","","regexvalue","FltCst","id","FltCst","placeholder","Flat Cost",1,"form-control","mt-0",3,"ngClass","ngModel","change","ngModelChange"],["FltCst","ngModel"],[1,"col-sm-6","col-md-3","no-gutters","form-group"],[1,"col-sm-12","input-group"],[1,"pl-0","col-2","mt-4"],[1,"c-switch","c-switch-pill","c-switch-primary","m-2"],["type","checkbox","name","societycheck","id","societycheck",1,"c-switch-input",3,"ngModel","change","ngModelChange"],[1,"c-switch-slider"],[1,"md-form","col-10"],["for","societytxt"],["type","number","placeholder","Please Enter Develop./Infra/Soc./Possession/Other Charges","name","societycharge","id","societytxt",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange","change"],["societycharge","ngModel"],["class","invalid-feedback offset-2 ",4,"ngIf"],[1,"col-sm-6","col-md-4","no-gutters","form-group"],[1,"switch","pl-0","col-2","mt-3"],["for","docchrge"],["type","number","name","doccahrge","placeholder","Please Enter Document Charge","id","docchrge",1,"form-control",3,"ngModel","ngClass","pattern","change","ngModelChange"],["doccahrge","ngModel"],["type","checkbox","name","Maincheckbox","id","Maincheck",1,"c-switch-input",3,"ngModel","change","ngModelChange"],["for","maintxt"],["type","number","name","maintainchrge","placeholder","Please Enter Maintainance Charge","id","maintxt",1,"form-control",3,"ngModel","ngClass","pattern","change","ngModelChange"],["maintainchrge","ngModel"],[1,"pl-0","col-2","mt-3"],["type","checkbox","name","Othercheckbox","id","othcheck",1,"c-switch-input",3,"ngModel","change","ngModelChange"],["for","Othertxt"],["type","number","name","othercharge","placeholder","Please Enter Other Charge","id","Othertxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","change","ngModelChange"],["othercharge","ngModel"],[1,"col-sm-3","col-md-3","no-gutters","form-group"],["for","Gsttxt"],["type","number","name","gstcharge","placeholder","Please Enter GST Amount","id","Gsttxt",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange","change"],["gstcharge","ngModel"],["for","OtherGst"],["type","number","name","OtherGst","placeholder","Please Enter GST Other Amount","id","OtherGst",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange"],["OtherGst","ngModel"],["for","carParkCrg"],["type","number","name","carParkCrg","placeholder","Please Enter Car Parking Charges","id","carParkCrg",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange"],["carParkCrg","ngModel"],["for","buildProCost"],["type","number","name","buildProCost","placeholder","Please Enter Building Protection Cost","id","buildProCost",1,"form-control",3,"ngModel","ngClass","pattern","ngModelChange"],["buildProCost","ngModel"],[1,"col-sm-6","col-md-3","no-border","no-gutters","form-group"],["for","stmptxt"],["type","number","name","stampdutychrge","placeholder","Please Enter Stamp Duty amount","id","stmptxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","ngModelChange","change"],["stampdutychrge","ngModel"],["for","regisCost"],["type","number","name","regisCost","placeholder","Please Enter Registration amount","id","stmptxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","ngModelChange","change"],["regisCost","ngModel"],["for","AlwCarPark"],["type","number","name","AlwCarPark","placeholder","Please Enter Allowed Car Parking","id","stmptxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","ngModelChange"],["AlwCarPark","ngModel"],["for","TknBookAmt"],["type","number","name","TknBookAmt","placeholder","Please Enter Token Booking Amount","id","stmptxt",1,"form-control","txtSiteName",3,"ngModel","ngClass","pattern","ngModelChange"],["TknBookAmt","ngModel"],[1,"col-md-3","col-sm-6","md-form","form-group","no-gutters"],["for","AggrementLedger"],["selectOnTab","true","name","AggrementLedger","bindLabel","LN","bindValue","UIDN","placeholder","Select Agreement Ledger",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["AggrementLedger","ngModel"],["for","lblpayment",1,"font-weight-bold"],["for","MaintLedger"],["selectOnTab","true","name","MaintLedger","bindLabel","LN","bindValue","UIDN","placeholder","Select Maintanance Ledger",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["MaintLedger","ngModel"],["for","FLedgerforGst"],["selectOnTab","true","name","FLedgerforGst","bindLabel","LN","bindValue","UIDN","placeholder","Select GST Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["FLedgerforGst","ngModel"],["for","lblgst",1,"font-weight-bold"],["for","OtherGSTLedId"],["selectOnTab","true","name","OtherGSTLedId","bindLabel","LN","bindValue","UIDN","placeholder","Select Other GST Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["OtherGSTLedId","ngModel"],["for","carParkingLedger"],["selectOnTab","true","name","carParkingLedger","bindLabel","LN","bindValue","UIDN","placeholder","Select Other GST Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["carParkingLedger","ngModel"],["for","buildingProtecLgr"],["selectOnTab","true","name","buildingProtecLgr","bindLabel","LN","bindValue","UIDN","placeholder","Select Building Protection Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["buildingProtecLgr","ngModel"],["for","FLedgerforOther"],["selectOnTab","true","name","FLedgerforOther","bindLabel","LN","bindValue","UIDN","placeholder","Select Other Account",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["FLedgerforOther","ngModel"],["for","lblother",1,"font-weight-bold"],[1,"col-sm-6","col-md-3","md-form","form-group","no-gutters"],["for","Bankdetail"],["selectOnTab","true","name","Bankdetail","bindLabel","BN","placeholder","Select Bank",3,"items","required","ngClass","ngModel","loading","ngModelChange"],["Bankdetail","ngModel"],["for","lblbank",1,"font-weight-bold"],["for","LoanAmt"],["type","number","name","LoanAmt","id","LoanAmttxt",1,"form-control",3,"ngModel","ngClass","pattern","change","ngModelChange"],["LoanAmt","ngModel"],["for","LoanAmttxt",1,"font-weight-bold"],[1,"row","col-md-3","col-sm-12","mt-4"],[1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","id","customSwitch1",1,"c-switch-input",3,"checked","change"],[1,"mb-2","ml-2","mt-1"],[1,"col-sm-12","col-md-12","table-responsive"],[1,"table-sm","table","table-striped","col-sm-12","col-md-12",2,"margin-bottom","40px"],[1,"grey","lighten-1","text-black","font-weight-bold"],[4,"ngIf"],["class","bg-info mt-4 mb-4",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-sm-6","md-form","col-md-3","no-gutters"],["for","PayNurration"],["type","text","id","PayNurration","rows","1","name","Nurration","placeholder","Please Enter Term if any",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["Nurration","ngModel"],[1,"col-sm-6","md-form","col-md-3","form-group","no-gutters"],["for","pType"],["name","pType","placeholder","Select payment type",1,"col-sm-12","col-12",3,"ngModel","ngClass","ngModelChange"],["pType","ngModel"],["value",""],["value","LOAN-OCR"],[1,"col-sm-6","col-md-2","md-form","form-group","no-gutters"],["for","amunttxt"],["type","number","placeholder","Please Enter Amount","name","Amount","id","amunttxt",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Amount","ngModel"],["for","DueDate"],["type","text","appDatepicker","","placeholder","Please select Due Date","autocomplete","none","name","DueDate","id","DueDate",1,"form-control",3,"ngClass","startDate","selected"],["DueDate",""],["class","col-sm-6 col-md-3 form-group no-gutters",4,"ngIf"],[1,"col-sm-6","col-md-4","mb-4","pb-2","form-group","no-gutters","m-0"],["type","button",1,"btn","btn-primary",3,"click"],["class","col-sm-12 pl-2 text-right","id","formbtnContainer",4,"ngIf"],["class","navbar fixed-bottom navbar-expand-sm navbar-dark bg-light",4,"ngIf"],[3,"isMobilePopup","CompanyIdforReport","redirectOnCancel","redirectAction",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"text-center","mb-3","LeftLi"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"btn","btn-link",3,"click"],[1,"invalid-feedback"],[1,"form-text","text-muted"],["href","javascript:void(0);",1,"addLeg",3,"click"],[1,"invalid-feedback","offset-2"],[1,"md-form"],["type","number","style","min-width:95px;","class","form-control col-12 float-left","required","",3,"ngClass","ngModel","name","id","ngModelChange",4,"ngIf"],["type","text","style","min-width:95px;","class","form-control col-12 float-left","appDatepicker","","placeholder","Select Date",3,"ngClass","ngModel","name","id","required","selectedindex",4,"ngIf"],["type","number","style","min-width:95px;","class","form-control col-12 float-left","required","",3,"disabled","ngClass","ngModel","name","id","ngModelChange",4,"ngIf"],[1,"md-form",2,"min-width","190px"],["type","text","class","form-control col-12 float-left","appDatepicker","","placeholder","Select Date",3,"ngClass","ngModel","name","id","required","selectedindex",4,"ngIf"],["class","pr-2","href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click",4,"ngIf"],["type","number","required","",1,"form-control","col-12","float-left",2,"min-width","95px",3,"ngClass","ngModel","name","id","ngModelChange"],["trmAmt","ngModel"],["type","text","appDatepicker","","placeholder","Select Date",1,"form-control","col-12","float-left",2,"min-width","95px",3,"ngClass","ngModel","name","id","required","selectedindex"],["trmdate","ngModel"],["type","number","required","",1,"form-control","col-12","float-left",2,"min-width","95px",3,"disabled","ngClass","ngModel","name","id","ngModelChange"],["OCRtrmAmt","ngModel"],["type","text","appDatepicker","","placeholder","Select Date",1,"form-control","col-12","float-left",3,"ngClass","ngModel","name","id","required","selectedindex"],["OCRtrmdate","ngModel"],["href","javascript:void(0)",1,"pr-2",3,"click"],["href","javascript:void(0)",3,"click"],[1,"bg-info","mt-4","mb-4"],[1,"col-sm-6","col-md-3","form-group","no-gutters"],[1,"col-sm-12"],["type","text","name","OCRAmount","placeholder","Amount","id","amunttxt",1,"form-control","col-12","float-left",3,"ngClass","ngModel","ngModelChange"],["OCRAmount","ngModel"],["type","text","appDatepicker","","autocomplete","none","placeholder","Due date","name","OCRDueDate","id","OCRDueDate",1,"form-control",3,"ngClass","startDate","selected"],["OCRDueDate",""],["id","formbtnContainer",1,"col-sm-12","pl-2","text-right"],["type","submit",1,"btn","btn-primary","mr-2"],["href","javascript:void(0)",1,"btn","btn-dark",3,"click"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary"],[1,"nav-item","active","mr-2"],[3,"isMobilePopup","CompanyIdforReport","redirectOnCancel","redirectAction"]],template:function(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",0),d.YNc(1,ue,10,0,"div",1),d.YNc(2,de,12,1,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"form",4,5),d.NdJ("ngSubmit",function(){return t.OnSubmit()}),d.TgZ(6,"div",6),d.TgZ(7,"div",7),d.TgZ(8,"div",8),d.TgZ(9,"div",9),d.TgZ(10,"address",10),d.TgZ(11,"strong",11),d._uU(12),d.qZA(),d._UZ(13,"br"),d._uU(14),d._UZ(15,"br"),d._uU(16),d._UZ(17,"br"),d._uU(18),d.qZA(),d.qZA(),d.TgZ(19,"div",12),d.TgZ(20,"address",13),d.TgZ(21,"strong",11),d._uU(22),d.qZA(),d._UZ(23,"br"),d._uU(24),d._UZ(25,"br"),d._uU(26),d._UZ(27,"br"),d._uU(28),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",0),d.TgZ(30,"div",14),d._uU(31,"Personal Details"),d.qZA(),d.TgZ(32,"div",15),d.TgZ(33,"div",16),d.TgZ(34,"div",17),d.TgZ(35,"div",18),d.TgZ(36,"label",19),d._uU(37," Name on Agreement "),d.qZA(),d.TgZ(38,"input",20,21),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.NameOnAgreement=e}),d.qZA(),d.YNc(40,pe,2,1,"div",22),d.qZA(),d.TgZ(41,"div",18),d.TgZ(42,"label",23),d._uU(43," Customer Account "),d.qZA(),d.TgZ(44,"ng-select",24,25),d.NdJ("ngModelChange",function(e){return t.custledger=e}),d.YNc(46,he,3,0,"ng-template",26),d.qZA(),d.qZA(),d.TgZ(47,"div",27),d.TgZ(48,"label",28),d._uU(49,"Customer group"),d.qZA(),d.TgZ(50,"ng-select",29,30),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.CusParentLedgerId=e}),d.qZA(),d.YNc(52,fe,2,1,"div",22),d.qZA(),d.TgZ(53,"div",31),d.TgZ(54,"label",32),d._uU(55," Address as per Aadhar "),d.qZA(),d.TgZ(56,"input",33,34),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.AgreementAddress=e}),d.qZA(),d.YNc(58,Ze,2,1,"div",22),d.qZA(),d.TgZ(59,"div",18),d.TgZ(60,"label",35),d._uU(61,"PAN Number"),d.qZA(),d.TgZ(62,"input",36,37),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.PanNumber=e}),d.qZA(),d.YNc(64,be,3,2,"div",22),d.qZA(),d.TgZ(65,"div",18),d.TgZ(66,"label",38),d._uU(67,"Aadhar Number"),d.qZA(),d.TgZ(68,"input",39,40),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.AadharNumber=e}),d.qZA(),d.YNc(70,Ce,3,2,"div",22),d.qZA(),d.TgZ(71,"div",18),d.TgZ(72,"label",41),d._uU(73,"Allotment Date:"),d.qZA(),d.TgZ(74,"input",42,43),d.NdJ("selected",function(e){return t.onAgreementdateSelect(e)}),d.qZA(),d.YNc(76,qe,2,1,"div",22),d.qZA(),d.TgZ(77,"div",18),d.TgZ(78,"label",44),d._uU(79,"Referance By:"),d.qZA(),d.TgZ(80,"input",45,46),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.RefBy=e}),d.qZA(),d.YNc(82,ye,2,1,"div",22),d.qZA(),d.TgZ(83,"div",18),d.TgZ(84,"label",47),d._uU(85,"Country"),d.qZA(),d.TgZ(86,"app-country",48),d.NdJ("oncountrychange",function(e){return t.bookingservice.singleresult.Country=e}),d.qZA(),d.qZA(),d.TgZ(87,"div",18),d.TgZ(88,"label",49),d._uU(89,"State"),d.qZA(),d.TgZ(90,"app-states",50),d.NdJ("onStateChange",function(e){return t.bookingservice.singleresult.State=e}),d.qZA(),d.qZA(),d.TgZ(91,"div",18),d.TgZ(92,"label",28),d._uU(93,"Template"),d.qZA(),d.TgZ(94,"ng-select",51,52),d.NdJ("scrollToEnd",function(){return t.emailtemp.ScrollDown()})("ngModelChange",function(e){return t.bookingservice.singleresult.TI=e})("change",function(e){return t.onTemplateChange(e)}),d.YNc(96,Me,2,2,"ng-template",26),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(97,"div",0),d.TgZ(98,"div",53),d._uU(99,"Payment/Site Structure Details"),d.qZA(),d.TgZ(100,"div",15),d.TgZ(101,"div",16),d.TgZ(102,"div",54),d.TgZ(103,"div",55),d.TgZ(104,"div",56),d.TgZ(105,"div",57),d.TgZ(106,"span",58),d._uU(107,"Flat Cost:"),d.qZA(),d.TgZ(108,"div",59),d.TgZ(109,"input",60,61),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.bssqft=e}),d.qZA(),d.YNc(111,Ne,2,1,"div",62),d.qZA(),d.TgZ(112,"div",59),d.TgZ(113,"input",63,64),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.salesqft=e}),d.qZA(),d.YNc(115,De,2,1,"div",62),d.qZA(),d.TgZ(116,"div",59),d.TgZ(117,"input",65,66),d.NdJ("change",function(){return t.onCheck(),t.CalculateGST(),t.CalculateStamp(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.bsrate=e}),d.qZA(),d.YNc(119,Oe,2,1,"div",62),d.qZA(),d.qZA(),d.TgZ(120,"div",67),d._uU(121," Calculated Flat Cost "),d.qZA(),d.TgZ(122,"div",68),d.TgZ(123,"input",69,70),d.NdJ("change",function(){return t.onChangeTotalCost(),t.CalculateGST(),t.CalculateStamp(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.FltCst=e}),d.qZA(),d.YNc(125,Ue,1,0,"div",62),d.qZA(),d.qZA(),d.qZA(),d.TgZ(126,"div",71),d.TgZ(127,"div",72),d.TgZ(128,"div",73),d.TgZ(129,"label",74),d.TgZ(130,"input",75),d.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.Issocchrge=e}),d.qZA(),d._UZ(131,"span",76),d.qZA(),d.qZA(),d.TgZ(132,"div",77),d.TgZ(133,"label",78),d._uU(134,"Develop./Infra/Soc./Possession/Other Charges"),d.qZA(),d.TgZ(135,"input",79,80),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.socchrge=e})("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST()}),d.qZA(),d.YNc(137,Le,2,1,"div",81),d.qZA(),d.qZA(),d.qZA(),d.TgZ(138,"div",82),d.TgZ(139,"div",72),d._UZ(140,"div",83),d.TgZ(141,"div",77),d.TgZ(142,"label",84),d._uU(143,"Document Charge"),d.qZA(),d.TgZ(144,"input",85,86),d.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST()})("ngModelChange",function(e){return t.bookingservice.singleresult.docchrge=e}),d.qZA(),d.YNc(146,Fe,2,1,"div",81),d.qZA(),d.qZA(),d.qZA(),d.TgZ(147,"div",71),d.TgZ(148,"div",72),d.TgZ(149,"div",73),d.TgZ(150,"label",74),d.TgZ(151,"input",87),d.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.Ismainchrge=e}),d.qZA(),d._UZ(152,"span",76),d.qZA(),d.qZA(),d.TgZ(153,"div",77),d.TgZ(154,"label",88),d._uU(155,"Maintainance Charges:"),d.qZA(),d.TgZ(156,"input",89,90),d.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.autoCalculateLoanOCR(),t.CalculateGST()})("ngModelChange",function(e){return t.bookingservice.singleresult.maintchrge=e}),d.qZA(),d.YNc(158,Qe,2,1,"div",81),d.qZA(),d.qZA(),d.qZA(),d.TgZ(159,"div",71),d.TgZ(160,"div",72),d.TgZ(161,"div",91),d.TgZ(162,"label",74),d.TgZ(163,"input",92),d.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.autoCalculateLoanOCR(),t.CalculateGST()})("ngModelChange",function(e){return t.bookingservice.singleresult.Isothchar=e}),d.qZA(),d._UZ(164,"span",76),d.qZA(),d.qZA(),d.TgZ(165,"div",77),d.TgZ(166,"label",93),d._uU(167,"Other Charge:"),d.qZA(),d.TgZ(168,"input",94,95),d.NdJ("change",function(){return t.onCheck(),t.CalculateStamp(),t.CalculateGST(),t.autoCalculateLoanOCR()})("ngModelChange",function(e){return t.bookingservice.singleresult.otherchrge=e}),d.qZA(),d.YNc(170,Ye,2,1,"div",81),d.qZA(),d.qZA(),d.qZA(),d.TgZ(171,"div",96),d.TgZ(172,"label",97),d._uU(173," GST: "),d.qZA(),d.TgZ(174,"input",98,99),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.gstchrge=e})("change",function(){return t.autoCalculateLoanOCR()}),d.qZA(),d.YNc(176,He,2,1,"div",81),d.qZA(),d.TgZ(177,"div",96),d.TgZ(178,"label",100),d._uU(179," GST Other: "),d.qZA(),d.TgZ(180,"input",101,102),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.OtherGst=e}),d.qZA(),d.YNc(182,Ke,2,1,"div",81),d.qZA(),d.TgZ(183,"div",96),d.TgZ(184,"label",103),d._uU(185," Car Parking Charges: "),d.qZA(),d.TgZ(186,"input",104,105),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.carParkCrg=e}),d.qZA(),d.YNc(188,je,2,1,"div",81),d.qZA(),d.TgZ(189,"div",96),d.TgZ(190,"label",106),d._uU(191," Building Protection Cost: "),d.qZA(),d.TgZ(192,"input",107,108),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.buildProCost=e}),d.qZA(),d.YNc(194,ze,2,1,"div",81),d.qZA(),d.TgZ(195,"div",109),d.TgZ(196,"label",110),d._uU(197," Stamp Duty: "),d.qZA(),d.TgZ(198,"input",111,112),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.stmp=e})("change",function(){return t.autoCalculateLoanOCR()}),d.qZA(),d.YNc(200,et,2,1,"div",81),d.qZA(),d.TgZ(201,"div",109),d.TgZ(202,"label",113),d._uU(203," Registration Cost: "),d.qZA(),d.TgZ(204,"input",114,115),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.regisCost=e})("change",function(){return t.autoCalculateLoanOCR()}),d.qZA(),d.YNc(206,it,2,1,"div",81),d.qZA(),d.TgZ(207,"div",109),d.TgZ(208,"label",116),d._uU(209," Allowed Car Parking: "),d.qZA(),d.TgZ(210,"input",117,118),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.NoCarPark=e}),d.qZA(),d.YNc(212,rt,2,1,"div",81),d.qZA(),d.TgZ(213,"div",109),d.TgZ(214,"label",119),d._uU(215," Token Booking Amount: "),d.qZA(),d.TgZ(216,"input",120,121),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.TknBookAmt=e}),d.qZA(),d.YNc(218,st,2,1,"div",81),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(219,"div",0),d.TgZ(220,"div",53),d._uU(221,"Payment Summary"),d.qZA(),d.TgZ(222,"div",15),d.TgZ(223,"div",16),d.TgZ(224,"div",54),d.TgZ(225,"div",122),d.TgZ(226,"label",123),d._uU(227,"Agreement Ledger"),d.qZA(),d.TgZ(228,"ng-select",124,125),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.agrledId=e}),d.qZA(),d.YNc(230,at,2,1,"div",22),d.TgZ(231,"span",126),d._uU(232),d.qZA(),d.qZA(),d.TgZ(233,"div",122),d.TgZ(234,"label",127),d._uU(235,"Maintanance Ledger"),d.qZA(),d.TgZ(236,"ng-select",128,129),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.MaintledId=e}),d.qZA(),d.YNc(238,ut,2,1,"div",22),d.TgZ(239,"span",126),d._uU(240),d.qZA(),d.qZA(),d.TgZ(241,"div",122),d.TgZ(242,"label",130),d._uU(243,"GST Account"),d.qZA(),d.TgZ(244,"ng-select",131,132),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.GSTLedId=e}),d.qZA(),d.YNc(246,gt,2,1,"div",22),d.TgZ(247,"span",133),d._uU(248),d.qZA(),d.qZA(),d.TgZ(249,"div",122),d.TgZ(250,"label",134),d._uU(251,"Other GST Account"),d.qZA(),d.TgZ(252,"ng-select",135,136),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.OtherGSTLedId=e}),d.qZA(),d.YNc(254,ht,2,1,"div",22),d.TgZ(255,"span",133),d._uU(256),d.qZA(),d.qZA(),d.TgZ(257,"div",122),d.TgZ(258,"label",137),d._uU(259,"Car Charges Account"),d.qZA(),d.TgZ(260,"ng-select",138,139),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.carParkingLedId=e}),d.qZA(),d.YNc(262,ft,2,1,"div",22),d.TgZ(263,"span",133),d._uU(264),d.qZA(),d.qZA(),d.TgZ(265,"div",122),d.TgZ(266,"label",140),d._uU(267,"Building Protection Account"),d.qZA(),d.TgZ(268,"ng-select",141,142),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.buildingProtectionLedId=e}),d.qZA(),d.YNc(270,Zt,2,1,"div",22),d.TgZ(271,"span",133),d._uU(272),d.qZA(),d.qZA(),d.TgZ(273,"div",122),d.TgZ(274,"label",143),d._uU(275,"Other Account"),d.qZA(),d.TgZ(276,"ng-select",144,145),d.NdJ("ngModelChange",function(e){return t.bookingservice.singleresult.OthLedId=e}),d.qZA(),d.YNc(278,Tt,2,1,"div",22),d.TgZ(279,"span",146),d._uU(280),d.qZA(),d.qZA(),d.TgZ(281,"div",147),d.TgZ(282,"label",148),d._uU(283,"Bank"),d.qZA(),d.TgZ(284,"ng-select",149,150),d.NdJ("ngModelChange",function(e){return t.bankService.singleresult=e}),d.qZA(),d.YNc(286,St,2,1,"div",22),d.TgZ(287,"span",151),d._uU(288,"Bank details:"),d.qZA(),d.qZA(),d.TgZ(289,"div",147),d.TgZ(290,"label",152),d._uU(291,"Loan Amount"),d.qZA(),d.TgZ(292,"input",153,154),d.NdJ("change",function(){return t.changeLoan()})("ngModelChange",function(e){return t.bookingservice.singleresult.LoanAmt=e}),d.qZA(),d.TgZ(294,"span",155),d._uU(295,"Loan Amount:"),d.qZA(),d.qZA(),d.TgZ(296,"div",156),d.TgZ(297,"label",157),d.TgZ(298,"input",158),d.NdJ("change",function(){return t.bookingservice.singleresult.IsCommdate=1!=t.bookingservice.singleresult.IsCommdate}),d.qZA(),d._UZ(299,"span",76),d.qZA(),d.TgZ(300,"span",159),d._uU(301,"Is Commitment Date"),d.qZA(),d.qZA(),d.TgZ(302,"div",156),d.TgZ(303,"label",157),d.TgZ(304,"input",158),d.NdJ("change",function(){return t.bookingservice.singleresult.IsDueDt=1!=t.bookingservice.singleresult.IsDueDt,t.dueDtChange()}),d.qZA(),d._UZ(305,"span",76),d.qZA(),d.TgZ(306,"span",159),d._uU(307,"Is Due Amount"),d.qZA(),d.qZA(),d.TgZ(308,"div",156),d.TgZ(309,"label",157),d.TgZ(310,"input",158),d.NdJ("change",function(){return t.bookingservice.singleresult.IsSJ=1!=t.bookingservice.singleresult.IsSJ}),d.qZA(),d._UZ(311,"span",76),d.qZA(),d.TgZ(312,"span",159),d._uU(313,"Is Sales/Journal Entry"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(314,"div",0),d.TgZ(315,"div",53),d._uU(316," Payment Terms of agreement Value "),d.qZA(),d.TgZ(317,"div",15),d.TgZ(318,"div",16),d.TgZ(319,"div",54),d.TgZ(320,"div",160),d.TgZ(321,"table",161),d.TgZ(322,"thead"),d.TgZ(323,"tr"),d.TgZ(324,"th",162),d._uU(325,"Term"),d.qZA(),d.TgZ(326,"th",162),d._uU(327,"Amount/Loan"),d.qZA(),d.TgZ(328,"th",162),d._uU(329,"Commitment Date"),d.qZA(),d.TgZ(330,"th",162),d._uU(331,"OCR Amount"),d.qZA(),d.TgZ(332,"th",162),d._uU(333,"OCR Commitment Date "),d.qZA(),d.TgZ(334,"th",162),d._uU(335,"Action"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(336,"tbody"),d.YNc(337,Nt,2,2,"ng-container",163),d.YNc(338,_t,7,2,"div",164),d.YNc(339,Ft,2,1,"ng-container",165),d.qZA(),d.qZA(),d.qZA(),d.TgZ(340,"div",166),d.TgZ(341,"label",167),d._uU(342,"Term"),d.qZA(),d.TgZ(343,"input",168,169),d.NdJ("ngModelChange",function(e){return t.Terms.Nurr=e}),d.qZA(),d.YNc(345,Qt,2,1,"div",22),d.qZA(),d.TgZ(346,"div",170),d.TgZ(347,"label",171),d._uU(348,"Payment Type"),d.qZA(),d.TgZ(349,"ng-select",172,173),d.NdJ("ngModelChange",function(e){return t.Terms.PaytpId=e}),d.TgZ(351,"ng-option",174),d._uU(352,"Select Payment Type"),d.qZA(),d.TgZ(353,"ng-option",175),d._uU(354,"LOAN-OCR"),d.qZA(),d.qZA(),d.YNc(355,Yt,2,1,"div",22),d.qZA(),d.TgZ(356,"div",176),d.TgZ(357,"label",177),d._uU(358,"Amount"),d.qZA(),d.TgZ(359,"input",178,179),d.NdJ("ngModelChange",function(e){return t.Terms.AmtVal=e}),d.qZA(),d.YNc(361,Ht,2,1,"div",22),d.qZA(),d.TgZ(362,"div",176),d.TgZ(363,"label",180),d._uU(364,"Due Date"),d.qZA(),d.TgZ(365,"input",181,182),d.NdJ("selected",function(e){return t.onDuedateSelect(e)}),d.qZA(),d.YNc(367,Kt,2,1,"div",22),d.qZA(),d.YNc(368,Wt,7,5,"div",183),d.YNc(369,ei,7,5,"div",183),d.TgZ(370,"div",184),d.TgZ(371,"button",185),d.NdJ("click",function(){d.CHM(i);var e=d.MAs(350),n=d.MAs(360),r=d.MAs(366),o=d.MAs(344);return t.addPaymentTermswithValidation(e.value,n.value,r.value,o.value)}),d._uU(372," Add Payment Term "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(373,ti,5,1,"div",186),d.YNc(374,ii,8,1,"nav",187),d.qZA(),d.qZA(),d.qZA(),d.YNc(375,ni,1,3,"app-companyledger-addedit",188)}if(2&e){var n=d.MAs(5),r=d.MAs(39),o=d.MAs(51),s=d.MAs(57),l=d.MAs(63),a=d.MAs(69),c=d.MAs(75),u=d.MAs(81),g=d.MAs(110),p=d.MAs(114),h=d.MAs(118),m=d.MAs(124),f=d.MAs(136),v=d.MAs(145),Z=d.MAs(157),A=d.MAs(169),T=d.MAs(175),b=d.MAs(181),S=d.MAs(187),x=d.MAs(193),C=d.MAs(199),I=d.MAs(205),q=d.MAs(211),k=d.MAs(217),y=d.MAs(229),M=d.MAs(237),w=d.MAs(245),N=d.MAs(253),_=d.MAs(261),D=d.MAs(269),P=d.MAs(277),O=d.MAs(285),U=d.MAs(293),E=d.MAs(344),L=d.MAs(350),J=d.MAs(360),F=d.MAs(366);d.Udp("display",t.showCompanyLedgerpopup?"none":"block"),d.xp6(1),d.Q6J("ngIf",!t.bookingservice.IsMobileview),d.xp6(1),d.Q6J("ngIf",t.bookingservice.IsMobileview),d.xp6(10),d.lnq(" ",t.customerService.singleresult.FN," ",t.customerService.singleresult.MN," ",t.customerService.singleresult.LN," "),d.xp6(2),d.hij(" Address - ",t.customerService.singleresult.CustAddr,""),d.xp6(2),d.AsE(" (M:) ",t.customerService.singleresult.CNO,", ",t.customerService.singleresult.CNo2,""),d.xp6(2),d.hij(" (E:) ",t.customerService.singleresult.EID," "),d.xp6(4),d.AsE(" ",t.sitestrService.singleresult.StNm," - ",t.sitestrService.singleresult.RmTp," "),d.xp6(2),d.hij(" Building -",t.sitestrService.singleresult.BLNm,""),d.xp6(2),d.hij(" Wing - ",t.sitestrService.singleresult.WingNm,""),d.xp6(2),d.hij(" FlatNo - ",t.sitestrService.singleresult.FltN," "),d.xp6(10),d.Q6J("ngClass",d.VKq(193,xt,n.submitted&&r.invalid))("ngModel",t.bookingservice.singleresult.NameOnAgreement),d.xp6(2),d.Q6J("ngIf",n.submitted&&r.invalid),d.xp6(4),d.Q6J("items",t.Customers)("ngModel",t.custledger)("loading",t.companyledgerservice.loading),d.xp6(6),d.Q6J("items",t.CustomerGroupLedger)("ngClass",d.VKq(195,xt,n.submitted&&o.invalid))("ngModel",t.bookingservice.singleresult.CusParentLedgerId)("loading",t.companyledgerservice.loading),d.xp6(2),d.Q6J("ngIf",n.submitted&&o.invalid),d.xp6(4),d.Q6J("ngClass",d.VKq(197,xt,n.submitted&&s.invalid))("ngModel",t.bookingservice.singleresult.AgreementAddress),d.xp6(2),d.Q6J("ngIf",n.submitted&&s.invalid),d.xp6(4),d.Q6J("ngClass",d.VKq(199,xt,n.submitted&&l.invalid))("ngModel",t.bookingservice.singleresult.PanNumber),d.xp6(2),d.Q6J("ngIf",n.submitted&&l.invalid),d.xp6(4),d.Q6J("ngClass",d.VKq(201,xt,n.submitted&&a.invalid))("ngModel",t.bookingservice.singleresult.AadharNumber),d.xp6(2),d.Q6J("ngIf",n.submitted&&a.invalid),d.xp6(4),d.Q6J("startDate",t.bookingservice.singleresult.AltDate),d.xp6(2),d.Q6J("ngIf",n.submitted&&c.invalid),d.xp6(4),d.Q6J("ngClass",d.VKq(203,xt,n.submitted&&u.invalid))("ngModel",t.bookingservice.singleresult.RefBy),d.xp6(2),d.Q6J("ngIf",u.invalid),d.xp6(4),d.Q6J("countryinput",t.bookingservice.singleresult.Country),d.xp6(4),d.Q6J("isRequired",!0)("StateInput",t.bookingservice.singleresult.State),d.xp6(4),d.Q6J("virtualScroll",!0)("items",t.emailtemp.result)("loading",t.emailtemp.loading)("ngModel",t.bookingservice.singleresult.TI),d.xp6(15),d.Q6J("ngClass",d.VKq(205,xt,n.submitted&&g.invalid))("ngModel",t.bookingservice.singleresult.bssqft),d.xp6(2),d.Q6J("ngIf",g.invalid),d.xp6(2),d.Q6J("ngClass",d.VKq(207,xt,n.submitted&&p.invalid))("ngModel",t.bookingservice.singleresult.salesqft),d.xp6(2),d.Q6J("ngIf",p.invalid),d.xp6(2),d.Q6J("ngClass",d.VKq(209,xt,n.submitted&&h.invalid))("ngModel",t.bookingservice.singleresult.bsrate),d.xp6(2),d.Q6J("ngIf",h.invalid),d.xp6(4),d.Q6J("ngClass",d.VKq(211,xt,n.submitted&&m.invalid))("ngModel",t.bookingservice.singleresult.FltCst),d.xp6(2),d.Q6J("ngIf",m.invalid),d.xp6(5),d.Q6J("ngModel",t.bookingservice.singleresult.Issocchrge),d.xp6(5),d.s9C("pattern",t.socratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.socchrge)("ngClass",d.VKq(213,xt,n.submitted&&f.invalid)),d.xp6(2),d.Q6J("ngIf",f.invalid),d.xp6(7),d.s9C("pattern",t.docratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.docchrge)("ngClass",d.VKq(215,xt,n.submitted&&v.invalid)),d.xp6(2),d.Q6J("ngIf",v.invalid),d.xp6(5),d.Q6J("ngModel",t.bookingservice.singleresult.Ismainchrge),d.xp6(5),d.s9C("pattern",t.mainratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.maintchrge)("ngClass",d.VKq(217,xt,n.submitted&&Z.invalid)),d.xp6(2),d.Q6J("ngIf",Z.invalid),d.xp6(5),d.Q6J("ngModel",t.bookingservice.singleresult.Isothchar),d.xp6(5),d.s9C("pattern",t.otherratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.otherchrge)("ngClass",d.VKq(219,xt,n.submitted&&A.invalid)),d.xp6(2),d.Q6J("ngIf",A.invalid),d.xp6(4),d.s9C("pattern",t.gstratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.gstchrge)("ngClass",d.VKq(221,xt,n.submitted&&T.invalid)),d.xp6(2),d.Q6J("ngIf",T.invalid),d.xp6(4),d.s9C("pattern",t.gstratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.OtherGst)("ngClass",d.VKq(223,xt,n.submitted&&b.invalid)),d.xp6(2),d.Q6J("ngIf",b.invalid),d.xp6(4),d.s9C("pattern",t.gstratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.carParkCrg)("ngClass",d.VKq(225,xt,n.submitted&&S.invalid)),d.xp6(2),d.Q6J("ngIf",S.invalid),d.xp6(4),d.s9C("pattern",t.gstratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.buildProCost)("ngClass",d.VKq(227,xt,n.submitted&&x.invalid)),d.xp6(2),d.Q6J("ngIf",x.invalid),d.xp6(4),d.s9C("pattern",t.stmpratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.stmp)("ngClass",d.VKq(229,xt,n.submitted&&C.invalid)),d.xp6(2),d.Q6J("ngIf",C.invalid),d.xp6(4),d.s9C("pattern",t.stmpratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.regisCost)("ngClass",d.VKq(231,xt,n.submitted&&I.invalid)),d.xp6(2),d.Q6J("ngIf",I.invalid),d.xp6(4),d.s9C("pattern",t.stmpratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.NoCarPark)("ngClass",d.VKq(233,xt,n.submitted&&q.invalid)),d.xp6(2),d.Q6J("ngIf",q.invalid),d.xp6(4),d.s9C("pattern",t.stmpratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.TknBookAmt)("ngClass",d.VKq(235,xt,n.submitted&&k.invalid)),d.xp6(2),d.Q6J("ngIf",k.invalid),d.xp6(10),d.Q6J("items",t.FromLedger)("required",t.bookingservice.singleresult.agrval>0)("ngClass",d.VKq(237,xt,n.submitted&&y.invalid))("ngModel",t.bookingservice.singleresult.agrledId)("loading",t.companyledgerservice.loading),d.xp6(2),d.Q6J("ngIf",y.invalid),d.xp6(2),d.hij(" Agreement Amount: ",t.bookingservice.singleresult.agrval," "),d.xp6(4),d.Q6J("items",t.FromLedger)("required",t.bookingservice.singleresult.maintchrge>0&&1!=t.bookingservice.singleresult.Ismainchrge)("ngClass",d.VKq(239,xt,n.submitted&&M.invalid))("ngModel",t.bookingservice.singleresult.MaintledId)("loading",t.companyledgerservice.loading),d.xp6(2),d.Q6J("ngIf",M.invalid),d.xp6(2),d.hij(" Maintainance charge: ",1!=t.bookingservice.singleresult.Ismainchrge?t.bookingservice.singleresult.maintchrge:""," "),d.xp6(4),d.Q6J("items",t.GSTLedger)("required",t.bookingservice.singleresult.gstchrge>0)("ngClass",d.VKq(241,xt,n.submitted&&w.invalid))("ngModel",t.bookingservice.singleresult.GSTLedId)("loading",t.companyledgerservice.loading),d.xp6(2),d.Q6J("ngIf",w.invalid),d.xp6(2),d.hij(" Total Gst: ",t.bookingservice.singleresult.gstchrge," "),d.xp6(4),d.Q6J("items",t.GSTLedger)("required",t.bookingservice.singleresult.OtherGst>0)("ngClass",d.VKq(243,xt,n.submitted&&N.invalid))("ngModel",t.bookingservice.singleresult.OtherGSTLedId)("loading",t.companyledgerservice.loading),d.xp6(2),d.Q6J("ngIf",w.invalid),d.xp6(2),d.hij(" Total Gst: ",t.bookingservice.singleresult.OtherGst," "),d.xp6(4),d.Q6J("items",t.GSTLedger)("required",t.bookingservice.singleresult.carParkCrg>0)("ngClass",d.VKq(245,xt,n.submitted&&_.invalid))("ngModel",t.bookingservice.singleresult.carParkingLedId)("loading",t.companyledgerservice.loading),d.xp6(2),d.Q6J("ngIf",w.invalid),d.xp6(2),d.hij(" Total Car Park Charges: ",t.bookingservice.singleresult.carParkCrg," "),d.xp6(4),d.Q6J("items",t.GSTLedger)("required",t.bookingservice.singleresult.buildProCost>0)("ngClass",d.VKq(247,xt,n.submitted&&D.invalid))("ngModel",t.bookingservice.singleresult.buildingProtectionLedId)("loading",t.companyledgerservice.loading),d.xp6(2),d.Q6J("ngIf",w.invalid),d.xp6(2),d.hij(" Total Building Protection Charges: ",t.bookingservice.singleresult.buildProCost," "),d.xp6(4),d.Q6J("items",t.FromLedger)("required",t.bookingservice.singleresult.Othval>0)("ngClass",d.VKq(249,xt,n.submitted&&P.invalid))("ngModel",t.bookingservice.singleresult.OthLedId)("loading",t.companyledgerservice.loading),d.xp6(2),d.Q6J("ngIf",P.invalid),d.xp6(2),d.hij(" Other: ",t.bookingservice.singleresult.Othval," "),d.xp6(4),d.Q6J("items",t.bankService.result)("required",t.bookingservice.singleresult.LoanAmt>0)("ngClass",d.VKq(251,xt,n.submitted&&O.invalid))("ngModel",t.bankService.singleresult)("loading",t.bankService.loading),d.xp6(2),d.Q6J("ngIf",O.invalid),d.xp6(6),d.s9C("pattern",t.stmpratepattern),d.Q6J("ngModel",t.bookingservice.singleresult.LoanAmt)("ngClass",d.VKq(253,xt,n.submitted&&U.invalid)),d.xp6(6),d.Q6J("checked",1==t.bookingservice.singleresult.IsCommdate),d.xp6(6),d.Q6J("checked",1==t.bookingservice.singleresult.IsDueDt),d.xp6(6),d.Q6J("checked",1==t.bookingservice.singleresult.IsSJ),d.xp6(27),d.Q6J("ngIf",0==t.bookingservice.singleresult.IsDueDt),d.xp6(1),d.Q6J("ngIf",1==t.bookingservice.singleresult.IsDueDt),d.xp6(1),d.Q6J("ngForOf",t.p_TermsRev)("ngForTrackBy",t.indexTracker),d.xp6(4),d.Q6J("ngModel",t.Terms.Nurr)("ngClass",d.VKq(255,xt,n.submitted&&E.invalid)),d.xp6(2),d.Q6J("ngIf",E.invalid),d.xp6(4),d.Q6J("ngModel",t.Terms.PaytpId)("ngClass",d.VKq(257,xt,n.submitted&&L.invalid)),d.xp6(6),d.Q6J("ngIf",L.invalid),d.xp6(4),d.Q6J("ngClass",d.VKq(259,xt,n.submitted&&J.invalid))("ngModel",t.Terms.AmtVal),d.xp6(2),d.Q6J("ngIf",J.invalid),d.xp6(4),d.Q6J("ngClass",d.VKq(261,xt,n.submitted&&F.invalid))("startDate",t.Terms.DueD),d.xp6(2),d.Q6J("ngIf",F.invalid),d.xp6(1),d.Q6J("ngIf","LOAN-OCR"==t.Terms.PaytpId),d.xp6(1),d.Q6J("ngIf","LOAN-OCR"==t.Terms.PaytpId),d.xp6(4),d.Q6J("ngIf",!t.bookingservice.isMobile),d.xp6(1),d.Q6J("ngIf",t.bookingservice.isMobile),d.xp6(1),d.Q6J("ngIf",t.showCompanyLedgerpopup)}},directives:[M.O5,N._Y,N.JL,N.F,P.u,N.Fj,N.Q7,M.mk,N.JJ,N.On,_.x,D.w9,D.A3,N.c5,N.wV,re.q,oe.X,se.a,N.Wl,M.sg,D.xv,x.gu,le.k],pipes:[M.uU],styles:[".card[_ngcontent-%COMP%]{color:#000;margin:15 15 0}.card-layout[_ngcontent-%COMP%]{padding:20}.card-layout[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{margin-bottom:15}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]}),e}(),oi=["f"],si=["Site"],li=["SearchModal"],ai=["ionInfinitescroll"],ci=["ionvscroll"],ui=["ImageModal"],di=["ImageUploadModal"],gi=["EmailModal"],pi=["OtherDocument"];function hi(e,t){if(1&e&&(d.TgZ(0,"small",136),d._uU(1),d.qZA()),2&e){var i=d.oxw(3);d.xp6(1),d.AsE(" Loaded ",i.siteService.result.length," of ",i.siteService.totalItems," ")}}function mi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",79),d.TgZ(1,"ul",80),d.TgZ(2,"li",81),d.TgZ(3,"button",82),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).goback()}),d._UZ(4,"i",83),d.qZA(),d.qZA(),d.TgZ(5,"li",84),d.TgZ(6,"form",85),d.NdJ("submit",function(){return d.CHM(i),d.oxw(2).FilterData()}),d.TgZ(7,"div",86),d._UZ(8,"span",15),d.TgZ(9,"input",87,88),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.filter=e}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"li",89),d.TgZ(12,"button",90),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).FilterData()}),d._UZ(13,"span",91),d.TgZ(14,"span",92),d._uU(15,"Search"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"li",93),d.TgZ(17,"div",94),d.NdJ("isOpenChange",function(e){return d.CHM(i),d.oxw(2).change(e)}),d.TgZ(18,"button",95),d._UZ(19,"span",96),d.TgZ(20,"span",92),d._uU(21,"Filter"),d.qZA(),d.qZA(),d.TgZ(22,"div",97),d.NdJ("click",function(e){return e.stopPropagation()}),d.TgZ(23,"form",9,10),d.NdJ("ngSubmit",function(){return d.CHM(i),d.oxw(2).FilterData()}),d.TgZ(25,"div",98),d.TgZ(26,"div",99),d.TgZ(27,"label",100),d._uU(28,"Select Site"),d.qZA(),d.TgZ(29,"ng-select",101),d.NdJ("scrollToEnd",function(){return d.CHM(i),d.oxw(2).siteService.ScrollDown()})("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.STIarray=e}),d.YNc(30,hi,2,2,"ng-template",19),d.qZA(),d.qZA(),d.TgZ(31,"div",99),d.TgZ(32,"label",102),d._uU(33,"Select Building"),d.qZA(),d.TgZ(34,"ng-select",103),d.NdJ("scrollToEnd",function(){return d.CHM(i),d.oxw(2).siteService.ScrollDown()})("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.Bldarray=e}),d.qZA(),d.qZA(),d.TgZ(35,"div",99),d.TgZ(36,"label",104),d._uU(37,"Select Wing"),d.qZA(),d.TgZ(38,"ng-select",105),d.NdJ("scrollToEnd",function(){return d.CHM(i),d.oxw(2).siteService.ScrollDown()})("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.Wngarray=e}),d.qZA(),d.qZA(),d.TgZ(39,"div",99),d.TgZ(40,"label",106),d._uU(41,"Enter Flat No"),d.qZA(),d.TgZ(42,"input",107,108),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.filter=e}),d.qZA(),d.qZA(),d.TgZ(44,"div",99),d.TgZ(45,"label",109),d._uU(46,"Select Booking Status"),d.qZA(),d.TgZ(47,"ng-select",110,111),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.BookingSts=e}),d.TgZ(49,"ng-option",112),d._uU(50,"UnSold"),d.qZA(),d.TgZ(51,"ng-option",113),d._uU(52,"Sold"),d.qZA(),d.TgZ(53,"ng-option",114),d._uU(54,"OnHold"),d.qZA(),d.TgZ(55,"ng-option",115),d._uU(56,"Tenent"),d.qZA(),d.TgZ(57,"ng-option",116),d._uU(58,"Member"),d.qZA(),d.TgZ(59,"ng-option",117),d._uU(60,"All"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(61,"div",99),d.TgZ(62,"label",118),d._uU(63," Flat Amount"),d.qZA(),d.TgZ(64,"div",51),d.TgZ(65,"ng-select",119,120),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.AmountRange=e}),d.TgZ(67,"ng-option",121),d._uU(68,"Greaterthan"),d.qZA(),d.TgZ(69,"ng-option",122),d._uU(70,"Lessthan"),d.qZA(),d.TgZ(71,"ng-option",123),d._uU(72,"EqualTo "),d.qZA(),d.TgZ(73,"ng-option",124),d._uU(74,"NotEqualTo"),d.qZA(),d.qZA(),d.TgZ(75,"input",125,126),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.Amount=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(77,"div",99),d.TgZ(78,"label",127),d._uU(79," Block Area"),d.qZA(),d.TgZ(80,"div",51),d.TgZ(81,"ng-select",128,129),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.BlockRange=e}),d.TgZ(83,"ng-option",121),d._uU(84,"Greaterthan"),d.qZA(),d.TgZ(85,"ng-option",122),d._uU(86,"Lessthan"),d.qZA(),d.TgZ(87,"ng-option",123),d._uU(88,"EqualTo "),d.qZA(),d.TgZ(89,"ng-option",124),d._uU(90,"NotEqualTo"),d.qZA(),d.qZA(),d.TgZ(91,"input",130,131),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).sfilter.Area=e}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(93,"div",132),d.TgZ(94,"button",133),d.NdJ("click",function(e){d.CHM(i);var t=d.oxw(2);return t.clearfilterandloadnewdata(),t.toggleDropdown(e)}),d._uU(95," Clear Filter "),d.qZA(),d.TgZ(96,"button",134),d.NdJ("click",function(e){return d.CHM(i),d.oxw(2).toggleDropdown(e)}),d._UZ(97,"i",135),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(9),d.Q6J("ngModel",n.sfilter.filter),d.xp6(8),d.Q6J("isOpen",n.status.isOpen),d.xp6(5),d.ekj("show",n.status.isOpen),d.xp6(7),d.Q6J("virtualScroll",!0)("items",n.siteService.result)("multiple",!0)("ngModel",n.sfilter.STIarray)("loading",n.siteService.loading),d.xp6(5),d.Q6J("virtualScroll",!0)("items",n.BuildingcolumnList)("multiple",!0)("ngModel",n.sfilter.Bldarray)("loading",n.siteService.loading),d.xp6(4),d.Q6J("virtualScroll",!0)("items",n.WingcolumnList)("multiple",!0)("ngModel",n.sfilter.Wngarray)("loading",n.siteService.loading),d.xp6(4),d.Q6J("ngModel",n.sfilter.filter),d.xp6(5),d.Q6J("ngModel",n.sfilter.BookingSts),d.xp6(18),d.Q6J("ngModel",n.sfilter.AmountRange),d.xp6(10),d.Q6J("ngModel",n.sfilter.Amount),d.xp6(6),d.Q6J("ngModel",n.sfilter.BlockRange),d.xp6(10),d.Q6J("ngModel",n.sfilter.Area)}}function fi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",137),d.TgZ(1,"ul",80),d.TgZ(2,"li",138),d.TgZ(3,"ion-icon",139),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).goback()}),d.qZA(),d.qZA(),d.TgZ(4,"li",138),d.TgZ(5,"ion-icon",140),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).advSearchM()}),d.qZA(),d.qZA(),d.TgZ(6,"li",141),d.TgZ(7,"div",142),d.TgZ(8,"strong"),d._uU(9),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"li",143),d.TgZ(11,"ion-icon",144),d.NdJ("click",function(e){return d.CHM(i),d.oxw(2).sortPopover(e)}),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(9),d.Oqu(n.PageName)}}function vi(e,t){if(1&e&&(d.TgZ(0,"div",150),d.TgZ(1,"div",98),d.TgZ(2,"div",151),d.TgZ(3,"strong"),d._uU(4),d.qZA(),d.qZA(),d.TgZ(5,"div",152),d.TgZ(6,"div",153),d._uU(7),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw(3);d.xp6(4),d.Oqu(i.PageName),d.xp6(3),d.hij("Total ",i.siteStrList.length-1," record")}}function Zi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"th",160),d.NdJ("click",function(){return d.CHM(i),d.oxw(5).FilterData()}),d._uU(1),d.qZA()}if(2&e){var n=d.oxw().$implicit,r=d.oxw(4);d.Q6J("dirsort",r.sitestrService)("sortcolumn",n),d.xp6(1),d.hij(" ",n," ")}}function Ai(e,t){if(1&e&&(d.ynx(0),d.YNc(1,Zi,2,3,"th",162),d.BQk()),2&e){var i=t.$implicit;d.xp6(1),d.Q6J("ngIf","ModifiedDate"!==i&&"ModifiedBy"!==i)}}function Ti(e,t){1&e&&(d.TgZ(0,"span"),d._uU(1,"Grand Total"),d.qZA())}function bi(e,t){1&e&&(d.TgZ(0,"span",172),d._uU(1,"YES"),d.qZA())}function Si(e,t){if(1&e&&(d.ynx(0),d.YNc(1,bi,2,0,"span",171),d.BQk()),2&e){var i=d.oxw(3).$implicit;d.xp6(1),d.Q6J("ngIf",1==i.IsDynamicBooking)}}function xi(e,t){1&e&&(d.TgZ(0,"span",178),d._uU(1," Sold "),d.qZA())}function Ci(e,t){1&e&&(d.TgZ(0,"span",179),d._uU(1," Member "),d.qZA())}function Ii(e,t){1&e&&(d.TgZ(0,"span",180),d._uU(1," UnSold "),d.qZA())}function qi(e,t){1&e&&(d.TgZ(0,"span",181),d._uU(1," OnHold "),d.qZA())}function ki(e,t){1&e&&(d.TgZ(0,"span",182),d._uU(1," Tenent "),d.qZA())}function yi(e,t){if(1&e&&(d.ynx(0),d.YNc(1,xi,2,0,"span",173),d.YNc(2,Ci,2,0,"span",174),d.YNc(3,Ii,2,0,"span",175),d.YNc(4,qi,2,0,"span",176),d.YNc(5,ki,2,0,"span",177),d.BQk()),2&e){var i=d.oxw(2).$implicit,n=d.oxw().$implicit,r=d.oxw(5);d.xp6(1),d.Q6J("ngIf",r.isSold(n[i])),d.xp6(1),d.Q6J("ngIf",r.isMember(n[i])),d.xp6(1),d.Q6J("ngIf",r.isUnSold(n[i])),d.xp6(1),d.Q6J("ngIf",r.isOnHold(n[i])),d.xp6(1),d.Q6J("ngIf",r.isTenent(n[i]))}}function Mi(e,t){if(1&e&&(d.ynx(0),d._uU(1),d.BQk()),2&e){var i=d.oxw(2).$implicit,n=d.oxw().$implicit;d.xp6(1),d.hij(" ",n[i]," ")}}function wi(e,t){if(1&e&&(d.TgZ(0,"td"),d.YNc(1,Ti,2,0,"span",76),d.YNc(2,Si,2,1,"ng-container",76),d.YNc(3,yi,6,5,"ng-container",76),d.YNc(4,Mi,2,1,"ng-container",76),d.qZA()),2&e){var i=d.oxw().$implicit,n=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf","SiteName"==i&&null==n.PK_Id),d.xp6(1),d.Q6J("ngIf","IsDynamicBooking"===i),d.xp6(1),d.Q6J("ngIf","BookingStatus"==i),d.xp6(1),d.Q6J("ngIf","IsDynamicBooking"!=i&&"BookingStatus"!=i&&"ModifiedDate"!==i&&"ModifiedBy"!==i)}}function Ni(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"span",182),d._uU(2),d.qZA(),d.TgZ(3,"span",179),d._uU(4),d.ALo(5,"date"),d.qZA(),d.TgZ(6,"span",179),d._uU(7),d.ALo(8,"date"),d.qZA(),d.BQk()),2&e){var i=d.oxw(3).$implicit;d.xp6(2),d.hij("By: ",i.ModifiedBy,""),d.xp6(2),d.hij("Date: ",d.lcZ(5,3,i.ModifiedDate),""),d.xp6(3),d.hij("Time: ",d.xi3(8,5,i.ModifiedDate,"shortTime"),"")}}function _i(e,t){if(1&e&&(d.TgZ(0,"td"),d.YNc(1,Ni,9,8,"ng-container",76),d.qZA()),2&e){var i=d.oxw(2).$implicit;d.xp6(1),d.Q6J("ngIf",i.PK_Id>0)}}function Di(e,t){if(1&e&&(d.ynx(0),d.YNc(1,wi,5,4,"td",76),d.YNc(2,_i,2,1,"td",76),d.BQk()),2&e){var i=t.$implicit;d.xp6(1),d.Q6J("ngIf","ModifiedDate"!==i&&"ModifiedBy"!==i),d.xp6(1),d.Q6J("ngIf","ModifiedDate"==i)}}function Pi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"a",192),d.NdJ("clickAllowed",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).edit(e.PK_Id)}),d._uU(1," Edit Site Structure "),d.qZA()}if(2&e){var n=d.oxw(8);d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Oi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"a",192),d.NdJ("clickAllowed",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).edit(e.PK_Id)}),d._uU(1," Edit Booking "),d.qZA()}if(2&e){var n=d.oxw(8);d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Ui(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",193),d.NdJ("clickAllowed",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).DeleteStructure(1,e.PK_Id)}),d._uU(2," Delete Site Structure "),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(8);d.xp6(1),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Ei(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",193),d.NdJ("clickAllowed",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).DeleteStructure(2,e.PK_Id)}),d._uU(2," Cancel Booking "),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(8);d.xp6(1),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Li(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",194),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).GenerateDocument(e.PK_Id,e.SiteId,"BOOKING FORM")}),d._uU(2," Generate Booking Form "),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(8);d.xp6(1),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Ji(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",194),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).GenerateDocument(e.PK_Id,e.SiteId,"ALLOTMENT")}),d._uU(2," Generate Allotment "),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(8);d.xp6(1),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Fi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",195),d.NdJ("clickAllowed",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).GenerateDocument(e.PK_Id,e.SiteId,"AGREEMENT")}),d._uU(2," Generate Agreement "),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(8);d.xp6(1),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Ri(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",194),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).GenerateDocument(e.PK_Id,e.SiteId,"Booking_Demand_Letter")}),d._uU(2," Generate Demand "),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(8);d.xp6(1),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Qi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",194),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).GenerateDocument(e.PK_Id,e.SiteId,"BANK_NOC")}),d._uU(2," Generate Bank NOC "),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(8);d.xp6(1),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Bi(e,t){if(1&e&&(d.TgZ(0,"li",188),d.TgZ(1,"a",196),d._uU(2," Download Allotment "),d.qZA(),d.qZA()),2&e){var i=d.oxw(3).$implicit;d.xp6(1),d.s9C("href",i.AllotmentLetter,d.LSH)}}function Yi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",197),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).OpenEmailPopup(e.PK_Id,e.SiteId,"ALLOTMENT")}),d._uU(2," Send Email "),d.qZA(),d.qZA()}}function Gi(e,t){if(1&e&&(d.TgZ(0,"li",188),d.TgZ(1,"a",198),d._uU(2," Download Agreement "),d.qZA(),d.qZA()),2&e){var i=d.oxw(3).$implicit;d.xp6(1),d.s9C("href",i.AgreementLetter,d.LSH)}}function Hi(e,t){if(1&e&&(d.TgZ(0,"li",188),d.TgZ(1,"a",198),d._uU(2," Download Demand "),d.qZA(),d.qZA()),2&e){var i=d.oxw(3).$implicit;d.xp6(1),d.s9C("href",i.DemantLetter,d.LSH)}}function Vi(e,t){if(1&e&&(d.TgZ(0,"li",188),d.TgZ(1,"a",198),d._uU(2," Download Bank NOC "),d.qZA(),d.qZA()),2&e){var i=d.oxw(3).$implicit;d.xp6(1),d.s9C("href",i.BankNoc,d.LSH)}}function Ki(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"li",188),d.TgZ(1,"a",197),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(3).$implicit;return d.oxw(5).OpenOtherDocumentPopup(e.PK_Id,e.SiteId)}),d._uU(2," Other Document "),d.qZA(),d.qZA()}}function $i(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"ul",187),d.TgZ(1,"li",188),d.YNc(2,Pi,2,2,"a",189),d.YNc(3,Oi,2,2,"a",189),d.qZA(),d.YNc(4,Ui,3,2,"li",190),d.YNc(5,Ei,3,2,"li",190),d.YNc(6,Li,3,2,"li",190),d.YNc(7,Ji,3,2,"li",190),d.YNc(8,Fi,3,2,"li",190),d.YNc(9,Ri,3,2,"li",190),d.YNc(10,Qi,3,2,"li",190),d.YNc(11,Bi,3,1,"li",190),d.YNc(12,Yi,3,0,"li",190),d.YNc(13,Gi,3,1,"li",190),d.YNc(14,Hi,3,1,"li",190),d.YNc(15,Vi,3,1,"li",190),d.YNc(16,Ki,3,0,"li",190),d.TgZ(17,"li",188),d.TgZ(18,"a",191),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(2).$implicit;return d.oxw(5).OpenImagePopup(e.PK_Id)}),d._uU(19," Image Upload "),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2).$implicit,r=d.oxw(5);d.xp6(2),d.Q6J("ngIf",0==r.hideBookingStatus),d.xp6(1),d.Q6J("ngIf",1==r.hideBookingStatus),d.xp6(1),d.Q6J("ngIf",0==r.hideBookingStatus),d.xp6(1),d.Q6J("ngIf",r.hideBookingStatus),d.xp6(1),d.Q6J("ngIf","SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase()),d.xp6(1),d.Q6J("ngIf","SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase()),d.xp6(1),d.Q6J("ngIf","SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase()),d.xp6(1),d.Q6J("ngIf","SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase()),d.xp6(1),d.Q6J("ngIf","SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase()),d.xp6(1),d.Q6J("ngIf",n.BookingStatus&&("SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase())&&null!=n.AllotmentLetter),d.xp6(1),d.Q6J("ngIf",n.BookingStatus&&("SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase())&&null!=n.AllotmentLetter),d.xp6(1),d.Q6J("ngIf",n.BookingStatus&&("SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase())&&null!=n.AllotmentLetter),d.xp6(1),d.Q6J("ngIf",n.BookingStatus&&("SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase())&&null!=n.AllotmentLetter),d.xp6(1),d.Q6J("ngIf",("SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase())&&null!=n.BankNoc),d.xp6(1),d.Q6J("ngIf","SOLD"===n.BookingStatus.toUpperCase()||"ONHOLD"===n.BookingStatus.toUpperCase()||"TENENT"===n.BookingStatus.toUpperCase()||"MEMBER"===n.BookingStatus.toUpperCase())}}function ji(e,t){1&e&&(d.TgZ(0,"div",183),d.TgZ(1,"button",184),d._UZ(2,"i",185),d.qZA(),d.YNc(3,$i,20,15,"ul",186),d.qZA())}function Wi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"tr",166),d.NdJ("keydown.enter",function(){var e=d.CHM(i).$implicit,t=d.oxw(5);return null!=e.PK_Id&&t.editOnArrowEvent(e.PK_Id)})("keydown.arrowdown",function(){var e=d.CHM(i).index;return d.oxw(5).sitestrService.arrowDownEvent(e+151)})("keydown.arrowup",function(){var e=d.CHM(i).index;return d.oxw(5).sitestrService.arrowUpEvent(e+149)}),d.TgZ(1,"td"),d.TgZ(2,"div",156),d._UZ(3,"label",167),d.TgZ(4,"input",168),d.NdJ("ngModelChange",function(e){return d.CHM(i).$implicit.Ick=e})("change",function(){return d.CHM(i),d.oxw(5).selectSinglechange()}),d.qZA(),d.qZA(),d.qZA(),d.YNc(5,Di,3,2,"ng-container",159),d.TgZ(6,"td",169),d.YNc(7,ji,4,0,"div",170),d.qZA(),d.qZA()}if(2&e){var n=t.$implicit,r=t.index,o=d.oxw(5);d.ekj("ToTalBackgroung",null==n.PK_Id),d.s9C("tabindex",r+150),d.xp6(3),d.MGl("for","item_",r,""),d.xp6(1),d.MGl("id","item_",r,""),d.MGl("name","item_",r,""),d.Q6J("checked",n.Ick)("ngModel",n.Ick),d.xp6(1),d.Q6J("ngForOf",o.columnList),d.xp6(2),d.Q6J("ngIf",null!=n.PK_Id)}}function zi(e,t){if(1&e&&(d.TgZ(0,"tbody",163,164),d.YNc(2,Wi,8,10,"tr",165),d.qZA()),2&e){var i=d.oxw(4);d.xp6(2),d.Q6J("ngForOf",i.siteStrList)}}function Xi(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"table",154),d.TgZ(1,"thead",155),d.TgZ(2,"tr"),d.TgZ(3,"th"),d.TgZ(4,"div",156),d.TgZ(5,"input",157),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(3).selectedAll=e})("change",function(e){return d.CHM(i),d.oxw(3).selectAllchange(e)}),d.qZA(),d._UZ(6,"label",158),d.qZA(),d.qZA(),d.YNc(7,Ai,2,1,"ng-container",159),d.TgZ(8,"th",160),d.NdJ("click",function(){return d.CHM(i),d.oxw(3).FilterData()}),d._uU(9,"Editor & Date"),d.qZA(),d.TgZ(10,"th"),d._uU(11,"Actions"),d.qZA(),d.qZA(),d.qZA(),d.YNc(12,zi,3,1,"tbody",161),d.qZA()}if(2&e){var n=d.oxw(3);d.xp6(5),d.Q6J("checked",n.selectedAll)("ngModel",n.selectedAll),d.xp6(2),d.Q6J("ngForOf",n.columnList),d.xp6(1),d.Q6J("dirsort",n.sitestrService)("sortcolumn","ModifiedDate"),d.xp6(4),d.Q6J("ngIf",!n.isLoading)}}function en(e,t){if(1&e&&(d.TgZ(0,"div",150),d.TgZ(1,"div",98),d.TgZ(2,"div",151),d.TgZ(3,"strong"),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw(4);d.xp6(4),d.Oqu(i.PageName)}}function tn(e,t){if(1&e&&(d.TgZ(0,"th",203),d._uU(1),d.qZA()),2&e){var i=d.oxw().$implicit,n=d.oxw(4);d.s9C("sortcolumn",i),d.Q6J("dirsort",n.sitestrService),d.xp6(1),d.Oqu(i)}}function nn(e,t){if(1&e&&(d.ynx(0),d.YNc(1,tn,2,3,"th",202),d.BQk()),2&e){var i=t.$implicit;d.xp6(1),d.Q6J("ngIf","ModifiedDate"!==i&&"ModifiedBy"!==i)}}function rn(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",199),d.YNc(1,en,5,1,"div",146),d.TgZ(2,"table",200),d.TgZ(3,"thead",155),d.TgZ(4,"tr"),d.TgZ(5,"th"),d.TgZ(6,"div",156),d.TgZ(7,"input",157),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(3).selectedAll=e})("change",function(e){return d.CHM(i),d.oxw(3).selectAllchange(e)}),d.qZA(),d._UZ(8,"label",158),d.qZA(),d.qZA(),d.YNc(9,nn,2,1,"ng-container",159),d.TgZ(10,"th",201),d._uU(11,"Editor & Date"),d.qZA(),d.TgZ(12,"th"),d._uU(13,"Actions"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(3);d.xp6(1),d.Q6J("ngIf",0==(n.sitestrService.isMobile||n.sitestrService.IsMobileview)),d.xp6(6),d.Q6J("checked",n.selectedAll)("ngModel",n.selectedAll),d.xp6(2),d.Q6J("ngForOf",n.columnList),d.xp6(1),d.Q6J("dirsort",n.sitestrService)}}function on(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",145),d.YNc(1,vi,8,2,"div",146),d.TgZ(2,"div",147),d.NdJ("scrolled",function(e){return d.CHM(i),d.oxw(2).onSiteScroll(e)}),d.YNc(3,Xi,13,6,"table",148),d.qZA(),d.YNc(4,rn,14,5,"div",149),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(1),d.Q6J("ngIf",0==(n.sitestrService.isMobile||n.sitestrService.IsMobileview)),d.xp6(1),d.Q6J("scrollWindow",!0),d.xp6(1),d.Q6J("ngIf",n.siteStrList.length>0),d.xp6(1),d.Q6J("ngIf",n.siteStrList.length>0)}}function sn(e,t){if(1&e&&(d.TgZ(0,"ion-col",219),d.TgZ(1,"span",220),d._uU(2),d.qZA(),d._uU(3,":"),d._UZ(4,"br"),d.TgZ(5,"span"),d._uU(6),d.qZA(),d.qZA()),2&e){var i=d.oxw().$implicit,n=d.oxw().$implicit;d.xp6(2),d.Oqu(i),d.xp6(4),d.Oqu(n[i])}}function ln(e,t){if(1&e&&(d.ynx(0),d.YNc(1,sn,7,2,"ion-col",218),d.BQk()),2&e){var i=t.$implicit,n=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf",n[i]=n[i]||(n[i]=n[i]||(n[i]=n[i])))}}function an(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"ion-card"),d.TgZ(1,"ion-row"),d.YNc(2,ln,2,1,"ng-container",159),d.qZA(),d.TgZ(3,"ion-row"),d.TgZ(4,"ion-col",212),d.TgZ(5,"ion-card-content",213),d.TgZ(6,"a",214),d.NdJ("click",function(e){return e.stopPropagation()})("clickAllowed",function(){var e=d.CHM(i).$implicit;return d.oxw(3).sitestrService.delete(e.PK_Id)}),d._UZ(7,"ion-icon",215),d._uU(8," Site Structure "),d.qZA(),d.TgZ(9,"a",214),d.NdJ("click",function(e){return e.stopPropagation()})("clickAllowed",function(){var e=d.CHM(i).$implicit;return d.oxw(3).sitestrService.DeleteBooking(e.PK_Id)}),d._UZ(10,"ion-icon",215),d._uU(11," Booking "),d.qZA(),d.TgZ(12,"a",216),d.NdJ("click",function(e){return e.stopPropagation()})("clickAllowed",function(){var e=d.CHM(i).$implicit;return d.oxw(3).edit(e.PK_Id)}),d._UZ(13,"ion-icon",217),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(3);d.xp6(2),d.Q6J("ngForOf",n.columnList),d.xp6(4),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId),d.xp6(3),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId),d.xp6(3),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function cn(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",163),d.TgZ(1,"ion-content"),d.TgZ(2,"ion-refresher",204),d.NdJ("ionRefresh",function(e){return d.CHM(i),d.oxw(2).doRefresh(e)}),d._UZ(3,"ion-refresher-content",205),d.qZA(),d.TgZ(4,"ion-virtual-scroll",206,207),d.YNc(6,an,14,7,"ion-card",208),d.qZA(),d.TgZ(7,"ion-infinite-scroll",209,210),d.NdJ("ionInfinite",function(e){return d.CHM(i),d.oxw(2).onSiteScroll(e)}),d._UZ(9,"ion-infinite-scroll-content",211),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2);d.Udp("height",n.sitestrService.mobileContainer),d.xp6(4),d.Q6J("items",n.siteStrList),d.xp6(5),d.s9C("loadingText",n.sitestrService.nextloading)}}function un(e,t){1&e&&(d.TgZ(0,"ion-card",222),d.TgZ(1,"ion-row"),d.TgZ(2,"ion-col",223),d._UZ(3,"ion-skeleton-text",224),d.qZA(),d.qZA(),d.TgZ(4,"ion-row"),d.TgZ(5,"ion-col"),d._UZ(6,"ion-skeleton-text",225),d.qZA(),d.TgZ(7,"ion-col"),d._UZ(8,"ion-skeleton-text",226),d.qZA(),d.TgZ(9,"ion-col"),d._UZ(10,"ion-skeleton-text",225),d.qZA(),d.TgZ(11,"ion-col",227),d._UZ(12,"ion-skeleton-text",228),d.qZA(),d.qZA(),d.TgZ(13,"ion-row"),d.TgZ(14,"ion-col"),d._UZ(15,"ion-skeleton-text",225),d.qZA(),d.TgZ(16,"ion-col"),d._UZ(17,"ion-skeleton-text",226),d.qZA(),d.TgZ(18,"ion-col"),d._UZ(19,"ion-skeleton-text",225),d.qZA(),d.TgZ(20,"ion-col",227),d._UZ(21,"ion-skeleton-text",228),d.qZA(),d.qZA(),d.TgZ(22,"ion-row"),d.TgZ(23,"ion-col"),d._UZ(24,"ion-skeleton-text",226),d.qZA(),d.TgZ(25,"ion-col"),d._UZ(26,"ion-skeleton-text",225),d.qZA(),d.TgZ(27,"ion-col",227),d._UZ(28,"ion-skeleton-text",228),d.qZA(),d.qZA(),d.qZA())}function dn(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,un,29,0,"ion-card",221),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",i.sitestrService.noImageRepeat)}}function gn(e,t){1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._UZ(2,"ion-skeleton-text",229),d.qZA(),d.TgZ(3,"td"),d._UZ(4,"ion-skeleton-text",229),d.qZA(),d.TgZ(5,"td"),d._UZ(6,"ion-skeleton-text",229),d.qZA(),d.TgZ(7,"td"),d._UZ(8,"ion-skeleton-text",229),d.qZA(),d.TgZ(9,"td"),d._UZ(10,"ion-skeleton-text",229),d.qZA(),d.TgZ(11,"td"),d._UZ(12,"ion-skeleton-text",229),d.qZA(),d.TgZ(13,"td"),d._UZ(14,"ion-skeleton-text",229),d.qZA(),d.TgZ(15,"td"),d._UZ(16,"ion-skeleton-text",229),d.qZA(),d.TgZ(17,"td"),d._UZ(18,"ion-skeleton-text",229),d.qZA(),d.TgZ(19,"td"),d._UZ(20,"ion-skeleton-text",229),d.qZA(),d.TgZ(21,"td"),d._UZ(22,"ion-skeleton-text",229),d.qZA(),d.TgZ(23,"td"),d._UZ(24,"ion-skeleton-text",229),d.qZA(),d.TgZ(25,"td"),d._UZ(26,"ion-skeleton-text",229),d.qZA(),d.TgZ(27,"td"),d._UZ(28,"ion-skeleton-text",229),d.qZA(),d.TgZ(29,"td"),d._UZ(30,"ion-skeleton-text",229),d.qZA(),d.TgZ(31,"td"),d._UZ(32,"ion-skeleton-text",229),d.qZA(),d.TgZ(33,"td"),d._UZ(34,"ion-skeleton-text",229),d.qZA(),d.TgZ(35,"td"),d._UZ(36,"ion-skeleton-text",229),d.qZA(),d.TgZ(37,"td"),d._UZ(38,"ion-skeleton-text",229),d.qZA(),d.TgZ(39,"td"),d._UZ(40,"ion-skeleton-text",229),d.qZA(),d.TgZ(41,"td"),d._UZ(42,"ion-skeleton-text",229),d.qZA(),d.qZA())}function pn(e,t){if(1&e&&(d.TgZ(0,"div"),d.TgZ(1,"table",154),d.TgZ(2,"thead",155),d.TgZ(3,"tr"),d.TgZ(4,"th"),d._UZ(5,"ion-skeleton-text",229),d.qZA(),d.TgZ(6,"th"),d._UZ(7,"ion-skeleton-text",229),d.qZA(),d.TgZ(8,"th"),d._UZ(9,"ion-skeleton-text",229),d.qZA(),d.TgZ(10,"th"),d._UZ(11,"ion-skeleton-text",229),d.qZA(),d.TgZ(12,"th"),d._UZ(13,"ion-skeleton-text",229),d.qZA(),d.TgZ(14,"th"),d._UZ(15,"ion-skeleton-text",229),d.qZA(),d.TgZ(16,"th"),d._UZ(17,"ion-skeleton-text",229),d.qZA(),d.TgZ(18,"th"),d._UZ(19,"ion-skeleton-text",229),d.qZA(),d.TgZ(20,"th"),d._UZ(21,"ion-skeleton-text",229),d.qZA(),d.TgZ(22,"th"),d._UZ(23,"ion-skeleton-text",229),d.qZA(),d.TgZ(24,"th"),d._UZ(25,"ion-skeleton-text",229),d.qZA(),d.TgZ(26,"th"),d._UZ(27,"ion-skeleton-text",229),d.qZA(),d.TgZ(28,"th"),d._UZ(29,"ion-skeleton-text",229),d.qZA(),d.TgZ(30,"th"),d._UZ(31,"ion-skeleton-text",229),d.qZA(),d.TgZ(32,"th"),d._UZ(33,"ion-skeleton-text",229),d.qZA(),d.TgZ(34,"th"),d._UZ(35,"ion-skeleton-text",229),d.qZA(),d.TgZ(36,"th"),d._UZ(37,"ion-skeleton-text",229),d.qZA(),d.TgZ(38,"th"),d._UZ(39,"ion-skeleton-text",229),d.qZA(),d.TgZ(40,"th"),d._UZ(41,"ion-skeleton-text",229),d.qZA(),d.TgZ(42,"th"),d._UZ(43,"ion-skeleton-text",229),d.qZA(),d.TgZ(44,"th"),d._UZ(45,"ion-skeleton-text",229),d.qZA(),d.qZA(),d.qZA(),d.TgZ(46,"tbody",163),d.YNc(47,gn,43,0,"tr",159),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw(2);d.xp6(47),d.Q6J("ngForOf",i.sitestrService.noImageRepeat)}}function hn(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div"),d._UZ(1,"div",231),d._UZ(2,"br"),d.TgZ(3,"div",232),d._uU(4,"Add your first record by clicking in below button. "),d._UZ(5,"br"),d._UZ(6,"br"),d.TgZ(7,"input",233),d.NdJ("clickAllowed",function(){return d.CHM(i),d.oxw(3).edit("")}),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(3);d.xp6(7),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function mn(e,t){if(1&e&&(d.TgZ(0,"div",230),d._UZ(1,"br"),d._UZ(2,"br"),d.YNc(3,hn,8,2,"div",76),d._UZ(4,"br"),d._UZ(5,"br"),d.qZA()),2&e){var i=d.oxw(2);d.xp6(3),d.Q6J("ngIf",i.noDataImage)}}function fn(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",234),d.TgZ(1,"div",235),d.TgZ(2,"button",236,237),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).GeneratePDF(1)}),d._UZ(4,"i",238),d.qZA(),d.TgZ(5,"button",239,237),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).GeneratePDF(2)}),d._UZ(7,"i",240),d.qZA(),d.TgZ(8,"button",241,237),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).ExportExcel()}),d._UZ(10,"i",242),d.qZA(),d.TgZ(11,"button",243),d._UZ(12,"i",244),d.qZA(),d.TgZ(13,"button",245),d.NdJ("clickAllowed",function(){return d.CHM(i),d.oxw(2).edit("")}),d._UZ(14,"i",246),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(13),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function vn(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",234),d.TgZ(1,"div",235),d.TgZ(2,"button",247,237),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).GeneratePDF(1)}),d._UZ(4,"i",238),d.qZA(),d.TgZ(5,"button",248,237),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).GeneratePDF(2)}),d._UZ(7,"i",240),d.qZA(),d.TgZ(8,"button",249),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).toggleExcelImport()}),d._UZ(9,"i",250),d.qZA(),d.TgZ(10,"button",241,237),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).ExportExcel()}),d._UZ(12,"i",242),d.qZA(),d.TgZ(13,"button",243),d._UZ(14,"i",244),d.qZA(),d.TgZ(15,"button",245),d.NdJ("clickAllowed",function(){return d.CHM(i),d.oxw(2).edit("")}),d._UZ(16,"i",246),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(15),d.Q6J("SignupId",n.SignupId)("UserId",n.UserId)}}function Zn(e,t){if(1&e&&(d.TgZ(0,"div",71),d.YNc(1,mi,98,25,"div",72),d.YNc(2,fi,12,1,"div",73),d.YNc(3,on,5,4,"div",74),d.YNc(4,cn,10,4,"div",75),d.YNc(5,dn,2,1,"div",76),d.YNc(6,pn,48,1,"div",76),d.YNc(7,mn,6,1,"div",77),d.YNc(8,fn,15,2,"div",78),d.YNc(9,vn,17,2,"div",78),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",!i.sitestrService.IsMobileview),d.xp6(1),d.Q6J("ngIf",i.sitestrService.IsMobileview),d.xp6(1),d.Q6J("ngIf",!i.sitestrService.IsMobileview),d.xp6(1),d.Q6J("ngIf",i.siteStrList.length>0&&i.sitestrService.IsMobileview),d.xp6(1),d.Q6J("ngIf",0==i.siteStrList.length&&!i.noDataImage&&i.sitestrService.IsMobileview),d.xp6(1),d.Q6J("ngIf",0==i.siteStrList.length&&!i.noDataImage&&!i.sitestrService.IsMobileview),d.xp6(1),d.Q6J("ngIf",0==i.siteStrList.length),d.xp6(1),d.Q6J("ngIf",i.sitestrService.IsMobileview),d.xp6(1),d.Q6J("ngIf",!i.sitestrService.IsMobileview)}}function An(e,t){if(1&e&&(d.TgZ(0,"small",136),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.AsE(" Loaded ",i.siteService.result.length," of ",i.siteService.totalItems," ")}}function Tn(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Email is required"),d.qZA())}function bn(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Email must be a valid email address"),d.qZA())}function Sn(e,t){if(1&e&&(d.TgZ(0,"div",251),d.YNc(1,Tn,2,0,"div",76),d.YNc(2,bn,2,0,"div",76),d.qZA()),2&e){d.oxw();var i=d.MAs(53);d.xp6(1),d.Q6J("ngIf",i.errors.required),d.xp6(1),d.Q6J("ngIf",i.errors.email)}}function xn(e,t){if(1&e&&(d.TgZ(0,"small",136),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.AsE(" Loaded ",i.siteService.result.length," of ",i.siteService.result.length," ")}}function Cn(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Site selection is required"),d.qZA())}function In(e,t){if(1&e&&(d.TgZ(0,"div",251),d.YNc(1,Cn,2,0,"div",76),d.qZA()),2&e){d.oxw();var i=d.MAs(90);d.xp6(1),d.Q6J("ngIf",i.errors.required)}}function qn(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1,"Document Selection required"),d.qZA())}function kn(e,t){if(1&e&&(d.TgZ(0,"div",251),d.YNc(1,qn,2,0,"div",76),d.qZA()),2&e){d.oxw();var i=d.MAs(61);d.xp6(1),d.Q6J("ngIf",""==i.value)}}function yn(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"app-booking-form",252),d.NdJ("BookingredirectAction",function(e){return d.CHM(i),d.oxw().onBookAFlat(e)}),d.qZA()}if(2&e){var n=d.oxw();d.Q6J("BookingredirectOnCancel",!1)("SiteId",n.SiteidBooking)("InquiryId",-1)("SiteStructure",n.selFlat)("customerId",0)("IsSiteStructureBooking",!1)}}var Mn=function(e){return{"is-invalid":e}},wn=function(){var e=function(){function e(t,i,n,r,o,s,l,a,c,g,p,m,f){var v=this;u(this,e),this.companyledgerservice=t,this.filterService=i,this.popoverController=n,this.sitestrService=r,this.alertService=o,this._config=s,this.page=l,this.siteService=a,this.flattypeService=c,this.route=g,this.router=p,this.location=m,this.templateService=f,this.sitestructuredetail={},this.documentoption=["ALLOTMENT","AGREEMENT","Booking_Demand_Letter","BANK_NOC"],this.isList=!0,this._sgId=0,this.noDataImage=!1,this.IssitestrAddEdit=!1,this.openBookingModal=!1,this.SiteidBooking=0,this.currentScrollPosition=0,this.popupwindow="",this.IsImportHidden=!0,this.isMultipleInquiryDelete=!1,this.selectedAll=!1,this.bookingObject={},this.isBusy=!0,this.httpfunction=new Z.r,this.curSitestr=0,this.isLoading=!1,this.Templatedata=[],this.isDeshboardFilter=!1,this.status={isOpen:!1},this.SiteredirectOnCancel=!0,this.redirectActiononISite=new d.vpe,this.isScrollEnabled=!0,this.sfilter=new h.e,this.columnList=[],this.siteStrList=[],this.siteStrListSearch=[],this.BuildingcolumnList=[],this.WingcolumnList=[],this.searchResults=[],this.pageCount=0,this.hideBookingStatus=!1,this.IsBookingPage=!0,this.sortarray=[{order:this.sitestrService.sortorder,column:"Building",title:"By Building No"},{order:this.sitestrService.sortorder,column:"Wings",title:"By Wing No"},{order:this.sitestrService.sortorder,column:"FlatNumber",title:"By Flat No"},{order:this.sitestrService.sortorder,column:"FlatType",title:"By Room Type"},{order:this.sitestrService.sortorder,column:"SalebleArea",title:"By Salable Area"},{order:this.sitestrService.sortorder,column:"BookingStatus",title:"By Booking Status"},{order:this.sitestrService.sortorder,column:"Status",title:"By Status"}],this.bookingItems=[{id:0,name:"All"},{id:1,name:"sold"},{id:2,name:"member"},{id:3,name:"OnHold"},{id:4,name:"UnSoldandOnHold"}],this.Booking_stat="Book Now",this.route.params.subscribe(function(e){"/marketing/bookinglist"==v.router.url&&(v.hideBookingStatus=!0,v.IsBookingPage=!0,v.sfilter.available=1,v.PageName="Booked Units List"),"/masters/sitestructure"==v.router.url?(v.sfilter.available=2,v.PageName="Available Units List",v.IsBookingPage=!1):null!=e.SiteId?(v.SiteId=e.SiteId,v.sfilter.siteid=v.SiteId,null!=e.InqId&&(v.InqId=e.InqId)):null!=e.SiteidOrBuldingNm?(1==e.type&&(v.SiteId=JSON.parse(e.SiteidOrBuldingNm)),2==e.type&&(v.BuildingNm=e.SiteidOrBuldingNm),v.isDeshboardFilter=!0):v.resetUrl()}),this.templateService.GetAlldata(),this.templateService.isGetSubscribe=!0,this.subscription=this.templateService.resultObs.subscribe(function(e){})}return g(e,[{key:"onPopState",value:function(e){this.isList||(this.isList=!this.isList)}},{key:"doRefresh",value:function(e){this.filterService.updatedata(!0,"Available Flat List"),this.FilterData()}},{key:"ngOnInit",value:function(){var e=this;if(setTimeout(function(){e.sitestrService.arrowDownEvent(150)},400),setTimeout(function(){e.filterService.changeFilter(!0,!0,"Available Flat List")},200),this.siteService.GetAllsitesforsitestructure(),this.SignupId=this.sitestrService.getSignupId,this.UserId=this.sitestrService.GetUserId,this.companyledgerservice.GetAlldatawithsub(!0),this.httpfunction.scrolltop(),this.isScrollEnabled=!0,this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this)),""!=this.httpfunction.getStorage("_filterData")){var t=JSON.parse(this.httpfunction.getStorage("_filterData"));if(null!=t&&null!=t){var i=t.find(function(e){return"Available Flat List"==e.Module});if(null!=i||null!=i){null!=i.SearchFilter.filter&&"string"!=typeof i.SearchFilter.filter&&(i.SearchFilter.filter="");var n=this.sfilter.available;this.sfilter=i.SearchFilter,this.sfilter.available=n,this.FilterData()}else this.FilterData()}else this.FilterData()}else this.FilterData()}},{key:"OnKeydown",value:function(e){var t=this,i=e.key||e.keyCode;("Backspace"==i&&e.altKey||"Escape"==i)&&(this.isList=!0,this.resetUrl(),setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition,t.sitestrService.arrowDownEvent(t.sitestrService.selectedRowIndex)},150))}},{key:"ngOnDestroy",value:function(){if(this.IssitestrAddEdit||this.filterService.RemoveFillLocalData("Available Flat List"),""!=this.httpfunction.getStorage("_filterData")){var e=JSON.parse(this.httpfunction.getStorage("_filterData")).reverse();if(null!=e&&null!=e)for(var t=0;t<e.length;t++)"Daybook"==e[t].Module&&this.filterService.RemoveFillLocalData("Daybook"),"Ledger"==e[t].Module&&this.filterService.RemoveFillLocalData("Ledger"),"Outstanding Receivable"==e[t].Module&&this.filterService.RemoveFillLocalData("Outstanding Receivable")}null!=this.subscription&&this.subscription.unsubscribe(),null!=this.SiteSubscription&&this.SiteSubscription.unsubscribe(),this.sitestrService.resetService()}},{key:"change",value:function(e){this.status.isOpen=e}},{key:"toggleDropdown",value:function(e){$("#adv-search").dropdown("hide")}},{key:"cancel",value:function(e){var t=this;0==this.SiteredirectOnCancel?(this.currentScrollPosition=document.scrollingElement.scrollTop,this.redirectActiononISite.emit(e)):(setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition,t.filterService.changeFilter(!0,!0,"Available Flat List"),t.sitestrService.arrowDownEvent(t.sitestrService.selectedRowIndex)},200),this.form.resetForm(),this.resetUrl(),this.httpfunction.scrolltop(),this.isScrollEnabled=!0)}},{key:"resetUrl",value:function(){var e=this;this.isList=!0;var t=this.router.url;this.route.params.subscribe(function(i){null!=i.id&&""!=i.id&&(t=t.replace("/"+i.id,"")),e.location.go(t)}),this._sgId=0}},{key:"edit",value:function(e){this.IssitestrAddEdit=!0,this.router.navigate(e>0?1==this.hideBookingStatus?["/marketing/bookingform/"+e]:["/masters/sitestructure/"+e]:["/masters/sitestructure/add"])}},{key:"DeleteStructure",value:function(e,t){var i=this;this.httpfunction.IsMobileview()?this.alertService.showMobileConfirm("Confirm Delete","Are you sure you want to delete this record","No","Delete").then(function(n){null!=n&&1==n.data&&(1==e?i.sitestrService.delete(t).subscribe(function(e){i.siteStrList=i.siteStrList.filter(function(e){return e.PK_Id!=t})}):i.sitestrService.DeleteBooking(t).subscribe(function(e){i.siteStrList=i.siteStrList.filter(function(e){return e.PK_Id!=t})}))}):this.alertService.showconfirm("Confirm","Are you sure you want to delete this record",["Yes","No"],null).subscribe(function(n){null!=n&&"Yes"==n.answer&&(1==e?i.sitestrService.delete(t).subscribe(function(e){i.siteStrList=i.siteStrList.filter(function(e){return e.PK_Id!=t})}):i.sitestrService.DeleteBooking(t).subscribe(function(e){i.siteStrList=i.siteStrList.filter(function(e){return e.PK_Id!=t})}))})}},{key:"onSiteScroll",value:function(e){}},{key:"DownloadFile",value:function(e){var t=this;null!=this.SiteIdUpload&&this.sitestrService.GetSiteStructureColumn(this.SiteIdUpload.UIDN,e).subscribe(function(e){if(null!=e){var i=t.SiteIdUpload.SN,n=e.RegColumn.split(","),r=[];null!=e.LoanColumn&&(r=e.LoanColumn.split(","));for(var o=0;o<r.length;o++){var s=r[o];n.push(s),n.push(s+"_CommitmentDate")}for(var l=[],a=0;a<n.length;a++){var c={};c.value=n[a],c.type="string",l.push(c)}t.sitestrService.saveAsExcel(i,[l])}})}},{key:"toggleExcelImport",value:function(){this._myImageModal.show(),this.IsImportHidden=!this.IsImportHidden}},{key:"goback",value:function(){this.location.back()}},{key:"FilterData",value:function(){var e=this;return this.isLoading=!0,null==this.sfilter.available&&null==this.sfilter.available&&(this.sfilter.available=0),null==this.sfilter.flatno&&(this.sfilter.flatno=""),this.isDeshboardFilter&&(null!=this.SiteId&&(this.sfilter.STIarray=[],this.sfilter.STIarray.push(this.SiteId)),null!=this.BuildingNm&&(this.sfilter.filter=this.BuildingNm)),null==this.sfilter.STIarray||null!=this.sfilter.STIarray&&0==this.sfilter.STIarray.length?(this.sfilter.STIarray=null,this.sfilter.STI=null):this.sfilter.STI=JSON.parse(JSON.stringify(this.sfilter.STIarray)),""==this.sfilter.BookingSts&&(this.sfilter.BookingSts=null),null==this.sfilter.Wngarray&&(this.sfilter.Wngarray=null),null==this.sfilter.Bldarray&&(this.sfilter.Bldarray=null),""==this.sfilter.BlockRange&&(this.sfilter.BlockRange=null),""==this.sfilter.AmountRange&&(this.sfilter.AmountRange=null),this.sfilter.available=1==this.IsBookingPage?1:2,this.sitestrService.filterArg=this.sfilter,this.sitestrService.GetAlldataWithReturn().subscribe(function(t){if(e.pageCount+=1,e.isLoading=!1,e.sitestrService.result=[],t.m_Item2>0){for(var i=Object.getOwnPropertyNames(t.m_Item1[0][0]),n="PK_Id,Status,SiteId,AllotmentLetter,BankNoc,DemantLetter,Receipt,Quotation,AgreementLetter,IsFinalBook".split(","),r=0;r<n.length;r++){var o=i.indexOf(n[r]);o>-1&&i.splice(o,1)}e.columnList=i,e.siteStrList=t.m_Item1[0],1==e.pageCount&&(e.siteStrListSearch=e.siteStrList),e.buildingColValue=t.m_Item1[1][0].BuildingCol.replace(/\[|\]/g,""),e.wingColValue=t.m_Item1[1][0].WingCol.replace(/\[|\]/g,"");var s=e.findUniqueValuesByColumns(e.buildingColValue,e.wingColValue),l=s.Building,a=s.Wing;if(e.BuildingcolumnList=l,e.WingcolumnList=a,e.siteStrList.sort(function(e,t){return null===e.PK_Id&&null!==t.PK_Id?-1:null!==e.PK_Id&&null===t.PK_Id?1:0}),e.siteStrList.length>0){for(var c=0;c<e.siteStrList.length;c++)null!=e.siteStrList[c].AllotmentDate&&null!=e.siteStrList[c].AllotmentDate&&(e.siteStrList[c].AllotmentDate=moment(e.siteStrList[c].AllotmentDate).format("DD-MMM-YYYY")),null!=e.siteStrList[c].AgreementDate&&null!=e.siteStrList[c].AgreementDate&&(e.siteStrList[c].AgreementDate=moment(e.siteStrList[c].AgreementDate).format("DD-MMM-YYYY"));"FlatNo"==e.sitestrService.sortcolumn&&e.siteStrList.sort(0==e.sitestrService.sortorder?function(e,t){return e.FlatNo-t.FlatNo}:function(e,t){return t.FlatNo-e.FlatNo})}}1==e.isBusy&&(e.isBusy=!1),0==e.siteStrList.length&&(e.noDataImage=!0)}),this.httpfunction.IsMobileview()||this.filterService.fillLocalData(this.sitestrService.filterArg,"Available Flat List"),!1}},{key:"findUniqueValuesByColumns",value:function(e,t){var i=[],n=[],r=new Set,o=new Set;return this.siteStrListSearch.forEach(function(s){if(s.hasOwnProperty(e)){var l=s[e];null!==l&&!r.has(l)&&(i.push(l),r.add(l))}if(s.hasOwnProperty(t)){var a=s[t];null!==a&&!o.has(a)&&(n.push(a),o.add(a))}}),{Building:i,Wing:n}}},{key:"GenerateDocument",value:function(e,t,i){this.sfilter.CompanyId=this.sitestrService.getCompanyId,this.sfilter.SignupId=this.sitestrService.getSignupId,this.sfilter.InquiryId=this.bookingObject.InquiryId,this.sfilter.siteid=t,this.sfilter.sitestructureid=e,this.sfilter.DocType=i,this.sitestrService.filterArg=this.sfilter,this.sitestrService.GenerateDocument(this.sitestrService.filterArg).subscribe(function(e){if(""!=e||null!=e){var t=window.open(e.data,"_blank");t.focus(),t.print()}})}},{key:"onBookAFlat",value:function(e){var t=this;if(null!=e){setTimeout(function(){document.scrollingElement.scrollTop=t.currentScrollPosition},250);var i=this.sitestrService.result.findIndex(function(e){return e.UIDN==t.selFlat.UIDN});i>-1&&this.sitestrService.result.splice(i,1),this.addurl("masters/sitestructure"),this.sitestrService.openBrowser(e),this.FilterData()}this.openBookingModal=!1,this.isList=!0,this.resetUrl()}},{key:"addurl",value:function(e){var t=this,i=e,n=this.router.url;n=(n=n.substring(0,n.lastIndexOf("/")+0)).substring(0,n.lastIndexOf("/")+0),this.route.params.subscribe(function(e){null!=e.id&&""!=e.id&&(n=n.replace("/"+e.id,"")),t.location.go("".concat(n,"/").concat(i))})}},{key:"exportheader",value:function(e,t){var i="All";null!=e&&""!=e&&(i=e),this.sitestrService.filterHeader=" SearchBy : "+i+" ",this.sitestrService.Export(t)}},{key:"cleardata",value:function(){this.sfilter.available=null,this.sfilter.siteid=null,this.sfilter.flatno=null,this.sfilter.Building=null,this.sfilter.Building=[],this.sfilter.Wing=null,this.sfilter.roomtype=null,this.sfilter.filter=null,this.sfilter.STI=[],this.sfilter.STIarray=[],this.sfilter.BookingSts="",this.sfilter.Wngarray=null,this.sfilter.Bldarray=null,this.sfilter.AmountRange="",this.sfilter.Amount="",this.sfilter.Area="",this.sfilter.BlockRange="",this.isDeshboardFilter=!1}},{key:"clearfilterandloadnewdata",value:function(){this.cleardata(),this.FilterData()}},{key:"sortPopover",value:function(e){return(0,a.mG)(this,void 0,void 0,i().mark(function t(){var n,r=this;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:A.r,cssClass:"my-custom-class",event:e,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:function(e,t){var i=new v.p(e,t);r.sitestrService.sortdata=i,n.dismiss()}}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}))}},{key:"advSearchM",value:function(){this._SearchModal.show()}},{key:"editOnArrowEvent",value:function(e){this.httpfunction.RolebaseData("StStr")?this.edit(e):this.alertService.showInfo("Error","You do not have sufficient rights to perform this action. Please contact administrator.")}},{key:"CloseImagePopup",value:function(){this._myImageModal.hide()}},{key:"onExcelAdd",value:function(e){this.excelfileData=[];for(var t=0;t<e.length;t++){var i=new f.Q;i.name=e[t].name,i.operationType=0,i.src=e[t].src,i.CompanyId=this.sitestrService.getCompanyId,i.SignupId=this.sitestrService.getSignupId,i.FileLength=e[t].size,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.sitestrService.userid,i.modifyBy=this.sitestrService.userid,this.excelfileData.push(i)}}},{key:"onExcelSubmit",value:function(){var e=this;null!=this.excelfileData&&this.excelfileData.length>0?(this.excelfileData[0].Site_PK_Id=this.SiteIdUpload.UIDN,this.sitestrService.ImportExcel(this.excelfileData).subscribe(function(){e.excelfileData=[],e.IsImportHidden=!e.IsImportHidden,e.doRefresh(null)},function(){e.excelfileData=[],e.IsImportHidden=!e.IsImportHidden}),this.SiteIdUpload=[],this._myImageModal.hide(),this.IsImportHidden=!this.IsImportHidden):this.alertService.showError("Error","Please select atleast one File")}},{key:"GeneratePDF",value:function(e){for(var t=this.siteStrList,i=new Array,n=0;n<t.length;n++){for(var r=t[n],o=new Array,s=0;s<this.columnList.length;s++){var l;l=r[this.columnList[s]],o.push(l)}i.push(o)}this.sitestrService.ExportColumn=[{title:"finalarray",dataKey:"finalarray",size:50}];for(var a=new Array,c=[],u=[],d=0;d<this.columnList.length;d++)c.push({text:this.columnList[d],style:"tableHeader"}),u.push(null==this.columnList[d].size?"auto":this.columnList[d].size);a.push(c);for(var g=0;g<i.length;g++){for(var p=i[g],h=[],m=new Array,f=0;f<p.length;f++)h.push(""!=p[f]&&null!=p[f]&&null!=p[f]?p[f]:""),m.push(h);a.push(m[0])}var v="Printed on : "+moment(new Date).format("DD MMM YYYY hh:mm:ss");this.sitestrService.GeneratePDF(e,v,this.PageName,u,a,"4A0")}},{key:"ExportExcel",value:function(){var e="",t="";t="Page Name :"+this.PageName+"Printed on : "+moment(new Date).format("DD MMM YYYY hh:mm:ss")+"\r\n";for(var i=0;i<this.columnList.length;i++)t+='"'+this.columnList[i]+'",';var n=new Array;e+=(t=t.slice(0,-1))+"\r\n",n.push(t);for(var r=0;r<this.siteStrList.length;r++){var o=this.siteStrList[r],s="";new Array;for(var l=0;l<this.columnList.length;l++){var a=this.columnList[l];s+=""!=o[a]&&null!=o[a]&&null!=o[a]?'"'+o[a]+'",':'"",'}e+=(s=s.slice(0,-1))+"\r\n",n.push(s)}var c=document.createElement("a");document.body.appendChild(c),c.setAttribute("style","display: none"),c.href="data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURI(e),c.download="SiteStructure.csv",(new Date).toISOString(),c.click(),c.remove()}},{key:"OpenEmailPopup",value:function(e,t,i){var n=this;if(this.sitestructuredetail=this.siteStrList.filter(function(t){return t.PK_Id==e}),this.documentoptioninpopup=Object.assign([],this.documentoption),null==this.sitestructuredetail[0].AllotmentLetter){var r=this.documentoptioninpopup.findIndex(function(e){return"ALLOTMENT"===e});r>0&&this.documentoptioninpopup.splice(r,1)}if(null==this.sitestructuredetail[0].AgreementLetter){var o=this.documentoptioninpopup.findIndex(function(e){return"AGREEMENT"===e});o>0&&this.documentoptioninpopup.splice(o,1)}if(null==this.sitestructuredetail[0].DemantLetter){var s=this.documentoptioninpopup.findIndex(function(e){return"Booking_Demand_Letter"===e});s>0&&this.documentoptioninpopup.splice(s,1)}if(null==this.sitestructuredetail[0].BankNoc){var l=this.documentoptioninpopup.findIndex(function(e){return"BANK_NOC"===e});l>0&&this.documentoptioninpopup.splice(l,1)}if(null==this.sitestructuredetail[0].CusLedgerId)this.alertService.showInfo("Warning","Please Select Customer Account");else{var a=this.companyledgerservice.result.filter(function(e){return e.UIDN==n.sitestructuredetail[0].CusLedgerId});this.SiteId=t,this.Ledgeremail=a[0].Eml,this._EmailModal.show()}}},{key:"CloseEmailPopup",value:function(){this._EmailModal.hide()}},{key:"SendEmail",value:function(e,t){var i=new m.bh;i.ToEmailId=e.value.email,i.documenttype=e.value.DocumentType,i.CI=this.sitestrService.getCompanyId,i.SI=this.sitestrService.getSignupId,i.SiteStrId=t[0].PK_Id,i.SiteId=t[0].SiteId,i.SendType="EM","ALLOTMENT"==i.documenttype&&(i.documentlink=t[0].AllotmentLetter),"AGREEMENT"==i.documenttype&&(i.documentlink=t[0].AgreementLetter),"Booking_Demand_Letter"==i.documenttype&&(i.documentlink=t[0].DemantLetter),"BANK_NOC"==i.documenttype&&(i.documentlink=t[0].BankNoc),this.sitestrService.SendEmail(i).subscribe(function(e){})}},{key:"OpenOtherDocumentPopup",value:function(e,t){this.OtherDocSitestrPk_id=e,this.OtherDocSiteId=t;var i=["Receipt","Contra","Journal","Sales","Purchase","Payment","Quotation","AGREEMENT","SignupSMS","SignupVerify","PaymentEmail","PaymentReceipt","ALLOTMENT","Booking_Demand_Letter","Demand_Letter","BOOKING FORM"],n=t>0&&null!==t?this.templateService.result.filter(function(e){return e.SI===t||0===e.SI}):this.templateService.result;this.Templatedata=n.filter(function(e){return!i.includes(e.TN)&&1==e.baseTemplate&&!e.TN.toLowerCase().includes("demand")}),this._OtherDocument.show()}},{key:"CloseOtherDocumentPopup",value:function(){this._OtherDocument.hide()}},{key:"GenerateOtherDocument",value:function(e){e.valid&&this.GenerateDocument(this.OtherDocSitestrPk_id,this.OtherDocSiteId,this.SelectedOtherDocument.TN),this._OtherDocument.hide()}},{key:"onImageAdd",value:function(e){this.excelfileData=[];for(var t=0;t<e.length;t++){var i=new f.Q;i.name=e[t].name,i.operationType=e[t].operationType,i.src=e[t].src,i.src=e[t].src,i.BuildingMaster_PK_Id=e[t].Booking_Pk_Id,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.sitestrService.userid,i.modifyBy=this.sitestrService.userid,i.CompanyId=this.sitestrService.getCompanyId,i.SignupId=this.sitestrService.getSignupId,i.FileLength=null==e[t].PK_Id?e[t].size:e[t].FileLength,i.PK_Id=e[t].PK_Id,this.excelfileData.push(i)}}},{key:"OpenImagePopup",value:function(e){var t=this;this.BookingId=e,this.excelfileData=this.siteStrList.filter(function(e){return e.PK_Id==t.BookingId})[0].src,this._myImageUploadModal.show()}},{key:"SubmitImage",value:function(){var e=this;this.sitestrService.AddImage(this.BookingId,this.excelfileData).subscribe(function(t){""==t&&null==t||(e.siteStrList.filter(function(t){return t.PK_Id==e.BookingId})[0].UploadImages=t.data,e._myImageUploadModal.hide())}),setTimeout(function(){document.scrollingElement.scrollTop=e.currentScrollPosition},250)}},{key:"selectAllchange",value:function(e){this.siteStrList.forEach(function(t){t.Ick=e.target.checked});var t=this.siteStrList.filter(function(e){return 1==e.Ick}).map(function(e){return e.PK_Id}).length;this.isMultipleInquiryDelete=0!=t}},{key:"selectSinglechange",value:function(){var e=this.siteStrList.filter(function(e){return 1==e.Ick}).map(function(e){return e.PK_Id}).length;this.isMultipleInquiryDelete=0!=e,this.selectedAll=this.siteStrList.length==e}},{key:"isSold",value:function(e){return"sold"===(e?e.toLowerCase():"")}},{key:"isMember",value:function(e){return"member"===(e?e.toLowerCase():"")}},{key:"isUnSold",value:function(e){return"unsold"===(e?e.toLowerCase():"")}},{key:"isOnHold",value:function(e){return"onhold"===(e?e.toLowerCase():"")}},{key:"isTenent",value:function(e){return"tenent"===(e?e.toLowerCase():"")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(b.Q),d.Y36(S.i),d.Y36(x.Dh),d.Y36(C.l),d.Y36(I.Rq),d.Y36(v.De),d.Y36(q.T3),d.Y36(k.P),d.Y36(p.G),d.Y36(y.gz),d.Y36(y.F0),d.Y36(M.Ye),d.Y36(T.E))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-sitestructure-list"]],viewQuery:function(e,t){var i;(1&e&&(d.Gf(oi,5),d.Gf(si,5,d.SBq),d.Gf(li,5),d.Gf(ai,5),d.Gf(ci,5),d.Gf(ui,5),d.Gf(di,5),d.Gf(gi,5),d.Gf(pi,5)),2&e)&&(d.iGM(i=d.CRH())&&(t.form=i.first),d.iGM(i=d.CRH())&&(t.inputName=i.first),d.iGM(i=d.CRH())&&(t._SearchModal=i.first),d.iGM(i=d.CRH())&&(t.infiniteScroll=i.first),d.iGM(i=d.CRH())&&(t.virtualScroll=i.first),d.iGM(i=d.CRH())&&(t._myImageModal=i.first),d.iGM(i=d.CRH())&&(t._myImageUploadModal=i.first),d.iGM(i=d.CRH())&&(t._EmailModal=i.first),d.iGM(i=d.CRH())&&(t._OtherDocument=i.first))},hostBindings:function(e,t){1&e&&d.NdJ("popstate",function(e){return t.onPopState(e)},!1,d.Jf7)},inputs:{SitestrId:"SitestrId",SiteredirectOnCancel:"SiteredirectOnCancel"},outputs:{redirectActiononISite:"redirectActiononISite"},features:[d._Bn([p.G,T.E])],decls:157,vars:30,consts:[["class","card",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade","bg-white",2,"z-index","99999"],["SearchModal","bs-modal"],[1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","form",3,"ngSubmit"],["ffilter","ngForm"],[1,"container-fluid",2,"margin-bottom","70px"],[1,"row","mt-2"],[1,"md-form","col-md-3","col-sm-6"],[1,"has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search Site/Building/Wing Or Flat No.","name","search2","id","search2",1,"form-control",3,"ngModel","ngModelChange"],["search2","ngModel"],["selectOnTab","true","name","Site","bindLabel","SN","bindValue","UIDN","placeholder","Select Site",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["ng-header-tmp",""],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["EmailModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmEmail","ngForm"],[1,"modal-body"],[1,"content"],[1,"form-group","col-md-12"],[1,"form-group","md-form","col-sm-12"],[1,"ml-1","text-danger","font-weight-bold","h5"],["type","email","ngModel","","required","","name","email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","this.documentoptioninpopup"],["selectOnTab","true","autofocus","","ngModel","","name","DocumentType",3,"virtualScroll","items"],["DocumentType","ngModel"],[1,"modal-footer","mt-3",2,"padding-top","187px"],["type","button",1,"btn","btn-dark",3,"click"],["type","submit",1,"btn","btn-primary"],["ImageModal","bs-modal"],["frmImage","ngForm"],[1,"container"],[1,"form-group","col-md-12","p-0"],[1,"input-group"],[1,"md-form","form-group","col-sm-12","p-0"],["for","siteService"],["selectOnTab","true","autofocus","","required","","name","ImageSite","bindLabel","SN","placeholder","Select Site",3,"virtualScroll","ngClass","items","loading","ngModel","scrollToEnd","ngModelChange"],["ImageSite","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary","mt-2",3,"click"],["maxFiles","1","required","","maxSize","2","fileExt","xls, xlsx",3,"filelist","uploadStatus"],["Importexcel",""],[1,"modal-footer","mt-3"],["ImageUploadModal","bs-modal"],[1,"form-group","col-sm-6","col-md-12"],["maxFiles","5","maxSize","5","fileExt","JPG, GIF, PNG, JPEG, Pdf, xls, xlsx, Docx, Doc",2,"width","100%",3,"filelist","uploadStatus"],["fileUpload",""],["type","submit",1,"btn","btn-primary",3,"click"],["OtherDocument","bs-modal"],["frmOtherDocument","ngForm"],["for","DocumentType"],["selectOnTab","true","autofocus","","name","DocumentType","id","DocumentType","bindLabel","TN","placeholder","Select Document Type",3,"virtualScroll","items","ngClass","ngModel","loading","required","ngModelChange"],[3,"BookingredirectOnCancel","SiteId","InquiryId","SiteStructure","customerId","IsSiteStructureBooking","BookingredirectAction",4,"ngIf"],[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainerbody",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],["class","add-panel",3,"toggleAction",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mx-2"],[3,"submit"],["data-toggle","dropdown","aria-expanded","false",1,"form-group","has-search"],["type","text","placeholder","Search Site/Building/Wing Or Flat No.","name","search","id","search",1,"form-control",3,"ngModel","ngModelChange"],["search","ngModel"],[1,"mb-3"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],[1,"mb-2","ml-2"],["dropdown","","role","group",1,"btn-group","mb-2",3,"isOpen","isOpenChange"],["type","button","id","dropdownMenuButton","id","adv-search","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"cil-filter","mr-2"],["aria-labelledby","adv-search","role","menu",1,"dropdown-menu","filterform",2,"min-width","35rem",3,"click"],[1,"row"],[1,"md-form","col-md-6"],["for","Site"],["selectOnTab","true","name","Site","bindLabel","SN","bindValue","UIDN","placeholder","Select Site",3,"virtualScroll","items","multiple","ngModel","loading","scrollToEnd","ngModelChange"],["for","Building"],["selectOnTab","true","name","Building","placeholder","Select Building",3,"virtualScroll","items","multiple","ngModel","loading","scrollToEnd","ngModelChange"],["for","Wing"],["selectOnTab","true","name","Wing","placeholder","Select Wing",3,"virtualScroll","items","multiple","ngModel","loading","scrollToEnd","ngModelChange"],["for","FlatNofilter"],["type","text","placeholder","Enter Flat No.","name","FlatNofilter","id","FlatNofilter",1,"form-control",3,"ngModel","ngModelChange"],["FlatNofilter","ngModel"],["for","BookingStatus"],["name","BookingStatus","placeholder","Select Status","id","BookingStatus",3,"ngModel","ngModelChange"],["BookingStatus","ngModel"],["value","UnSold"],["value","Sold"],["value","OnHold"],["value","Tenent"],["value","Member"],["value","All"],["for","amt"],["selectOnTab","true","name","amt","id","amt","placeholder","Select Range",3,"ngModel","ngModelChange"],["amt","ngModel"],["value","Greaterthan"],["value","Lessthan"],["value","EqualTo"],["value","NotEqualTo"],["autofocus","","type","text","placeholder","Enter Range","name","Amountvale","id","Amountvale",1,"md-form","form-control",3,"ngModel","ngModelChange"],["Amountvale","ngModel"],["for","Flattypes"],["selectOnTab","true","name","Flattypes","id","Flattypes","placeholder","Select Range",3,"ngModel","ngModelChange"],["Flattypes","ngModel"],["autofocus","","type","text","placeholder","Enter Range","name","Blcval","id","Blcval",1,"md-form","form-control",3,"ngModel","ngModelChange"],["Blcval","ngModel"],[1,"text-right","mr-3"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-dark","pull-right",3,"click"],[1,"fas","fa-search"],[1,"form-text","text-muted"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],["id","tableContainer",1,"table-responsive"],["class","card-header","id","formHeader",4,"ngIf"],["infinite-scroll","",3,"scrollWindow","scrolled"],["class","table table-bordered table-striped",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header"],[1,"col-md-6","col-sm-12","PageNameFsize"],[1,"col-md-6","col-sm-12","pr-4"],[1,"mx-2","text-wrap","text-right","LeftLi","pr-4"],[1,"table","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerHead"],[1,"form-check"],["type","checkbox","id","item_All",1,"form-check-input",3,"checked","ngModel","ngModelChange","change"],["for","item_All",1,"form-check-label"],[4,"ngFor","ngForOf"],[3,"dirsort","sortcolumn","click"],["id","tableContainerbody",4,"ngIf"],[3,"dirsort","sortcolumn","click",4,"ngIf"],["id","tableContainerbody"],["container",""],["autofocus","",3,"tabindex","ToTalBackgroung","keydown.enter","keydown.arrowdown","keydown.arrowup",4,"ngFor","ngForOf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],[1,"form-check-label",3,"for"],["label","Select","type","checkbox",1,"form-check-input",3,"checked","ngModel","id","name","ngModelChange","change"],[2,"width","8%"],["class","btn-group actionmenu","dropdown","","container","body",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],[1,"badge","badge-warning"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],["class","badge badge-primary",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-info",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"badge","badge-primary"],[1,"badge","badge-danger"],[1,"badge","badge-info"],["dropdown","","container","body",1,"btn-group","actionmenu"],["id","button-state-change","dropdownToggle","","type","button","aria-controls","dropdown-state-change",1,"border-0","waves-effect","btn-primary","btn-floating","btn-sm"],[1,"fas","fa-ellipsis-v"],["id","dropdown-state-change","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-state-change",4,"dropdownMenu"],["id","dropdown-state-change","role","menu","aria-labelledby","button-state-change",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["class","dropdown-item","href","javascript:void(0)","accesslevel","Edit","mname","StStr",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["role","menuitem",4,"ngIf"],["href","javascript:void(0)","title","Image Upload","placement","bottom",1,"dropdown-item","text-decoration-none",3,"click"],["href","javascript:void(0)","accesslevel","Edit","mname","StStr",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["href","javascript:void(0)","accesslevel","Delete","mname","StStr",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["href","javascript:void(0)","accesslevel","Edit","mname","booking",1,"dropdown-item",3,"appRole","SignupId","UserId","click"],["href","javascript:void(0)","accesslevel","Edit","mname","booking",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],[1,"dropdown-item","text-decoration-none",3,"href"],["href","javascript:void(0)",1,"dropdown-item","text-decoration-none",3,"click"],["target","_blank",1,"dropdown-item","text-decoration-none",3,"href"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["sortcolumn","ModifiedDate",3,"dirsort"],[3,"dirsort","sortcolumn",4,"ngIf"],[3,"dirsort","sortcolumn"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","239px",3,"items"],["ionvscroll",""],[4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],[1,"pl-0","pr-0"],[1,"text-right","pl-0","pr-2"],["href","javascript:void(0)","title","Delete","accesslevel","Delete","mname","InquiryM","placement","bottom",1,"card-link","float-right","ml-3",3,"appRole","SignupId","UserId","click","clickAllowed"],["name","trash-outline","color","danger"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","InquiryM","placement","bottom",1,"card-link","float-right",3,"appRole","SignupId","UserId","click","clickAllowed"],["name","create-outline","color","primary"],["size-md","4","offset-md","3",4,"ngIf"],["size-md","4","offset-md","3"],[1,"font-weight-bold"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],[2,"text-align","-webkit-left"],["animated","",2,"width","60%"],["animated","",2,"width","90%"],["animated","",2,"width","80%"],[2,"text-align","-webkit-right"],["animated","",2,"width","70%"],["animated","",2,"width","100%"],[1,"col-md-12","pl-0","pr-0"],[1,"mx-auto","noDataImage"],[1,"text-center"],["type","button","value","Add New","accesslevel","Add","mname","StStr",1,"btn","btn-primary",3,"appRole","SignupId","UserId","clickAllowed"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","option","three","border-0","waves-effect","btn-amber","btn-floating",3,"click"],["search",""],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","option","two","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Export",1,"action-button","option","one","border-0","waves-effect","btn-default","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],[1,"border-0","waves-effect","btn-dark","btn-floating","action-button","plus","abs"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],["accesslevel","Add","mname","StStr","tooltip","Add New",1,"border-0","waves-effect","btn-primary","btn-floating",3,"appRole","SignupId","UserId","clickAllowed"],[1,"fas","fa-plus"],["tooltip","Print",1,"action-button","option","four","border-0","waves-effect","btn-amber","btn-floating",3,"click"],["tooltip","Pdf",1,"action-button","option","three","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["tooltip","Import",1,"action-button","option","two","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-upload"],[1,"invalid-feedback"],[3,"BookingredirectOnCancel","SiteId","InquiryId","SiteStructure","customerId","IsSiteStructureBooking","BookingredirectAction"]],template:function(e,t){if(1&e){var i=d.EpF();d.YNc(0,Zn,10,9,"div",0),d.TgZ(1,"div",1,2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"h4",6),d._uU(7,"Advance Search "),d.qZA(),d.TgZ(8,"button",7),d.NdJ("click",function(){return t._SearchModal.hide()}),d.TgZ(9,"span",8),d._uU(10,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"form",9,10),d.NdJ("ngSubmit",function(){return t.FilterData()}),d.TgZ(13,"div",11),d.TgZ(14,"div",12),d.TgZ(15,"div",13),d.TgZ(16,"div",14),d._UZ(17,"span",15),d.TgZ(18,"input",16,17),d.NdJ("ngModelChange",function(e){return t.sfilter.filter=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",13),d.TgZ(21,"ng-select",18),d.NdJ("scrollToEnd",function(){return t.siteService.ScrollDown()})("ngModelChange",function(e){return t.sfilter.siteid=e}),d.YNc(22,An,2,2,"ng-template",19),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"nav",20),d.TgZ(24,"ul",21),d.TgZ(25,"li",22),d.TgZ(26,"button",23),d.NdJ("click",function(e){return t.toggleDropdown(e),t._SearchModal.hide()}),d._UZ(27,"i",24),d._uU(28,"Search "),d.qZA(),d.qZA(),d.TgZ(29,"li",25),d.TgZ(30,"button",26),d.NdJ("click",function(e){return t.clearfilterandloadnewdata(),t.toggleDropdown(e),t._SearchModal.hide()}),d._uU(31," Clear Filter "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(32,"div",27,28),d.TgZ(34,"div",29),d.TgZ(35,"div",30),d.TgZ(36,"div",5),d.TgZ(37,"h4",6),d._uU(38,"Send Email "),d.qZA(),d.TgZ(39,"button",7),d.NdJ("click",function(){return t.CloseEmailPopup()}),d.TgZ(40,"span",8),d._uU(41,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(42,"form",31,32),d.NdJ("ngSubmit",function(){d.CHM(i);var e=d.MAs(43);return e.form.valid&&t.SendEmail(e,t.sitestructuredetail)}),d.TgZ(44,"div",33),d.TgZ(45,"div",34),d.TgZ(46,"div",35),d.TgZ(47,"div",36),d.TgZ(48,"label"),d._uU(49,"Email Id"),d.TgZ(50,"span",37),d._uU(51,"*"),d.qZA(),d.qZA(),d.TgZ(52,"input",38,39),d.NdJ("ngModelChange",function(e){return t.Ledgeremail=e}),d.qZA(),d.YNc(54,Sn,3,2,"div",40),d.qZA(),d.TgZ(55,"div",36),d.TgZ(56,"label",41),d._uU(57,"Select Document Type"),d.TgZ(58,"span",37),d._uU(59,"*"),d.qZA(),d.qZA(),d._UZ(60,"ng-select",42,43),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(62,"div",44),d.TgZ(63,"button",45),d.NdJ("click",function(){return t.CloseEmailPopup()}),d._uU(64,"Close"),d.qZA(),d.TgZ(65,"button",46),d._uU(66,"Send Email"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(67,"div",27,47),d.TgZ(69,"div",29),d.TgZ(70,"div",30),d.TgZ(71,"div",5),d.TgZ(72,"h4",6),d._uU(73,"Generate Flat through sheet"),d.qZA(),d.TgZ(74,"button",7),d.NdJ("click",function(){return t.CloseImagePopup()}),d.TgZ(75,"span",8),d._uU(76,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(77,"form",31,48),d.NdJ("ngSubmit",function(){return d.CHM(i),d.MAs(78).form.valid&&t.onExcelSubmit()}),d.TgZ(79,"div",33),d.TgZ(80,"div",34),d.TgZ(81,"div",49),d.TgZ(82,"div",50),d.TgZ(83,"div",51),d.TgZ(84,"div",52),d.TgZ(85,"label",53),d._uU(86,"Site"),d.TgZ(87,"span",37),d._uU(88,"*"),d.qZA(),d.qZA(),d.TgZ(89,"ng-select",54,55),d.NdJ("scrollToEnd",function(){return t.siteService.ScrollDown()})("ngModelChange",function(e){return t.SiteIdUpload=e}),d.YNc(91,xn,2,2,"ng-template",19),d.qZA(),d.YNc(92,In,2,1,"div",40),d.qZA(),d.TgZ(93,"div",52),d.TgZ(94,"button",56),d.NdJ("click",function(){return t.DownloadFile(1)}),d._uU(95,"Download Import Format of Booking"),d.qZA(),d.TgZ(96,"button",57),d.NdJ("click",function(){return t.DownloadFile(2)}),d._uU(97,"Download Import Format of Site Structure"),d.qZA(),d.qZA(),d.TgZ(98,"div",52),d.TgZ(99,"app-file-upload",58,59),d.NdJ("uploadStatus",function(e){return t.onExcelAdd(e)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(101,"div",60),d.TgZ(102,"button",46),d._uU(103,"Upload File"),d.qZA(),d.TgZ(104,"button",45),d.NdJ("click",function(){return t.CloseImagePopup()}),d._uU(105,"Close"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(106,"div",27,61),d.TgZ(108,"div",29),d.TgZ(109,"div",30),d.TgZ(110,"div",5),d.TgZ(111,"h4",6),d._uU(112,"Image Upload "),d.qZA(),d.TgZ(113,"button",7),d.NdJ("click",function(){return d.CHM(i),d.MAs(107).hide()}),d.TgZ(114,"span",8),d._uU(115,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(116,"div",33),d.TgZ(117,"div",34),d.TgZ(118,"div",49),d.TgZ(119,"div",62),d.TgZ(120,"div",51),d.TgZ(121,"app-file-upload",63,64),d.NdJ("uploadStatus",function(e){return t.onImageAdd(e)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(123,"div",60),d.TgZ(124,"button",65),d.NdJ("click",function(){return t.SubmitImage()}),d._uU(125,"Submit"),d.qZA(),d.TgZ(126,"button",45),d.NdJ("click",function(){return d.CHM(i),d.MAs(107).hide()}),d._uU(127,"Close"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(128,"div",27,66),d.TgZ(130,"div",29),d.TgZ(131,"div",30),d.TgZ(132,"div",5),d.TgZ(133,"h4",6),d._uU(134,"Other Document "),d.qZA(),d.TgZ(135,"button",7),d.NdJ("click",function(){return t.CloseOtherDocumentPopup()}),d.TgZ(136,"span",8),d._uU(137,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(138,"form",31,67),d.NdJ("ngSubmit",function(){d.CHM(i);var e=d.MAs(139);return e.form.valid&&t.GenerateOtherDocument(e)}),d.TgZ(140,"div",33),d.TgZ(141,"div",34),d.TgZ(142,"div",35),d.TgZ(143,"div",36),d.TgZ(144,"label",68),d._uU(145,"Select Document"),d.TgZ(146,"span",37),d._uU(147,"*"),d.qZA(),d.qZA(),d.TgZ(148,"ng-select",69,43),d.NdJ("ngModelChange",function(e){return t.SelectedOtherDocument=e}),d.qZA(),d.YNc(150,kn,2,1,"div",40),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(151,"div",44),d.TgZ(152,"button",45),d.NdJ("click",function(){return t.CloseOtherDocumentPopup()}),d._uU(153,"Close"),d.qZA(),d.TgZ(154,"button",46),d._uU(155,"Generate Document"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(156,yn,1,6,"app-booking-form",70)}if(2&e){var n=d.MAs(43),r=d.MAs(53),o=d.MAs(61),s=d.MAs(78),l=d.MAs(90),a=d.MAs(139);d.Q6J("ngIf",t.isList),d.xp6(18),d.Q6J("ngModel",t.sfilter.filter),d.xp6(3),d.Q6J("virtualScroll",!0)("items",t.siteService.result)("ngModel",t.sfilter.siteid)("loading",t.siteService.loading),d.xp6(31),d.Q6J("ngModel",t.Ledgeremail),d.xp6(2),d.Q6J("ngIf",n.submitted&&r.invalid),d.xp6(6),d.Q6J("virtualScroll",!0)("items",t.documentoptioninpopup),d.xp6(29),d.Q6J("virtualScroll",!0)("ngClass",d.VKq(26,Mn,s.submitted&&l.invalid))("items",t.siteService.result)("loading",t.siteService.loading)("ngModel",t.SiteIdUpload),d.xp6(3),d.Q6J("ngIf",s.submitted&&l.invalid),d.xp6(7),d.Q6J("filelist",t.excelfileData),d.xp6(22),d.Q6J("filelist",t.excelfileData),d.xp6(27),d.Q6J("virtualScroll",!0)("items",t.Templatedata)("ngClass",d.VKq(28,Mn,a.submitted&&""==o.value))("ngModel",t.SelectedOtherDocument)("loading",t.templateService.loading)("required",""==o.value),d.xp6(2),d.Q6J("ngIf",a.submitted&&""==o.value),d.xp6(6),d.Q6J("ngIf",t.openBookingModal)}},directives:[M.O5,w.oB,N._Y,N.JL,N.F,N.Fj,N.JJ,N.On,_.x,D.w9,D.A3,P.u,N.Q7,M.mk,O.Y,U.TO,D.xv,x.gu,E.R,L.n,N.Wl,M.sg,J.n,U.Mq,U.Hz,F.g,x.W2,x.nJ,x.Wo,x.aJ,x.Rw,x.ju,x.MB,x.PM,x.Nd,x.wI,x.FN,x.CK,R.e,Q.i9,ri],pipes:[M.uU],styles:[".ToTalBackgroung[_ngcontent-%COMP%]{background-color:silver!important}"]}),e}()},85121:function(e,t,i){i.d(t,{j:function(){return n}});var n=function(e){o(i,e);var t=l(i);function i(){return u(this,i),t.apply(this,arguments)}return g(i)}(i(61362).X)},7638:function(e,t,i){i.d(t,{e:function(){return n}});var n=function(e){o(i,e);var t=l(i);function i(){return u(this,i),t.apply(this,arguments)}return g(i)}(i(61362).X)},2499:function(e,t,i){i.d(t,{H:function(){return n}});var n=function(e){o(i,e);var t=l(i);function i(){return u(this,i),t.apply(this,arguments)}return g(i)}(i(61362).X)},40411:function(e,t,i){i.d(t,{bh:function(){return r},JP:function(){return s}});var n=i(61362),r=function(e){o(i,e);var t=l(i);function i(){var e;return u(this,i),(e=t.apply(this,arguments)).IsMarketing=!0,e}return g(i)}(n.X),s=function(e){o(i,e);var t=l(i);function i(){return u(this,i),t.apply(this,arguments)}return g(i)}(n.X)},13763:function(e,t,i){i.d(t,{F:function(){return n}});var n=function(e){o(i,e);var t=l(i);function i(){return u(this,i),t.apply(this,arguments)}return g(i)}(i(61362).X)},55336:function(e,t,i){i.d(t,{Y:function(){return n},X:function(){return r}});var n=function(e){o(i,e);var t=l(i);function i(){var e;return u(this,i),(e=t.apply(this,arguments)).EB="",e.ISWA=!1,e.baseTemplate=!1,e.IsSMSTrigredByNewInq=!1,e}return g(i)}(i(61362).X),r=g(function e(){u(this,e),this.Templatetype=0})},84575:function(e,t,i){i.d(t,{w:function(){return T}});var r,s=i(79765),a=i(57771),d=i(75319),p=i(70309),h=i(77971),m=i(78858),f=function(e){o(i,e);var t=l(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return u(this,i),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=n<1?1:n,e._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return g(i,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}n(c(i.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new v(this._getNow(),e)),this._trimBufferThenGetEvents()),n(c(i.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,i=this._infiniteTimeWindow,n=i?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=n.length;if(this.closed)throw new h.N;if(this.isStopped||this.hasError?t=d.w.EMPTY:(this.observers.push(e),t=new m.W(this,e)),r&&e.add(e=new p.ht(e,r)),i)for(var s=0;s<o&&!e.closed;s++)e.next(n[s]);else for(var l=0;l<o&&!e.closed;l++)e.next(n[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||a.c).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,i=this._windowTime,n=this._events,r=n.length,o=0;o<r&&!(e-n[o].time<i);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&n.splice(0,o),n}}]),i}(s.xQ),v=g(function e(t,i){u(this,e),this.time=t,this.value=i}),Z=i(35758),A=i(33018),T=((r=function(){function e(){u(this,e),this._loadedLibraries={}}return g(e,[{key:"lazyLoadCkeditor",value:function(){return(0,Z.D)([this.loadScript("./assets/ckeditor/ckeditor.js")])}},{key:"loadScript",value:function(e){var t=this;if(this._loadedLibraries[e])return this._loadedLibraries[e].asObservable();this._loadedLibraries[e]=new f;var i=window.document.createElement("script");return i.type="text/javascript",i.async=!0,i.src=e,i.onload=function(){t._loadedLibraries[e].next(),t._loadedLibraries[e].complete()},window.document.body.appendChild(i),this._loadedLibraries[e].asObservable()}},{key:"loadStyle",value:function(e){var t=this;if(this._loadedLibraries[e])return this._loadedLibraries[e].asObservable();this._loadedLibraries[e]=new f;var i=window.document.createElement("link");return i.type="text/css",i.href=e,i.rel="stylesheet",i.onload=function(){t._loadedLibraries[e].next(),t._loadedLibraries[e].complete()},window.document.getElementsByTagName("head")[0].appendChild(i),this._loadedLibraries[e].asObservable()}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=A.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)}}])}();