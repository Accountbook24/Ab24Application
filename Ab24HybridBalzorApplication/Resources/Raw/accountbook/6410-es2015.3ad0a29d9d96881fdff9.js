"use strict";(self.webpackChunkaccoubtbook=self.webpackChunkaccoubtbook||[]).push([[6410],{75477:function(e,t,i){i.d(t,{l:function(){return n}});var n=(()=>{return(e=n||(n={})).NewRef="NewRef",e.OnAccount="OnAccount",e.Advance="Advance",e.AgainstRef="AgainstRef",n;var e})()},65178:function(e,t,i){i.d(t,{eS:function(){return r},Cg:function(){return o},lW:function(){return s}});var n=i(61362);class r extends n.X{constructor(){super(...arguments),this.Ick=!1,this.isDueDateLessThanOrEqualToToday=!1,this.operationType=2,this.Index=0}}class o{constructor(){this.operationType=2}}var s=(()=>{return(e=s||(s={})).NewRef="NewRef",e.OnAccount="OnAccount",e.Advance="Advance",e.AgainstRef="AgainstRef",s;var e})()},18454:function(e,t,i){i.d(t,{VN:function(){return r},eK:function(){return o},qk:function(){return s},oy:function(){return l},S4:function(){return a},Hr:function(){return c}});var n=i(61362);class r extends n.X{constructor(){super(...arguments),this.Ick=!1,this.ShowChallan=!1,this.ShowReference=!1,this.Hide=!1,this.isHide=!1,this.IsDuplicate=!1,this.ActivateMonth=0,this.IsCRDRET=!1,this.IsItVou=!1,this.CO="India"}}class o{constructor(){this.TaxLedgerId=0,this.TaxTotal=0,this.InventoryId=0,this.ChallanId=0,this.ReceiptDeliveryId=0,this.IsROff=!1,this.Index=0,this.TabIndex=0,this.InventoryTabIndex=0,this.CRDR="",this.TT=0,this.TTA=0,this.IsVdet=!1}}class s{}class l{}class a{constructor(){this.RDVId=0}}class c extends n.X{constructor(){super(...arguments),this.ShowReceiptInventory=!1,this.billSelected=!1,this.IsUpdate=!1,this.Amt=0}}},53321:function(e,t,i){i.d(t,{i:function(){return oe}});var n=i(64762),r=i(32364),o=i(65529),s=i(69521),l=i(65978),a=i(78980),c=i(24498),d=i(27541),u=i(33018),h=i(80762),g=i(92859),p=i(89525),f=i(44667),m=i(38583),T=i(12868),v=i(43647),I=i(3679),Z=i(58679),A=i(6642),x=i(87520),S=i(21974),D=i(37919),C=i(65452),b=i(14868);const y=["SearchModal"],N=["ionInfinitescroll"],M=["ionvscroll"];function w(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",29),u.TgZ(1,"form",30),u.NdJ("submit",function(){return u.CHM(e),u.oxw().FilterData()}),u.TgZ(2,"ul",31),u.TgZ(3,"li",32),u.TgZ(4,"button",33),u.NdJ("click",function(){return u.CHM(e),u.oxw().goback()}),u._UZ(5,"i",34),u.qZA(),u.qZA(),u.TgZ(6,"li",35),u.TgZ(7,"ng-select",36,21),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().companyLedgerService.singleresult=t}),u.qZA(),u.qZA(),u.TgZ(9,"li",37),u.TgZ(10,"button",38),u.NdJ("click",function(){return u.CHM(e),u.oxw().FilterData()}),u._UZ(11,"span",39),u.TgZ(12,"span",40),u._uU(13,"Search"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(7),u.Q6J("virtualScroll",!0)("items",e.allLedgers)("ngModel",e.companyLedgerService.singleresult)("loading",e.companyLedgerService.loading)}}function q(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",41),u.TgZ(1,"form",30),u.NdJ("submit",function(){return u.CHM(e),u.oxw().FilterData()}),u.TgZ(2,"ul",31),u.TgZ(3,"li",42),u.TgZ(4,"ion-icon",43),u.NdJ("click",function(){return u.CHM(e),u.oxw().goback()}),u.qZA(),u.qZA(),u.TgZ(5,"li",42),u.TgZ(6,"ion-icon",44),u.NdJ("click",function(){return u.CHM(e),u.oxw().advSearchM()}),u.qZA(),u.qZA(),u.TgZ(7,"li",45),u.TgZ(8,"div",46),u.TgZ(9,"strong"),u._uU(10,"Ledger History"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"li",47),u.TgZ(12,"ion-icon",48),u.NdJ("click",function(t){return u.CHM(e),u.oxw().sortPopover(t)}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}}function L(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",29),u.TgZ(1,"ul",31),u.TgZ(2,"li",49),u.TgZ(3,"button",33),u.NdJ("click",function(){return u.CHM(e),u.oxw().goback()}),u._UZ(4,"i",34),u.qZA(),u.qZA(),u.qZA(),u.qZA()}}function V(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",41),u.TgZ(1,"ul",31),u.TgZ(2,"li",42),u.TgZ(3,"ion-icon",43),u.NdJ("click",function(){return u.CHM(e),u.oxw().goback()}),u.qZA(),u.qZA(),u.qZA(),u.qZA()}}function _(e,t){if(1&e&&(u.TgZ(0,"div",56),u.TgZ(1,"div",57),u.TgZ(2,"div",58),u.TgZ(3,"strong"),u._uU(4,"Ledger History"),u.qZA(),u.qZA(),u.TgZ(5,"div",59),u.TgZ(6,"div",60),u._uU(7),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(7),u.Oqu(e.Ledgerhistoryservice.currentShowing)}}function U(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th",66),u._uU(2,"Ledger Name"),u.qZA(),u.TgZ(3,"th",67),u._uU(4,"Voucher No"),u.qZA(),u.TgZ(5,"th",68),u._uU(6,"Voucher Type"),u.qZA(),u.TgZ(7,"th",69),u._uU(8,"Parent"),u.qZA(),u.TgZ(9,"th",70),u._uU(10,"Opening Balance"),u.qZA(),u.TgZ(11,"th",71),u._uU(12,"Voucher Date"),u.qZA(),u.TgZ(13,"th",72),u._uU(14,"Narration"),u.qZA(),u.TgZ(15,"th",73),u._uU(16,"Dr Amount"),u.qZA(),u.TgZ(17,"th",73),u._uU(18,"Cr Amount"),u.qZA(),u.TgZ(19,"th",73),u._uU(20,"File Type"),u.qZA(),u.TgZ(21,"th",73),u._uU(22,"File Url"),u.qZA(),u.TgZ(23,"th",74),u._uU(24,"Modified-By"),u.qZA(),u.TgZ(25,"th",75),u._uU(26,"Modified/ Created DateTime"),u.qZA(),u.TgZ(27,"th",73),u._uU(28,"Module"),u.qZA(),u.TgZ(29,"th",76),u._uU(30,"Action"),u.qZA(),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice)}}function R(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th"),u._uU(2,"Voucher No"),u.qZA(),u.TgZ(3,"th"),u._uU(4,"Voucher Type"),u.qZA(),u.TgZ(5,"th"),u._uU(6,"Parent"),u.qZA(),u.TgZ(7,"th"),u._uU(8,"Opening Balance"),u.qZA(),u.TgZ(9,"th"),u._uU(10,"Voucher Date"),u.qZA(),u.TgZ(11,"th"),u._uU(12,"Narration"),u.qZA(),u.TgZ(13,"th"),u._uU(14,"Dr Amount"),u.qZA(),u.TgZ(15,"th"),u._uU(16,"Cr Amount"),u.qZA(),u.TgZ(17,"th"),u._uU(18,"File Type"),u.qZA(),u.TgZ(19,"th"),u._uU(20,"File Url"),u.qZA(),u.TgZ(21,"th"),u._uU(22,"Modified By"),u.qZA(),u.TgZ(23,"th"),u._uU(24,"Modified/Created DateTime"),u.qZA(),u.TgZ(25,"th"),u._uU(26,"Module"),u.qZA(),u.TgZ(27,"th"),u._uU(28,"Action"),u.qZA(),u.qZA())}function J(e,t){if(1&e&&(u.TgZ(0,"td"),u._uU(1),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.hij(" ",e.LName," ")}}function k(e,t){if(1&e&&(u.TgZ(0,"a",83),u._uU(1,"Pdf"),u.qZA()),2&e){const e=u.oxw().$implicit;u.s9C("href",e.FileUrl,u.LSH)}}function P(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr",77),u.NdJ("keydown.enter",function(){const t=u.CHM(e).$implicit;return u.oxw(3).editOnArrowEvent(t)})("keydown.arrowdown",function(){const t=u.CHM(e).index;return u.oxw(3).Ledgerhistoryservice.arrowDownEvent(t+151)})("keydown.arrowup",function(){const t=u.CHM(e).index;return u.oxw(3).Ledgerhistoryservice.arrowUpEvent(t+149)}),u.YNc(1,J,2,1,"td",5),u.TgZ(2,"td",78),u.TgZ(3,"a",79),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(3).Editledger(t)}),u._uU(4),u.qZA(),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._UZ(12,"dateformatter",80),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.ALo(17,"indianCurrency"),u.qZA(),u.TgZ(18,"td"),u._uU(19),u.ALo(20,"indianCurrency"),u.qZA(),u.TgZ(21,"td"),u._uU(22),u.qZA(),u.TgZ(23,"td"),u.YNc(24,k,2,1,"a",81),u.qZA(),u.TgZ(25,"td"),u._uU(26),u.qZA(),u.TgZ(27,"td"),u._UZ(28,"dateformatter",82),u.qZA(),u.TgZ(29,"td"),u._uU(30),u.qZA(),u.TgZ(31,"td"),u._uU(32),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,i=t.index,n=u.oxw(3);u.s9C("tabindex",i+150),u.xp6(1),u.Q6J("ngIf",!n.IsCallasPopup),u.xp6(3),u.hij(" ",e.VNo," "),u.xp6(2),u.hij(" ",e.VType," "),u.xp6(2),u.hij(" ",e.ParentGroupLedger," "),u.xp6(2),u.hij(" ",e.OBalance," "),u.xp6(2),u.s9C("dateValue",e.VDate),u.xp6(2),u.hij(" ",e.Narr," "),u.xp6(2),u.hij(" ",u.lcZ(17,16,e.VDrAmt)," "),u.xp6(3),u.hij(" ",u.lcZ(20,18,e.VCrAmt)," "),u.xp6(3),u.hij(" ",e.FileType," "),u.xp6(2),u.Q6J("ngIf",null!=e.FileUrl),u.xp6(2),u.hij(" ",e.UserName," "),u.xp6(2),u.s9C("dateValue",e.MD),u.xp6(2),u.hij(" ",e.ActionModule," "),u.xp6(2),u.Oqu(e.Action)}}function O(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",61),u.NdJ("scrolled",function(t){return u.CHM(e),u.oxw(2).onLedgerHistoryScroll(t)}),u.TgZ(1,"table",62),u.TgZ(2,"thead",55),u.YNc(3,U,31,15,"tr",5),u.YNc(4,R,29,0,"tr",5),u.qZA(),u.TgZ(5,"tbody",63,64),u.YNc(7,P,33,20,"tr",65),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.Q6J("scrollWindow",!0),u.xp6(3),u.Q6J("ngIf",!e.IsCallasPopup),u.xp6(1),u.Q6J("ngIf",e.IsCallasPopup),u.xp6(3),u.Q6J("ngForOf",e.Ledgerhistoryservice.result)}}function Q(e,t){if(1&e&&(u.TgZ(0,"div",56),u.TgZ(1,"div",57),u.TgZ(2,"div",58),u.TgZ(3,"strong"),u._uU(4,"Ledger History"),u.qZA(),u.qZA(),u.TgZ(5,"div",59),u.TgZ(6,"div",60),u._uU(7),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(7),u.Oqu(e.Ledgerhistoryservice.currentShowing)}}function F(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th",66),u._uU(2," Ledger Name "),u.qZA(),u.TgZ(3,"th",67),u._uU(4," Voucher No "),u.qZA(),u.TgZ(5,"th",68),u._uU(6," Voucher Type "),u.qZA(),u.TgZ(7,"th",69),u._uU(8," Parent "),u.qZA(),u.TgZ(9,"th",70),u._uU(10," Opening Balance "),u.qZA(),u.TgZ(11,"th",71),u._uU(12," Voucher Date "),u.qZA(),u.TgZ(13,"th",72),u._uU(14," Narration "),u.qZA(),u.TgZ(15,"th",84),u._uU(16," Dr Amount "),u.qZA(),u.TgZ(17,"th",85),u._uU(18," Cr Amount "),u.qZA(),u.TgZ(19,"th",86),u._uU(20,"File Type"),u.qZA(),u.TgZ(21,"th",87),u._uU(22,"File Url"),u.qZA(),u.TgZ(23,"th",74),u._uU(24," Modified-By "),u.qZA(),u.TgZ(25,"th",75),u._uU(26," Modified/ Created DateTime "),u.qZA(),u.TgZ(27,"th",88),u._uU(28,"Module"),u.qZA(),u.TgZ(29,"th",76),u._uU(30," Action "),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(1),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(6),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(2),u.Q6J("dirsort",e.Ledgerhistoryservice),u.xp6(4),u.Q6J("dirsort",e.Ledgerhistoryservice)}}function E(e,t){if(1&e&&(u.TgZ(0,"div",50),u.YNc(1,_,8,1,"div",51),u.YNc(2,O,8,4,"div",52),u.TgZ(3,"div",53),u.YNc(4,Q,8,1,"div",51),u.TgZ(5,"table",54),u.TgZ(6,"thead",55),u.YNc(7,F,31,12,"tr",5),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0==(e.Ledgerhistoryservice.isMobile||e.Ledgerhistoryservice.IsMobileview)),u.xp6(1),u.Q6J("ngIf",e.Ledgerhistoryservice.result.length>0),u.xp6(2),u.Q6J("ngIf",0==(e.Ledgerhistoryservice.isMobile||e.Ledgerhistoryservice.IsMobileview)),u.xp6(3),u.Q6J("ngIf",!e.IsCallasPopup)}}function Y(e,t){if(1&e&&(u.TgZ(0,"ion-col",98),u.TgZ(1,"ion-text",99),u._uU(2,"Parent:"),u.qZA(),u._UZ(3,"br"),u._uU(4),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(4),u.hij(" ",e.ParentGroupLedger," ")}}function G(e,t){if(1&e&&(u.TgZ(0,"ion-col",98),u.TgZ(1,"ion-text",99),u._uU(2,"Opening Bal:"),u.qZA(),u._UZ(3,"br"),u._uU(4),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(4),u.hij(" ",e.OBalance," ")}}function H(e,t){if(1&e&&(u.TgZ(0,"ion-col",104),u.TgZ(1,"ion-text",99),u._uU(2,"Voucher Dt:"),u.qZA(),u._UZ(3,"br"),u._UZ(4,"dateformatter",80),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(4),u.s9C("dateValue",e.VDate)}}function B(e,t){if(1&e&&(u.TgZ(0,"ion-col",100),u.TgZ(1,"ion-text",99),u._uU(2,"Dr Amt:"),u.qZA(),u._UZ(3,"br"),u._uU(4),u.ALo(5,"indianCurrency"),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(4),u.hij(" ",u.lcZ(5,1,e.VDrAmt)," ")}}function $(e,t){if(1&e&&(u.TgZ(0,"ion-col",100),u.TgZ(1,"ion-text",99),u._uU(2,"Cr Amt:"),u.qZA(),u._UZ(3,"br"),u._uU(4),u.ALo(5,"indianCurrency"),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(4),u.hij(" ",u.lcZ(5,1,e.VCrAmt)," ")}}function j(e,t){if(1&e&&(u.TgZ(0,"ion-col",98),u.TgZ(1,"ion-text",99),u._uU(2,"Modified by:"),u.qZA(),u._UZ(3,"br"),u._uU(4),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(4),u.hij(" ",e.UserName," ")}}function K(e,t){if(1&e&&(u.TgZ(0,"ion-col",100),u.TgZ(1,"ion-text",99),u._uU(2,"Module:"),u.qZA(),u._UZ(3,"br"),u._uU(4),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(4),u.hij(" ",e.ActionModule," ")}}function z(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-card"),u.TgZ(1,"ion-row"),u.TgZ(2,"ion-col",98),u.TgZ(3,"ion-text",99),u._uU(4,"Ledger Name:"),u.qZA(),u._UZ(5,"br"),u._uU(6),u.qZA(),u.TgZ(7,"ion-col",78),u.TgZ(8,"ion-text",99),u._uU(9,"Voucher No:"),u.qZA(),u._UZ(10,"br"),u.TgZ(11,"a",79),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).Editledger(t)}),u._uU(12),u.qZA(),u.qZA(),u.TgZ(13,"ion-col",100),u.TgZ(14,"ion-text",99),u._uU(15,"Voucher Type:"),u.qZA(),u._UZ(16,"br"),u._uU(17),u.qZA(),u.qZA(),u.TgZ(18,"ion-row"),u.YNc(19,Y,5,1,"ion-col",101),u.YNc(20,G,5,1,"ion-col",101),u.YNc(21,H,5,1,"ion-col",102),u.TgZ(22,"ion-col",100),u.TgZ(23,"ion-text",99),u._uU(24,"Action:"),u.qZA(),u._UZ(25,"br"),u._uU(26),u.qZA(),u.YNc(27,B,6,3,"ion-col",103),u.YNc(28,$,6,3,"ion-col",103),u.qZA(),u.TgZ(29,"ion-row"),u.YNc(30,j,5,1,"ion-col",101),u.TgZ(31,"ion-col",104),u.TgZ(32,"ion-text",99),u._uU(33,"Modified Dt:"),u.qZA(),u._UZ(34,"br"),u._UZ(35,"dateformatter",82),u.qZA(),u.YNc(36,K,5,1,"ion-col",103),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(6),u.hij(" ",e.LName," "),u.xp6(6),u.hij(" ",e.VNo," "),u.xp6(5),u.hij(" ",e.VType," "),u.xp6(2),u.Q6J("ngIf",null!=e.ParentGroupLedger),u.xp6(1),u.Q6J("ngIf",null!=e.OBalance),u.xp6(1),u.Q6J("ngIf",null!=e.VDate),u.xp6(5),u.hij(" ",e.Action," "),u.xp6(1),u.Q6J("ngIf",null!=e.VDrAmt),u.xp6(1),u.Q6J("ngIf",null!=e.VCrAmt),u.xp6(2),u.Q6J("ngIf",null!=e.UserName||""!=e.UserName),u.xp6(5),u.s9C("dateValue",e.MD),u.xp6(1),u.Q6J("ngIf",null!=e.ActionModule||""!=e.ActionModule)}}function W(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",89),u.TgZ(1,"ion-content"),u.TgZ(2,"ion-refresher",90),u.NdJ("ionRefresh",function(t){return u.CHM(e),u.oxw().doRefresh(t)}),u._UZ(3,"ion-refresher-content",91),u.qZA(),u.TgZ(4,"ion-virtual-scroll",92,93),u.YNc(6,z,37,12,"ion-card",94),u.qZA(),u.TgZ(7,"ion-infinite-scroll",95,96),u.NdJ("ionInfinite",function(t){return u.CHM(e),u.oxw().onLedgerHistoryScroll(t)}),u._UZ(9,"ion-infinite-scroll-content",97),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.Udp("height",e.Ledgerhistoryservice.mobileContainer),u.xp6(4),u.Q6J("items",e.Ledgerhistoryservice.result),u.xp6(5),u.s9C("loadingText",e.Ledgerhistoryservice.nextloading)}}function X(e,t){1&e&&(u.TgZ(0,"ion-card",106),u.TgZ(1,"ion-row"),u.TgZ(2,"ion-col",98),u._UZ(3,"ion-skeleton-text",107),u.qZA(),u.TgZ(4,"ion-col",78),u._UZ(5,"ion-skeleton-text",107),u.qZA(),u.TgZ(6,"ion-col",108),u._UZ(7,"ion-skeleton-text",107),u.qZA(),u.qZA(),u.TgZ(8,"ion-row"),u.TgZ(9,"ion-col",98),u._UZ(10,"ion-skeleton-text",107),u.qZA(),u.TgZ(11,"ion-col",109),u._UZ(12,"ion-skeleton-text",107),u.qZA(),u.TgZ(13,"ion-col",108),u._UZ(14,"ion-skeleton-text",107),u.qZA(),u.qZA(),u.TgZ(15,"ion-row"),u.TgZ(16,"ion-col",98),u._UZ(17,"ion-skeleton-text",107),u.qZA(),u.TgZ(18,"ion-col",110),u._UZ(19,"ion-skeleton-text",107),u.qZA(),u.TgZ(20,"ion-col",111),u._UZ(21,"ion-skeleton-text",107),u.qZA(),u.qZA(),u.TgZ(22,"ion-row"),u.TgZ(23,"ion-col",98),u._UZ(24,"ion-skeleton-text",107),u.qZA(),u.TgZ(25,"ion-col",109),u._UZ(26,"ion-skeleton-text",107),u.qZA(),u.TgZ(27,"ion-col",108),u._UZ(28,"ion-skeleton-text",107),u.qZA(),u.qZA(),u.qZA())}function ee(e,t){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,X,29,0,"ion-card",105),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngForOf",e.Ledgerhistoryservice.noImageRepeat)}}function te(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._UZ(2,"ion-skeleton-text",107),u.qZA(),u.TgZ(3,"td"),u._UZ(4,"ion-skeleton-text",107),u.qZA(),u.TgZ(5,"td"),u._UZ(6,"ion-skeleton-text",107),u.qZA(),u.TgZ(7,"td"),u._UZ(8,"ion-skeleton-text",107),u.qZA(),u.TgZ(9,"td"),u._UZ(10,"ion-skeleton-text",107),u.qZA(),u.TgZ(11,"td"),u._UZ(12,"ion-skeleton-text",107),u.qZA(),u.TgZ(13,"td"),u._UZ(14,"ion-skeleton-text",107),u.qZA(),u.TgZ(15,"td"),u._UZ(16,"ion-skeleton-text",107),u.qZA(),u.TgZ(17,"td"),u._UZ(18,"ion-skeleton-text",107),u.qZA(),u.TgZ(19,"td"),u._UZ(20,"ion-skeleton-text",107),u.qZA(),u.TgZ(21,"td"),u._UZ(22,"ion-skeleton-text",107),u.qZA(),u.TgZ(23,"td"),u._UZ(24,"ion-skeleton-text",107),u.qZA(),u.TgZ(25,"td"),u._UZ(26,"ion-skeleton-text",107),u.qZA(),u.TgZ(27,"td"),u._UZ(28,"ion-skeleton-text",107),u.qZA(),u.TgZ(29,"td"),u._UZ(30,"ion-skeleton-text",107),u.qZA(),u.qZA())}function ie(e,t){if(1&e&&(u.TgZ(0,"div"),u.TgZ(1,"table",112),u.TgZ(2,"thead"),u.TgZ(3,"tr"),u.TgZ(4,"th"),u._UZ(5,"ion-skeleton-text",107),u.qZA(),u.TgZ(6,"th"),u._UZ(7,"ion-skeleton-text",107),u.qZA(),u.TgZ(8,"th"),u._UZ(9,"ion-skeleton-text",107),u.qZA(),u.TgZ(10,"th"),u._UZ(11,"ion-skeleton-text",107),u.qZA(),u.TgZ(12,"th"),u._UZ(13,"ion-skeleton-text",107),u.qZA(),u.TgZ(14,"th"),u._UZ(15,"ion-skeleton-text",107),u.qZA(),u.TgZ(16,"th"),u._UZ(17,"ion-skeleton-text",107),u.qZA(),u.TgZ(18,"th"),u._UZ(19,"ion-skeleton-text",107),u.qZA(),u.TgZ(20,"th"),u._UZ(21,"ion-skeleton-text",107),u.qZA(),u.TgZ(22,"th"),u._UZ(23,"ion-skeleton-text",107),u.qZA(),u.TgZ(24,"th"),u._UZ(25,"ion-skeleton-text",107),u.qZA(),u.TgZ(26,"th"),u._UZ(27,"ion-skeleton-text",107),u.qZA(),u.TgZ(28,"th"),u._UZ(29,"ion-skeleton-text",107),u.qZA(),u.TgZ(30,"th"),u._UZ(31,"ion-skeleton-text",107),u.qZA(),u.TgZ(32,"th"),u._UZ(33,"ion-skeleton-text",107),u.qZA(),u.qZA(),u.qZA(),u.TgZ(34,"tbody"),u.YNc(35,te,31,0,"tr",113),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(35),u.Q6J("ngForOf",e.Ledgerhistoryservice.noImageRepeat)}}function ne(e,t){1&e&&(u.TgZ(0,"div"),u._UZ(1,"div",115),u._UZ(2,"br"),u.TgZ(3,"div",109),u._uU(4,"No record found! "),u.qZA(),u.qZA())}function re(e,t){if(1&e&&(u.TgZ(0,"div",114),u._UZ(1,"br"),u._UZ(2,"br"),u.YNc(3,ne,5,0,"div",5),u._UZ(4,"br"),u._UZ(5,"br"),u.qZA()),2&e){const e=u.oxw();u.xp6(3),u.Q6J("ngIf",e.noDataImage)}}let oe=(()=>{class e{constructor(e,t,i,n,r,o,s,a,c,u){this.reportservice=e,this.userService=t,this.companyLedgerService=i,this.popoverController=n,this.filterService=r,this.Ledgerhistoryservice=o,this.router=s,this.location=a,this.page=c,this._config=u,this.isBusy=!0,this._sgId=0,this.backPoint=!1,this.currentScrollPosition=0,this.noDataImage=!1,this._LedgerId=0,this.httpfunction=new d.r,this.IsCallasPopup=!1,this.isScrollEnabled=!0,this.filterdata=new l.Jw,this.allLedgers=[],this.isList=!0,this.sortarray=[{order:this.Ledgerhistoryservice.sortorder,column:"LedgerName",title:"By Ledger Name"},{order:this.Ledgerhistoryservice.sortorder,column:"VoucherNo",title:"By Voucher No"},{order:this.Ledgerhistoryservice.sortorder,column:"VoucherType",title:"By Voucher Type"},{order:this.Ledgerhistoryservice.sortorder,column:"ParentGroupId",title:"By Parent"},{order:this.Ledgerhistoryservice.sortorder,column:"ModifiedBy",title:"By Modified-By"},{order:this.Ledgerhistoryservice.sortorder,column:"VoucherDate",title:"By Voucher Date"},{order:this.Ledgerhistoryservice.sortorder,column:"ModifiedDate",title:"By Modified Date"},{order:this.Ledgerhistoryservice.sortorder,column:"",title:"By Module"},{order:this.Ledgerhistoryservice.sortorder,column:"ActionModule",title:"By Action"}],this.StartDate=this.Ledgerhistoryservice.getStartFinancialdate,this.EndDate=this.Ledgerhistoryservice.getEndFinancialdate,this.Ledgerhistoryservice.ExportColumn=[{title:"Module",dataKey:"Module",size:90},{title:"Modified By",dataKey:"UserName",size:90},{title:"Modified Date",format:"DD-MMM-YYYY",dataKey:"MDate",size:90}],this.Ledgerhistoryservice.ExportName="Ledger_History"}get LedgId(){return this._LedgerId}set LedgId(e){this._LedgerId=e,this._LedgerId>0&&this.GetLedgerHistory(this._LedgerId)}onPopState(e){this.isList||(this.isList=!this.isList)}ngOnInit(){setTimeout(()=>{this.Ledgerhistoryservice.arrowDownEvent(150)},500),setTimeout(()=>{this.filterService.changeFilterWithbottomfilter(!0,!0,"Ledger History")},200),this.userService.GetInqUser(),this.filterdata.startTime=new Date(this.StartDate).toDateString(),this.filterdata.endTime=new Date(this.EndDate).toDateString(),this.filterdata.CompanyId=this.Ledgerhistoryservice.getCompanyId,this.Ledgerhistoryservice.filterArg=this.filterdata,this.Ledgerhistoryservice.isGetSubscribe=!0,this.ledgerhisSubscription=this.Ledgerhistoryservice.resultObs.subscribe(e=>{console.log(e),1==this.isBusy&&(this.isBusy=!1),0==this.Ledgerhistoryservice.result.length&&(this.noDataImage=!0)}),this.Ledgerhistoryservice.GetLedgerHistory(),this.companyLedgerService.isGetSubscribe=!0,this.Ledgerhistoryservice.refreshEvent=null,this.CompledSubscription=this.companyLedgerService.resultObs.subscribe(()=>{this.allLedgers=this.companyLedgerService.result}),this.companyLedgerService.GetAllledaccount(!0),this.httpfunction.scrolltop(),this.isScrollEnabled=!0,this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this)),""!=this.httpfunction.getStorage("_filterData")?setTimeout(()=>{this.dataPreserve()},150):this.FilterData()}dataPreserve(){if(""!=this.httpfunction.getStorage("_filterData")){let t=JSON.parse(this.httpfunction.getStorage("_filterData"));if(null!=t&&null!=t){var e=t.find(e=>"Ledger History"==e.Module);(null!=e||null!=e)&&(null!=e.SearchFilter[0].LedgerId&&0!=e.SearchFilter[0].LedgerId&&(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(t=>t.UIDN==e.SearchFilter[0].LedgerId)[0]),this.FilterData())}}}OnKeydown(e){var t=e.key||e.keyCode;("Backspace"==t&&e.altKey||"Escape"==t)&&(this.isList=!0,this.resetUrl(),setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.Ledgerhistoryservice.arrowDownEvent(this.Ledgerhistoryservice.selectedRowIndex)},150))}resetUrl(){this.isList=!0;let e=this.router.url;this.route.params.subscribe(t=>{null!=t.id&&""!=t.id&&(e=e.replace("/"+t.id,"")),this.location.go(e)}),this._sgId=0}goback(){this.location.back()}doRefresh(e){this.filterService.updatedata(!0,"Ledger History"),this.Ledgerhistoryservice.refreshEvent=e.target,this.FilterData()}ngOnDestroy(){0==this.backPoint&&this.filterService.RemoveFillLocalData("Ledger History"),null!=this.ledgerhisSubscription&&this.ledgerhisSubscription.unsubscribe(),null!=this.CompledSubscription&&this.CompledSubscription.unsubscribe()}onLedgerHistoryScroll(e){null!=this.infiniteScroll&&(this.Ledgerhistoryservice.mobileinfinitescroll=this.infiniteScroll,this.Ledgerhistoryservice.mobilevirtualscroll=this.virtualScroll,this.Ledgerhistoryservice.refreshEvent=e.target),this.Ledgerhistoryservice.ScrollDown()}Editledger(e){null!=e.BId||null!=e.BId?(this.backPoint=!0,this.router.navigate(["/marketing/bookingform/",e.BId])):(null==e.BId||null==e.BId)&&("Journal"==e.VType?(this.router.navigate(["/transactions/account/Journal/"+e.VId]),this.backPoint=!0):"Sales"==e.VType?(this.router.navigate(["/transactions/account/Sales/"+e.VId]),this.backPoint=!0):"Receipt"==e.VType?(this.router.navigate(["/transactions/account/Receipt/"+e.VId]),this.backPoint=!0):"Purchase"==e.VType?(this.router.navigate(["/transactions/account/Purchase/"+e.VId]),this.backPoint=!0):"Contra"==e.VType?(this.router.navigate(["/transactions/account/Contra/"+e.VId]),this.backPoint=!0):"Payment"==e.VType&&(this.router.navigate(["/transactions/account/Payment/"+e.VId]),this.backPoint=!0))}preventpopup(e){e.stopPropagation()}FilterData(){let e=new l.Jw;e.startTime=new Date(this.Ledgerhistoryservice.getStartFinancialdate).toDateString(),e.endTime=new Date(this.Ledgerhistoryservice.getEndFinancialdate).toDateString(),e.CompanyId=this.Ledgerhistoryservice.getCompanyId,e.SignupId=this.Ledgerhistoryservice.getSignupId,(null!=this.companyLedgerService.singleresult||null!=this.companyLedgerService.singleresult)&&(e.LedgerId=this.companyLedgerService.singleresult.UIDN),this.httpfunction.IsMobileview()||this.filterService.fillLocalData([{LedgerId:e.LedgerId}],"Ledger History"),this.Ledgerhistoryservice.filterArg=e,this.Ledgerhistoryservice.page=0}GetLedgerHistory(e){null!=e&&e>0&&(this.Ledgerhistoryservice.showMessage=!1,this.Ledgerhistoryservice.result=[],this.Ledgerhistoryservice.LedgerHistoryById(e.toString()).subscribe(e=>{this.Ledgerhistoryservice.result=e.data}))}sortPopover(e){return(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:c.r,cssClass:"my-custom-class",event:e,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:(e,i)=>{let n=new r.p(e,i);this.Ledgerhistoryservice.sortdata=n,t.dismiss()}}});return yield t.present()})}ClearFilter(){this.companyLedgerService.singleresult=null,this.FilterData()}advSearchM(){this._SearchModal.show()}editOnArrowEvent(e){this.Editledger(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(h.r),u.Y36(o.K),u.Y36(a.Q),u.Y36(g.Dh),u.Y36(p.i),u.Y36(s.I),u.Y36(f.F0),u.Y36(m.Ye),u.Y36(T.T3),u.Y36(r.De))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-ledgerhistory"]],viewQuery:function(e,t){if(1&e&&(u.Gf(y,5),u.Gf(N,5),u.Gf(M,5)),2&e){let e;u.iGM(e=u.CRH())&&(t._SearchModal=e.first),u.iGM(e=u.CRH())&&(t.infiniteScroll=e.first),u.iGM(e=u.CRH())&&(t.virtualScroll=e.first)}},hostBindings:function(e,t){1&e&&u.NdJ("popstate",function(e){return t.onPopState(e)},!1,u.Jf7)},inputs:{LedgId:"LedgId",IsCallasPopup:"IsCallasPopup",isList:"isList"},features:[u._Bn([a.Q,s.I,o.K])],decls:37,vars:13,consts:[[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["class","ca table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainer",3,"height",4,"ngIf"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade","bg-white",2,"z-index","99999"],["SearchModal","bs-modal"],[1,"container-fluid","p-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","form",3,"ngSubmit"],["f","ngForm"],[1,"row",2,"margin-bottom","70px"],[1,"md-form","form-group","col-md-6","col-sm-12"],["for","Ledger"],["selectOnTab","true","name","Ledger","bindLabel","LN","placeholder","Select Ledger/Group",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["Ledger","ngModel"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],[1,"customsearch"],[3,"submit"],[1,"c-header-nav"],[1,"mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mx-2"],["selectOnTab","true","appendTo","body","name","Ledger","bindLabel","LN","placeholder","Select Ledger/Group",1,"maxpanel",3,"virtualScroll","items","ngModel","loading","ngModelChange"],[1,"mr-2","mb-2"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-2"],[1,"none"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],[1,"mx-2","mb-3"],["id","tableContainer",1,"ca","table-responsive"],["class","card-header","id","formHeader",4,"ngIf"],["infinite-scroll","","class","CardBodyheader",3,"scrollWindow","scrolled",4,"ngIf"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","text-center"],["id","tableContainerHead"],["id","formHeader",1,"card-header"],[1,"row"],[1,"col-md-6","col-sm-12","PageNameFsize"],[1,"col-md-6","col-sm-12"],[1,"mx-2","text-wrap","text-right","LeftLi"],["infinite-scroll","",1,"CardBodyheader",3,"scrollWindow","scrolled"],[1,"table","table-bordered","table-striped",3,"fxHeader"],["id","tableContainerbody"],["container",""],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup",4,"ngFor","ngForOf"],["sortcolumn","LedgerName",3,"dirsort"],["sortcolumn","VoucherNo",3,"dirsort"],["sortcolumn","VoucherType",3,"dirsort"],["sortcolumn","ParentGroupId",3,"dirsort"],["sortcolumn","OpeningBalance",3,"dirsort"],["sortcolumn","VoucherDate",3,"dirsort"],["sortcolumn","Narration",3,"dirsort"],[3,"dirsort"],["sortcolumn","ModifiedBy",3,"dirsort"],["sortcolumn","ModifiedDate",3,"dirsort"],["sortcolumn","ActionModule",3,"dirsort"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],[1,"text-primary","text-center"],["target","blank",3,"click"],[3,"dateValue"],["target","blank",3,"href",4,"ngIf"],["isDate","false",3,"dateValue"],["target","blank",3,"href"],["sortcolumn","VoucherDrAmount",3,"dirsort"],["sortcolumn","VoucherCrAmount",3,"dirsort"],["sortcolumn","FileType",3,"dirsort"],["sortcolumn","FileUrl",3,"dirsort"],["sortcolumn","Module",3,"dirsort"],["id","tableContainer"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],["approxItemHeight","208px",3,"items"],["ionvscroll",""],[4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],[1,"text-left"],[1,"font-weight-bold","small"],[1,"text-right"],["class","text-left",4,"ngIf"],["size","auto","class","text-left",4,"ngIf"],["class","text-right",4,"ngIf"],["size","auto",1,"text-left"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","80%"],[2,"text-align","-webkit-right"],[1,"text-center"],["size","3",1,"text-center"],["size","3",2,"text-align","-webkit-right"],[1,"table","table-bordered","table-striped","text-center",3,"fxHeader"],[4,"ngFor","ngForOf"],[1,"col-md-12","pl-0","pr-0"],[1,"mx-auto","noDataImage"]],template:function(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",0),u.YNc(1,w,14,4,"div",1),u.YNc(2,q,13,0,"div",2),u.YNc(3,L,5,0,"div",1),u.YNc(4,V,4,0,"div",2),u.YNc(5,E,8,4,"div",3),u.YNc(6,W,10,4,"div",4),u.YNc(7,ee,2,1,"div",5),u.YNc(8,ie,36,1,"div",5),u.YNc(9,re,6,1,"div",6),u.qZA(),u.TgZ(10,"div",7,8),u.TgZ(12,"div",9),u.TgZ(13,"div",10),u.TgZ(14,"div",11),u.TgZ(15,"h4",12),u._uU(16,"Advance Search "),u.qZA(),u.TgZ(17,"button",13),u.NdJ("click",function(){return t._SearchModal.hide()}),u.TgZ(18,"span",14),u._uU(19,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"form",15,16),u.NdJ("ngSubmit",function(){return u.CHM(e),u.MAs(21).form.valid}),u.TgZ(22,"div",17),u.TgZ(23,"div",18),u.TgZ(24,"label",19),u._uU(25,"Select Ledger/Group"),u.qZA(),u.TgZ(26,"ng-select",20,21),u.NdJ("ngModelChange",function(e){return t.companyLedgerService.singleresult=e}),u.qZA(),u.qZA(),u.TgZ(28,"nav",22),u.TgZ(29,"ul",23),u.TgZ(30,"li",24),u.TgZ(31,"button",25),u.NdJ("click",function(){return t.FilterData(),t._SearchModal.hide()}),u._UZ(32,"i",26),u._uU(33,"Search "),u.qZA(),u.qZA(),u.TgZ(34,"li",27),u.TgZ(35,"button",28),u.NdJ("click",function(){return t.ClearFilter(),t._SearchModal.hide()}),u._uU(36," Clear Filter "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&e&&(u.xp6(1),u.Q6J("ngIf",!t.IsCallasPopup&&!t.Ledgerhistoryservice.IsMobileview),u.xp6(1),u.Q6J("ngIf",!t.IsCallasPopup&&t.Ledgerhistoryservice.IsMobileview),u.xp6(1),u.Q6J("ngIf",t.IsCallasPopup&&!t.Ledgerhistoryservice.IsMobileview),u.xp6(1),u.Q6J("ngIf",t.IsCallasPopup&&t.Ledgerhistoryservice.IsMobileview),u.xp6(1),u.Q6J("ngIf",!t.Ledgerhistoryservice.IsMobileview&&t.Ledgerhistoryservice.result.length>0),u.xp6(1),u.Q6J("ngIf",t.Ledgerhistoryservice.result.length>0&&!t.noDataImage&&t.Ledgerhistoryservice.IsMobileview),u.xp6(1),u.Q6J("ngIf",0==t.Ledgerhistoryservice.result.length&&!t.noDataImage&&t.Ledgerhistoryservice.IsMobileview),u.xp6(1),u.Q6J("ngIf",0==t.Ledgerhistoryservice.result.length&&!t.noDataImage&&!t.Ledgerhistoryservice.IsMobileview),u.xp6(1),u.Q6J("ngIf",0==t.Ledgerhistoryservice.result.length),u.xp6(17),u.Q6J("virtualScroll",!0)("items",t.allLedgers)("ngModel",t.companyLedgerService.singleresult)("loading",t.companyLedgerService.loading))},directives:[m.O5,v.oB,I._Y,I.JL,I.F,Z.w9,I.JJ,I.On,A.x,g.gu,x.R,S.n,m.sg,D.n,C.a,g.W2,g.nJ,g.Wo,g.aJ,g.Rw,g.ju,g.MB,g.PM,g.Nd,g.wI,g.yW,g.CK],pipes:[b.s],styles:[""]}),e})()},69521:function(e,t,i){i.d(t,{I:function(){return c}});var n=i(78446),r=i(32364),o=i(33018),s=i(91841),l=i(89401),a=i(86845);let c=(()=>{class e extends n.a{constructor(e,t,i,n){super(e,t,i,n),this._config=t}GetLedgerHistory(){super.GetAlldata(r.iD.LedgHisGetAll)}LedgerHistoryById(e){return super.changeInquirySite(0,"",e,r.iD.LedgerHisGetById)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.eN),o.LFG(r.De),o.LFG(l.Rq),o.LFG(a.D))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},91114:function(e,t,i){i.d(t,{R:function(){return p}});var n=i(33018),r=i(39075),o=i(38583),s=i(3679),l=i(6642);const a=["EmailId"];function c(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Email Id is required"),n.qZA())}function d(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Email must be a valid email address"),n.qZA())}function u(e,t){if(1&e&&(n.TgZ(0,"div",10),n.YNc(1,c,2,0,"div",11),n.YNc(2,d,2,0,"div",11),n.qZA()),2&e){n.oxw();const e=n.MAs(5);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.email)}}const h=function(e){return{"is-invalid":e}};function g(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",4),n.TgZ(1,"div",5),n.TgZ(2,"label",6),n._uU(3,"Enter Email Id"),n.qZA(),n.TgZ(4,"input",7,8),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().emailinput=t})("change",function(){n.CHM(e);const t=n.MAs(5);return n.oxw().change(t)}),n.qZA(),n.YNc(6,u,3,2,"div",9),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw();n.xp6(4),n.Q6J("ngModel",t.emailinput)("ngClass",n.VKq(3,h,e.invalid)),n.xp6(2),n.Q6J("ngIf",e.invalid)}}let p=(()=>{class e{constructor(e){this.sanitized=e,this.IsHideEmail=!0,this.onemailchange=new n.vpe}ngOnInit(){setTimeout(()=>{null!=this.serchcontrol&&null!=this.serchcontrol&&this.serchcontrol.nativeElement.focus()},2e4)}senitizeHtml(e){if(null!=e&&null!=e)return this.sanitized.bypassSecurityTrustHtml(e)}change(e){this.onemailchange.emit(e.model)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.H7))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-email"]],viewQuery:function(e,t){if(1&e&&n.Gf(a,7,n.SBq),2&e){let e;n.iGM(e=n.CRH())&&(t.serchcontrol=e.first)}},inputs:{emailinput:"emailinput",demandhtml:"demandhtml",IsHideEmail:"IsHideEmail"},outputs:{onemailchange:"onemailchange"},decls:5,vars:2,consts:[["class","form-group md-form col-sm-12",4,"ngIf"],[2,"border-width","initial","border-color","#eeeaea !important"],[2,"text-align","center"],[1,"preview",3,"innerHTML"],[1,"form-group","md-form","col-sm-12"],[1,"form-group","md-form","col-sm-8"],["for","EmailId",2,"margin-top","-10px"],["autofocus","","type","email","required","","name","EmailId","id","EmailId","email","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["EmailId","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&(n.YNc(0,g,7,5,"div",0),n._UZ(1,"hr",1),n.TgZ(2,"h4",2),n._uU(3,"Preview"),n.qZA(),n._UZ(4,"div",3)),2&e&&(n.Q6J("ngIf",t.IsHideEmail),n.xp6(4),n.Q6J("innerHTML",t.senitizeHtml(t.demandhtml),n.oJD))},directives:[o.O5,s.Fj,s.Q7,s.on,s.JJ,s.On,l.x,o.mk],styles:[""]}),e})()},14868:function(e,t,i){i.d(t,{s:function(){return r}});var n=i(33018);let r=(()=>{class e{transform(e,t){if(null!=e&&null!=e.length&&null!=e&&isNaN(e)&&(e.includes("Dr")||e.includes("Cr"))){const t=e.replaceAll(",","");var i,n=t.indexOf("Dr"),r=t.indexOf("Cr");i=t.slice(0,n>0?n-t.length:r-t.length),e=Number(i)}if(null!==e&&!isNaN(e)){const t=this.getDecimalValue(e.toString());return Math.floor(e).toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,")+t}}getDecimalValue(e){let t="";return e.indexOf(".")>0?(t=e.substring(e.indexOf("."),e.length),t=2===t.length?t+"0":t.substring(0,3)):t=".00",t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"indianCurrency",type:e,pure:!0}),e})()},59843:function(e,t,i){i.d(t,{X:function(){return g}});var n=i(33018),r=i(3679),o=i(6642),s=i(38583);const l=["MobileNo"];function a(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Mobile No is required"),n.qZA())}function c(e,t){if(1&e&&(n.TgZ(0,"div",8),n.YNc(1,a,2,0,"div",9),n.TgZ(2,"div",10),n._uU(3,"Contact Number should be of 10 digit"),n.qZA(),n.TgZ(4,"div",10),n._uU(5,"Contact Number should contain only numbers"),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("hidden",!e.hasError("minlength")),n.xp6(2),n.Q6J("hidden",!e.hasError("pattern"))}}function d(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Description is required"),n.qZA())}function u(e,t){if(1&e&&(n.TgZ(0,"div",8),n.YNc(1,d,2,0,"div",9),n.qZA()),2&e){n.oxw();const e=n.MAs(10);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}const h=function(e){return{"is-invalid":e}};let g=(()=>{class e{constructor(){this.onMobilechange=new n.vpe}ngOnInit(){setTimeout(()=>{this.serchcontrol.nativeElement.focus()},2e4)}change(e){this.onMobilechange.emit(e.model)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-sms"]],viewQuery:function(e,t){if(1&e&&n.Gf(l,7,n.SBq),2&e){let e;n.iGM(e=n.CRH())&&(t.serchcontrol=e.first)}},inputs:{SMSDescription:"SMSDescription",Mobileinput:"Mobileinput"},outputs:{onMobilechange:"onMobilechange"},decls:12,vars:7,consts:[[1,"form-group","md-form","col-sm-12"],["for","MobileNo",2,"margin-top","-10px"],["autofocus","","type","text","pattern","^[- +()]*[0-9][- +()0-9]*$","minlength","10","maxlength","13","required","","name","MobileNo","id","MobileNo",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["MobileNo","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","Desc",2,"margin-top","-10px"],["readonly","","type","text","required","","name","Desc","id","Desc",1,"md-textarea","form-control",2,"overflow","auto","height","150px",3,"ngModel","ngModelChange"],["Desc","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],[3,"hidden"]],template:function(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",0),n.TgZ(1,"label",1),n._uU(2,"Enter Mobile No"),n.qZA(),n.TgZ(3,"input",2,3),n.NdJ("ngModelChange",function(e){return t.Mobileinput=e})("change",function(){n.CHM(e);const i=n.MAs(4);return t.change(i)}),n.qZA(),n.YNc(5,c,6,3,"div",4),n.qZA(),n.TgZ(6,"div",0),n.TgZ(7,"label",5),n._uU(8,"Description"),n.qZA(),n.TgZ(9,"textarea",6,7),n.NdJ("ngModelChange",function(e){return t.SMSDescription=e}),n.qZA(),n.qZA(),n.YNc(11,u,2,1,"div",4)}if(2&e){const e=n.MAs(4),i=n.MAs(10);n.xp6(3),n.Q6J("ngModel",t.Mobileinput)("ngClass",n.VKq(5,h,e.invalid)),n.xp6(2),n.Q6J("ngIf",e.invalid),n.xp6(4),n.Q6J("ngModel",t.SMSDescription),n.xp6(2),n.Q6J("ngIf",i.invalid)}},directives:[r.Fj,r.c5,r.wO,r.nD,r.Q7,r.JJ,r.On,o.x,s.mk,s.O5],styles:[""]}),e})()},28879:function(e,t,i){i.d(t,{L:function(){return Us}});var n=i(33018),r=i(84659),o=i(18454),s=i(78980),l=i(66203),a=i(82316),c=i(3306),d=i(54380),u=i(75477),h=i(42005),g=i(84306),p=i(65978),f=i(32364),m=i(39302),T=i(65178),v=i(27541),I=i(65568),Z=i(80762),A=i(38583),x=i(78446),S=i(91841),D=i(89401),C=i(86845);let b=(()=>{class e extends x.a{constructor(e,t,i,n){super(e,t,i,n),this._config=t}GetTypeOfDuty(){return[{UIDN:1,Name:"GST"}]}GetNatureOfAdjustment(){return[{UIDN:1,Name:"Decrease of Tax Liability"},{UIDN:2,Name:"Increase of Input Tax Credit"},{UIDN:3,Name:"Increase of Tax Liability"},{UIDN:4,Name:"Increase of Tax Liability & Input Tax Credit"},{UIDN:5,Name:"Opening Balance"},{UIDN:6,Name:"Refund"},{UIDN:7,Name:"Reversal of Input Tax Credit"},{UIDN:8,Name:"Reversal of Tax Liability"}]}GetAdditionDetails(){return[{NatureOfAdjustmentId:1,UIDN:1,Name:"Adjustment Against Credit"},{NatureOfAdjustmentId:1,UIDN:2,Name:"Cancellation of Advance Payments under Reverse Charge"},{NatureOfAdjustmentId:1,UIDN:3,Name:"Cancellation of Advance Receipts"},{NatureOfAdjustmentId:1,UIDN:4,Name:"Cancellation of Advance Receipts for Exports/SEZ sales"},{NatureOfAdjustmentId:1,UIDN:5,Name:"Purchase Against Advance Payment"},{NatureOfAdjustmentId:1,UIDN:6,Name:"Sales Against Advance Receipts"},{NatureOfAdjustmentId:1,UIDN:7,Name:"Sales Against Advance Receipts for Export/SEZ Sales"},{NatureOfAdjustmentId:2,UIDN:8,Name:"Imports of Capital Goods"},{NatureOfAdjustmentId:2,UIDN:9,Name:"Import of Goods"},{NatureOfAdjustmentId:2,UIDN:10,Name:"Import of Services"},{NatureOfAdjustmentId:2,UIDN:11,Name:"ISD Transfer"},{NatureOfAdjustmentId:2,UIDN:12,Name:"Others"},{NatureOfAdjustmentId:2,UIDN:13,Name:"Purchase from SEZ"},{NatureOfAdjustmentId:2,UIDN:14,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:2,UIDN:15,Name:"Purchase under reverse charge"},{NatureOfAdjustmentId:2,UIDN:16,Name:"Re-claim of reversal ITC (on account of buyer payment)"},{NatureOfAdjustmentId:2,UIDN:17,Name:"Re-claim of reversal ITC -Rule 42 (2)(b)"},{NatureOfAdjustmentId:2,UIDN:18,Name:"TCS Adjustment"},{NatureOfAdjustmentId:2,UIDN:19,Name:"TDS Adjustment"},{NatureOfAdjustmentId:2,UIDN:20,Name:"Transitional Credit"},{NatureOfAdjustmentId:3,UIDN:21,Name:"Advance Receipts for Export/SEZ Sales"},{NatureOfAdjustmentId:3,UIDN:22,Name:"Advance Paid under Reverse Charge"},{NatureOfAdjustmentId:3,UIDN:23,Name:"Imports of Capital Goods"},{NatureOfAdjustmentId:3,UIDN:24,Name:"Import of Goods"},{NatureOfAdjustmentId:3,UIDN:25,Name:"Import of Services"},{NatureOfAdjustmentId:3,UIDN:26,Name:"Interest"},{NatureOfAdjustmentId:3,UIDN:27,Name:"Late Fees"},{NatureOfAdjustmentId:3,UIDN:28,Name:"On Account of Advance Receipt"},{NatureOfAdjustmentId:3,UIDN:29,Name:"Others"},{NatureOfAdjustmentId:3,UIDN:30,Name:"Penalty"},{NatureOfAdjustmentId:3,UIDN:31,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:3,UIDN:32,Name:"Purchase under reverse charge"},{NatureOfAdjustmentId:4,UIDN:33,Name:"Import of services"},{NatureOfAdjustmentId:4,UIDN:34,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:4,UIDN:35,Name:"Purchase under reverse charge"},{NatureOfAdjustmentId:6,UIDN:36,Name:"Not Applicable"},{NatureOfAdjustmentId:6,UIDN:37,Name:"Interest"},{NatureOfAdjustmentId:6,UIDN:38,Name:"Late Fees"},{NatureOfAdjustmentId:6,UIDN:39,Name:"Others"},{NatureOfAdjustmentId:6,UIDN:40,Name:"Penalty"},{NatureOfAdjustmentId:7,UIDN:41,Name:"Not Applicable"},{NatureOfAdjustmentId:7,UIDN:42,Name:"Capital credit due to exempted supplies -Rule 43(1)(h)"},{NatureOfAdjustmentId:7,UIDN:43,Name:"Exempt and non-business supplies -Rule 42(1)(h)"},{NatureOfAdjustmentId:7,UIDN:44,Name:"Import of services"},{NatureOfAdjustmentId:7,UIDN:45,Name:"Ineligible credit"},{NatureOfAdjustmentId:7,UIDN:46,Name:"ISD credit note-Rule 39(1)(j)(ii)"},{NatureOfAdjustmentId:7,UIDN:47,Name:"Non-payment to the Supplier -Rule 37(2)"},{NatureOfAdjustmentId:7,UIDN:48,Name:"On account of claiming more - Rule 42 (2)(a)"},{NatureOfAdjustmentId:7,UIDN:49,Name:"Others"},{NatureOfAdjustmentId:7,UIDN:50,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:7,UIDN:51,Name:"Penalty"},{NatureOfAdjustmentId:7,UIDN:52,Name:"Purchase under reverse charge"},{NatureOfAdjustmentId:8,UIDN:53,Name:"Import of services"},{NatureOfAdjustmentId:8,UIDN:54,Name:"Purchase from Unregisterd dealer"},{NatureOfAdjustmentId:8,UIDN:55,Name:"Purchase under reverse charge"}]}GetAlldata(){super.GetAlldata(f._Q.StatAjustment_GetAll)}getById(e){return super.getById(e,f._Q.StatAjustment_GetById)}edit(e){return super.edit(e,f._Q.StatAjustment_Update)}add(e){return super.add(e,f._Q.StatAjustment_Add)}delete(e){super.delete(e,f._Q.StatAjustment_Delete)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(S.eN),n.LFG(f.De),n.LFG(D.Rq),n.LFG(C.D))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var y=i(89525),N=i(34450),M=i(44667),w=i(39478),q=i(65559),L=i(82217),V=i(8746),_=i(3679),U=i(66496),R=i(6642),J=i(3001),k=i(43647),P=i(59843),O=i(91114),Q=i(58679),F=i(92859),E=i(48429),Y=i(12366),G=i(11661),H=i(25575),B=i(85895),$=i(65452),j=i(3359),K=i(82929),z=i(7225),W=i(67961),X=i(9616),ee=i(14868);const te=["voucherrow"],ie=["vdate"],ne=["refTable"],re=["Inventoryrow"],oe=["EmailModel"],se=["EmailModelM"],le=["SmsModal"],ae=["f"],ce=["fitemVou"],de=["fitemItem"],ue=["MobileReferenceForm"],he=["CostCenter"],ge=["GodownMaster"],pe=["challanModal"],fe=["challanModalM"],me=["ReceiptDeliveryModal"],Te=["TransactionModal"],ve=["chlnaddeditModal"],Ie=["StatAdjustmentModal"],Ze=["TaxClassificationNature"],Ae=["RecptDetails"],xe=["NewTrackingModel"],Se=["ConfigurationModal"],De=["ConfigurationModalMobile"],Ce=["BankModal"],be=["RefModal"],ye=["RefModalM"],Ne=["BatchModal"],Me=["BatchModalM"],we=["JournalStatAdjustmentModal"],qe=["addItemModal"],Le=["addItemModalVoucher"],Ve=["InventoryModal"];function _e(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",177),n.TgZ(1,"label",178),n.TgZ(2,"input",179),n.NdJ("change",function(){n.CHM(e);const t=n.oxw(2);return t.IsItemVoucher=1!=t.IsItemVoucher,t.changeItem()}),n.qZA(),n._UZ(3,"span",153),n.qZA(),n.TgZ(4,"span",180),n._uU(5,"Item Voucher"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("checked",1==e.IsItemVoucher)}}function Ue(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",166),n.TgZ(1,"ul",167),n.TgZ(2,"li",168),n.TgZ(3,"button",169),n.NdJ("click",function(){return n.CHM(e),n.oxw().onCancel()}),n._UZ(4,"i",170),n.qZA(),n.qZA(),n.TgZ(5,"li",171),n.TgZ(6,"strong"),n._uU(7),n.qZA(),n.qZA(),n.YNc(8,_e,6,1,"li",172),n.TgZ(9,"li",173),n.TgZ(10,"div",174),n.NdJ("click",function(){return n.CHM(e),n.oxw().ShowConfigurationModal()}),n.TgZ(11,"a",175),n._UZ(12,"i",176),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(7),n.Oqu(e.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",!("RealEstate"!=e.accountService.getCompanyData.Type&&"Trading"!=e.accountService.getCompanyData.Type&&"Manufacturing"!=e.accountService.getCompanyData.Type||"Debit Note"!=e.accountService.singleresult.VT&&"Credit Note"!=e.accountService.singleresult.VT&&"Purchase"!=e.accountService.singleresult.VT&&"Sales"!=e.accountService.singleresult.VT))}}function Re(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",181),n.TgZ(1,"ul",167),n.TgZ(2,"li",182),n.TgZ(3,"ion-icon",183),n.NdJ("click",function(){return n.CHM(e),n.oxw().goback()}),n.qZA(),n.qZA(),n.TgZ(4,"li",184),n.TgZ(5,"strong"),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"li",185),n.TgZ(8,"div",174),n.NdJ("click",function(){return n.CHM(e),n.oxw().ShowConfigurationModal()}),n.TgZ(9,"a",175),n._UZ(10,"i",176),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(6),n.Oqu(e.accountService.singleresult.VT)}}function Je(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",186),n.TgZ(1,"label",187),n._uU(2,"Item Voucher"),n.qZA(),n._UZ(3,"br"),n.TgZ(4,"label",188),n.TgZ(5,"input",179),n.NdJ("change",function(){n.CHM(e);const t=n.oxw();return t.IsItemVoucher=1!=t.IsItemVoucher,t.changeItem()}),n.qZA(),n._UZ(6,"span",153),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(5),n.Q6J("checked",1==e.IsItemVoucher)}}function ke(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"Bill No"),n.qZA())}function Pe(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"Ref. No"),n.qZA())}function Oe(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function Qe(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Oe,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(5);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}const Fe=function(e){return{"is-invalid":e}};function Ee(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",189),n.TgZ(1,"label",190),n.YNc(2,ke,2,0,"span",32),n.YNc(3,Pe,2,0,"span",32),n.qZA(),n.TgZ(4,"input",191,192),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().accountService.singleresult.BNO=t}),n.qZA(),n.YNc(6,Qe,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw(),i=n.MAs(6);n.xp6(2),n.Q6J("ngIf","Purchase"==t.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf","Receipt Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngClass",n.VKq(6,Fe,i.submitted&&e.invalid))("required","Purchase"==t.accountService.singleresult.VT)("ngModel",t.accountService.singleresult.BNO),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function Ye(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function Ge(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Ye,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function He(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",194),n.TgZ(1,"label",195),n._uU(2,"Due Date"),n.qZA(),n.TgZ(3,"input",196,197),n.NdJ("selected",function(t){return n.CHM(e),n.oxw().onDueDateSelect(t)}),n.qZA(),n.YNc(5,Ge,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(4),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("ngClass",n.VKq(3,Fe,i.submitted&&e.invalid))("startDate",t.accountService.singleresult.DDt),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function Be(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(4);return n.oxw().openLedgerPopup(t,-1,0)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function $e(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function je(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item;n.oxw();const i=n.MAs(4);return n.oxw().openLedgerPopupforedit(i,t.UIDN,-1,0)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(2);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ke(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function ze(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Ke,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(5);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function We(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",198),n.TgZ(1,"label",199),n._uU(2),n.qZA(),n.TgZ(3,"ng-select",200,201),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().companyLedgerService.singleresult=t})("keyup",function(t){n.CHM(e);const i=n.MAs(4),r=n.oxw();return r.LedgerKeyEvent(t,i,-1,0,null!=r.companyLedgerService.singleresult?r.companyLedgerService.singleresult.UIDN:0)})("change",function(){n.CHM(e);const t=n.oxw();return t.finalcalculation(),t.BindStateCountry(),t.RecptDetailsModel(2)})("keydown.Tab",function(){return n.CHM(e),n.oxw().RecptDetailsModel(2)}),n.YNc(6,Be,3,0,"ng-template",136),n.YNc(7,$e,1,1,"ng-template",137),n.YNc(8,je,4,3,"ng-template",138),n.qZA(),n.YNc(9,ze,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw(),i=n.MAs(6);n.xp6(2),n.hij("Select ",t.AccountText,""),n.xp6(1),n.s9C("placeholder",t.AccountText),n.Q6J("tabIndex",4)("virtualScroll",!0)("items",t.FromLedger)("ngClass",n.VKq(9,Fe,i.submitted&&e.invalid))("ngModel",t.companyLedgerService.singleresult)("loading",t.companyLedgerService.loading),n.xp6(6),n.Q6J("ngIf",i.submitted&&e.invalid)}}function Xe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(5);return n.oxw().openLedgerPopup(t,-1,0)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function et(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function tt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item;n.oxw();const i=n.MAs(5);return n.oxw().openLedgerPopupforedit(i,t.UIDN,-2,0)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(2);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function it(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function nt(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,it,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(6);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function rt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",198),n.TgZ(1,"div"),n.TgZ(2,"label",206),n._uU(3),n.qZA(),n.TgZ(4,"ng-select",207,208),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().PurchaseLedger=t})("change",function(){n.CHM(e);const t=n.oxw();return t.finalcalculation(),t.TransactionsModel(2)})("keydown.Tab",function(){return n.CHM(e),n.oxw().TransactionsModel(2)})("keyup",function(t){n.CHM(e);const i=n.MAs(5),r=n.oxw();return r.PurchaseLedgerKeyEvent(t,i,-1,0,null!=r.PurchaseLedger?r.PurchaseLedger.UIDN:0)}),n.YNc(7,Xe,3,0,"ng-template",136),n.YNc(8,et,1,1,"ng-template",137),n.YNc(9,tt,4,3,"ng-template",138),n.qZA(),n.qZA(),n.YNc(10,nt,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(6),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Oqu(t.AccountInventoryText),n.xp6(1),n.s9C("placeholder",t.AccountInventoryText),n.Q6J("tabIndex",5)("virtualScroll",!0)("items",t.ToLedger)("ngClass",n.VKq(9,Fe,i.submitted&&e.invalid))("ngModel",t.PurchaseLedger)("loading",t.companyLedgerService.loading),n.xp6(6),n.Q6J("ngIf",i.submitted&&e.invalid)}}function ot(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",209),n.TgZ(1,"label",210),n._uU(2,"Org Invoice"),n.qZA(),n.TgZ(3,"input",211),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().accountService.singleresult.OINO=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("ngModel",e.accountService.singleresult.OINO)}}function st(e,t){if(1&e&&(n.TgZ(0,"small",202),n._uU(1),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.AsE(" Loaded ",e.siteService.result.length," of ",e.siteService.totalItems," ")}}function lt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",212),n.TgZ(1,"label",213),n._uU(2,"Site/Branch"),n.qZA(),n.TgZ(3,"ng-select",214,215),n.NdJ("change",function(t){return n.CHM(e),n.oxw().getsitestructuredetail(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw().siteService.singleresult=t}),n.YNc(5,st,2,2,"ng-template",136),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("tabIndex",7)("items",e.siteService.result)("ngModel",e.siteService.singleresult)("loading",e.siteService.loading)}}function at(e,t){if(1&e&&(n.TgZ(0,"small",202),n._uU(1),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.AsE(" Loaded ",e.filteredData.length," of ",e.filteredData.length," ")}}function ct(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",216),n.TgZ(1,"label",217),n._uU(2,"Site Structure"),n.qZA(),n.TgZ(3,"ng-select",218,219),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().siteStrSingle=t}),n.YNc(5,at,2,2,"ng-template",136),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.ekj("col-md-6",e.companyLedgerService.IsMobileview),n.xp6(3),n.Q6J("items",e.filteredData)("ngModel",e.siteStrSingle)}}function dt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(4);return n.oxw().openCostCenterPopup(t)}),n._uU(2," Add New Cost Center "),n.qZA(),n.qZA()}}function ut(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.NA," ")}function ht(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",220),n.TgZ(1,"label",221),n._uU(2,"Cost Center"),n.qZA(),n.TgZ(3,"ng-select",222,223),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().CostCategoryservice.singleresult=t}),n.YNc(5,dt,3,0,"ng-template",136),n.YNc(6,ut,1,1,"ng-template",137),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("tabIndex",9)("items",e.CostCategoryservice.result)("ngModel",e.CostCategoryservice.singleresult)("loading",e.CostCategoryservice.loading)}}function gt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",224),n.TgZ(1,"label",225),n._uU(2,"Select PayMode"),n.qZA(),n.TgZ(3,"ng-select",226,227),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().accountService.singleresult.PayTypeI=t})("change",function(){n.CHM(e);const t=n.oxw();return t.SelectPaymentMode(t.accountService.singleresult.PayTypeI)}),n.TgZ(5,"ng-option",228),n._uU(6,"Setupcharges"),n.qZA(),n.TgZ(7,"ng-option",229),n._uU(8,"MaintenanceCharges"),n.qZA(),n.TgZ(9,"ng-option",230),n._uU(10,"AddOnCharges"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("tabIndex",10)("ngModel",e.accountService.singleresult.PayTypeI)}}function pt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",231),n.TgZ(1,"label",9),n._uU(2,"Enter Month"),n.qZA(),n.TgZ(3,"input",232),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().accountService.singleresult.ActivateMonth=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("ngModel",e.accountService.singleresult.ActivateMonth)}}function ft(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",224),n.TgZ(1,"label",233),n._uU(2,"Select AddOn"),n.qZA(),n.TgZ(3,"ng-select",234,235),n.NdJ("change",function(t){return n.CHM(e),n.oxw().getaddonplanDetails(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw().accountService.singleresult.AddOnId=t}),n.TgZ(5,"ng-option",228),n._uU(6,"Facebook"),n.qZA(),n.TgZ(7,"ng-option",229),n._uU(8,"Incoming Call"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("tabIndex",13)("ngModel",e.accountService.singleresult.AddOnId)}}function mt(e,t){if(1&e&&n._uU(0),2&e){const e=t.item;n.AsE(" ",e.PlanName," -- ",e.PB," ")}}function Tt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",224),n.TgZ(1,"label",236),n._uU(2,"Select Add On Plan"),n.qZA(),n.TgZ(3,"ng-select",237,238),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().addonPlanService.singleresult=t})("change",function(t){return n.CHM(e),n.oxw().calculateaddplan(t)}),n.YNc(5,mt,1,2,"ng-template",138),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("tabIndex",14)("items",e.addonPlanService.result)("ngModel",e.addonPlanService.singleresult)("loading",e.addonPlanService.loading)}}function vt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",239),n.TgZ(1,"label",240),n._uU(2,"Country"),n.qZA(),n.TgZ(3,"app-country",241),n.NdJ("oncountrychange",function(t){return n.CHM(e),n.oxw().accountService.singleresult.CO=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("CountryTab",15)("isRequired",!1)("countryinput",e.accountService.singleresult.CO)}}function It(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",242),n.TgZ(1,"label",243),n._uU(2,"State"),n.qZA(),n.TgZ(3,"app-states",244),n.NdJ("onStateChange",function(t){return n.CHM(e),n.oxw().accountService.singleresult.STA=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("StateTab",16)("isRequired",!1)("StateInput",e.accountService.singleresult.STA)}}function Zt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",245),n.TgZ(1,"label",246),n._uU(2,"Stat Adjustment"),n.qZA(),n.TgZ(3,"div",247),n.TgZ(4,"label",248),n.TgZ(5,"input",249),n.NdJ("change",function(){n.CHM(e);const t=n.oxw();return t.IsStatAdjust=1!=t.IsStatAdjust,t.openstatAdjustmentpopup()}),n.qZA(),n._UZ(6,"span",153),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(5),n.Q6J("checked",1==e.IsStatAdjust)}}function At(e,t){if(1&e&&(n.TgZ(0,"div",250),n._uU(1," Used For: "),n.TgZ(2,"b"),n._uU(3),n.qZA(),n._uU(4),n.qZA()),2&e){const e=n.oxw();n.xp6(3),n.Oqu(e.TaxAdjustment),n.xp6(1),n.hij(" - (Additional Details: ",e.GSTAdditionalDetails,") ")}}function xt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",255),n.TgZ(1,"a",256),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).openChallanpopup(-1)}),n._uU(2," Select Challan(s) "),n.qZA(),n.qZA()}}function St(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",257),n.TgZ(1,"button",258),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).openReferencepopup(-1,0)}),n._uU(2," Add Reference "),n.qZA(),n.qZA()}}function Dt(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1," Receipt Note"),n.qZA())}function Ct(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1," Delivery Note"),n.qZA())}function bt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",259),n.TgZ(1,"a",260),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).openReceiptDeliverypopup(-1)}),n.YNc(2,Dt,2,0,"span",32),n.YNc(3,Ct,2,0,"span",32),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf","Purchase"==e.accountService.singleresult.VT||"Debit Note"==e.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf","Sales"==e.accountService.singleresult.VT||"Credit Note"==e.accountService.singleresult.VT)}}function yt(e,t){if(1&e&&(n.TgZ(0,"div",251),n.YNc(1,xt,3,0,"div",252),n.YNc(2,St,3,0,"div",253),n.YNc(3,bt,4,2,"div",254),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",("Purchase"==e.accountService.singleresult.VT||"Debit Note"==e.accountService.singleresult.VT)&&"RealEstate"==e.accountService.getCompanyData.Type),n.xp6(1),n.Q6J("ngIf","Purchase"==e.accountService.singleresult.VT||"Sales"==e.accountService.singleresult.VT||"Credit Note"==e.accountService.singleresult.VT||"Debit Note"==e.accountService.singleresult.VT||"Delivery Note"==e.accountService.singleresult.VT||"Receipt Note"==e.accountService.singleresult.VT||"SalesOrder"==e.accountService.singleresult.VT||"PurchaseOrder"==e.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher&&("Purchase"==e.accountService.singleresult.VT||"Sales"==e.accountService.singleresult.VT||"Credit Note"==e.accountService.singleresult.VT||"Debit Note"==e.accountService.singleresult.VT))}}function Nt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",265),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).openChlnaddeditpopup(t.ChId)}),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._uU(3,"-- "),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" Challan :",e.ChNo," "),n.xp6(3),n.Oqu(e.Amt)}}function Mt(e,t){if(1&e&&(n.TgZ(0,"div",263),n.YNc(1,Nt,6,2,"a",264),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.companyLedgerService.singleresult.challan)}}function wt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",265),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).openReceiptDelveiryeditpopup()}),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._uU(3,"-- "),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(3);n.xp6(2),n.AsE(" ",i.receiptDeliveryHeaderText," :",e.BNO," "),n.xp6(3),n.Oqu(e.VNO)}}function qt(e,t){if(1&e&&(n.TgZ(0,"div",263),n.YNc(1,wt,6,3,"a",264),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.companyLedgerService.singleresult.vouchers)}}function Lt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",265),n.NdJ("click",function(){return n.CHM(e),n.oxw(4).openReferencepopup(-1,0)}),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._uU(3),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.Ref_Type," "),n.xp6(1),n.hij("-",e.Ref_Tag,"-- "),n.xp6(2),n.AsE(" ",e.Dr>0?e.Dr:e.Cr," ",e.AmtType," , ")}}function Vt(e,t){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,Lt,6,4,"a",264),n.qZA()),2&e){const e=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",e.getreference(e.companyLedgerService.singleresult))}}function _t(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",267),n.TgZ(1,"span",268),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(4).openReferencepopup(t.Index,0)}),n._uU(2),n.qZA(),n._uU(3),n.TgZ(4,"strong",268),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(4).openReferencepopup(t.Index,0)}),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.Ref_Type," "),n.xp6(1),n.hij("-",e.Ref_Tag,"-- "),n.xp6(2),n.AsE(" ",e.Dr>0?e.Dr:e.Cr," ",e.AmtType," , ")}}function Ut(e,t){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,_t,6,4,"a",266),n.qZA()),2&e){const e=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",e.getreference(e.companyLedgerService.singleresult))}}function Rt(e,t){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,Vt,2,1,"div",32),n.YNc(2,Ut,2,1,"div",32),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!e.accountService.IsMobileview),n.xp6(1),n.Q6J("ngIf",e.accountService.IsMobileview)}}function Jt(e,t){if(1&e&&(n.TgZ(0,"div",261),n.YNc(1,Mt,2,1,"div",262),n.YNc(2,qt,2,1,"div",262),n.YNc(3,Rt,3,2,"div",32),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null!=e.companyLedgerService.singleresult&&null!=e.companyLedgerService.singleresult.challan&&null!=e.companyLedgerService.singleresult.challan),n.xp6(1),n.Q6J("ngIf",null!=e.companyLedgerService.singleresult&&null!=e.companyLedgerService.singleresult.vouchers&&null!=e.companyLedgerService.singleresult.vouchers),n.xp6(1),n.Q6J("ngIf",null!=e.getreference(e.companyLedgerService.singleresult))}}function kt(e,t){1&e&&(n.TgZ(0,"div"),n._UZ(1,"hr"),n.qZA())}function Pt(e,t){1&e&&(n.TgZ(0,"a",281),n._uU(1," Add Inventory Items "),n.qZA())}function Ot(e,t){1&e&&(n.TgZ(0,"a",281),n._uU(1," Add Items "),n.qZA())}function Qt(e,t){if(1&e&&(n.TgZ(0,"div",292),n.TgZ(1,"h5",293),n._uU(2),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(e.LedDet.LN)}}function Ft(e,t){if(1&e&&(n.TgZ(0,"a"),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._uU(3,"-- "),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.BTNa," "),n.xp6(3),n.AsE(" ",e.Qty," -- ",e.Amt," ")}}function Et(e,t){if(1&e&&(n.TgZ(0,"div",294),n.TgZ(1,"h5",293),n._uU(2),n.qZA(),n.YNc(3,Ft,6,3,"a",277),n.qZA()),2&e){const e=n.oxw(),t=e.$implicit,i=e.index,r=n.oxw(2);n.xp6(2),n.hij(" ",t.InventoryDetails.InvN,""),n.xp6(1),n.Q6J("ngForOf",r.getgodownDetailsMobile(t.InventoryDetails,i))}}function Yt(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.DrAmt,"")}}function Gt(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.DrAmt,"")}}function Ht(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.CrAmt,"")}}function Bt(e,t){if(1&e&&(n.TgZ(0,"div",295),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.CRDR," ")}}function $t(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw(2).$implicit;n.xp6(1),n.hij("QTY: ",e.actqty,",")}}function jt(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw(2).$implicit;n.xp6(1),n.hij("Rate: ",e.rate,",")}}function Kt(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw(2).$implicit;n.xp6(1),n.hij("Discount: ",e.Disc,"")}}function zt(e,t){if(1&e&&(n.TgZ(0,"div",296),n.YNc(1,$t,2,1,"span",32),n.YNc(2,jt,2,1,"span",32),n.YNc(3,Kt,2,1,"span",32),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",null!=e.actqty),n.xp6(1),n.Q6J("ngIf",null!=e.rate),n.xp6(1),n.Q6J("ngIf",null!=e.Disc)}}function Wt(e,t){if(1&e&&(n.TgZ(0,"div",299),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.xp6(1),n.hij(" Tax: ",e.LN," ")}}function Xt(e,t){if(1&e&&(n.TgZ(0,"div",297),n.YNc(1,Wt,2,1,"div",298),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngForOf",e.TaxLedger)}}function ei(e,t){if(1&e&&(n.TgZ(0,"a",300),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._uU(3),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.Ref_Type," "),n.xp6(1),n.hij("--",e.Ref_Tag,"-- "),n.xp6(2),n.AsE(" ",e.Balance," - ",e.AmtType," ")}}function ti(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"a",265),n.NdJ("click",function(){const t=n.CHM(e).index;return n.oxw(2).showVouchers(t)}),n.TgZ(2,"div",282),n.TgZ(3,"div",7),n.YNc(4,Qt,3,1,"div",283),n.YNc(5,Et,4,2,"div",284),n.TgZ(6,"div",285),n.YNc(7,Yt,2,1,"span",32),n.YNc(8,Gt,2,1,"span",32),n.YNc(9,Ht,2,1,"span",32),n.qZA(),n.YNc(10,Bt,2,1,"div",286),n.qZA(),n.TgZ(11,"div",7),n.YNc(12,zt,4,3,"div",287),n.qZA(),n.TgZ(13,"div",7),n.YNc(14,Xt,2,1,"div",288),n.TgZ(15,"div",289),n.TgZ(16,"div",290),n.YNc(17,ei,6,4,"a",291),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(2);n.xp6(4),n.Q6J("ngIf",!i.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",i.IsItemVoucher&&"undefined"!=e.InventoryDetails&&null!=e.InventoryDetails),n.xp6(2),n.Q6J("ngIf",!i.IsCRDR||i.IsItemVoucher&&e.DrAmt>0),n.xp6(1),n.Q6J("ngIf",i.IsCRDR&&!i.IsItemVoucher&&e.DrAmt>0),n.xp6(1),n.Q6J("ngIf",i.IsCRDR&&!i.IsItemVoucher&&e.CrAmt>0),n.xp6(1),n.Q6J("ngIf",i.IsCRDR&&!i.IsItemVoucher),n.xp6(2),n.Q6J("ngIf",i.IsItemVoucher),n.xp6(2),n.Q6J("ngIf",!i.IsCRDR||i.IsItemVoucher),n.xp6(3),n.Q6J("ngForOf",i.getreference(e.LedDet))}}function ii(e,t){if(1&e&&(n.TgZ(0,"div",301),n.TgZ(1,"div",302),n._UZ(2,"hr",303),n._uU(3),n._UZ(4,"br"),n._UZ(5,"hr",303),n._uU(6),n._UZ(7,"hr",303),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.xp6(3),n.hij(" Total Cr: ",e.GrandCRTotal,""),n.xp6(3),n.hij(" Total Dr: ",e.GrandTotal," ")}}function ni(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"div",7),n.TgZ(2,"div",269),n.TgZ(3,"div",270),n.TgZ(4,"div",271),n.TgZ(5,"div",272),n.TgZ(6,"h4",273),n.YNc(7,Pt,2,0,"a",274),n.YNc(8,Ot,2,0,"a",274),n.qZA(),n.qZA(),n.TgZ(9,"div",275),n.TgZ(10,"div",276),n.YNc(11,ti,18,9,"div",277),n.TgZ(12,"div",278),n.TgZ(13,"input",279),n.NdJ("click",function(){return n.CHM(e),n.oxw().adddNewTransaction()}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(14,ii,8,2,"div",280),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(7),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!e.IsItemVoucher),n.xp6(3),n.Q6J("ngForOf",e.tableVouchers),n.xp6(3),n.Q6J("ngIf",e.IsCRDR&&e.tableVouchers.length>0)}}function ri(e,t){1&e&&(n.TgZ(0,"div"),n._UZ(1,"hr"),n.qZA())}function oi(e,t){if(1&e&&(n.TgZ(0,"div",309),n.TgZ(1,"h5",310),n._uU(2),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.hij(" ",e.LedDet.LN," ")}}function si(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"a",265),n.NdJ("click",function(){const t=n.CHM(e).index;return n.oxw(2).showItemVouchers(t)}),n.TgZ(2,"div",282),n.TgZ(3,"div",7),n.YNc(4,oi,3,1,"div",306),n.TgZ(5,"div",307),n._uU(6),n.qZA(),n.TgZ(7,"div",308),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(2);n.xp6(4),n.Q6J("ngIf","undefined"!=e.LedDet&&null!=e.LedDet&&i.IsItemVoucher&&("Cr"==e.CRDR||""==e.CRDR||null==e.CRDR||null==e.CRDR)),n.xp6(2),n.hij(" Rate:",e.rate," "),n.xp6(2),n.hij(" ",e.DrAmt," ")}}function li(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"div",7),n.TgZ(2,"div",269),n.TgZ(3,"div",270),n.TgZ(4,"div",271),n.TgZ(5,"div",272),n.TgZ(6,"h4",273),n.TgZ(7,"a",304),n._uU(8," Add Account Details "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",305),n.TgZ(10,"div",276),n.YNc(11,si,9,3,"div",277),n.TgZ(12,"div"),n.TgZ(13,"input",279),n.NdJ("click",function(){return n.CHM(e),n.oxw().adddNewItemVoucherAccount()}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(11),n.Q6J("ngForOf",e.tableVoucherForInvnetory)}}function ai(e,t){1&e&&(n.TgZ(0,"div"),n._UZ(1,"hr"),n.qZA())}function ci(e,t){1&e&&(n.TgZ(0,"th",322),n._uU(1,"Cr/Dr"),n.qZA())}function di(e,t){1&e&&(n.TgZ(0,"th",323),n._uU(1," Select Account"),n.qZA())}function ui(e,t){1&e&&(n.TgZ(0,"th",318),n._uU(1," Select Item"),n.qZA())}function hi(e,t){1&e&&(n.TgZ(0,"th",320),n._uU(1," Actual QTY"),n.qZA())}function gi(e,t){1&e&&(n.TgZ(0,"th",320),n._uU(1," Rate"),n.qZA())}function pi(e,t){1&e&&(n.TgZ(0,"th",320),n._uU(1," Disc"),n.qZA())}function fi(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"Amount"),n.qZA())}function mi(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"Debit"),n.qZA())}function Ti(e,t){1&e&&(n.TgZ(0,"th",318),n._uU(1," Credit"),n.qZA())}function vi(e,t){1&e&&(n.TgZ(0,"th",318),n._uU(1,"Tax"),n.qZA())}function Ii(e,t){1&e&&(n.TgZ(0,"th",320),n._uU(1," Reference"),n.qZA())}function Zi(e,t){1&e&&(n.TgZ(0,"th"),n._uU(1," Godown "),n.qZA())}function Ai(e,t){1&e&&n._UZ(0,"th",322)}function xi(e,t){if(1&e&&n._UZ(0,"th",326),2&e){const e=n.oxw(3);n.Q6J("ngClass",!e.IsCRDR||"Contra"!=e.accountService.singleresult.VT&&"Debit Note"!=e.accountService.singleresult.VT&&"Credit Note"!=e.accountService.singleresult.VT&&"Purchase"!=e.accountService.singleresult.VT&&"Sales"!=e.accountService.singleresult.VT?!e.IsCRDR||"Receipt"!=e.accountService.singleresult.VT&&"Journal"!=e.accountService.singleresult.VT&&"Payment"!=e.accountService.singleresult.VT?"Contra"!=e.accountService.singleresult.VT&&"Purchase"!=e.accountService.singleresult.VT&&"Sales"!=e.accountService.singleresult.VT&&"Debit Note"!=e.accountService.singleresult.VT&&"Credit Note"!=e.accountService.singleresult.VT&&"Delivery Note"!=e.accountService.singleresult.VT&&"Receipt Note"!=e.accountService.singleresult.VT&&"SalesOrder"!=e.accountService.singleresult.VT&&"PurchaseOrder"!=e.accountService.singleresult.VT?"col-5":"col-7":"col-4":"col-6")}}function Si(e,t){1&e&&n._UZ(0,"th",318)}function Di(e,t){1&e&&n._UZ(0,"th",320)}function Ci(e,t){1&e&&n._UZ(0,"th",320)}function bi(e,t){1&e&&n._UZ(0,"th",320)}function yi(e,t){1&e&&n._UZ(0,"span")}function Ni(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw(3);n.xp6(1),n.Oqu(e.GrandTotal)}}function Mi(e,t){if(1&e&&(n.TgZ(0,"th",320),n._uU(1),n.qZA()),2&e){const e=n.oxw(3);n.xp6(1),n.hij(" ",e.GrandCRTotal,"")}}function wi(e,t){1&e&&n._UZ(0,"th",318)}function qi(e,t){1&e&&n._UZ(0,"th",320)}function Li(e,t){1&e&&n._UZ(0,"th",320)}function Vi(e,t){if(1&e&&(n.TgZ(0,"tfoot"),n.TgZ(1,"tr"),n.YNc(2,Ai,1,0,"th",314),n.YNc(3,xi,1,1,"th",324),n.YNc(4,Si,1,0,"th",316),n.YNc(5,Di,1,0,"th",317),n.YNc(6,Ci,1,0,"th",317),n.YNc(7,bi,1,0,"th",317),n.TgZ(8,"th",320),n.YNc(9,yi,1,0,"span",32),n.YNc(10,Ni,2,1,"span",32),n.qZA(),n.YNc(11,Mi,2,1,"th",317),n.YNc(12,wi,1,0,"th",319),n.YNc(13,qi,1,0,"th",317),n.YNc(14,Li,1,0,"th",317),n._UZ(15,"th",325),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf",e.IsCRDR&&!e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(2),n.Q6J("ngIf",!e.IsCRDR||e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsCRDR&&!e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsCRDR&&!e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!e.IsCRDR),n.xp6(1),n.Q6J("ngIf","Contra"!=e.accountService.singleresult.VT&&!e.IsItemVoucher&&"Purchase"!=e.accountService.singleresult.VT&&"Sales"!=e.accountService.singleresult.VT&&"Debit Note"!=e.accountService.singleresult.VT&&"Credit Note"!=e.accountService.singleresult.VT&&"Delivery Note"!=e.accountService.singleresult.VT&&"Receipt Note"!=e.accountService.singleresult.VT&&"SalesOrder"!=e.accountService.singleresult.VT&&"PurchaseOrder"!=e.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher)}}function _i(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",337),n.TgZ(1,"ng-select",338),n.NdJ("change",function(t){n.CHM(e);const i=n.oxw().index;return n.oxw(2).changecrdrEvent(t,i)})("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.CRDR=t}),n.TgZ(2,"ng-option",339),n._uU(3,"Cr"),n.qZA(),n.TgZ(4,"ng-option",340),n._uU(5,"Dr"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.xp6(1),n.MGl("name","CrDr_",t.Index,""),n.MGl("id","CrDr_",t.Index,""),n.Q6J("tabIndex",t.TabIndex)("disabled",0==i)("ngModel",t.CRDR)}}function Ui(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function Ri(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item;n.oxw(2);const i=n.MAs(3),r=n.oxw().$implicit;return n.oxw(2).openLedgerPopupforedit(i,t.UIDN,r.Index,1)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(5);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ji(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(3),i=n.oxw().$implicit;return n.oxw(2).openLedgerPopup(t,i.Index,1)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA(),n.YNc(3,Ui,1,1,"ng-template",137),n.YNc(4,Ri,4,3,"ng-template",138)}}function ki(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",265),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2).index;return n.oxw(2).openReferencepopup(t,0)}),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._uU(3),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.Ref_Type," "),n.xp6(1),n.hij("-",e.Ref_Tag,"-- "),n.xp6(2),n.AsE(" ",e.Balance," ",e.AmtType," ")}}function Pi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",341),n.TgZ(1,"div"),n.TgZ(2,"ng-select",342,343),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.LedDet=t})("focus",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw(2).FocusReferenceOperationType(t.LedDet)})("ngModelChange",function(){n.CHM(e);const t=n.oxw(),i=t.$implicit,r=t.index,o=n.oxw(2);return o.updateReferenceOperationType(i.Index),o.calculateBank(),o.finalcalculation(),o.JournalStatAdjustmentPopup(r)})("keyup",function(t){n.CHM(e);const i=n.MAs(3),r=n.oxw().$implicit;return n.oxw(2).LedgerKeyEvent(t,i,r.Index,1,null!=r.LedDet?r.LedDet.UIDN:0)}),n.YNc(4,Ji,5,0,"ng-template",136),n.qZA(),n.qZA(),n.TgZ(5,"div",344),n.YNc(6,ki,6,4,"a",264),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit,t=n.oxw(2);n.xp6(2),n.MGl("name","Ledger_",e.Index,""),n.Q6J("tabIndex",e.TabIndex)("virtualScroll",!0)("items",t.ToLedger)("ngModel",e.LedDet)("loading",t.companyLedgerService.loading),n.xp6(4),n.Q6J("ngForOf",t.getreference(e.LedDet))}}function Oi(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function Qi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item;n.oxw(2);const i=n.MAs(3),r=n.oxw().$implicit;return n.oxw(2).openLedgerPopupforedit(i,t.UIDN,r.Index,3)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(5);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Fi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(3),i=n.oxw().$implicit;return n.oxw(2).openLedgerPopup(t,i.Index,3)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA(),n.YNc(3,Oi,1,1,"ng-template",137),n.YNc(4,Qi,4,3,"ng-template",138)}}function Ei(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",265),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2).index;return n.oxw(2).openReferencepopup(t,0)}),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._uU(3),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.Ref_Type," "),n.xp6(1),n.hij("-",e.Ref_Tag,"-- "),n.xp6(2),n.AsE(" ",e.Balance," ",e.AmtType," ")}}function Yi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",341),n.TgZ(1,"div"),n.TgZ(2,"ng-select",345,343),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.LedDet=t})("ngModelChange",function(){n.CHM(e);const t=n.oxw(3);return t.calculateBank(),t.finalcalculation()})("keyup",function(t){n.CHM(e);const i=n.MAs(3),r=n.oxw().$implicit;return n.oxw(2).LedgerKeyEvent(t,i,r.Index,3,null!=r.LedDet?r.LedDet.UIDN:0)}),n.YNc(4,Fi,5,0,"ng-template",136),n.qZA(),n.qZA(),n.TgZ(5,"div",344),n.YNc(6,Ei,6,4,"a",264),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit,t=n.oxw(2);n.xp6(2),n.MGl("name","Ledger_",e.Index,""),n.Q6J("tabIndex",e.TabIndex)("virtualScroll",!0)("items",t.FromLedger)("items",t.FromLedger)("ngModel",e.LedDet)("loading",t.companyLedgerService.loading),n.xp6(4),n.Q6J("ngForOf",t.getreference(e.LedDet))}}function Gi(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.InvN," ")}function Hi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",349),n.NdJ("click",function(){const t=n.CHM(e).item;return n.oxw(5).openInventoryPopupforedit(t.UIDN)}),n._UZ(1,"i",205),n.qZA(),n.TgZ(2,"a"),n._uU(3),n.qZA()}if(2&e){const e=t.item,i=n.oxw(5);n.Q6J("SignupId",i.SignupId)("UserId",i.UserId),n.xp6(3),n.Oqu(e.InvN)}}function Bi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(3),i=n.oxw().$implicit;return n.oxw(2).openInventoryPopup(t,i.Index)}),n._uU(2," Add New Inventory "),n.qZA(),n.qZA(),n.YNc(3,Gi,1,1,"ng-template",137),n.YNc(4,Hi,4,3,"ng-template",138)}}function $i(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",265),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2).index;return n.oxw(2).opengodownepopup(t)}),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._uU(3,"-- "),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.BTNa," "),n.xp6(3),n.AsE(" ",e.Qty," -- ",e.Amt," ")}}function ji(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",341),n.TgZ(1,"div"),n.TgZ(2,"ng-select",346,347),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.InventoryDetails=t})("ngModelChange",function(t){n.CHM(e);const i=n.oxw().index,r=n.oxw(2);return r.calculateBank(),r.getinventorytaxledger(t,i)})("keydown.Tab",function(){return n.CHM(e),n.oxw(3).RecptDetailsModel(2)})("change",function(){return n.CHM(e),n.oxw(3).RecptDetailsModel(2)})("keyup",function(t){n.CHM(e);const i=n.MAs(3),r=n.oxw().$implicit;return n.oxw(2).InventoryKeyEvent(t,i,r.Index,null!=r.InventoryDetails?r.InventoryDetails.UIDN:0)}),n.YNc(4,Bi,5,0,"ng-template",136),n.qZA(),n.qZA(),n.TgZ(5,"div",348),n.YNc(6,$i,6,3,"a",264),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index,r=n.oxw(2);n.xp6(2),n.MGl("id","toInv__",t.Index,""),n.MGl("name","toInv__",t.Index,""),n.Q6J("tabIndex",t.TabIndex)("virtualScroll",!0)("items",r.ToInventory)("ngModel",t.InventoryDetails)("loading",r.inventoryService.loading),n.xp6(4),n.Q6J("ngForOf",r.getgodownDetails(t.InventoryDetails,i))}}function Ki(e,t){if(1&e&&(n.TgZ(0,"div",354),n.TgZ(1,"div",355),n._uU(2),n.qZA(),n.qZA()),2&e){const e=n.oxw(2).$implicit;n.xp6(2),n.Oqu(e.UN)}}function zi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",330),n.TgZ(1,"div",350),n.TgZ(2,"input",351,352),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.actqty=t})("change",function(){n.CHM(e);const t=n.oxw().index,i=n.oxw(2);return i.BindInventoryIndex(t),i.calculateAmount(),i.finalcalculation(),i.finaltaxcalculate()}),n.qZA(),n.YNc(4,Ki,3,1,"div",353),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit;n.xp6(2),n.s9C("tabindex",e.TabIndex),n.MGl("name","actqty__",e.Index,""),n.MGl("id","actqty__",e.Index,""),n.Q6J("disabled",null!=e.godownsdetails&&null!=e.godownsdetails&&e.godownsdetails.length>0)("ngModel",e.actqty),n.xp6(2),n.Q6J("ngIf",""!=e.UN&&null!=e.UN)}}function Wi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",330),n.TgZ(1,"input",356,357),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.rate=t})("change",function(){n.CHM(e);const t=n.oxw().index,i=n.oxw(2);return i.BindInventoryIndex(t),i.calculateAmount(),i.finalcalculation(),i.finaltaxcalculate()}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.xp6(1),n.s9C("tabindex",t.TabIndex),n.MGl("name","Vrate__",t.Index,""),n.MGl("id","Vrate__",i,""),n.Q6J("disabled",null!=t.godownsdetails&&null!=t.godownsdetails&&t.godownsdetails.length>0)("ngModel",t.rate)}}function Xi(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",330),n.TgZ(1,"input",358,359),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Disc=t})("change",function(){n.CHM(e);const t=n.oxw().index,i=n.oxw(2);return i.BindInventoryIndex(t),i.calculateAmount(),i.finalcalculation(),i.finaltaxcalculate()}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit;n.xp6(1),n.s9C("tabindex",e.TabIndex),n.MGl("name","Disc__",e.Index,""),n.MGl("id","Disc__",e.Index,""),n.Q6J("ngModel",e.Disc)}}function en(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",330),n.TgZ(1,"input",360,361),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.CrAmt=t})("keydown.Tab",function(){n.CHM(e);const t=n.oxw().index;return n.oxw(2).NatureOfTransactionsModel(t)})("change",function(){return n.CHM(e),n.oxw(3).finalcalculation()}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit;n.xp6(1),n.s9C("tabindex",e.TabIndex),n.MGl("name","CrAmt__",e.Index,""),n.MGl("id","CrAmt__",e.Index,""),n.Q6J("disabled","Dr"==e.CRDR)("ngModel",e.CrAmt)}}function tn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(2),i=n.oxw().$implicit;return n.oxw(2).openLedgerPopup(t,i.Index,2)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function nn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item;n.oxw();const i=n.MAs(2),r=n.oxw().$implicit;return n.oxw(2).openLedgerPopupforedit(i,t.UIDN,r.Index,2)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(4);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function rn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",330),n.TgZ(1,"ng-select",362,363),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.TaxLedger=t})("change",function(){n.CHM(e);const t=n.oxw().$implicit,i=n.oxw(2);return i.setInventoryIndex(t),i.finalcalculation(),i.finaltaxcalculate()})("keyup",function(t){n.CHM(e);const i=n.MAs(2),r=n.oxw().$implicit;return n.oxw(2).LedgerKeyEvent(t,i,r.Index,2,null!=r.TaxLedger?r.TaxLedger.UIDN:0)}),n.YNc(3,tn,3,0,"ng-template",136),n.YNc(4,nn,4,3,"ng-template",138),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit,t=n.oxw(2);n.xp6(1),n.MGl("name","TaxLedger_",e.Index,""),n.Q6J("tabIndex",e.TabIndex)("multiple",!0)("items",t.TaxLedger)("ngModel",e.TaxLedger)("loading",t.companyLedgerService.loading)}}function on(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",364),n.TgZ(1,"a",365),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().index;return n.oxw(2).openReferencepopup(t,0)}),n._uU(2," Reference "),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit;n.xp6(1),n.s9C("tabindex",e.TabIndex)}}function sn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",364),n.TgZ(1,"a",365),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().index;return n.oxw(2).opengodownepopup(t)}),n._uU(2," Godown "),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit;n.xp6(1),n.s9C("tabindex",e.TabIndex)}}function ln(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.YNc(1,_i,6,5,"td",327),n.YNc(2,Pi,7,7,"td",328),n.YNc(3,Yi,7,8,"td",328),n.YNc(4,ji,7,8,"td",328),n.YNc(5,zi,5,6,"td",329),n.YNc(6,Wi,3,5,"td",329),n.YNc(7,Xi,3,4,"td",329),n.TgZ(8,"td",330),n.TgZ(9,"input",331,332),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.DrAmt=t})("change",function(){return n.CHM(e),n.oxw(2).finalcalculation()})("keydown.Tab",function(){const t=n.CHM(e).index;return n.oxw(2).NatureOfTransactionsModel(t)}),n.qZA(),n.qZA(),n.YNc(11,en,3,5,"td",329),n.YNc(12,rn,5,6,"td",329),n.YNc(13,on,3,1,"td",333),n.YNc(14,sn,3,1,"td",333),n.TgZ(15,"td",334),n.TgZ(16,"a",335),n.NdJ("click",function(){const t=n.CHM(e),i=t.$implicit,r=t.index,o=n.oxw(2);return o.updateReferenceOperationType(i.Index),o.deleteLedger(r)}),n._UZ(17,"i",336),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf",i.IsCRDR&&!i.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!i.IsItemVoucher&&("Cr"==e.CRDR||""==e.CRDR||null==e.CRDR||null==e.CRDR)),n.xp6(1),n.Q6J("ngIf",!i.IsItemVoucher&&i.IsCRDR&&"Dr"==e.CRDR),n.xp6(1),n.Q6J("ngIf",i.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",i.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",i.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",i.IsItemVoucher),n.xp6(2),n.s9C("tabindex",e.TabIndex),n.MGl("name","amt__",e.Index,""),n.MGl("id","amt__",e.Index,""),n.Q6J("disabled",null!=e.godownsdetails&&null!=e.godownsdetails&&e.godownsdetails.length>0||"Cr"==e.CRDR)("ngModel",e.DrAmt),n.xp6(2),n.Q6J("ngIf",i.IsCRDR&&!i.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!i.IsCRDR||i.IsItemVoucher),n.xp6(1),n.Q6J("ngIf","Contra"!=i.accountService.singleresult.VT&&!i.IsItemVoucher&&"Purchase"!=i.accountService.singleresult.VT&&"Sales"!=i.accountService.singleresult.VT&&"Debit Note"!=i.accountService.singleresult.VT&&"Credit Note"!=i.accountService.singleresult.VT&&"Delivery Note"!=i.accountService.singleresult.VT&&"Receipt Note"!=i.accountService.singleresult.VT&&"SalesOrder"!=i.accountService.singleresult.VT&&"PurchaseOrder"!=i.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",i.IsItemVoucher),n.xp6(2),n.s9C("tabindex",e.TabIndex)}}function an(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",311),n.TgZ(1,"div",312),n.TgZ(2,"table",313),n.TgZ(3,"thead"),n.TgZ(4,"tr"),n.YNc(5,ci,2,0,"th",314),n.YNc(6,di,2,0,"th",315),n.YNc(7,ui,2,0,"th",316),n.YNc(8,hi,2,0,"th",317),n.YNc(9,gi,2,0,"th",317),n.YNc(10,pi,2,0,"th",317),n.TgZ(11,"th",318),n.YNc(12,fi,2,0,"span",32),n.YNc(13,mi,2,0,"span",32),n.qZA(),n.YNc(14,Ti,2,0,"th",316),n.YNc(15,vi,2,0,"th",319),n.YNc(16,Ii,2,0,"th",317),n.YNc(17,Zi,2,0,"th",32),n.TgZ(18,"th",320),n._uU(19,"Actions"),n.qZA(),n.qZA(),n.qZA(),n.YNc(20,Vi,16,12,"tfoot",32),n.TgZ(21,"tbody",null,321),n.YNc(23,ln,18,17,"tr",277),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"div"),n.TgZ(25,"input",279),n.NdJ("click",function(){return n.CHM(e),n.oxw().adddNewTransaction()}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(5),n.Q6J("ngIf",e.IsCRDR&&!e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(2),n.Q6J("ngIf",!e.IsCRDR||e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsCRDR&&!e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",e.IsCRDR&&!e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!e.IsCRDR||e.IsItemVoucher),n.xp6(1),n.Q6J("ngIf","Contra"!=e.accountService.singleresult.VT&&!e.IsItemVoucher&&"Purchase"!=e.accountService.singleresult.VT&&"Sales"!=e.accountService.singleresult.VT&&"Debit Note"!=e.accountService.singleresult.VT&&"Credit Note"!=e.accountService.singleresult.VT&&"Delivery Note"!=e.accountService.singleresult.VT&&"Receipt Note"!=e.accountService.singleresult.VT&&"SalesOrder"!=e.accountService.singleresult.VT&&"PurchaseOrder"!=e.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(3),n.Q6J("ngIf",e.IsCRDR||e.IsItemVoucher),n.xp6(3),n.Q6J("ngForOf",e.tableVouchers)}}function cn(e,t){1&e&&(n.TgZ(0,"th",318),n._uU(1," Tax "),n.qZA())}function dn(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function un(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item,i=n.oxw(2).$implicit,r=n.MAs(3);return n.oxw(2).openLedgerPopupforedit(r,t.UIDN,i.Index,4)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(4);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function hn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().$implicit,i=n.MAs(3);return n.oxw(2).openLedgerPopup(i,t.Index,4)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA(),n.YNc(3,dn,1,1,"ng-template",137),n.YNc(4,un,4,3,"ng-template",138)}}function gn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(2),i=n.oxw().$implicit;return n.oxw(2).openLedgerPopup(t,i.Index,2)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function pn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item;n.oxw();const i=n.MAs(2),r=n.oxw().$implicit;return n.oxw(2).openLedgerPopupforedit(i,t.UIDN,r.Index,2)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(4);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function fn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td",330),n.TgZ(1,"ng-select",362,373),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.TaxLedger=t})("change",function(){return n.CHM(e),n.oxw(3).finalcalculation()})("keyup",function(t){n.CHM(e);const i=n.MAs(2),r=n.oxw().$implicit;return n.oxw(2).LedgerKeyEvent(t,i,r.Index,2,null!=r.TaxLedger?r.TaxLedger.UIDN:0)}),n.YNc(3,gn,3,0,"ng-template",136),n.YNc(4,pn,4,3,"ng-template",138),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit,t=n.oxw(2);n.xp6(1),n.MGl("name","InTaxLedger_",e.Index,""),n.Q6J("tabIndex",e.TabIndex)("multiple",!0)("items",t.TaxLedger)("ngModel",e.TaxLedger)("loading",t.companyLedgerService.loading)}}function mn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",323),n.TgZ(2,"ng-select",368,343),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.LedDet=t})("ngModelChange",function(){n.CHM(e);const t=n.oxw(2);return t.calculateBank(),t.finalcalculation()})("keyup",function(t){const i=n.CHM(e).$implicit,r=n.MAs(3);return n.oxw(2).LedgerKeyEvent(t,r,i.Index,4,null!=i.LedDet?i.LedDet.UIDN:0)}),n.YNc(4,hn,5,0,"ng-template",136),n.qZA(),n.qZA(),n.TgZ(5,"td",323),n.TgZ(6,"input",369,370),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.rate=t})("change",function(){return n.CHM(e),n.oxw(2).finalcalculation()}),n.qZA(),n.qZA(),n.TgZ(8,"td",323),n.TgZ(9,"input",371,332),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.DrAmt=t})("change",function(){return n.CHM(e),n.oxw(2).finalcalculation()}),n.qZA(),n.qZA(),n.YNc(11,fn,5,6,"td",329),n.TgZ(12,"td",372),n.TgZ(13,"a",335),n.NdJ("click",function(){const t=n.CHM(e).index;return n.oxw(2).deleteInventoryLedger(t)}),n._UZ(14,"i",336),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index,r=n.oxw(2);n.xp6(2),n.MGl("name","Ledger_",e.Index,""),n.Q6J("tabIndex",e.InventoryTabIndex)("virtualScroll",!0)("items",r.InventoryLedger)("ngModel",e.LedDet)("loading",r.companyLedgerService.loading),n.xp6(4),n.s9C("tabindex",e.InventoryTabIndex),n.MGl("name","rate__",e.Index,""),n.MGl("id","rate__",i,""),n.Q6J("ngModel",e.rate),n.xp6(3),n.s9C("tabindex",e.InventoryTabIndex),n.MGl("name","dramt__",e.Index,""),n.MGl("id","dramt__",e.Index,""),n.Q6J("ngModel",e.DrAmt),n.xp6(2),n.Q6J("ngIf",!r.IsCRDR||r.IsItemVoucher),n.xp6(2),n.s9C("tabindex",e.InventoryTabIndex)}}function Tn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",311),n.TgZ(1,"div",312),n.TgZ(2,"table",313),n.TgZ(3,"thead"),n.TgZ(4,"tr"),n.TgZ(5,"th",318),n._uU(6,"Select Account"),n.qZA(),n.TgZ(7,"th",320),n._uU(8,"Rate"),n.qZA(),n.TgZ(9,"th",318),n._uU(10," Amount "),n.qZA(),n.YNc(11,cn,2,0,"th",319),n.TgZ(12,"th",320),n._uU(13,"Action"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"tbody",null,366),n.YNc(16,mn,15,16,"tr",277),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"div"),n.TgZ(18,"input",367),n.NdJ("click",function(){return n.CHM(e),n.oxw().adddNewLedgerTransaction()}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(11),n.Q6J("ngIf",!e.IsCRDR||e.IsItemVoucher),n.xp6(5),n.Q6J("ngForOf",e.tableVoucherForInvnetory)}}function vn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",374),n.TgZ(1,"label",375),n._uU(2,"Image"),n.qZA(),n.TgZ(3,"div",376),n.TgZ(4,"app-file-upload",377,378),n.NdJ("uploadStatus",function(t){return n.CHM(e),n.oxw().onImageAdd(t)}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("filelist",e.accountService.singleresult.UploadImages)}}function In(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(3);return n.oxw(2).openLedgerPopup(t,-5,2)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function Zn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr",384),n.TgZ(1,"td",385),n.TgZ(2,"ng-select",386,387),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).TaxLedgercommon=t})("change",function(){return n.CHM(e),n.oxw(2).finalcalculation()}),n.YNc(4,In,3,0,"ng-template",136),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("tabIndex",1003)("multiple",!0)("items",e.TaxLedger)("ngModel",e.TaxLedgercommon)("loading",e.companyLedgerService.loading)}}function An(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",390),n.TgZ(1,"ng-select",391,392),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).SelectedTCSledger=t})("change",function(){return n.CHM(e),n.oxw(3).finalcalculation()}),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(2),t=n.oxw(3),i=n.MAs(6);n.xp6(1),n.Q6J("tabIndex",1005)("virtualScroll",!0)("ngModel",t.SelectedTCSledger)("items",t.TCSLedger)("ngClass",n.VKq(6,Fe,i.submitted&&e.invalid))("loading",t.companyLedgerService.loading)}}function xn(e,t){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td",388),n.YNc(2,An,3,8,"div",389),n.qZA(),n.TgZ(3,"td",383),n._uU(4),n.ALo(5,"indianCurrency"),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!e.IsCRDR||e.IsItemVoucher),n.xp6(2),n.Oqu(n.lcZ(5,2,e.TCSTotal))}}function Sn(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Please select Ledger"),n.qZA())}function Dn(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Sn,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(2);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Cn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",390),n.TgZ(1,"ng-select",393,394),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(3).roundoffledger=t})("change",function(){return n.CHM(e),n.oxw(3).finalcalculation()}),n.qZA(),n.YNc(3,Dn,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(2),t=n.oxw(3),i=n.MAs(6);n.xp6(1),n.Q6J("tabIndex",1004)("virtualScroll",!0)("ngModel",t.roundoffledger)("items",t.RoundLedger)("ngClass",n.VKq(7,Fe,i.submitted&&e.invalid))("loading",t.companyLedgerService.loading),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function bn(e,t){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td",388),n.YNc(2,Cn,4,9,"div",389),n.qZA(),n.TgZ(3,"td",383),n._uU(4),n.ALo(5,"indianCurrency"),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!e.IsCRDR||e.IsItemVoucher),n.xp6(2),n.Oqu(n.lcZ(5,2,e.RoundOFFTotal))}}function yn(e,t){if(1&e&&(n.TgZ(0,"div",379),n.TgZ(1,"div",380),n.TgZ(2,"table",381),n.TgZ(3,"tbody"),n.YNc(4,Zn,5,5,"tr",382),n.TgZ(5,"tr"),n.TgZ(6,"td",383),n.TgZ(7,"strong"),n._uU(8,"Total"),n.qZA(),n.qZA(),n.TgZ(9,"td",383),n._uU(10),n.ALo(11,"indianCurrency"),n.qZA(),n.qZA(),n.TgZ(12,"tr"),n.TgZ(13,"td",383),n.TgZ(14,"strong"),n._uU(15,"Tax"),n.qZA(),n.qZA(),n.TgZ(16,"td",383),n._uU(17),n.ALo(18,"indianCurrency"),n.qZA(),n.qZA(),n.YNc(19,xn,6,4,"tr",32),n.YNc(20,bn,6,4,"tr",32),n.TgZ(21,"tr"),n.TgZ(22,"td",383),n.TgZ(23,"strong"),n._uU(24,"Grand Total"),n.qZA(),n.qZA(),n.TgZ(25,"td",383),n._uU(26),n.ALo(27,"indianCurrency"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(4),n.Q6J("ngIf",e.IsItemVoucher),n.xp6(6),n.Oqu(n.lcZ(11,6,e.Total)),n.xp6(7),n.Oqu(n.lcZ(18,8,e.TotalTax)),n.xp6(2),n.Q6J("ngIf",e.accountService.getCompanyData.IsTCSEn&&e.IsItemVoucher&&e.isTCSApplExists),n.xp6(1),n.Q6J("ngIf",e.accountService.getCompanyData.ISDA&&e.IsItemVoucher&&e.IsRoundOff),n.xp6(6),n.Oqu(n.lcZ(27,10,e.GrandTotal))}}function Nn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",395),n.TgZ(1,"label",375),n._uU(2,"Image"),n.qZA(),n.TgZ(3,"div",376),n.TgZ(4,"app-file-upload",377,378),n.NdJ("uploadStatus",function(t){return n.CHM(e),n.oxw().onImageAdd(t)}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("filelist",e.accountService.singleresult.UploadImages)}}function Mn(e,t){1&e&&(n.TgZ(0,"div"),n._UZ(1,"hr"),n.qZA())}function wn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"input",401,415),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Led_Dr=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.xp6(1),n.s9C("tabindex",t.bankTabIndex),n.MGl("name","BankAmt_",i,""),n.MGl("id","BankAmt_",i,""),n.Q6J("ngModel",t.Led_Dr)}}function qn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"input",401,415),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Led_Cr=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.xp6(1),n.s9C("tabindex",t.bankTabIndex),n.MGl("name","BankAmt_",i,""),n.MGl("id","BankAmt_",i,""),n.Q6J("ngModel",t.Led_Cr)}}function Ln(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"input",401,415),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Led_Dr=t}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit,i=e.index;n.xp6(1),n.s9C("tabindex",t.bankTabIndex),n.MGl("name","BankAmt_",i,""),n.MGl("id","BankAmt_",i,""),n.Q6J("ngModel",t.Led_Dr)}}function Vn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",400),n._uU(2),n.qZA(),n.TgZ(3,"td",400),n._uU(4),n.qZA(),n.TgZ(5,"td"),n.TgZ(6,"input",401,402),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.BankName=t}),n.qZA(),n.qZA(),n.TgZ(8,"td"),n.TgZ(9,"ng-select",403),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.TType=t}),n.TgZ(10,"ng-option",404),n._uU(11,"Cheque/DD"),n.qZA(),n.TgZ(12,"ng-option",405),n._uU(13,"UPI"),n.qZA(),n.TgZ(14,"ng-option",406),n._uU(15,"Electronic Transfer"),n.qZA(),n.TgZ(16,"ng-option",407),n._uU(17,"E-Cheque"),n.qZA(),n.TgZ(18,"ng-option",408),n._uU(19,"Cash"),n.qZA(),n.TgZ(20,"ng-option",409),n._uU(21,"Other"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(22,"td"),n.TgZ(23,"input",401,410),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.ChkNo=t}),n.qZA(),n.qZA(),n.TgZ(25,"td"),n.TgZ(26,"input",411,412),n.NdJ("selectedindex",function(t){return n.CHM(e),n.oxw(2).onbankchkDateSelect(t)}),n.qZA(),n.qZA(),n.YNc(28,wn,3,4,"td",32),n.YNc(29,qn,3,4,"td",32),n.YNc(30,Ln,3,4,"td",32),n.TgZ(31,"td"),n.TgZ(32,"input",413,414),n.NdJ("selectedindex",function(t){return n.CHM(e),n.oxw(2).onbankrecoDateSelect(t)}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index,r=n.oxw(2);n.xp6(2),n.hij(" ",e.BL_Name," "),n.xp6(2),n.hij(" ",e.L_Name," "),n.xp6(2),n.s9C("tabindex",e.bankTabIndex),n.MGl("name","BankName_",i,""),n.MGl("id","BankName_",i,""),n.Q6J("ngModel",e.BankName),n.xp6(3),n.MGl("name","BankType_",i,""),n.Q6J("tabIndex",e.bankTabIndex)("ngModel",e.TType),n.xp6(14),n.s9C("tabindex",e.bankTabIndex),n.MGl("name","ChkNo_",i,""),n.MGl("id","ChkNo_",i,""),n.Q6J("ngModel",e.ChkNo),n.xp6(3),n.s9C("tabindex",e.bankTabIndex),n.MGl("name","ChkDt_",i,""),n.MGl("id","ChkDt_",i,""),n.Q6J("position",r.position)("startDate",e.ChkDt)("index",i),n.xp6(2),n.Q6J("ngIf",e.Led_Dr>0),n.xp6(1),n.Q6J("ngIf",0==e.Led_Dr),n.xp6(1),n.Q6J("ngIf",e.Led_Dr<0),n.xp6(2),n.s9C("tabindex",e.bankTabIndex),n.MGl("name","BRecoDt_",i,""),n.MGl("id","BRecoDt_",i,""),n.Q6J("startDate",e.BRecoDt)("index",i)("position",r.position)}}function _n(e,t){if(1&e&&(n.TgZ(0,"div",7),n.TgZ(1,"div",396),n.TgZ(2,"label",397),n._uU(3,"Bank Details"),n.qZA(),n.TgZ(4,"div",398),n.TgZ(5,"table",399),n.TgZ(6,"thead"),n.TgZ(7,"tr"),n.TgZ(8,"th"),n._uU(9,"Deposit In "),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Deposit From "),n.qZA(),n.TgZ(12,"th"),n._uU(13,"BankName"),n.qZA(),n.TgZ(14,"th"),n._uU(15,"TransactionType"),n.qZA(),n.TgZ(16,"th"),n._uU(17,"Instrument No."),n.qZA(),n.TgZ(18,"th"),n._uU(19,"Instrument Date"),n.qZA(),n.TgZ(20,"th"),n._uU(21,"Amount"),n.qZA(),n.TgZ(22,"th"),n._uU(23,"Rec Date"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"tbody"),n.YNc(25,Vn,34,28,"tr",277),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(25),n.Q6J("ngForOf",e.bankDetails)}}function Un(e,t){1&e&&(n.TgZ(0,"a",423),n._uU(1," Action "),n.qZA())}function Rn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",424),n.NdJ("clickAllowed",function(){return n.CHM(e),n.oxw(2).formvalid(4)}),n._uU(1,"Share Demand"),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Jn(e,t){1&e&&(n.TgZ(0,"button",425,426),n._uU(2," Save "),n.qZA())}function kn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",7),n.TgZ(1,"div",416),n.TgZ(2,"button",417),n.NdJ("click",function(){return n.CHM(e),n.oxw().onCancel()}),n._uU(3,"Cancel"),n.qZA(),n.YNc(4,Un,2,0,"a",418),n.TgZ(5,"div",419),n.TgZ(6,"a",420),n.NdJ("clickAllowed",function(){return n.CHM(e),n.oxw().formvalid(2)}),n._uU(7,"Send Email"),n.qZA(),n.TgZ(8,"a",420),n.NdJ("clickAllowed",function(){return n.CHM(e),n.oxw().formvalid(3)}),n._uU(9,"Send SMS"),n.qZA(),n.YNc(10,Rn,2,2,"a",421),n.TgZ(11,"a",420),n.NdJ("clickAllowed",function(){return n.CHM(e),n.oxw().formvalid(5)}),n._uU(12,"Copy link"),n.qZA(),n.qZA(),n.YNc(13,Jn,3,0,"button",422),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("ngIf",1==e.IsReceiptDemand),n.xp6(2),n.Q6J("SignupId",e.SignupId)("UserId",e.UserId),n.xp6(2),n.Q6J("SignupId",e.SignupId)("UserId",e.UserId),n.xp6(2),n.Q6J("ngIf",e.accountService.IsMobileview),n.xp6(1),n.Q6J("SignupId",e.SignupId)("UserId",e.UserId),n.xp6(2),n.Q6J("ngIf",0==e.IsReceiptDemand)}}function Pn(e,t){1&e&&(n.TgZ(0,"a",433),n._uU(1," Action "),n.qZA())}function On(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",424),n.NdJ("clickAllowed",function(){return n.CHM(e),n.oxw(2).formvalid(4)}),n._uU(1,"Share Demand"),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Qn(e,t){1&e&&(n.TgZ(0,"button",425,426),n._uU(2," Save "),n.qZA())}function Fn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"nav",427),n.TgZ(1,"ul",428),n.TgZ(2,"li",429),n.YNc(3,Pn,2,0,"a",430),n.TgZ(4,"div",419),n.TgZ(5,"a",420),n.NdJ("clickAllowed",function(){return n.CHM(e),n.oxw().formvalid(2)}),n._uU(6,"Send Email"),n.qZA(),n.TgZ(7,"a",420),n.NdJ("clickAllowed",function(){return n.CHM(e),n.oxw().formvalid(3)}),n._uU(8,"Send SMS"),n.qZA(),n.YNc(9,On,2,2,"a",421),n.TgZ(10,"a",420),n.NdJ("clickAllowed",function(){return n.CHM(e),n.oxw().formvalid(5)}),n._uU(11,"Copy link"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"li",431),n.YNc(13,Qn,3,0,"button",422),n.qZA(),n.TgZ(14,"li",63),n.TgZ(15,"button",432),n.NdJ("click",function(){return n.CHM(e),n.oxw().onCancel()}),n._uU(16,"Cancel"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("ngIf",1==e.IsReceiptDemand),n.xp6(2),n.Q6J("SignupId",e.SignupId)("UserId",e.UserId),n.xp6(2),n.Q6J("SignupId",e.SignupId)("UserId",e.UserId),n.xp6(2),n.Q6J("ngIf",e.accountService.IsMobileview),n.xp6(1),n.Q6J("SignupId",e.SignupId)("UserId",e.UserId),n.xp6(3),n.Q6J("ngIf",0==e.IsReceiptDemand)}}function En(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",132),n.TgZ(1,"label",133),n._uU(2,"Select"),n.qZA(),n.TgZ(3,"ng-select",434),n.NdJ("change",function(t){n.CHM(e);const i=n.oxw();return i.changecrdrEvent(t,i.modalLedgerIndex)})("ngModelChange",function(t){return n.CHM(e),n.oxw().modalCrDr=t}),n.TgZ(4,"ng-option",339),n._uU(5,"Cr"),n.qZA(),n.TgZ(6,"ng-option",340),n._uU(7,"Dr"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("disabled",0==e.tableVouchers.length||0==e.modalLedgerIndex)("ngModel",e.modalCrDr)}}function Yn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(4);return n.oxw().openLedgerPopup(t,-6,0)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function Gn(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function Hn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item;n.oxw();const i=n.MAs(4);return n.oxw().openLedgerPopupforedit(i,t.UIDN,-3,0)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(2);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Bn(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Account not selected"),n.qZA())}function $n(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Bn,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(5);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function jn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",132),n.TgZ(1,"label",435),n._uU(2,"Select Account"),n.qZA(),n.TgZ(3,"ng-select",436,437),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().modalLedger=t})("ngModelChange",function(){return n.CHM(e),n.oxw().finalcalculateMobile()}),n.YNc(6,Yn,3,0,"ng-template",136),n.YNc(7,Gn,1,1,"ng-template",137),n.YNc(8,Hn,4,3,"ng-template",138),n.qZA(),n.YNc(9,$n,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw(),i=n.MAs(69);n.xp6(3),n.Q6J("virtualScroll",!0)("items",t.ToLedger)("ngClass",n.VKq(6,Fe,i.submitted&&e.invalid))("ngModel",t.modalLedger)("loading",t.companyLedgerService.loading),n.xp6(6),n.Q6J("ngIf",i.submitted&&e.invalid)}}function Kn(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.InvN," ")}function zn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",349),n.NdJ("click",function(){const t=n.CHM(e).item;return n.oxw(3).openInventoryPopupforedit(t.UIDN)}),n._UZ(1,"i",205),n.qZA(),n.TgZ(2,"a"),n._uU(3),n.qZA()}if(2&e){const e=t.item,i=n.oxw(3);n.Q6J("SignupId",i.SignupId)("UserId",i.UserId),n.xp6(3),n.Oqu(e.InvN)}}function Wn(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(4);return n.oxw().openInventoryPopup(t,0)}),n._uU(2," Add New Inventory "),n.qZA(),n.qZA(),n.YNc(3,Kn,1,1,"ng-template",137),n.YNc(4,zn,4,3,"ng-template",138)}}function Xn(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Inventory not selected"),n.qZA())}function er(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Xn,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(5);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function tr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",132),n.TgZ(1,"label",438),n._uU(2,"Select Inventory"),n.qZA(),n.TgZ(3,"ng-select",439,440),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().modalInventory=t})("ngModelChange",function(t){n.CHM(e);const i=n.oxw();return i.calculateBank(),i.getinventorytaxledger(t,i.LedgerInventoryIndex),i.calculateAmount(),i.finalcalculateMobile()}),n.YNc(6,Wn,5,0,"ng-template",136),n.qZA(),n.YNc(7,er,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw(),i=n.MAs(69);n.xp6(3),n.Q6J("virtualScroll",!0)("items",t.ToInventory)("ngClass",n.VKq(6,Fe,i.submitted&&e.invalid))("ngModel",t.modalInventory)("loading",t.inventoryService.loading),n.xp6(4),n.Q6J("ngIf",i.submitted&&e.invalid)}}function ir(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",267),n.TgZ(1,"span",268),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).opengodownepopup(t.index)}),n._uU(2),n.qZA(),n._uU(3,"-- "),n.TgZ(4,"strong",268),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).opengodownepopup(t.index)}),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.BTNa," "),n.xp6(3),n.AsE(" ",e.Qty," -- ",e.Amt," ")}}function nr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",132),n.TgZ(1,"button",441),n.NdJ("click",function(){return n.CHM(e),n.oxw().opengodownepopup(-1)}),n._uU(2," Select Godown "),n.qZA(),n.YNc(3,ir,6,3,"a",266),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("ngForOf",e.getgodownDetails(e.modalInventory,e.GodownIndex))}}function rr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",132),n.TgZ(1,"label",442),n._uU(2,"Actual Qty"),n.qZA(),n.TgZ(3,"div",350),n.TgZ(4,"input",443,352),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().modalQty=t})("change",function(){n.CHM(e);const t=n.oxw();return t.BindInventoryIndex(t.LedgerInventoryIndex),t.calculateAmount(),t.finalcalculation(),t.finaltaxcalculate(),t.finalcalculateMobile()}),n.qZA(),n.TgZ(6,"div",354),n.TgZ(7,"div",355),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("ngModel",e.modalQty)("disabled",-1!=e.modalLedgerIndex&&null!=e.godownPopupDetails&&null!=e.godownPopupDetails&&e.godownPopupDetails.length>0),n.xp6(4),n.Oqu(e.modalUnit)}}function or(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",444),n.TgZ(1,"label",445),n._uU(2,"Rate"),n.qZA(),n.TgZ(3,"div",350),n.TgZ(4,"input",446,357),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().modalRate=t})("change",function(){n.CHM(e);const t=n.oxw();return t.BindInventoryIndex(t.LedgerInventoryIndex),t.calculateAmount(),t.finalcalculation(),t.finaltaxcalculate(),t.finalcalculateMobile()}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("disabled",-1!=e.modalLedgerIndex&&null!=e.godownPopupDetails&&null!=e.godownPopupDetails&&e.godownPopupDetails.length>0)("ngModel",e.modalRate)}}function sr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",444),n.TgZ(1,"label",447),n._uU(2,"Disc"),n.qZA(),n.TgZ(3,"div",350),n.TgZ(4,"input",448,359),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().modalDis=t})("change",function(){n.CHM(e);const t=n.oxw();return t.BindInventoryIndex(t.LedgerInventoryIndex),t.calculateAmount(),t.finalcalculation(),t.finaltaxcalculate(),t.finalcalculateMobile()}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("ngModel",e.modalDis)}}function lr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(4);return n.oxw().openLedgerPopup(t,-4,2)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function ar(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item;n.oxw();const i=n.MAs(4);return n.oxw().openLedgerPopupforedit(i,t.UIDN,-4,0)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw(2);n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function cr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",132),n.TgZ(1,"label",449),n._uU(2,"Tax"),n.qZA(),n.TgZ(3,"ng-select",450,451),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().modalTaxLed=t})("change",function(){return n.CHM(e),n.oxw().finalcalculateMobile()}),n.YNc(5,lr,3,0,"ng-template",136),n.YNc(6,ar,4,3,"ng-template",138),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("virtualScroll",!0)("multiple",!0)("items",e.TaxLedger)("ngModel",e.modalTaxLed)("loading",e.companyLedgerService.loading)}}function dr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",267),n.TgZ(1,"span",268),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).openReferencepopup(t.Index,0)}),n._uU(2),n.qZA(),n._uU(3),n.TgZ(4,"strong",268),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).openReferencepopup(t.Index,0)}),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.Ref_Type," "),n.xp6(1),n.hij("--",e.Ref_Tag,"-- "),n.xp6(2),n.AsE(" ",e.Balance," - ",e.AmtType," ")}}function ur(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",132),n.TgZ(1,"button",452),n.NdJ("click",function(){n.CHM(e);const t=n.oxw();return t.openReferencepopup(t.modalLedgerIndex,-1)}),n._uU(2," Add References "),n.qZA(),n.YNc(3,dr,6,4,"a",266),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("ngForOf",e.getreference(e.modalLedger))}}function hr(e,t){1&e&&(n.TgZ(0,"label"),n._uU(1,"Amount"),n.qZA())}function gr(e,t){1&e&&(n.TgZ(0,"label"),n._uU(1,"Debit"),n.qZA())}function pr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Amount is required"),n.qZA())}function fr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Enter valid amount"),n.qZA())}function mr(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,pr,2,0,"div",32),n.YNc(2,fr,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(86);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.pattern)}}function Tr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Amount is required"),n.qZA())}function vr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Enter valid amount"),n.qZA())}function Ir(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Tr,2,0,"div",32),n.YNc(2,vr,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(5);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.pattern)}}function Zr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",56),n.TgZ(1,"label"),n._uU(2,"Credit"),n.qZA(),n.TgZ(3,"div",376),n.TgZ(4,"input",453,454),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().modalCrAmt=t}),n.qZA(),n.YNc(6,Ir,3,2,"div",59),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw(),i=n.MAs(69);n.xp6(4),n.Q6J("ngClass",n.VKq(4,Fe,i.submitted&&e.invalid))("disabled",t.IsCRDR&&"Dr"==t.modalCrDr)("ngModel",t.modalCrAmt),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function Ar(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",455),n._uU(2),n._UZ(3,"br"),n._uU(4),n._UZ(5,"br"),n._uU(6),n._UZ(7,"br"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.hij(" Amount: ",e.MobileTotal," "),n.xp6(2),n.hij(" Tax: ",e.MobileTotalTax," "),n.xp6(2),n.hij(" Total: ",e.MobileGrandTotal," ")}}function xr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",63),n.TgZ(1,"a",456),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(58);return t.deleteLedger(t.modalLedgerIndex),i.hide()}),n._uU(2,"Delete"),n.qZA(),n.qZA()}}function Sr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Ref. type is required"),n.qZA())}function Dr(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Sr,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(6);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Cr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function br(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Cr,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(2);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function yr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"input",484,485),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Ref_Tag=t}),n.qZA(),n.YNc(3,br,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(2),t=n.oxw(),i=t.index,r=t.$implicit;n.oxw(3);const o=n.MAs(2);n.xp6(1),n.MGl("name","refTag__",i,""),n.Q6J("ngClass",n.VKq(5,Fe,o.submitted&&e.invalid))("disabled","AgainstRef"==r.Ref_Type||"OnAccount"==r.Ref_Type)("ngModel",r.Ref_Tag),n.xp6(2),n.Q6J("ngIf",o.submitted&&e.invalid)}}function Nr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"input",486,487),n.NdJ("selected",function(t){return n.CHM(e),n.oxw().$implicit.DueDate=t}),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(2),t=n.oxw(),i=t.index,r=t.$implicit;n.oxw(3);const o=n.MAs(2);n.xp6(1),n.MGl("name","refdate__",i,""),n.MGl("id","refdate__",i,""),n.Q6J("disabled","AgainstRef"==r.Ref_Type||"OnAccount"==r.Ref_Type)("ngClass",n.VKq(5,Fe,o.submitted&&e.invalid))("startDate",r.DueDate)}}function Mr(e,t){if(1&e&&n._uU(0),2&e){const e=t.item;n.HOy(" ",e.Ref_Type,"- ",e.Ref_Tag,"- ",e.Dr>0?e.Dr:e.Cr,"",e.Dr>0?"Dr":"Cr"," ")}}function wr(e,t){if(1&e&&(n._uU(0),n.TgZ(1,"b"),n._uU(2," Available Balance "),n.qZA(),n._uU(3)),2&e){const e=t.item;n.HOy(" ",e.Ref_Type,"- ",e.Ref_Tag,"- ",e.Dr>0?e.Dr:e.Cr,"",e.Dr>0?"Dr":"Cr"," - "),n.xp6(3),n.AsE("-",e.OrgBalance>0?e.OrgBalance:-1*e.OrgBalance,"",e.OrgBalance>0?"Dr":"Cr"," ")}}function qr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"ng-select",490,491),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).$implicit.Agnst_Ref_Id=t})("change",function(t){n.CHM(e);const i=n.oxw(2),r=i.$implicit,o=i.index;return n.oxw(4).onAgainstRefChange(t,r,o)}),n.YNc(2,Mr,1,4,"ng-template",137),n.YNc(3,wr,4,6,"ng-template",138),n.qZA()}if(2&e){const e=n.oxw(2),t=e.index,i=e.$implicit,r=n.oxw(4);n.MGl("name","agReferences",t,""),n.Q6J("items",r.LedagainstRefList)("ngModel",i.Agnst_Ref_Id)}}function Lr(e,t){if(1&e&&(n.TgZ(0,"div",488),n.YNc(1,qr,4,3,"ng-select",489),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf","AgainstRef"==e.Ref_Type)}}function Vr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function _r(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Vr,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(30);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Ur(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",7),n.TgZ(1,"div",468),n.TgZ(2,"label",469),n._uU(3,"Reference Method"),n.qZA(),n.TgZ(4,"div"),n.TgZ(5,"ng-select",470,471),n.NdJ("change",function(){const t=n.CHM(e).$implicit;return n.oxw(4).OnChangeRefMethod(t)})("ngModelChange",function(t){return n.CHM(e).$implicit.Ref_Type=t}),n.TgZ(7,"ng-option",472),n._uU(8,"New Ref"),n.qZA(),n.TgZ(9,"ng-option",473),n._uU(10,"OnAccount"),n.qZA(),n.TgZ(11,"ng-option",474),n._uU(12,"Advance"),n.qZA(),n.TgZ(13,"ng-option",475),n._uU(14,"AgainstRef"),n.qZA(),n.qZA(),n.YNc(15,Dr,2,1,"div",59),n.qZA(),n.qZA(),n.TgZ(16,"div",468),n.TgZ(17,"label",476),n._uU(18,"Ref. Tag"),n.qZA(),n.YNc(19,yr,4,7,"div",32),n.qZA(),n.TgZ(20,"div",468),n.TgZ(21,"label",477),n._uU(22,"Due Date"),n.qZA(),n.YNc(23,Nr,3,7,"div",32),n.YNc(24,Lr,2,1,"div",478),n.qZA(),n.TgZ(25,"div",468),n.TgZ(26,"label",479),n._uU(27,"Amount"),n.qZA(),n.TgZ(28,"div"),n.TgZ(29,"input",480,481),n.NdJ("change",function(){const t=n.CHM(e).$implicit;return n.oxw(4).onReferenceAmountChange(t)})("ngModelChange",function(t){return n.CHM(e).$implicit.Balance=t}),n.qZA(),n.YNc(31,_r,2,1,"div",59),n.qZA(),n.qZA(),n.TgZ(32,"div",468),n.TgZ(33,"label",482),n._uU(34,"Dr/Cr"),n.qZA(),n.TgZ(35,"div"),n.TgZ(36,"ng-select",483),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.AmtType=t}),n.TgZ(37,"ng-option",340),n._uU(38,"DR"),n.qZA(),n.TgZ(39,"ng-option",339),n._uU(40,"CR"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index,r=n.MAs(6),o=n.MAs(30);n.oxw(3);const s=n.MAs(2);n.xp6(5),n.MGl("name","rafdrp",i,""),n.Q6J("disabled","AgainstRef"!=e.Ref_Type&&e.UIDN>0)("ngModel",e.Ref_Type)("ngClass",n.VKq(14,Fe,s.submitted&&r.invalid)),n.xp6(10),n.Q6J("ngIf",s.submitted&&r.invalid),n.xp6(4),n.Q6J("ngIf","AgainstRef"!=e.Ref_Type),n.xp6(4),n.Q6J("ngIf","AgainstRef"!=e.Ref_Type),n.xp6(1),n.Q6J("ngIf","AgainstRef"==e.Ref_Type),n.xp6(5),n.MGl("name","Refamt__",i,""),n.Q6J("ngModel",e.Balance)("ngClass",n.VKq(16,Fe,s.submitted&&o.invalid)),n.xp6(2),n.Q6J("ngIf",s.submitted&&o.invalid),n.xp6(5),n.MGl("name","AmtType__",i,""),n.Q6J("ngModel",e.AmtType)}}function Rr(e,t){if(1&e&&(n.TgZ(0,"div",399,466),n.YNc(2,Ur,41,18,"div",467),n.qZA()),2&e){const e=n.oxw(3);n.xp6(2),n.Q6J("ngForOf",e.getreferenceforpopup())}}function Jr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",63),n.TgZ(1,"a",456),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(3),i=n.MAs(100);return t.RemoveReference(t.modalReferenceIndex),i.hide()}),n._uU(2,"Delete"),n.qZA(),n.qZA()}}function kr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",462),n.YNc(1,Rr,3,1,"div",463),n.TgZ(2,"nav",145),n.TgZ(3,"ul",62),n.TgZ(4,"li",63),n.TgZ(5,"button",464),n._uU(6,"Save"),n.qZA(),n.qZA(),n.YNc(7,Jr,3,0,"li",65),n.TgZ(8,"li",63),n.TgZ(9,"a",465),n.NdJ("click",function(){return n.CHM(e),n.oxw(2),n.MAs(100).hide()}),n._uU(10,"Cancel"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.companyLedgerService.IsMobileview),n.xp6(6),n.Q6J("ngIf",e.modalReferenceIndex>0)}}function Pr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",457),n.TgZ(1,"form",113,458),n.NdJ("ngSubmit",function(){n.CHM(e);const t=n.MAs(2),i=n.oxw();return t.form.valid&&i.Savereference()}),n.TgZ(3,"div",459),n.TgZ(4,"div",91),n.TgZ(5,"h4",48),n._uU(6,"Add/Edit Reference "),n.qZA(),n.TgZ(7,"button",49),n.NdJ("click",function(){return n.CHM(e),n.oxw(),n.MAs(100).hide()}),n.TgZ(8,"span",50),n._uU(9,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",460),n.YNc(11,kr,11,2,"div",461),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(11),n.Q6J("ngIf",e.curReference.length>0)}}function Or(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Ref. type is required"),n.qZA())}function Qr(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Or,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(3);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Fr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function Er(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Fr,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(2);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Yr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"input",484,485),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.Ref_Tag=t}),n.qZA(),n.YNc(3,Er,2,1,"div",59),n.qZA()}if(2&e){const e=n.MAs(2),t=n.oxw(),i=t.index,r=t.$implicit;n.oxw(3);const o=n.MAs(2);n.xp6(1),n.MGl("name","refTag__",i,""),n.Q6J("ngClass",n.VKq(5,Fe,o.submitted&&e.invalid))("disabled","AgainstRef"==r.Ref_Type||"OnAccount"==r.Ref_Type)("ngModel",r.Ref_Tag),n.xp6(2),n.Q6J("ngIf",o.submitted&&e.invalid)}}function Gr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"input",516,487),n.NdJ("selected",function(t){return n.CHM(e),n.oxw().$implicit.DueDate=t}),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(2),t=n.oxw(),i=t.index,r=t.$implicit;n.oxw(3);const o=n.MAs(2);n.xp6(1),n.MGl("name","refdate__",i,""),n.MGl("id","refdate__",i,""),n.Q6J("disabled","AgainstRef"==r.Ref_Type||"OnAccount"==r.Ref_Type)("ngClass",n.VKq(5,Fe,o.submitted&&e.invalid))("startDate",r.DueDate)}}function Hr(e,t){if(1&e&&n._uU(0),2&e){const e=t.item;n.HOy(" ",e.Ref_Type,"- ",e.Ref_Tag,"- ",e.Dr>0?e.Dr:e.Cr,"",e.Dr>0?"Dr":"Cr"," ")}}function Br(e,t){if(1&e&&(n.TgZ(0,"b"),n._uU(1),n.qZA(),n._uU(2," Balance: "),n.TgZ(3,"b"),n._uU(4),n.qZA(),n._uU(5),n.TgZ(6,"b"),n._uU(7),n.qZA(),n._uU(8)),2&e){const e=t.item,i=t.index;n.xp6(1),n.hij("",i+1,":"),n.xp6(3),n.hij("",e.OrgBalance>0?e.OrgBalance:-1*e.OrgBalance,"-"),n.xp6(1),n.lnq(" ",e.OrgBalance>0?"Dr":"Cr"," - ",e.Ref_Type,"- ",e.Ref_Tag," - "),n.xp6(2),n.Oqu(e.Dr>0?e.Dr:e.Cr),n.xp6(1),n.AsE(" ",e.Dr>0?"Dr":"Cr"," - DueDate ",e.DueDate," ")}}function $r(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"ng-select",518,491),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).$implicit.Agnst_Ref_Id=t})("change",function(t){n.CHM(e);const i=n.oxw(2),r=i.$implicit,o=i.index;return n.oxw(4).onAgainstRefChange(t,r,o)}),n.YNc(2,Hr,1,4,"ng-template",137),n.YNc(3,Br,9,8,"ng-template",138),n.qZA()}if(2&e){const e=n.oxw(2),t=e.$implicit;n.MGl("name","agReferences",e.index,""),n.Q6J("items",t.againstRefList)("ngModel",t.Agnst_Ref_Id)}}function jr(e,t){if(1&e&&(n.TgZ(0,"td",488),n.YNc(1,$r,4,3,"ng-select",517),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf","AgainstRef"==e.Ref_Type)}}function Kr(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function zr(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Kr,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(18);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Wr(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr",510),n.TgZ(1,"td"),n.TgZ(2,"ng-select",511,471),n.NdJ("change",function(){const t=n.CHM(e).$implicit;return n.oxw(4).OnChangeRefMethod(t)})("ngModelChange",function(t){return n.CHM(e).$implicit.Ref_Type=t}),n.TgZ(4,"ng-option",472),n._uU(5,"New Ref"),n.qZA(),n.TgZ(6,"ng-option",473),n._uU(7,"OnAccount"),n.qZA(),n.TgZ(8,"ng-option",474),n._uU(9,"Advance"),n.qZA(),n.TgZ(10,"ng-option",475),n._uU(11,"AgainstRef"),n.qZA(),n.qZA(),n.YNc(12,Qr,2,1,"div",59),n.qZA(),n.YNc(13,Yr,4,7,"td",32),n.YNc(14,Gr,3,7,"td",32),n.YNc(15,jr,2,1,"td",478),n.TgZ(16,"td"),n.TgZ(17,"input",512,481),n.NdJ("change",function(){const t=n.CHM(e).$implicit;return n.oxw(4).onReferenceAmountChange(t)})("ngModelChange",function(t){return n.CHM(e).$implicit.Balance=t}),n.qZA(),n.YNc(19,zr,2,1,"div",59),n.qZA(),n.TgZ(20,"td"),n.TgZ(21,"ng-select",513),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.AmtType=t})("change",function(){return n.CHM(e),n.oxw(4).OnReferenceTotalAmount()}),n.TgZ(22,"ng-option",340),n._uU(23,"DR"),n.qZA(),n.TgZ(24,"ng-option",339),n._uU(25,"CR"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(26,"td",514),n.TgZ(27,"a",515),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(4).RemoveReference(t.Index)}),n._UZ(28,"i",336),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index,r=n.MAs(3),o=n.MAs(18);n.oxw(3);const s=n.MAs(2);n.xp6(2),n.MGl("name","rafdrp",i,""),n.Q6J("ngModel",e.Ref_Type)("ngClass",n.VKq(13,Fe,s.submitted&&r.invalid)),n.xp6(10),n.Q6J("ngIf",s.submitted&&r.invalid),n.xp6(1),n.Q6J("ngIf","AgainstRef"!=e.Ref_Type),n.xp6(1),n.Q6J("ngIf","AgainstRef"!=e.Ref_Type),n.xp6(1),n.Q6J("ngIf","AgainstRef"==e.Ref_Type),n.xp6(2),n.MGl("name","Refamt__",i,""),n.Q6J("ngModel",e.Balance)("ngClass",n.VKq(15,Fe,s.submitted&&o.invalid)),n.xp6(2),n.Q6J("ngIf",s.submitted&&o.invalid),n.xp6(2),n.MGl("name","AmtType__",i,""),n.Q6J("ngModel",e.AmtType)}}function Xr(e,t){if(1&e&&(n.TgZ(0,"table",399,466),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th"),n._uU(5,"Ref. Method"),n.qZA(),n.TgZ(6,"th"),n._uU(7,"Ref. Tag"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Due Date"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Amount"),n.qZA(),n.TgZ(12,"th"),n._uU(13,"Dr/Cr"),n.qZA(),n.TgZ(14,"th"),n._uU(15,"Action"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"tbody"),n.YNc(17,Wr,29,17,"tr",509),n.qZA(),n.qZA()),2&e){const e=n.oxw(3);n.xp6(17),n.Q6J("ngForOf",e.getreferenceforpopup())}}function eo(e,t){if(1&e&&(n.TgZ(0,"div",462),n.YNc(1,Xr,18,1,"table",463),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!e.companyLedgerService.IsMobileview)}}function to(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",492),n.TgZ(1,"form",113,493),n.NdJ("ngSubmit",function(){n.CHM(e);const t=n.MAs(2),i=n.oxw();return t.form.valid&&i.Savereference()}),n.TgZ(3,"div",98),n.TgZ(4,"div",91),n.TgZ(5,"h4",48),n._uU(6,"Add/Edit Reference "),n.qZA(),n.TgZ(7,"button",49),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(104);return t.showReferencepopup=!1,i.hide()}),n.TgZ(8,"span",50),n._uU(9,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",7),n.TgZ(11,"div",494),n.TgZ(12,"label"),n._uU(13,"Term Type"),n.TgZ(14,"span",495),n._uU(15,"*"),n.qZA(),n.qZA(),n.TgZ(16,"div",496),n.TgZ(17,"div",497),n.TgZ(18,"input",498),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().TermType=t})("change",function(){n.CHM(e);const t=n.oxw();return t.OnRefMethod(t.TermType)}),n.qZA(),n.TgZ(19,"label",499),n._uU(20,"Agreement OCR"),n.qZA(),n.qZA(),n.TgZ(21,"div",497),n.TgZ(22,"input",500),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().TermType=t})("change",function(){n.CHM(e);const t=n.oxw();return t.OnRefMethod(t.TermType)}),n.qZA(),n.TgZ(23,"label",499),n._uU(24,"Agreement Loan"),n.qZA(),n.qZA(),n.TgZ(25,"div",497),n.TgZ(26,"input",501),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().TermType=t})("change",function(){n.CHM(e);const t=n.oxw();return t.OnRefMethod(t.TermType)}),n.qZA(),n.TgZ(27,"label",502),n._uU(28,"GST"),n.qZA(),n.qZA(),n.TgZ(29,"div",497),n.TgZ(30,"input",503),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().TermType=t})("change",function(){n.CHM(e);const t=n.oxw();return t.OnRefMethod(t.TermType)}),n.qZA(),n.TgZ(31,"label",504),n._uU(32,"OTHER Charges"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(33,"div",505),n._uU(34),n.qZA(),n.qZA(),n.TgZ(35,"div",506),n.YNc(36,eo,2,1,"div",461),n.TgZ(37,"button",507),n.NdJ("click",function(){return n.CHM(e),n.oxw().addNewreference()}),n._uU(38,"Add new row"),n.qZA(),n.TgZ(39,"label",508),n._uU(40),n.qZA(),n.qZA(),n.TgZ(41,"div",121),n.TgZ(42,"button",122),n._uU(43,"Save Changes"),n.qZA(),n.TgZ(44,"button",123),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(104);return t.showReferencepopup=!1,i.hide()}),n._uU(45,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(18),n.Q6J("ngModel",e.TermType),n.xp6(4),n.Q6J("ngModel",e.TermType),n.xp6(4),n.Q6J("ngModel",e.TermType),n.xp6(4),n.Q6J("ngModel",e.TermType),n.xp6(4),n.hij(" Ledger Amount: ",e.EnterAmountVoucher," "),n.xp6(2),n.Q6J("ngIf",e.curReference.length>0),n.xp6(4),n.hij("Total Amount - ",e.TotalReferenceAmount,"")}}function io(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(3);return n.oxw(3).openGodownMasterPopup(t)}),n._uU(2," Add New Godown "),n.qZA(),n.qZA()}}function no(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.GN," ")}function ro(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"godownType is required"),n.qZA())}function oo(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,ro,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function so(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Batch Type is required"),n.qZA())}function lo(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,so,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(10);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function ao(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function co(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,ao,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(14);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function uo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function ho(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Allow numeric only"),n.qZA())}function go(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,uo,2,0,"div",32),n.YNc(2,ho,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(21);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.pattern)}}function po(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function fo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Allow numeric only"),n.qZA())}function mo(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,po,2,0,"div",32),n.YNc(2,fo,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(25);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.pattern)}}function To(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function vo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Allow numeric only"),n.qZA())}function Io(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,To,2,0,"div",32),n.YNc(2,vo,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(29);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.pattern)}}function Zo(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr",510),n.TgZ(1,"td"),n.TgZ(2,"ng-select",523,524),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.GodM=t})("change",function(t){const i=n.CHM(e).$implicit;return n.oxw(3).BindBatchDetails(t,i.IId)}),n.YNc(5,io,3,0,"ng-template",136),n.YNc(6,no,1,1,"ng-template",137),n.qZA(),n.YNc(7,oo,2,1,"div",59),n.qZA(),n.TgZ(8,"td"),n.TgZ(9,"ng-select",525,526),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.BTId=t})("change",function(t){const i=n.CHM(e).index;return n.oxw(3).FillBatchName(t,i)}),n.qZA(),n.YNc(11,lo,2,1,"div",59),n.qZA(),n.TgZ(12,"td"),n.TgZ(13,"input",527,528),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.BTNa=t}),n.qZA(),n.YNc(15,co,2,1,"div",59),n.qZA(),n.TgZ(16,"td"),n.TgZ(17,"input",529,487),n.NdJ("selected",function(t){return n.CHM(e).$implicit.MFGDt=t}),n.qZA(),n.qZA(),n.TgZ(19,"td"),n.TgZ(20,"input",530,531),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Qty=t})("change",function(){const t=n.CHM(e).index;return n.oxw(3).calculateAmountGrid(t)}),n.qZA(),n.YNc(22,go,3,2,"div",59),n.qZA(),n.TgZ(23,"td"),n.TgZ(24,"input",530,532),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Rt=t})("change",function(){const t=n.CHM(e).index;return n.oxw(3).calculateAmountGrid(t)}),n.qZA(),n.YNc(26,mo,3,2,"div",59),n.qZA(),n.TgZ(27,"td"),n.TgZ(28,"input",533,534),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Amt=t}),n.qZA(),n.YNc(30,Io,3,2,"div",59),n.qZA(),n.TgZ(31,"td"),n.TgZ(32,"a",515),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).RemovegodownDetails(t.index)}),n._UZ(33,"i",336),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=n.MAs(4),r=n.MAs(10),o=n.MAs(14),s=n.MAs(21),l=n.MAs(25),a=n.MAs(29);n.oxw(2);const c=n.MAs(2),d=n.oxw();n.xp6(2),n.MGl("name","Godown",e.index,""),n.Q6J("items",d.godownService.result)("ngModel",e.GodM)("loading",d.godownService.loading)("ngClass",n.VKq(35,Fe,c.submitted&&i.invalid)),n.xp6(5),n.Q6J("ngIf",c.submitted&&i.invalid),n.xp6(2),n.MGl("name","Batch_Type",e.index,""),n.Q6J("items",d.BatchMaster)("ngModel",e.BTId)("loading",d.godownService.loading)("ngClass",n.VKq(37,Fe,c.submitted&&r.invalid)),n.xp6(2),n.Q6J("ngIf",c.submitted&&r.invalid),n.xp6(2),n.MGl("name","batchTag__",e.index,""),n.Q6J("disabled",e.BTId>0||""==e.BTId||null==e.BTId||null==e.BTId)("ngClass",n.VKq(39,Fe,c.submitted&&o.invalid))("ngModel",e.BTNa),n.xp6(2),n.Q6J("ngIf",c.submitted&&o.invalid),n.xp6(2),n.MGl("name","manfdate__",e.index,""),n.MGl("id","manfdate__",e.index,""),n.Q6J("startDate",e.MFGDt),n.xp6(3),n.MGl("name","txtQty",e.index,""),n.MGl("id","txtQty",e.index,""),n.Q6J("ngClass",n.VKq(41,Fe,c.submitted&&s.invalid))("ngModel",e.Qty),n.xp6(2),n.Q6J("ngIf",c.submitted&&s.invalid),n.xp6(2),n.MGl("name","txtRt",e.index,""),n.MGl("id","txtRt",e.index,""),n.Q6J("ngClass",n.VKq(43,Fe,c.submitted&&l.invalid))("ngModel",e.Rt),n.xp6(2),n.Q6J("ngIf",c.submitted&&l.invalid),n.xp6(2),n.MGl("name","txtAmt",e.index,""),n.MGl("id","txtAmt",e.index,""),n.Q6J("ngClass",n.VKq(45,Fe,c.submitted&&a.invalid))("ngModel",e.Amt),n.xp6(2),n.Q6J("ngIf",c.submitted&&a.invalid)}}function Ao(e,t){if(1&e&&(n.TgZ(0,"div",462),n.TgZ(1,"table",399),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th"),n._uU(5,"Godown"),n.qZA(),n.TgZ(6,"th"),n._uU(7,"Batch"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Batch Name"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"MFG Date"),n.qZA(),n.TgZ(12,"th"),n._uU(13,"Qty"),n.qZA(),n.TgZ(14,"th"),n._uU(15,"Rate"),n.qZA(),n.TgZ(16,"th"),n._uU(17,"Amount"),n.qZA(),n.TgZ(18,"th"),n._uU(19,"Action"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(20,"tbody"),n.YNc(21,Zo,34,47,"tr",509),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.Udp("max-width",e.maxpopupwidth,"px"),n.xp6(21),n.Q6J("ngForOf",e.getgodowndetailsforpopup())}}function xo(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",519),n.TgZ(1,"form",113,520),n.NdJ("ngSubmit",function(){n.CHM(e);const t=n.MAs(2),i=n.oxw();return t.form.valid&&i.SaveinventoryGodownsDetails(i.InventorycurrentIndex)}),n.TgZ(3,"div",98),n.TgZ(4,"div",91),n.TgZ(5,"h4",48),n._uU(6,"Add/Edit Batch "),n.qZA(),n.TgZ(7,"button",49),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(107);return t.showInventorypopup=!1,i.hide()}),n.TgZ(8,"span",50),n._uU(9,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",521),n.YNc(11,Ao,22,3,"div",522),n.TgZ(12,"button",507),n.NdJ("click",function(){n.CHM(e);const t=n.oxw();return t.addNewgodowndetails(t.InventoryRate)}),n._uU(13,"Add new row"),n.qZA(),n.qZA(),n.TgZ(14,"div",121),n.TgZ(15,"button",122),n._uU(16,"Save Changes"),n.qZA(),n.TgZ(17,"button",123),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(107);return t.showInventorypopup=!1,i.hide()}),n._uU(18,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(11),n.Q6J("ngIf",e.curGodown.length>0)}}function So(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(6);return n.oxw(4).openGodownMasterPopup(t)}),n._uU(2," Add New Godown "),n.qZA(),n.qZA()}}function Do(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.GN," ")}function Co(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"godownType is required"),n.qZA())}function bo(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Co,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(7);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function yo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Batch Type is required"),n.qZA())}function No(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,yo,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(16);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Mo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function wo(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Mo,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(23);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function qo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function Lo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Allow numeric only"),n.qZA())}function Vo(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,qo,2,0,"div",32),n.YNc(2,Lo,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(36);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.pattern)}}function _o(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function Uo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Allow numeric only"),n.qZA())}function Ro(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,_o,2,0,"div",32),n.YNc(2,Uo,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(43);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.pattern)}}function Jo(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"required"),n.qZA())}function ko(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Allow numeric only"),n.qZA())}function Po(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Jo,2,0,"div",32),n.YNc(2,ko,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(50);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("ngIf",e.errors.pattern)}}function Oo(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",278),n.TgZ(1,"div",468),n.TgZ(2,"label",540),n._uU(3,"Godown"),n.qZA(),n.TgZ(4,"div"),n.TgZ(5,"ng-select",541,542),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.GodM=t})("change",function(t){const i=n.CHM(e).$implicit;return n.oxw(4).BindBatchDetails(t,i.IId)}),n.YNc(8,So,3,0,"ng-template",136),n.YNc(9,Do,1,1,"ng-template",137),n.qZA(),n.YNc(10,bo,2,1,"div",59),n.qZA(),n.qZA(),n.TgZ(11,"div",468),n.TgZ(12,"label",543),n._uU(13,"Batch"),n.qZA(),n.TgZ(14,"div"),n.TgZ(15,"ng-select",525,526),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.BTId=t})("change",function(t){const i=n.CHM(e).index;return n.oxw(4).FillBatchName(t,i)}),n.qZA(),n.YNc(17,No,2,1,"div",59),n.qZA(),n.qZA(),n.TgZ(18,"div",468),n.TgZ(19,"label",544),n._uU(20,"Batch Name"),n.qZA(),n.TgZ(21,"div"),n.TgZ(22,"input",545,528),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.BTNa=t}),n.qZA(),n.YNc(24,wo,2,1,"div",59),n.qZA(),n.qZA(),n.TgZ(25,"div",468),n.TgZ(26,"label",546),n._uU(27,"MFG Date"),n.qZA(),n.TgZ(28,"div"),n.TgZ(29,"input",547,487),n.NdJ("selected",function(t){return n.CHM(e).$implicit.MFGDt=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(31,"div",468),n.TgZ(32,"label",548),n._uU(33,"QTY"),n.qZA(),n.TgZ(34,"div"),n.TgZ(35,"input",549,531),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Qty=t})("change",function(){const t=n.CHM(e).index;return n.oxw(4).calculateAmountGrid(t)}),n.qZA(),n.YNc(37,Vo,3,2,"div",59),n.qZA(),n.qZA(),n.TgZ(38,"div",468),n.TgZ(39,"label",550),n._uU(40,"Rate"),n.qZA(),n.TgZ(41,"div"),n.TgZ(42,"input",551,532),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Rt=t})("change",function(){const t=n.CHM(e).index;return n.oxw(4).calculateAmountGrid(t)}),n.qZA(),n.YNc(44,Ro,3,2,"div",59),n.qZA(),n.qZA(),n.TgZ(45,"div",468),n.TgZ(46,"label",552),n._uU(47,"Amount"),n.qZA(),n.TgZ(48,"div"),n.TgZ(49,"input",553,534),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.Amt=t}),n.qZA(),n.YNc(51,Po,3,2,"div",59),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=n.MAs(7),r=n.MAs(16),o=n.MAs(23),s=n.MAs(36),l=n.MAs(43),a=n.MAs(50);n.oxw(3);const c=n.MAs(2),d=n.oxw();n.xp6(5),n.MGl("name","Godown",e.index,""),n.Q6J("items",d.godownService.result)("ngModel",e.GodM)("loading",d.godownService.loading)("ngClass",n.VKq(35,Fe,c.submitted&&i.invalid)),n.xp6(5),n.Q6J("ngIf",c.submitted&&i.invalid),n.xp6(5),n.MGl("name","Batch_Type",e.index,""),n.Q6J("items",d.BatchMaster)("ngModel",e.BTId)("loading",d.godownService.loading)("ngClass",n.VKq(37,Fe,c.submitted&&r.invalid)),n.xp6(2),n.Q6J("ngIf",c.submitted&&r.invalid),n.xp6(5),n.MGl("name","batchTag__",e.index,""),n.Q6J("disabled",e.BTId>0||""==e.BTId||null==e.BTId||null==e.BTId)("ngClass",n.VKq(39,Fe,c.submitted&&o.invalid))("ngModel",e.BTNa),n.xp6(2),n.Q6J("ngIf",c.submitted&&o.invalid),n.xp6(5),n.MGl("name","manfdate__",e.index,""),n.MGl("id","manfdate__",e.index,""),n.Q6J("startDate",e.MFGDt),n.xp6(6),n.MGl("name","txtQty",e.index,""),n.MGl("id","txtQty",e.index,""),n.Q6J("ngClass",n.VKq(41,Fe,c.submitted&&s.invalid))("ngModel",e.Qty),n.xp6(2),n.Q6J("ngIf",c.submitted&&s.invalid),n.xp6(5),n.MGl("name","txtRt",e.index,""),n.MGl("id","txtRt",e.index,""),n.Q6J("ngClass",n.VKq(43,Fe,c.submitted&&l.invalid))("ngModel",e.Rt),n.xp6(2),n.Q6J("ngIf",c.submitted&&l.invalid),n.xp6(5),n.MGl("name","txtAmt",e.index,""),n.MGl("id","txtAmt",e.index,""),n.Q6J("ngClass",n.VKq(45,Fe,c.submitted&&a.invalid))("ngModel",e.Amt),n.xp6(2),n.Q6J("ngIf",c.submitted&&a.invalid)}}function Qo(e,t){if(1&e&&(n.TgZ(0,"div",399),n.YNc(1,Oo,52,47,"div",539),n.qZA()),2&e){const e=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",e.getgodowndetailsforpopup())}}function Fo(e,t){if(1&e&&(n.TgZ(0,"div",538),n.YNc(1,Qo,2,1,"div",463),n.qZA()),2&e){const e=n.oxw(2);n.Udp("max-width",e.maxpopupwidth,"px"),n.xp6(1),n.Q6J("ngIf",e.companyLedgerService.IsMobileview)}}function Eo(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",456),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2),i=n.MAs(110);return t.RemovegodownDetails(t.InventorycurrentIndex),i.hide()}),n._uU(1,"Delete"),n.qZA()}}function Yo(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",519),n.TgZ(1,"form",113,520),n.NdJ("ngSubmit",function(){n.CHM(e);const t=n.MAs(2),i=n.oxw();return t.form.valid&&i.SaveinventoryGodownsDetails(i.InventorycurrentIndex)}),n.TgZ(3,"div",535),n.TgZ(4,"div",91),n.TgZ(5,"h4",48),n._uU(6,"Add/Edit Batch "),n.qZA(),n.TgZ(7,"button",49),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(110);return t.showInventorypopup=!1,i.hide()}),n.TgZ(8,"span",50),n._uU(9,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",536),n.YNc(11,Fo,2,3,"div",537),n.qZA(),n.TgZ(12,"nav",145),n.TgZ(13,"ul",62),n.TgZ(14,"li",63),n.YNc(15,Eo,2,0,"a",146),n.qZA(),n.TgZ(16,"li",63),n.TgZ(17,"button",464),n._uU(18,"Save"),n.qZA(),n.qZA(),n.TgZ(19,"li",63),n.TgZ(20,"button",95),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(110);return t.showInventorypopup=!1,i.hide()}),n._uU(21,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(11),n.Q6J("ngIf",e.curGodown.length>0),n.xp6(4),n.Q6J("ngIf",e.InventorycurrentIndex>=0)}}function Go(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",559),n.TgZ(2,"div"),n.TgZ(3,"label",248),n.TgZ(4,"input",152),n.NdJ("change",function(){const t=n.CHM(e).$implicit;return t.billSelected=!("1"==t.billSelected||1==t.billSelected)}),n.qZA(),n._UZ(5,"span",153),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"td"),n._uU(7),n.qZA(),n.TgZ(8,"td"),n._UZ(9,"dateformatter",560),n.qZA(),n.TgZ(10,"td"),n._uU(11),n.qZA(),n.TgZ(12,"td"),n.TgZ(13,"a",561),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).openChlnaddeditpopup(t.UIDN)}),n._uU(14),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(4),n.Q6J("checked",e.billSelected),n.xp6(3),n.Oqu(e.ChlnId),n.xp6(2),n.s9C("dateValue",e.MtD),n.xp6(2),n.Oqu(e.InvNm),n.xp6(3),n.AsE("",e.TtlAmt," ",e.CRDR,"")}}function Ho(e,t){if(1&e&&(n.TgZ(0,"div",398),n.TgZ(1,"table",399),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"td"),n._uU(5,"#"),n.qZA(),n.TgZ(6,"th"),n._uU(7,"Challan No"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Date"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Inventory"),n.qZA(),n.TgZ(12,"th"),n._uU(13,"Voucher Amount"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"tbody"),n.YNc(15,Go,15,6,"tr",277),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.Udp("max-width",e.maxpopupwidth,"px"),n.xp6(15),n.Q6J("ngForOf",e.curChallan)}}function Bo(e,t){1&e&&(n.TgZ(0,"div",562),n._uU(1," No Chalans/Bills available. Please add new challans/Bills! "),n.qZA())}function $o(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",563),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).selectChallan()}),n._uU(1," Select Challan/Bill "),n.qZA()}}function jo(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",112),n.TgZ(1,"div",535),n.TgZ(2,"div",91),n.TgZ(3,"h4",48),n._uU(4,"Select Challan"),n.qZA(),n.TgZ(5,"button",49),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(113);return t.showChallanpopup=!1,i.hide()}),n.TgZ(6,"span",50),n._uU(7,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",554),n.YNc(9,Ho,16,3,"div",555),n.YNc(10,Bo,2,0,"div",556),n.qZA(),n.TgZ(11,"div",557),n.TgZ(12,"button",95),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(113);return t.showChallanpopup=!1,i.hide()}),n._uU(13,"Close"),n.qZA(),n.YNc(14,$o,2,0,"button",558),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(9),n.Q6J("ngIf",e.curChallan.length>0),n.xp6(1),n.Q6J("ngIf",0==e.curChallan.length),n.xp6(4),n.Q6J("ngIf",e.curChallan.length>0)}}function Ko(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",559),n.TgZ(2,"div"),n.TgZ(3,"label",248),n.TgZ(4,"input",152),n.NdJ("change",function(){const t=n.CHM(e).$implicit;return t.billSelected=!("1"==t.billSelected||1==t.billSelected)}),n.qZA(),n._UZ(5,"span",153),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"td"),n._uU(7),n.qZA(),n.TgZ(8,"td"),n._UZ(9,"dateformatter",560),n.qZA(),n.TgZ(10,"td"),n._uU(11),n.qZA(),n.TgZ(12,"td"),n.TgZ(13,"a",561),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).openChlnaddeditpopup(t.UIDN)}),n._uU(14),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(4),n.Q6J("checked",e.billSelected),n.xp6(3),n.Oqu(e.ChlnId),n.xp6(2),n.s9C("dateValue",e.MtD),n.xp6(2),n.Oqu(e.InvNm),n.xp6(3),n.AsE("",e.TtlAmt," ",e.CRDR,"")}}function zo(e,t){if(1&e&&(n.TgZ(0,"div",398),n.TgZ(1,"table",399),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"td"),n._uU(5,"#"),n.qZA(),n.TgZ(6,"th"),n._uU(7,"Challan No"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Date"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Inventory"),n.qZA(),n.TgZ(12,"th"),n._uU(13,"Voucher Amount"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"tbody"),n.YNc(15,Ko,15,6,"tr",277),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.Udp("max-width",e.maxpopupwidth,"px"),n.xp6(15),n.Q6J("ngForOf",e.curChallan)}}function Wo(e,t){1&e&&(n.TgZ(0,"div",562),n._uU(1," No Chalans/Bills available. Please add new challans/Bills! "),n.qZA())}function Xo(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",563),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).selectChallan()}),n._uU(1," Select Challan/Bill "),n.qZA()}}function es(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",564),n.TgZ(1,"div",98),n.TgZ(2,"div",91),n.TgZ(3,"h4",48),n._uU(4,"Select Challan"),n.qZA(),n.TgZ(5,"button",49),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(117);return t.showChallanpopup=!1,i.hide()}),n.TgZ(6,"span",50),n._uU(7,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",565),n.YNc(9,zo,16,3,"div",555),n.YNc(10,Wo,2,0,"div",556),n.qZA(),n.TgZ(11,"div",121),n.YNc(12,Xo,2,0,"button",558),n.TgZ(13,"button",95),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(117);return t.showChallanpopup=!1,i.hide()}),n._uU(14,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(9),n.Q6J("ngIf",e.curChallan.length>0),n.xp6(1),n.Q6J("ngIf",0==e.curChallan.length),n.xp6(2),n.Q6J("ngIf",e.curChallan.length>0)}}function ts(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-companyledger-addedit",566),n.NdJ("redirectAction",function(t){return n.CHM(e),n.oxw().popupAction(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("isMobilePopup",!0)("CompanyIdforReport",e.CompanyIdforReport)("redirectOnCancel",!1)}}function is(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-companyledger-addedit",567),n.NdJ("redirectAction",function(t){return n.CHM(e),n.oxw().reportLedgerAdded(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("CompanyIdforReport",e.CompanyIdforReport)("isMobilePopup",!0)("redirectOnCancel",!1)("inputLedgerId",e.ledgerIdVal)}}function ns(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-challan-addedit",568),n.NdJ("ChallanredirectAction",function(t){return n.CHM(e),n.oxw().onchlnresponse(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("CompanyIdforReport",e.CompanyIdforReport)("ChallanredirectOnCancel",!1)("ChallanId",e.ChallanId)}}function rs(e,t){1&e&&(n.TgZ(0,"h4",48),n._uU(1,"Send Email"),n.qZA())}function os(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",94),n.NdJ("click",function(){return n.CHM(e),n.oxw().AddVoucher()}),n._uU(1,"Send Email"),n.qZA()}}function ss(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",94),n.NdJ("click",function(){return n.CHM(e),n.oxw().AddVoucher()}),n._uU(1,"Share Document"),n.qZA()}}function ls(e,t){1&e&&(n.TgZ(0,"h4",48),n._uU(1,"Send Email"),n.qZA())}function as(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",94),n.NdJ("click",function(){return n.CHM(e),n.oxw().AddVoucher()}),n._uU(1,"Send Email"),n.qZA()}}function cs(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",94),n.NdJ("click",function(){return n.CHM(e),n.oxw().AddVoucher()}),n._uU(1,"Share Document"),n.qZA()}}function ds(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-inventory-addedit",569),n.NdJ("redirectActiononInventory",function(t){return n.CHM(e),n.oxw().InventoryAdded(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("redirectOnCancelonInventory",!1)("isMobilePopup",!0)("CompanyIdforReport",e.CompanyIdforReport)("InputInventoryId",e.InventoryIdVal)}}function us(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n.TgZ(2,"div"),n.TgZ(3,"div",570),n.TgZ(4,"label",248),n.TgZ(5,"input",179),n.NdJ("change",function(){const t=n.CHM(e).$implicit;return t.billSelected=!("1"==t.billSelected||1==t.billSelected)}),n.qZA(),n._UZ(6,"span",153),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"td"),n.TgZ(8,"a",561),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).openReceiptDeliveryeditpopup(t.UIDN,t.VT)}),n._uU(9),n.qZA(),n.qZA(),n.TgZ(10,"td"),n._UZ(11,"dateformatter",560),n.qZA(),n.TgZ(12,"td"),n._uU(13),n.qZA(),n.TgZ(14,"td"),n._uU(15),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(5),n.Q6J("checked",e.billSelected),n.xp6(4),n.hij(" ",e.VNO," "),n.xp6(2),n.s9C("dateValue",e.VDt),n.xp6(2),n.Oqu(e.BNO),n.xp6(2),n.Oqu(e.Amt)}}function hs(e,t){if(1&e&&(n.TgZ(0,"div",398),n.TgZ(1,"table",399),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n._UZ(4,"td"),n.TgZ(5,"th"),n._uU(6,"Voucher No"),n.qZA(),n.TgZ(7,"th"),n._uU(8,"Date"),n.qZA(),n.TgZ(9,"th"),n._uU(10,"Bill No"),n.qZA(),n.TgZ(11,"th"),n._uU(12,"Amount"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"tbody"),n.YNc(14,us,16,5,"tr",277),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.Udp("max-width",e.maxpopupwidth,"px"),n.xp6(14),n.Q6J("ngForOf",e.curReceiptDelivery)}}function gs(e,t){if(1&e&&(n.TgZ(0,"div",562),n._uU(1),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.receiptDeliveryText," ")}}function ps(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",563),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).selectReceiptDelivery()}),n._uU(1),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(1),n.hij(" Select ",e.receiptDeliveryHeaderText," ")}}function fs(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",112),n.TgZ(1,"div",98),n.TgZ(2,"div",91),n.TgZ(3,"h4",48),n._uU(4),n.qZA(),n.TgZ(5,"button",49),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(170);return t.showReceiptDeliverynpopup=!1,i.hide()}),n.TgZ(6,"span",50),n._uU(7,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",115),n.YNc(9,hs,15,3,"div",555),n.YNc(10,gs,2,1,"div",556),n.qZA(),n.TgZ(11,"div",121),n.YNc(12,ps,2,1,"button",558),n.TgZ(13,"button",95),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(170);return t.showReceiptDeliverynpopup=!1,i.hide()}),n._uU(14,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(4),n.hij("Select ",e.receiptDeliveryHeaderText,""),n.xp6(5),n.Q6J("ngIf",e.curReceiptDelivery.length>0),n.xp6(1),n.Q6J("ngIf",0==e.curReceiptDelivery.length),n.xp6(2),n.Q6J("ngIf",e.curReceiptDelivery.length>0)}}function ms(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",571),n.TgZ(1,"div",572),n.TgZ(2,"div",91),n.TgZ(3,"h4",48),n._uU(4),n.qZA(),n.TgZ(5,"i",573),n.NdJ("click",function(){return n.CHM(e),n.oxw().filterService.changeFilterWithbottomfilter(!0,!0,"Account List")}),n.qZA(),n.qZA(),n.TgZ(6,"div",115),n.TgZ(7,"app-account-addedit",574),n.NdJ("TransactionredirectAction",function(t){return n.CHM(e),n.oxw().onReceiptDeliveryresponse(t)}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(4),n.Oqu(e.ReceiptDeliveryVoucherType),n.xp6(3),n.Q6J("TransactionredirectOnCancel",!1)("IsDuplicate",!1)("VoucherType",e.ReceiptDeliveryVoucherType)("IsItemVoucher",!0)("VoucherId",e.ReceiptDeliveryVoucherId)("CompanyIdforReport",e.CompanyIdforReport)}}function Ts(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-cost-category",575),n.NdJ("redirectActiononCostCenter",function(t){return n.CHM(e),n.oxw().CostCenterAdded(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("redirectOnCancelonCostCenter",!1)("isList",!1)("CompanyIdforReport",e.CompanyIdforReport)}}function vs(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Additional Details is required"),n.qZA())}function Is(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,vs,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(24);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Zs(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",112),n.TgZ(1,"form",113,114),n.NdJ("ngSubmit",function(){n.CHM(e);const t=n.MAs(2),i=n.oxw();return t.form.valid&&i.closestatAdjustmentpopup()}),n.TgZ(3,"div",98),n.TgZ(4,"div",91),n.TgZ(5,"h4",48),n._uU(6,"Stat Adjustment"),n.qZA(),n.TgZ(7,"button",49),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(177);return t.showstatAdjustmentnpopup=!1,i.hide()}),n.TgZ(8,"span",50),n._uU(9,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",115),n.TgZ(11,"div",398),n.TgZ(12,"label",210),n._uU(13,"Type Of Duty/Tax"),n.qZA(),n.TgZ(14,"ng-select",576,577),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().gstlabel[0]=t}),n.qZA(),n.TgZ(16,"label",210),n._uU(17,"Nature Of Adjustment"),n.qZA(),n.TgZ(18,"ng-select",578,579),n.NdJ("change",function(t){return n.CHM(e),n.oxw().getstatAdditionDetails(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw().TaxAdjustment=t}),n.qZA(),n.TgZ(21,"label",210),n._uU(22,"Additional Details"),n.qZA(),n.TgZ(23,"ng-select",580,581),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().GSTAdditionalDetails=t}),n.qZA(),n.YNc(26,Is,2,1,"div",59),n.qZA(),n.qZA(),n.TgZ(27,"div",121),n.TgZ(28,"button",95),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(177);return t.showstatAdjustmentnpopup=!1,i.hide()}),n._uU(29,"Close"),n.qZA(),n.TgZ(30,"button",563),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(177);return t.showstatAdjustmentnpopup=!1,i.hide()}),n._uU(31," Save "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(2),t=n.MAs(24),i=n.oxw();n.xp6(11),n.Udp("max-width",i.maxpopupwidth,"px"),n.xp6(3),n.Q6J("ngModel",i.gstlabel[0])("items",i.gstlabel),n.xp6(4),n.Q6J("ngModel",i.TaxAdjustment)("items",i.natureOfAdjustmentlabel),n.xp6(5),n.Q6J("items",i.additionalDetailslabel)("ngModel",i.GSTAdditionalDetails),n.xp6(3),n.Q6J("ngIf",e.submitted&&t.invalid)}}function As(e,t){if(1&e&&(n.TgZ(0,"div",193),n.TgZ(1,"div",587),n._uU(2,"Only numbers "),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(13);n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function xs(e,t){if(1&e&&(n.TgZ(0,"div",588),n.TgZ(1,"div",587),n._uU(2,"Only numbers "),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(18);n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function Ss(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",519),n.TgZ(1,"form",113,114),n.NdJ("ngSubmit",function(){n.CHM(e);const t=n.MAs(2),i=n.oxw();return t.form.valid&&i.JournalStatAdjustmentPopupHide()}),n.TgZ(3,"div",98),n.TgZ(4,"div",91),n.TgZ(5,"button",49),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(204);return t.showJournalTax=!1,i.hide()}),n.TgZ(6,"span",50),n._uU(7,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",115),n.TgZ(9,"div",398),n.TgZ(10,"label",210),n._uU(11,"Rate (%)"),n.qZA(),n.TgZ(12,"input",582,583),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().TaxRate=t}),n.qZA(),n.YNc(14,As,3,1,"div",59),n.TgZ(15,"label",210),n._uU(16,"Taxable Value"),n.qZA(),n.TgZ(17,"input",584,585),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().TotalAmount=t}),n.qZA(),n.YNc(19,xs,3,1,"div",586),n.qZA(),n.qZA(),n.TgZ(20,"div",121),n.TgZ(21,"button",122),n._uU(22,"Save Changes"),n.qZA(),n.TgZ(23,"button",123),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(204);return t.showJournalTax=!1,i.hide()}),n._uU(24,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(2),t=n.MAs(13),i=n.MAs(18),r=n.oxw();n.xp6(9),n.Udp("max-width",r.maxpopupwidth,"px"),n.xp6(3),n.Q6J("ngClass",n.VKq(8,Fe,e.submitted&&t.invalid))("ngModel",r.TaxRate),n.xp6(2),n.Q6J("ngIf",e.submitted&&t.invalid),n.xp6(3),n.Q6J("ngClass",n.VKq(10,Fe,e.submitted&&i.invalid))("ngModel",r.TotalAmount),n.xp6(2),n.Q6J("ngIf",e.submitted&&i.invalid)}}function Ds(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-godown-list",589),n.NdJ("redirectActionGodownMaster",function(t){return n.CHM(e),n.oxw().GodownMasterAdded(t)}),n.qZA()}2&e&&n.Q6J("redirectOnCancelGodownMaster",!1)("isList",!1)("isMobilePopup",!0)}function Cs(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",202),n.TgZ(1,"a",203),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(225);return t.openLedgerPopup(i,-1,0)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function bs(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function ys(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",204),n.NdJ("click",function(){const t=n.CHM(e).item,i=n.oxw(),r=n.MAs(225);return i.openLedgerPopupforedit(r,t.UIDN,-3,0)}),n._UZ(3,"i",205),n.qZA()}if(2&e){const e=t.item,i=n.oxw();n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ns(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Account not selected"),n.qZA())}function Ms(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Ns,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(226);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function ws(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Allow numeric only"),n.qZA())}function qs(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,ws,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(236);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Ls(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Allow numeric only"),n.qZA())}function Vs(e,t){if(1&e&&(n.TgZ(0,"div",193),n.YNc(1,Ls,2,0,"div",32),n.qZA()),2&e){n.oxw();const e=n.MAs(243);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function _s(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",456),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(208);return t.deleteInventoryLedger(t.LedgerInventoryIndex),i.hide()}),n._uU(1,"Delete"),n.qZA()}}let Us=(()=>{class e{constructor(e,t,i,r,o,s,a,d,u,h,g,p,f,m,T,I,Z,A,x,S){this.locale=e,this.location=t,this.filterService=i,this.inventoryService=r,this.route=o,this.router=s,this.accountService=a,this.companyLedgerService=d,this.siteService=u,this.addonPlanService=h,this.structureService=g,this.alertService=p,this.challanService=f,this._config=m,this.el=T,this.CostCategoryservice=I,this.godownService=Z,this.statadjustment=A,this.natureofTranService=x,this.ReportServices=S,this.BuildingCol="",this.WingCol="",this.FlatNoCol="",this.siteStrList=[],this.filteredData=[],this.position="up",this.Total="0.0 Dr",this.MobileTotal="0.0 Dr",this.TotalTax="0.0 Dr",this.MobileTotalTax="0.0 Dr",this.GrandTotal="0.0 Dr",this.MobileGrandTotal="0.0 Dr",this.GrandCRTotal="0.0 Dr",this.RoundOFFTotal="0.0 Dr",this.TCSTotal="0.0 Dr",this.IsRoundOff=!1,this.TaxAdjustment="",this.GSTAdditionalDetails="",this.TotalReferenceAmount=0,this.Totalroundoff=0,this.IsCRDR=!1,this.IsShowLedger=!1,this.taxledgerDetails=[],this.godownPopupDetails=null,this.taxcommonledgerDetails=[],this.TCSledgerDetails=[],this.IspayAddOnPayment=!1,this.IsSignupMaintenancePayment=!1,this.startDate={},this.isInventorypopupopen=!1,this.VoucherIndex=0,this.IsPurchaseTaxAvailable=!1,this.bankDetails=[],this.tableVouchers=[],this.tableVoucherForInvnetory=[],this.tableVouchersforedit=[],this.gstdetails=[],this.tableChallan=[],this.tableVoucherReceiptDelivery=[],this.curChallan=[],this.curReceiptDelivery=[],this.isTCSApplExists=!1,this.curReference=[],this.curInventory=[],this.curGodown=[],this.PageType="",this.IsSundryDebtorsledgerSelected=!1,this.InventoryRate=0,this.GodownIndex=0,this.ReferendeIndex=0,this.PopupReferendeIndex=0,this.InventorycurrentIndex=0,this.curBatchedger=[],this.allagainstRefList=[],this.maxpopupwidth="800",this.LedagainstRefList=[],this.curAddLedger=0,this.curInvenotry=0,this.currGodown=0,this.curAddLedgerLoc=0,this.showCompanyLedgerpopup=!1,this.showReferencepopup=!1,this.showInventorypopup=!1,this.showJournalTax=!1,this.showChallanpopup=!1,this.showReceiptDeliverynpopup=!1,this.showstatAdjustmentnpopup=!1,this.gstlabel=null,this.isPrint=!0,this.natureOfAdjustmentlabel=null,this.additionalDetailslabel=null,this.showBankpopup=!1,this.BatchMaster=null,this.IsStatAdjust=!1,this.ParentNAmeOfVT="",this.isVTJournal=!1,this.isVTDebitNote=!1,this.isVTSales=!1,this.isVTDeliveryNote=!1,this.isVTSalesOrder=!1,this.isVTCreditNote=!1,this.isVTPurchase=!1,this.isVTReceiptNote=!1,this.isVTPurchaseOrder=!1,this.isVTReceipt=!1,this.isVTContra=!1,this.isVTPayment=!1,this.isParentVTJournal=!1,this.isParentVTDebitNote=!1,this.isParentVTSales=!1,this.isParentVTDeliveryNote=!1,this.isParentVTSalesOrder=!1,this.isParentVTCreditNote=!1,this.isParentVTPurchase=!1,this.isParentVTReceiptNote=!1,this.isParentVTPurchaseOrder=!1,this.isParentVTReceipt=!1,this.isParentVTContra=!1,this.isParentVTPayment=!1,this.TransactionredirectOnCancel=!0,this.VoucherId=0,this.LedgerIdforReport=0,this.CompanyIdforReport=0,this.DRAmountforReport=0,this.CRAmountforReport=0,this.IsDuplicate=!1,this.TransactionredirectAction=new n.vpe,this.IsItemVoucher=!1,this.IsReceiptDemand=0,this.IsShareLink=0,this.SMSDescription="",this.IsHideEmail=!0,this.Email="",this.Mobile="",this.OnRefMethodpop="",this.ReceiptDeliveryVoucherId=0,this.ReceiptDeliveryVoucherType="",this.isLedgerpopupopen=!1,this.isCostCenterpopupopen=!1,this.isGodownMasterpopupopen=!1,this.popupwindow="",this.modalCrDr="",this.modalInventory=null,this.LedgerInventoryIndex=0,this.modalLedgerIndex=0,this.modalReferenceIndex=0,this.modalDrAmt=0,this.EnterAmountVoucher=0,this.modalCrAmt=0,this.modalQty=0,this.modalRate=0,this.modalUnit="",this.modalDis=0,this.modalLedger=null,this.modalTaxLed=[],this.firstAccselector=[],this.Taxselector=[],this.SecondAccselector=[],this.receiptDeliveryText="",this.receiptDeliveryHeaderText="",this.isPageLoad=!1,this.currentScrollPosition=0,this.transactiontype=[],this.Ledgerid="",this.NOTLedger=[],this.natureoftransaction="",this.ReceiptDetails="",this.NewTrackingNumber=0,this.CurrentNaturTransactionTableIndex=0,this.showChallanModal=!1,this.showReceiptDeliveryModal=!1,this.ChallanId="",this.TermType="",this.IsShowCostCenter=!1,this.IsShowCountryState=!1,this.ShowCostCenter=!1,this.ShowCountryState=!1,this.vouchertypeclass="",this.sfilter=new c.e,this.CostCenter=[],this.isList=!0,this.httpfunction=new v.r,this.SignupId=this.accountService.getSignupId,this.UserId=this.accountService.GetUserId,this.VoucherTypeList=JSON.parse(this.httpfunction.getStorage("VoucherType")),this.route.params.subscribe(e=>{this.resetVariables();let t=JSON.parse(this.httpfunction.getStorage("_VoucherConfiguration"));if(null!=t&&null!=t&&(this.ShowCostCenter=t.ISCC,this.ShowCountryState=t.ISCS,this.IsShowCostCenter=t.ISCC,this.IsShowCountryState=t.ISCS),this.TransactionredirectOnCancel)if(null!=e.Type&&""!=e.Type&&("ReceiptDemand"==e.Type?(this.accountService.singleresult.VT=this.capitalize("Receipt Demand"),this.IsReceiptDemand=1):(e.Type.toLowerCase()==l.$f.CreditNote.toLowerCase()?this.accountService.singleresult.VT=l.$f.CreditNote:e.Type.toLowerCase()==l.$f.DebitNote.toLowerCase()?this.accountService.singleresult.VT=l.$f.DebitNote:e.Type.toLowerCase()==l.$f.ReceiptNote.toLowerCase()?(this.accountService.singleresult.VT=l.$f.ReceiptNote,this.IsItemVoucher=!0):e.Type.toLowerCase()==l.$f.DeliveryNote.toLowerCase()?(this.accountService.singleresult.VT=l.$f.DeliveryNote,this.IsItemVoucher=!0):e.Type.toLowerCase()==l.$f.SalesOrder.toLowerCase()?(this.accountService.singleresult.VT=l.$f.SalesOrder,this.IsItemVoucher=!0):e.Type.toLowerCase()==l.$f.PurchaseOrder.toLowerCase()?(this.accountService.singleresult.VT=l.$f.PurchaseOrder,this.IsItemVoucher=!0):this.accountService.singleresult.VT=this.capitalize(e.Type),this.IsReceiptDemand=0,this.showhidecashcheque(e.Type)),this.setInitialData()),this.httpfunction.IsMobileview()&&null!=e.Duplicate&&""!=e.Duplicate&&(this.IsDuplicate=e.Duplicate),null!=e.Id&&""!=e.Id)this.VoucherId=e.Id;else if(null!=e.Type&&""!=e.Type){let e=JSON.parse(this.httpfunction.getStorage("VoucherType"));var i=this.accountService.singleresult.VT;this.IsReceiptDemand&&(i=this.capitalize("Receipt")),this.IsCRDR=e.filter(e=>e.NA.toUpperCase()==i.toUpperCase())[0].IsCrDr,this.IsShowLedger=e.filter(e=>e.NA.toUpperCase()==i.toUpperCase())[0].IsShowLed,this.TableVoucherspush()}this.Ispaymode=this.accountService.getCompanyData.CN==this.accountService.technocompanyname&&("Receipt"==e.Type||"Payment"==e.Type)})}onPopState(e){this.isList||(this.isList=!this.isList)}onResize(){var e=80*window.innerWidth/100;this.maxpopupwidth=e<800?e:800}ngOnInit(){if(this.SignupId=this.accountService.getSignupId,this.UserId=this.accountService.GetUserId,this.PageType=this.router.url.toLowerCase().indexOf("ledger")>=0?"Ledger":this.router.url.toLowerCase().indexOf("group")>=0?"Group":this.router.url.toLowerCase().indexOf("finalize")>=0?"Finalize":this.router.url.toLowerCase().indexOf("restorevoucher")>=0?"Restorevoucher":this.router.url.toLowerCase().indexOf("monthlysummary")>=0?"Monthly Summary":this.router.url.toLowerCase().indexOf("outstandingrecivable")>=0?"Outstanding Recevable":this.router.url.toLowerCase().indexOf("outstandingpayble")>=0?"Outstanding Payable":"DayBook",!this.httpfunction.IsMobileview()){var e=80*window.innerWidth/100;this.maxpopupwidth=e<800?e:800,null!=this.bankModal&&(this.bankModal.onEsc=this.onModalEsc),null!=this.statAdjustmentModal&&(this.statAdjustmentModal.onEsc=this.onModalEsc),null!=this.challanModal&&(this.challanModal.onEsc=this.onModalEsc),null!=this.challanModalM&&(this.challanModalM.onEsc=this.onModalEsc),null!=this.RefModal&&(this.RefModal.onEsc=this.onModalEsc),null!=this.RefModalM&&(this.RefModalM.onEsc=this.onModalEsc),null!=this._inventoryModal&&(this._inventoryModal.onEsc=this.onModalEsc),null!=this.BatchModal&&(this.BatchModal.onEsc=this.onModalEsc),null!=this.BatchModalM&&(this.BatchModalM.onEsc=this.onModalEsc),null!=this.JournalStatAdjustmentModal&&(this.JournalStatAdjustmentModal.onEsc=this.onModalEsc),document.onresize=this.onResize}if(0==this.TransactionredirectOnCancel){this.accountService.singleresult.VT=this.capitalize(this.VoucherType);let e=JSON.parse(this.httpfunction.getStorage("VoucherType"));this.IsCRDR=e.filter(e=>e.NA.toUpperCase()==this.accountService.singleresult.VT.toUpperCase())[0].IsCrDr,this.IsShowLedger=e.filter(e=>e.NA.toUpperCase()==this.accountService.singleresult.VT.toUpperCase())[0].IsShowLed,this.setInitialData(),(null==this.VoucherId||0==this.VoucherId||null==this.VoucherId)&&this.TableVoucherspush(),"ReceiptDemand"==this.accountService.singleresult.VT.toLowerCase()?(this.accountService.singleresult.VT=this.capitalize("Receipt"),this.IsReceiptDemand=1):(this.accountService.singleresult.VT.toLowerCase()==l.$f.CreditNote.toLowerCase()?this.accountService.singleresult.VT=l.$f.CreditNote:this.accountService.singleresult.VT.toLowerCase()==l.$f.DebitNote.toLowerCase()?this.accountService.singleresult.VT=l.$f.DebitNote:this.accountService.singleresult.VT.toLowerCase()==l.$f.ReceiptNote.toLowerCase()?(this.accountService.singleresult.VT=l.$f.ReceiptNote,this.IsItemVoucher=!0):this.accountService.singleresult.VT.toLowerCase()==l.$f.DeliveryNote.toLowerCase()?(this.accountService.singleresult.VT=l.$f.DeliveryNote,this.IsItemVoucher=!0):this.accountService.singleresult.VT.toLowerCase()==l.$f.SalesOrder.toLowerCase()?(this.accountService.singleresult.VT=l.$f.SalesOrder,this.IsItemVoucher=!0):this.accountService.singleresult.VT.toLowerCase()==l.$f.PurchaseOrder.toLowerCase()?(this.accountService.singleresult.VT=l.$f.PurchaseOrder,this.IsItemVoucher=!0):this.accountService.singleresult.VT=this.capitalize(this.accountService.singleresult.VT.toLowerCase()),this.IsReceiptDemand=0,this.showhidecashcheque(this.accountService.singleresult.VT.toLowerCase()))}(""==this.accountService.singleresult.VT||null==this.accountService.singleresult.VT)&&this.router.navigate(["/transactions/daybook"]),this.inventory_subscription=this.inventoryService.resultObs.subscribe(()=>{this.companyLedgerService.GetAllledaccount(!0)}),this.subscription=this.companyLedgerService.resultObs.subscribe(()=>{this.isInventorypopupopen||this.isLedgerpopupopen||this.isCostCenterpopupopen||this.showChallanModal||this.isGodownMasterpopupopen||this.loadbindData()}),this.CostCategoryservice.reportCompanyId=this.CompanyIdforReport,this.companyLedgerService.reportCompanyId=this.CompanyIdforReport,this.inventoryService.reportCompanyId=this.CompanyIdforReport,this.companyLedgerService.isGetSubscribe=!0,this.inventoryService.isGetSubscribe=!0,this.callCompanyInventoryLedger(null!=this.VoucherType?this.VoucherType:this.accountService.singleresult.VT),this.natureofTranService.GetAlldata(),this.subscription_natureTrans=this.companyLedgerService.resultObs.subscribe(()=>{this.transactiontype=this.natureofTranService.result.filter(e=>0==e.IsSP)}),this.CostCategoryservice.reportCompanyId=this.CompanyIdforReport,this.CostCategoryservice.GetAlldata(),this.accountService.reportCompanyId=this.CompanyIdforReport,this.godownService.reportCompanyId=this.CompanyIdforReport,this.siteService.reportCompanyId=this.CompanyIdforReport,this.structureService.reportCompanyId=this.CompanyIdforReport,0==this.siteService.result.length&&this.siteService.GetAllsitesforAllaccount(),0==this.godownService.result.length&&this.godownService.GetAlldata(),this.structureService.GetAlldataWithReturn().subscribe(e=>{var t,i,n;e.m_Item2>0&&(this.BuildingCol=null!==(t=e.m_Item1[1])&&void 0!==t?t:e.m_Item1[1][0].BuildingCol.replace("[","").replace("]",""),this.WingCol=null!==(i=e.m_Item1[1])&&void 0!==i?i:e.m_Item1[1][0].WingCol.replace("[","").replace("]",""),this.FlatNoCol=null!==(n=e.m_Item1[1])&&void 0!==n?n:e.m_Item1[1][0].FlatNoCol.replace("[","").replace("]",""),this.siteStrList=e.m_Item1[0],null!=this.VoucherId&&this.VoucherId>0&&this.accountService.singleresult.StStrI>0&&null!=this.accountService.singleresult.StStrI&&(this.siteStrSingle=this.siteStrList.filter(e=>e.PK_Id==this.accountService.singleresult.StStrI)[0]))}),this.CompanyIdforReport>0&&(this.challanService.reportCompanyId=this.CompanyIdforReport),this.challan_subscription=this.challanService.resultObs.subscribe(()=>{this.curChallan=this.challanService.result,this.curChallan=this.calculateCurrentChallan(this.curChallan);let e=this.curChallan.slice(0);this.tableChallan=this.tableChallan.concat(JSON.parse(JSON.stringify(e))),this.showChallanpopup=!0,this.httpfunction.IsMobileview()?this.challanModalM.show():this.challanModal.show()}),this.ReceiptDelivery_subscription=this.ReportServices.resultObs.subscribe(()=>{if(this.curReceiptDelivery=this.ReportServices.result,this.curReceiptDelivery=this.curReceiptDelivery.filter(this.isVTPurchase||this.isParentVTPurchase||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder?e=>e.VT==l.$f.ReceiptNote:e=>e.VT==l.$f.DeliveryNote),this.accountService.singleresult.UIDN>0){let i=[];for(var e=0;e<this.curReceiptDelivery.length;e++)if(this.curReceiptDelivery[e].RDId==this.accountService.singleresult.UIDN.toString()&&(this.curReceiptDelivery[e].billSelected=!0,this.curReceiptDelivery[e].IsUpdate=!0,this.curReceiptDelivery[e].billSelected)){var t=new o.VN;t.UIDN=this.curReceiptDelivery[e].UIDN,t.BNO=this.curReceiptDelivery[e].BNO,t.VNO=this.curReceiptDelivery[e].VNO,t.TotalAmt=this.curReceiptDelivery[e].Amt,i.push(t)}this.companyLedgerService.singleresult.vouchers=i}this.showReceiptDeliverynpopup=!0,this.ReceiptDeliveryModal.show();let i=this.curReceiptDelivery.slice(0);this.tableVoucherReceiptDelivery=this.tableVoucherReceiptDelivery.concat(JSON.parse(JSON.stringify(i))),this.httpfunction.IsMobileview()||(this.isVTPurchase||this.isParentVTPurchase||this.isVTDebitNote||this.isParentVTDebitNote?(this.receiptDeliveryText="No Receipt Note available.Please add new Receipt Note!",this.receiptDeliveryHeaderText="Receipt Note"):(this.isVTSales||this.isParentVTSales||this.isVTCreditNote||this.isParentVTCreditNote)&&(this.receiptDeliveryText="No Delivery Note available.Please add new Delivery Note!",this.receiptDeliveryHeaderText="Delivery Note"))}),this.CostCategoryservice.isGetSubscribe=!0,this.costcenter_subscription=this.CostCategoryservice.resultObs.subscribe(()=>{this.CostCategoryservice.result=this.CostCategoryservice.result.filter(e=>2!=e.St&&(0!=e.CCenId||0!=e.CCatId))}),this.showhidecashcheque(this.accountService.singleresult.VT),this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this))}callCompanyInventoryLedger(e){e==l.$f.Purchase||this.isParentVTPurchase||e==l.$f.Sales||this.isParentVTSales||e==l.$f.ReceiptNote||this.isParentVTReceiptNote||e==l.$f.CreditNote||this.isParentVTCreditNote||e==l.$f.DeliveryNote||this.isParentVTDeliveryNote||e==l.$f.DebitNote||this.isParentVTDebitNote||e==l.$f.SalesOrder||this.isParentVTSalesOrder||e==l.$f.PurchaseOrder||this.isParentVTPurchaseOrder?this.inventoryService.result.length>0?this.companyLedgerService.GetAllledaccount(!0):(this.inventoryService.resetService(),this.inventoryService.GetAlldata()):this.companyLedgerService.GetAllledaccount(!0)}LedgerKeyEvent(e,t,i,n,r){var o=e.key||e.keyCode;("C"==o||"c"==o)&&e.altKey&&this.openLedgerPopup(t,i,n),("Enter"==o||"enter"==o)&&e.ctrlKey&&this.openLedgerPopupforedit(t,r,i,n),e.stopPropagation(),e.preventDefault()}PurchaseLedgerKeyEvent(e,t,i,n,r){var o=e.key||e.keyCode;("C"==o||"c"==o)&&e.altKey&&this.openLedgerPopup(t,-1,n),("Enter"==o||"enter"==o)&&e.ctrlKey&&this.openLedgerPopupforedit(t,r,-2,n),e.stopPropagation(),e.preventDefault()}InventoryKeyEvent(e,t,i,n){var r=e.key||e.keyCode;("C"==r||"c"==r)&&e.altKey&&this.openInventoryPopup(t,i),("Enter"==r||"enter"==r)&&e.ctrlKey&&this.openInventoryPopupforedit(n),e.stopPropagation(),e.preventDefault()}TableVoucherspush(){const e=[l.$f.Contra.toLowerCase(),l.$f.Purchase.toLowerCase(),l.$f.CreditNote.toLowerCase(),l.$f.Receipt.toLowerCase(),l.$f.ReceiptNote.toLowerCase(),l.$f.PurchaseOrder.toLowerCase()],t=[l.$f.Payment.toLowerCase(),l.$f.DebitNote.toLowerCase(),l.$f.Journal.toLowerCase(),l.$f.Sales.toLowerCase(),l.$f.DeliveryNote.toLowerCase(),l.$f.SalesOrder.toLowerCase()];var i=new o.eK;i.TabIndex=i.Index+21,this.IsCRDR&&!this.IsItemVoucher&&(e.includes(this.resultVT)||e.includes(this.parentNameVT)?i.CRDR="Cr":(t.includes(this.resultVT)||t.includes(this.parentNameVT))&&(i.CRDR="Dr")),this.httpfunction.IsMobileview()||this.tableVouchers.push(i)}loadbindData(){if(this.getFromLedger(),this.getToLedger(),this.getTaxLedger(),this.getRoundLedger(),this.getTCSLedger(),this.getInventory(),this.getInventoryLedger(),null!=this.VoucherId&&this.VoucherId>0&&(this.tableVouchers=[],this.tableVoucherForInvnetory=[],this.isPageLoad=!0,this.loadEditData(this.VoucherId)),this.IsCRDR&&!this.IsItemVoucher)if(this.VoucherType==l.$f.Purchase||this.isParentVTPurchase||this.VoucherType==l.$f.CreditNote||this.isParentVTCreditNote||this.VoucherType==l.$f.Payment||this.isParentVTPayment){var e=this.ToLedger;this.ToLedger=this.FromLedger,this.FromLedger=e}else(this.accountService.singleresult.VT==l.$f.Purchase||this.isParentVTPurchase||this.accountService.singleresult.VT==l.$f.CreditNote||this.isParentVTCreditNote||this.accountService.singleresult.VT==l.$f.Payment||this.isParentVTPayment)&&(e=this.ToLedger,this.ToLedger=this.FromLedger,this.FromLedger=e);if(this.VoucherType==l.$f.PurchaseOrder||this.isParentVTPurchaseOrder||this.VoucherType==l.$f.SalesOrder||this.isParentVTSalesOrder||this.VoucherType==l.$f.DeliveryNote||this.isParentVTDeliveryNote||this.VoucherType==l.$f.ReceiptNote||this.isParentVTReceiptNote)this.tableVoucherForInvnetory=[],this.IsItemVoucher&&((t=new o.eK).InventoryTabIndex=t.Index+501,this.tableVoucherForInvnetory.push(t));else if((this.accountService.singleresult.VT==l.$f.PurchaseOrder||this.isParentVTPurchaseOrder||this.accountService.singleresult.VT==l.$f.SalesOrder||this.isParentVTSalesOrder||this.accountService.singleresult.VT==l.$f.DeliveryNote||this.isParentVTDeliveryNote||this.accountService.singleresult.VT==l.$f.ReceiptNote||this.isParentVTReceiptNote)&&this.IsItemVoucher){var t;(t=new o.eK).InventoryTabIndex=t.Index+501,this.tableVoucherForInvnetory.push(t)}}showhidecashcheque(e){this.Ispaymode=!(this.accountService.getCompanyData.CN!=this.accountService.technocompanyname||e!=l.$f.Receipt&&!this.isParentVTReceipt&&e!=l.$f.Payment&&!this.isParentVTPayment)}openChlnaddeditpopup(e){this.ChallanId=e,this.showChallanModal=!0,this.showChallanpopup=!1,this.httpfunction.IsMobileview()?this.challanModalM.hide():this.challanModal.hide()}openReceiptDeliveryeditpopup(e,t){this.ReceiptDeliveryVoucherId=e,this.ReceiptDeliveryVoucherType=t,this.showReceiptDeliveryModal=!0,this.ReceiptDeliveryAddEditModal.show()}openReceiptDelveiryeditpopup(){this.showReceiptDeliverynpopup=!0,this.ReceiptDeliveryModal.show()}closestatAdjustmentpopup(){this.showstatAdjustmentnpopup=!1,this.statAdjustmentModal.hide()}openstatAdjustmentpopup(){this.IsStatAdjust&&(this.showstatAdjustmentnpopup=!0,this.statAdjustmentModal.show(),this.gstlabel=this.statadjustment.GetTypeOfDuty(),this.natureOfAdjustmentlabel=this.statadjustment.GetNatureOfAdjustment())}getstatAdditionDetails(e){null!=e.UIDN&&null!=e.UIDN&&""!=e.UIDN&&(this.GSTAdditionalDetails="",this.additionalDetailslabel=this.statadjustment.GetAdditionDetails().filter(t=>t.NatureOfAdjustmentId==e.UIDN))}onchlnresponse(e){if(this.showChallanModal=!1,null!=e){let n=new o.qk;if(n.Amt=e.TA,n.ChId=e.UIDN,n.ChNo=e.CN,null!=this.companyLedgerService.singleresult.challan){var t=this.companyLedgerService.singleresult.challan.findIndex(t=>t.ChId==e.UIDN);this.companyLedgerService.singleresult.challan[t]=n}var i=this.curChallan.findIndex(t=>t.UIDN==e.UIDN);i>=0&&(this.curChallan[i].TA=e.TA,this.curChallan[i].CN=e.CN,this.curChallan[i].MtD=e.MtD,this.curChallan[i].InvNm=e.InvNm,this.curChallan[i].UA=e.UA,this.curChallan[i].Qty=e.Qty),this.selectChallan()}this.showChallanpopup=!0}onReceiptDeliveryresponse(e){if(null!=e){let n=new o.Hr;if(n.UIDN=e.UIDN,n.BNO=e.BNO,n.VNO=e.VNO,n.VDt=e.VDt,n.Amt=e.VT==l.$f.ReceiptNote||this.isParentVTReceiptNote?e.VDet.filter(e=>1==e.isMainled)[0].CrAmt:e.VDet.filter(e=>1==e.isMainled)[0].DrAmt,null!=this.companyLedgerService.singleresult.vouchers){var t=this.companyLedgerService.singleresult.vouchers.findIndex(t=>t.UIDN==e.UIDN);this.companyLedgerService.singleresult.vouchers[t]=n}var i=this.curReceiptDelivery.findIndex(t=>t.UIDN==e.UIDN);i>=0&&(this.curReceiptDelivery[i].InventoryDetails=e.InventoryDetails,this.curReceiptDelivery[i].BNO=e.BNO,this.curReceiptDelivery[i].VNO=e.VNO,this.curReceiptDelivery[i].VDt=e.VDt,this.curReceiptDelivery[i].Amt=n.Amt),this.selectReceiptDelivery()}this.showReceiptDeliveryModal=!1,this.ReceiptDeliveryAddEditModal.hide()}ngOnDestroy(){null!=this.subscription&&this.subscription.unsubscribe(),null!=this.challan_subscription&&this.challan_subscription.unsubscribe(),null!=this.ReceiptDelivery_subscription&&this.ReceiptDelivery_subscription.unsubscribe(),null!=this.costcenter_subscription&&this.costcenter_subscription.unsubscribe(),null!=this.gst_subscription&&this.gst_subscription.unsubscribe(),null!=this.inventory_subscription&&this.inventory_subscription.unsubscribe(),null!=this.subscription_natureTrans&&this.subscription_natureTrans.unsubscribe()}onModalEsc(e){e.stopPropagation(),e.preventDefault(),this.hide()}getsitestructuredetail(e){null!=e&&null!=e.UIDN&&null!=e.UIDN&&""!=e.UIDN&&(this.CompanyIdforReport>0&&(this.structureService.reportCompanyId=this.CompanyIdforReport),this.siteStrList=null,this.siteStrSingle=null,this.accountService.singleresult.StStrI=0,this.CostCategoryservice.singleresult=null,this.sfilter.STI=[e.UIDN],this.sfilter.available=1,this.structureService.filterArg=this.sfilter,this.structureService.GetAlldataWithReturn().subscribe(e=>{var t,i,n;e.m_Item2>0&&(this.BuildingCol=null===(t=e.m_Item1[1][0])||void 0===t?void 0:t.BuildingCol.replace("[","").replace("]",""),this.WingCol=null===(i=e.m_Item1[1][0])||void 0===i?void 0:i.WingCol.replace("[","").replace("]",""),this.FlatNoCol=null===(n=e.m_Item1[1][0])||void 0===n?void 0:n.FlatNoCol.replace("[","").replace("]",""),this.siteStrList=e.m_Item1[0],this.filteredData=[],this.filteredData=this.siteStrList.map(function(e){if(e.PK_Id>0&&null!=e.PK_Id)return{concatenatedString:(e[this.SiteName]?e[this.SiteName]:"")+(e[this.FlatNoCol]?" - FlatNoCol - "+e[this.FlatNoCol]:"")+(e[this.BuildingCol]?" - BuildingCol - "+e[this.BuildingCol]:"")+(e[this.WingCol]?" - WingCol - "+e[this.WingCol]:"")+(e[this.ReraArea]?" - ReraArea - "+e[this.ReraArea]:"")+(e[this.AgreementAmount]?" - AgreementAmount - "+e[this.AgreementAmount]:""),UIDN:e.PK_Id}},this).filter(Boolean),null!=this.VoucherId&&this.VoucherId>0&&this.accountService.singleresult.StStrI>0&&null!=this.accountService.singleresult.StStrI&&(this.siteStrSingle=this.filteredData.filter(e=>e.UIDN==this.accountService.singleresult.StStrI)[0]))}))}onDateSelect(e){this.accountService.singleresult.VDt=e}onDueDateSelect(e){this.accountService.singleresult.DDt=e}onbankrecoDateSelect(e){this.bankDetails[e.index].BRecoDt=e.startDate}onbankchkDateSelect(e){this.bankDetails[e.index].ChkDt=e.startDate}calculateBank(){var e,t,i,n,r=new Array,s=null;if(!this.IsCRDR||this.IsItemVoucher){if(null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult)return;if(this.companyLedgerService.singleresult.IsBank){let i=0;for(let e=0;e<this.tableVouchers.length;e++)i+=this.getNumeric(this.tableVouchers[e].DrAmt);for(let e=0;e<this.tableVoucherForInvnetory.length;e++)i+=this.getNumeric(this.tableVoucherForInvnetory[e].DrAmt);i+=this.SelectedTCSledger&&(null===(e=this.companyLedgerService.singleresult)||void 0===e?void 0:e.IsTCSAppl)?i*(null===(t=this.SelectedTCSledger)||void 0===t?void 0:t.TR)/100:0,(a=new o.eK).LId=this.companyLedgerService.singleresult.UIDN,a.L_Name=this.companyLedgerService.singleresult.LN,a.LedDet=new l.dJ,a.LedDet.UIDN=this.companyLedgerService.singleresult.UIDN,a.LedDet.LN=this.companyLedgerService.singleresult.LN,a.LedDet.IsBank=this.companyLedgerService.singleresult.IsBank,a.TCN=this.natureoftransaction,i>0?a.DrAmt=i:(a.CrAmt=i,a.CrAmt<0&&(a.CrAmt=-1*a.CrAmt)),r.push(JSON.parse(JSON.stringify(a)))}s=JSON.parse(JSON.stringify(this.tableVouchers.filter(e=>null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt)));for(let e=0;e<s.length;e++)s[e].DrAmt<0?(s[e].DrAmt=-1*s[e].DrAmt,s[e].CrAmt=0):(s[e].CrAmt=s[e].DrAmt,s[e].DrAmt=0);if(r=r.concat(s?JSON.parse(JSON.stringify(s)):[]),this.IsItemVoucher&&null!=this.PurchaseLedger){var a;(a=new o.eK).LId=this.PurchaseLedger.UIDN,a.L_Name=this.PurchaseLedger.LN,a.LedDet=new l.dJ,a.LedDet.UIDN=this.PurchaseLedger.UIDN,a.LedDet.LN=this.PurchaseLedger.LN,a.LedDet.IsBank=this.PurchaseLedger.IsBank,a.TCN=this.natureoftransaction,a.TaxLedger=[];var c=this.tableVouchers.filter(e=>null!=e.InventoryDetails&&null!=e.TaxLedger&&e.TaxLedger.length>0),d=this.tableVoucherForInvnetory.filter(e=>null!=e.TaxLedger&&e.TaxLedger.length>0),u=c.concat(d);for(let e=0;e<u.length;e++){let t=(null===(i=u[e])||void 0===i?void 0:i.TaxLedger)?JSON.parse(JSON.stringify(u[e].TaxLedger)):[];if(t.length>0)for(let i=0;i<t.length;i++)t[i].DrAmt=u[e].DrAmt,a.TaxLedger.push(t[i])}r.push(JSON.parse(JSON.stringify(a)))}}else{for(let e=0;e<this.tableVouchers.length;e++)null!=this.accountService.singleresult.referencemaster&&null!=this.accountService.singleresult.referencemaster&&null==this.tableVouchers[e].LedDet&&null==this.tableVouchers[e].LedDet&&(this.tableVouchers[e].DrAmt=null);r=this.tableVouchers.filter(e=>null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt||null!=e.CrAmt&&null!=e.CrAmt)}if(r.length>0){this.bankDetails=[];for(var h=0;h<r.length;h++){let e=0;var g=0,p=null;if((r[h].DrAmt>0||r[h].CrAmt>0)&&1==(null===(n=r[h].LedDet)||void 0===n?void 0:n.IsBank)&&(e=2,g=r[h].LedDet.UIDN,p=r[h].LedDet.LN),e>0){var f=null;if(2==e){if(f=new Array,0==r[h].DrAmt||null==r[h].DrAmt){if(this.VoucherType==l.$f.Contra||this.isParentVTContra||this.VoucherType==l.$f.Journal||this.isParentVTJournal||this.VoucherType==l.$f.Payment||this.isParentVTPayment)var m=r.filter(e=>e.LedDet.UIDN!=g&&e.DrAmt>0)[0];else m=r.filter(e=>e.LedDet.UIDN!=g&&0==e.LedDet.IsBank&&e.DrAmt>0)[0];null!=m&&null!=m&&f.push(m)}else null!=(m=this.VoucherType==l.$f.Contra||this.isParentVTContra||this.VoucherType==l.$f.Payment||this.isParentVTPayment?r.filter(e=>e.LedDet.UIDN!=g&&e.CrAmt>0)[0]:this.VoucherType==l.$f.Journal||this.isParentVTJournal?r.filter(e=>e.LedDet.UIDN!=g&&e.DrAmt>0)[0]:this.IsItemVoucher?r.filter(e=>null==e.InventoryDetails).filter(e=>e.LedDet.UIDN!=g)[0]:r.filter(e=>e.LedDet.UIDN!=g&&0==e.LedDet.IsBank&&e.CrAmt>0)[0])&&null!=m&&f.push(m);let e=new o.eK;var T=r[h];let t=0;if(e.DrAmt=this.getNumeric(T.DrAmt),e.TCN=this.natureoftransaction,null!=T.TaxLedger&&null!=T.TaxLedger)for(let i=0;i<T.TaxLedger.length;i++)1==T.TaxLedger[i].IsInclusive?(t+=this.getNumeric(T.DrAmt*T.TaxLedger[i].TR/100),e.DrAmt=e.DrAmt-this.getNumeric(T.DrAmt*T.TaxLedger[i].TR/100)):e.DrAmt=e.DrAmt+this.getNumeric(T.DrAmt*T.TaxLedger[i].TR/100);for(var v=0;v<f.length;v++){var I=this.bankDetails.filter(e=>e.BLId==g&&e.LId==f[v].LedDet.UIDN);let e=this.getNumeric(0==r[h].DrAmt||null==r[h].DrAmt?0:r[h].DrAmt),i=this.getNumeric(0==r[h].DrAmt||null==r[h].DrAmt?r[h].CrAmt:0);if(null!=f[v].TaxLedger&&null!=f[v].TaxLedger)for(let n=0;n<f[v].TaxLedger.length;n++)this.IsItemVoucher?0==i?1==f[v].TaxLedger[n].IsInclusive?(t+=this.getNumeric(f[v].TaxLedger[n].DrAmt*f[v].TaxLedger[n].TR/100),e-=this.getNumeric(f[v].TaxLedger[n].DrAmt*f[v].TaxLedger[n].TR/100)):e+=this.getNumeric(f[v].TaxLedger[n].DrAmt*f[v].TaxLedger[n].TR/100):1==f[v].TaxLedger[n].IsInclusive?(t+=this.getNumeric(f[v].CrAmt*f[v].TaxLedger[n].TR/100),i-=this.getNumeric(f[v].CrAmt*f[v].TaxLedger[n].TR/100)):i+=this.getNumeric(f[v].CrAmt*f[v].TaxLedger[n].TR/100):0==i?1==f[v].TaxLedger[n].IsInclusive?(t+=this.getNumeric(f[v].CrAmt*f[v].TaxLedger[n].TR/100),e-=this.getNumeric(f[v].CrAmt*f[v].TaxLedger[n].TR/100)):e+=this.getNumeric(f[v].CrAmt*f[v].TaxLedger[n].TR/100):1==f[v].TaxLedger[n].IsInclusive?(t+=this.getNumeric(f[v].DrAmt*f[v].TaxLedger[n].TR/100),i-=this.getNumeric(f[v].DrAmt*f[v].TaxLedger[n].TR/100)):i+=this.getNumeric(f[v].DrAmt*f[v].TaxLedger[n].TR/100);if(I.length>0)I[0].Led_Dr=this.getNumeric(I[0].Led_Dr)+this.getNumeric(e);else{let n=new o.oy;if(n.BankName="",n.TType="Cheque/DD",this.httpfunction.IsMobileview()&&(n.TType="0"),n.ChkDt=new Date,n.ChkNo="",n.BRecoDt=null,null!=this.accountService.singleresult.bankDetails&&null!=this.accountService.singleresult.bankDetails){var Z=this.accountService.singleresult.bankDetails.filter(e=>e.BLId==g&&e.LId==f[v].LedDet.UIDN);0==Z.length&&(Z=this.accountService.singleresult.bankDetails.filter(t=>(t.BLId==g||t.LId==f[v].LedDet.UIDN)&&t.Led_Dr==e)),0==Z.length&&(Z=this.accountService.singleresult.bankDetails.filter(e=>(e.BLId==g||e.LId==f[v].LedDet.UIDN)&&e.Led_Dr==f[v].DrAmt)),Z.length>0&&(n.BankName=Z[0].BankName,n.TType=Z[0].TType,n.ChkDt=Z[0].ChkDt,n.ChkNo=Z[0].ChkNo,n.BRecoDt=Z[0].BRecoDt,Z[0].Led_Dr=e)}if(n.InclusiveAmount=t,n.BLId=g,n.BL_Name=p,n.LId=f[v].LedDet.UIDN,n.L_Name=f[v].LedDet.LN,"Payment"===this.accountService.singleresult.VT)n.Led_Dr=0,n.Led_Cr=parseFloat(e.toFixed(2));else{let t,r=parseFloat(this.Totalroundoff.toFixed(2));t=r>=0?-r:Math.abs(r),n.Led_Dr=parseFloat(e.toFixed(2))+t,n.Led_Cr=parseFloat(i.toFixed(2))}n.bankTabIndex=this.bankDetails.length+1010,this.bankDetails.push(n)}}}}}}}onclear(){this.accountService.singleresult.StStrI=null}finalcalculation(){var e,t;if(this.isTCSApplExists=!0===(null===(e=this.companyLedgerService.singleresult)||void 0===e?void 0:e.IsTCSAppl),(!this.IsCRDR||this.IsItemVoucher)&&(null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult))return;if(this.IsItemVoucher)var i=this.tableVouchers.filter(e=>null!=e.InventoryDetails&&null!=e.InventoryDetails&&null!=e.rate&&null!=e.rate);else i=this.tableVouchers.filter(e=>null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt),this.IsCRDR&&(i=this.tableVouchers.filter(e=>null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt||null!=e.CrAmt&&null!=e.CrAmt&&0!=e.CrAmt));if(this.IsItemVoucher)for(let a=0;a<this.tableVoucherForInvnetory.length;a++)i=i.concat(this.tableVoucherForInvnetory[a]?this.tableVoucherForInvnetory[a]:[]);let n=0,r=0,o=0,s=0,l=0;for(let a=0;a<i.length;a++){let e=null;if(e=this.DebitOrCreditByCategory(!this.IsCRDR||this.IsItemVoucher?this.companyLedgerService.singleresult.Cat:i[a].LedDet.Cat,!0),this.IsItemVoucher){let t=0,c=0;if("DEBIT"==e?this.getNumeric(i[a].DrAmt)<0?(c=this.getNumeric(-1*i[a].DrAmt),n+=this.getNumeric(c)):(t=this.getNumeric(i[a].DrAmt),r+=this.getNumeric(t)):this.getNumeric(i[a].DrAmt)<0?(t=this.getNumeric(-1*i[a].DrAmt),r+=this.getNumeric(t)):(c=this.getNumeric(i[a].DrAmt),n+=this.getNumeric(c)),null!=i[a].TaxLedger&&null!=i[a].TaxLedger){for(let e=0;e<i[a].TaxLedger.length;e++)t>0&&(s+=this.getNumeric(t*i[a].TaxLedger[e].TR/100),i[a].TaxLedger[e].IsInclusive&&(l+=this.getNumeric(t*i[a].TaxLedger[e].TR/100))),c>0&&(o+=this.getNumeric(c*i[a].TaxLedger[e].TR/100),i[a].TaxLedger[e].IsInclusive&&(l+=this.getNumeric(c*i[a].TaxLedger[e].TR/100)));i[a].TaxTotal=o}if(null!=this.TaxLedgercommon&&this.TaxLedgercommon)for(let e=0;e<this.TaxLedgercommon.length;e++)t>0&&(s+=this.getNumeric(t*this.TaxLedgercommon[e].TR/100),this.TaxLedgercommon[e].IsInclusive&&(l+=this.getNumeric(t*this.TaxLedgercommon[e].TR/100))),c>0&&(o+=this.getNumeric(c*this.TaxLedgercommon[e].TR/100),this.TaxLedgercommon[e].IsInclusive&&(l+=this.getNumeric(c*this.TaxLedgercommon[e].TR/100)))}else{let t=0,c=0;if(this.IsCRDR)this.getNumeric(i[a].CrAmt)>0?(c=this.getNumeric(i[a].CrAmt),n+=this.getNumeric(c)):(t=this.getNumeric(i[a].DrAmt),r+=this.getNumeric(t));else if(i[a].LedDet.isTL?"DEBIT"==e?this.getNumeric(i[a].DrAmt)<0?o+=this.getNumeric(-1*i[a].DrAmt):s+=this.getNumeric(i[a].DrAmt):this.getNumeric(i[a].DrAmt)<0?s+=this.getNumeric(-1*i[a].DrAmt):o+=this.getNumeric(i[a].DrAmt):"DEBIT"==e?this.getNumeric(i[a].DrAmt)<0?(c=this.getNumeric(-1*i[a].DrAmt),n+=this.getNumeric(c)):(t=this.getNumeric(i[a].DrAmt),r+=this.getNumeric(t)):this.getNumeric(i[a].DrAmt)<0?(t=this.getNumeric(-1*i[a].DrAmt),r+=this.getNumeric(t)):(c=this.getNumeric(i[a].DrAmt),n+=this.getNumeric(c)),null!=i[a].TaxLedger&&null!=i[a].TaxLedger)for(let e=0;e<i[a].TaxLedger.length;e++)t>0&&(s+=this.getNumeric(t*i[a].TaxLedger[e].TR/100),i[a].TaxLedger[e].IsInclusive&&(l+=this.getNumeric(t*i[a].TaxLedger[e].TR/100))),c>0&&(o+=this.getNumeric(c*i[a].TaxLedger[e].TR/100),i[a].TaxLedger[e].IsInclusive&&(l+=this.getNumeric(c*i[a].TaxLedger[e].TR/100)))}let c=r-n,d=s-o,u=this.SelectedTCSledger?(c+d)*(null===(t=this.SelectedTCSledger)||void 0===t?void 0:t.TR)/100:0;this.Total=c>0?parseFloat((c-1*l).toString()).toFixed(2)+" Dr":parseFloat((-1*c-1*l).toString()).toFixed(2)+" Cr",this.TotalTax=d>0?parseFloat((1*d).toString()).toFixed(2)+" Dr":parseFloat((-1*d*1).toString()).toFixed(2)+" Cr",this.accountService.getCompanyData.IsTCSEn&&this.IsItemVoucher&&(this.TCSTotal=parseFloat(u.toString()).toFixed(2)),this.accountService.getCompanyData.ISDA&&this.IsItemVoucher&&(c+d+u>0?(this.formattedNumber=(0,A.uf)(c+d+u-l,this.locale,"1.0-0"),this.Totalroundoff=c+d+u-l-parseFloat(this.formattedNumber.replace(/,/g,"")),this.IsRoundOff=0!=this.Totalroundoff,this.RoundOFFTotal=this.Totalroundoff>0?parseFloat(this.Totalroundoff.toString()).toFixed(2)+" Dr":parseFloat((-1*this.Totalroundoff).toString()).toFixed(2)+" Cr"):(this.formattedNumber=(0,A.uf)(-1*(c+d+u)-l,this.locale,"1.0-0"),this.Totalroundoff=-1*(c+d+u)-l-parseFloat(this.formattedNumber.replace(/,/g,"")),this.IsRoundOff=0!=this.Totalroundoff,this.RoundOFFTotal=this.Totalroundoff>0?parseFloat(this.Totalroundoff.toString()).toFixed(2)+" Dr":parseFloat((-1*this.Totalroundoff).toString()).toFixed(2)+" Cr")),this.IsCRDR&&!this.IsItemVoucher?(this.GrandTotal=parseFloat((o+r).toString()).toFixed(2),this.GrandCRTotal=parseFloat((s+n).toString()).toFixed(2)):this.GrandTotal=c+d+u>0?this.Totalroundoff>0?parseFloat((1*(c+d+u-l-this.Totalroundoff)).toString()).toFixed(2)+" Dr":parseFloat((1*(c+d+u-this.Totalroundoff-l)).toString()).toFixed(2)+" Dr":this.Totalroundoff>0?parseFloat((1*(-1*(c+d+u)-l-this.Totalroundoff)).toString()).toFixed(2)+" Cr":parseFloat((1*(-1*(c+d+u)-this.Totalroundoff-l)).toString()).toFixed(2)+" Cr"}this.calculateBank()}finalcalculateMobile(){var e=null;this.IsItemVoucher||null==this.modalLedger?null!=this.modalInventory&&(e=this.modalInventory):e=this.modalLedger;let t=0,i=0,n=0,r=0,o=0;if(null!=e&&null!=e){e.DrAmt=this.modalDrAmt;let s=null;if(s=this.DebitOrCreditByCategory(e.Cat,!0),this.IsItemVoucher){let l=0,a=0;if("DEBIT"==s?this.getNumeric(e.DrAmt)<0?(a=this.getNumeric(-1*e.DrAmt),t+=this.getNumeric(a)):(l=this.getNumeric(e.DrAmt),i+=this.getNumeric(l)):this.getNumeric(e.DrAmt)<0?(l=this.getNumeric(-1*e.DrAmt),i+=this.getNumeric(l)):(a=this.getNumeric(e.DrAmt),t+=this.getNumeric(a)),null!=this.modalTaxLed&&null!=this.modalTaxLed){for(let e=0;e<this.modalTaxLed.length;e++)l>0&&(r+=this.getNumeric(l*this.modalTaxLed[e].TR/100),this.modalTaxLed[e].IsInclusive&&(o+=this.getNumeric(l*this.modalTaxLed[e].TR/100))),a>0&&(n+=this.getNumeric(a*this.modalTaxLed[e].TR/100),this.modalTaxLed[e].IsInclusive&&(o+=this.getNumeric(a*this.modalTaxLed[e].TR/100)));e.TaxTotal=n}}else{let l=0,a=0;if(this.IsCRDR)this.getNumeric(e.CrAmt)>0?(a=this.getNumeric(e.CrAmt),t+=this.getNumeric(a)):(l=this.getNumeric(e.DrAmt),i+=this.getNumeric(l));else if(e.isTL?"DEBIT"==s?this.getNumeric(e.DrAmt)<0?n+=this.getNumeric(-1*e.DrAmt):r+=this.getNumeric(e.DrAmt):this.getNumeric(e.DrAmt)<0?r+=this.getNumeric(-1*e.DrAmt):n+=this.getNumeric(e.DrAmt):"DEBIT"==s?this.getNumeric(e.DrAmt)<0?(a=this.getNumeric(-1*e.DrAmt),t+=this.getNumeric(a)):(l=this.getNumeric(e.DrAmt),i+=this.getNumeric(l)):this.getNumeric(e.DrAmt)<0?(l=this.getNumeric(-1*e.DrAmt),i+=this.getNumeric(l)):(a=this.getNumeric(e.DrAmt),t+=this.getNumeric(a)),null!=this.modalTaxLed&&null!=this.modalTaxLed)for(let e=0;e<this.modalTaxLed.length;e++)l>0&&(r+=this.getNumeric(l*this.modalTaxLed[e].TR/100),this.modalTaxLed[e].IsInclusive&&(o+=this.getNumeric(l*this.modalTaxLed[e].TR/100))),a>0&&(n+=this.getNumeric(a*this.modalTaxLed[e].TR/100),this.modalTaxLed[e].IsInclusive&&(o+=this.getNumeric(a*this.modalTaxLed[e].TR/100)))}}let s=i-t,l=r-n;this.MobileTotal=s>0?parseFloat((s-1*o).toString()).toFixed(2)+" Dr":parseFloat((-1*s-1*o).toString()).toFixed(2)+" Cr",this.MobileTotalTax=l>0?parseFloat((1*l).toString()).toFixed(2)+" Dr":parseFloat((-1*l*1).toString()).toFixed(2)+" Cr",this.accountService.getCompanyData.ISDA&&this.IsItemVoucher&&(s+l>0?(this.formattedNumber=(0,A.uf)(s+l-o,this.locale,"1.0-0"),this.Totalroundoff=s+l-o-parseFloat(this.formattedNumber.replace(/,/g,"")),this.IsRoundOff=0!=this.Totalroundoff,this.RoundOFFTotal=this.Totalroundoff>0?parseFloat(this.Totalroundoff.toString()).toFixed(2)+" Dr":parseFloat((-1*this.Totalroundoff).toString()).toFixed(2)+" Cr"):(this.formattedNumber=(0,A.uf)(-1*(s+l)-o,this.locale,"1.0-0"),this.Totalroundoff=-1*(s+l)-o-parseFloat(this.formattedNumber.replace(/,/g,"")),this.IsRoundOff=0!=this.Totalroundoff,this.RoundOFFTotal=this.Totalroundoff>0?parseFloat(this.Totalroundoff.toString()).toFixed(2)+" Dr":parseFloat((-1*this.Totalroundoff).toString()).toFixed(2)+" Cr")),this.MobileGrandTotal=this.IsCRDR&&!this.IsItemVoucher?(n+i).toString():s+l>0?this.Totalroundoff>0?parseFloat((1*(s+l-o-this.Totalroundoff)).toString()).toFixed(2)+" Dr":parseFloat((1*(s+l-this.Totalroundoff-o)).toString()).toFixed(2)+" Dr":this.Totalroundoff>0?parseFloat((1*(-1*(s+l)-o-this.Totalroundoff)).toString()).toFixed(2)+" Cr":parseFloat((1*(-1*(s+l)-this.Totalroundoff-o)).toString()).toFixed(2)+" Cr"}transform(e){return null!=e?e.replace(/,/g,""):""}setInventoryIndex(e){if(e.TaxLedger){const t=this.tableVouchers.findIndex(t=>t.Index===e.Index);if(-1!=t){let i=[];if(i=this.tableVouchers[t].TaxLedger,i)for(let n=0;n<this.tableVouchers[t].TaxLedger.length;n++)this.tableVouchers[t].TaxLedger[n]=Object.assign(Object.assign({},this.tableVouchers[t].TaxLedger[n]),{InventoryIndex:e.Index})}}}finaltaxcalculate(){}loadEditData(e){this.accountService.getById(e).subscribe(e=>{var t;this.accountService.singleresult=e,this.ReceiptDetails=this.accountService.singleresult.RecptDet,this.IsCRDR=!(0==e.IsCRDRET||null==e.IsCRDRET||null==e.IsCRDRET);const i=this.accountService.singleresult.VDet.filter(e=>e.IsTCSAppl);if(this.isTCSApplExists=i.length>0,this.IsItemVoucher=null!=this.accountService.singleresult.IsItVou&&null!=this.accountService.singleresult.IsItVou&&this.accountService.singleresult.IsItVou,(null!=e.BookingId||null!=e.BookingId)&&e.BookingId>0){const t=this.httpfunction.getStorage("_filterData");this.router.navigate(["/marketing/bookingform/"+e.BookingId+"/booking"]).then(()=>{t&&this.httpfunction.setStorage("_filterData",t)})}else{let i=e.StStrI;if(this.TaxAdjustment=this.accountService.singleresult.TA,this.GSTAdditionalDetails=this.accountService.singleresult.GAD,null!=this.TaxAdjustment&&null!=this.TaxAdjustment){this.IsStatAdjust=!0;var n=this.statadjustment.GetNatureOfAdjustment().filter(e=>e.Name==this.TaxAdjustment)[0];this.additionalDetailslabel=this.statadjustment.GetAdditionDetails().filter(e=>e.NatureOfAdjustmentId==n.UIDN)}if(this.bankDetails=JSON.parse(JSON.stringify(this.accountService.singleresult.bankDetails)),this.IsDuplicate&&(this.accountService.singleresult.UIDN=this.httpfunction.IsMobileview()?0:null,this.accountService.singleresult.bankDetails=[],this.bankDetails=[],this.accountService.singleresult.VNO="",this.accountService.singleresult.TVNO="",this.accountService.singleresult.TI=0,this.VoucherId=0),this.LedgerIdforReport>0){this.accountService.singleresult.UIDN=0,this.accountService.singleresult.bankDetails=[],this.bankDetails=[],this.accountService.singleresult.VNO="",this.accountService.singleresult.TVNO="",this.accountService.singleresult.TI=0,this.VoucherId=0,this.accountService.singleresult.CI=this.CompanyIdforReport.toString(),this.accountService.singleresult.VT=this.VoucherType,"Journal"==this.VoucherType?this.DRAmountforReport>0?(this.accountService.singleresult.VDet[1].isMainled=!0,this.accountService.singleresult.VDet[0].isMainled=!1):(this.accountService.singleresult.VDet[0].isMainled=!0,this.accountService.singleresult.VDet[1].isMainled=!1):(this.accountService.singleresult.VDet[1].isMainled=!0,this.accountService.singleresult.VDet[0].isMainled=!1);for(var r=0;r<this.accountService.singleresult.VDet.length;r++)this.accountService.singleresult.VDet[r].isMainled?("Payment"==this.VoucherType||"Receipt"==this.VoucherType?(this.accountService.singleresult.VDet[r].L_Name="",this.accountService.singleresult.VDet[r].LId=0,this.accountService.singleresult.VDet[r].L_PId=0,this.accountService.singleresult.VDet[r].L_Cat="",this.accountService.singleresult.VDet[r].L_anc=null,this.accountService.singleresult.VDet[r].CrAmt=this.CRAmountforReport,this.accountService.singleresult.VDet[r].DrAmt=this.DRAmountforReport):("Sales"==this.VoucherType||"Contra"==this.VoucherType||"Purchase"==this.VoucherType||"CreditNote"==this.VoucherType||"DebitNote"==this.VoucherType||"DeliveryNote"==this.VoucherType||"ReceiptNote"==this.VoucherType||"SalesOrder"==this.VoucherType||"PurchaseOrder"==this.VoucherType?this.accountService.singleresult.VDet[r].L_Name="":(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(e=>e.UIDN==this.LedgerIdforReport)[0],this.accountService.singleresult.VDet[r].L_Name=this.companyLedgerService.singleresult.LN,this.accountService.singleresult.VDet[r].LId=this.companyLedgerService.singleresult.UIDN,this.accountService.singleresult.VDet[r].L_PId=this.companyLedgerService.singleresult.PI,this.accountService.singleresult.VDet[r].L_Cat=this.companyLedgerService.singleresult.Cat,this.accountService.singleresult.VDet[r].L_anc=this.companyLedgerService.singleresult.ancestor),"Purchase"==this.VoucherType||"CreditNote"==this.VoucherType||"PurchaseOrder"==this.VoucherType||"ReceiptNote"==this.VoucherType?this.CRAmountforReport>0?(this.accountService.singleresult.VDet[r].DrAmt=this.DRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.CRAmountforReport):(this.accountService.singleresult.VDet[r].DrAmt=this.CRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.DRAmountforReport):"Sales"==this.VoucherType||"DebitNote"==this.VoucherType||"SalesOrder"==this.VoucherType||"DeliveryNote"==this.VoucherType?(this.accountService.singleresult.VDet[r].DrAmt=this.CRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.DRAmountforReport):"Contra"==this.VoucherType?(this.accountService.singleresult.VDet[r].DrAmt=this.DRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.CRAmountforReport):(this.accountService.singleresult.VDet[r].DrAmt=this.CRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.DRAmountforReport)),this.accountService.singleresult.STID=0):("Payment"==this.VoucherType||"Receipt"==this.VoucherType?(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(e=>e.UIDN==this.LedgerIdforReport)[0],this.accountService.singleresult.VDet[r].L_Name=this.companyLedgerService.singleresult.LN,this.accountService.singleresult.VDet[r].LId=this.companyLedgerService.singleresult.UIDN,this.accountService.singleresult.VDet[r].L_PId=this.companyLedgerService.singleresult.PI,this.accountService.singleresult.VDet[r].L_Cat=this.companyLedgerService.singleresult.Cat,this.accountService.singleresult.VDet[r].L_anc=this.companyLedgerService.singleresult.ancestor,"Receipt"==this.VoucherType?(this.accountService.singleresult.VDet[r].DrAmt=this.DRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.CRAmountforReport):(this.accountService.singleresult.VDet[r].DrAmt=this.CRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.DRAmountforReport)):(this.accountService.singleresult.VDet[r].L_Name="",this.accountService.singleresult.VDet[r].LId=0,this.accountService.singleresult.VDet[r].L_PId=0,this.accountService.singleresult.VDet[r].L_Cat="",this.accountService.singleresult.VDet[r].L_anc=null,"Purchase"==this.VoucherType||"CreditNote"==this.VoucherType||"ReceiptNote"==this.VoucherType?this.CRAmountforReport>0?(this.accountService.singleresult.VDet[r].DrAmt=this.DRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.CRAmountforReport):(this.accountService.singleresult.VDet[r].DrAmt=this.CRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.DRAmountforReport):"Sales"==this.VoucherType||"DebitNote"==this.VoucherType||"DeliveryNote"==this.VoucherType?this.DRAmountforReport>0?(this.accountService.singleresult.VDet[r].DrAmt=this.DRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.CRAmountforReport):(this.accountService.singleresult.VDet[r].DrAmt=this.CRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.DRAmountforReport):"Contra"==this.VoucherType||"Journal"==this.VoucherType?(this.accountService.singleresult.VDet[r].DrAmt=this.DRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.CRAmountforReport):(this.accountService.singleresult.VDet[r].DrAmt=this.CRAmountforReport,this.accountService.singleresult.VDet[r].CrAmt=this.DRAmountforReport)),this.accountService.singleresult.STID=0)}""!=e.STID&&null!=e.STID&&(this.siteService.singleresult=this.siteService.result.filter(t=>t.UIDN==e.STID)[0],null!=this.siteService.singleresult&&this.getsitestructuredetail(this.siteService.singleresult),this.accountService.singleresult.StStrI=i),""!=e.CCI&&null!=e.CCI&&(this.CostCategoryservice.singleresult=this.CostCategoryservice.result.filter(t=>t.UIDN==e.CCI)[0],this.accountService.singleresult.CCI=e.CCI),""!=e.fltno&&null!=e.fltno&&(this.accountService.singleresult.fltno=e.fltno),""!=e.Flr&&null!=e.Flr&&(this.accountService.singleresult.Flr=e.Flr),this.ReferendeIndex=this.accountService.singleresult.referencemaster.length;let m=new o.eK;if((!this.IsCRDR||this.IsItemVoucher)&&(m=this.accountService.singleresult.VDet.filter(e=>1==e.isMainled)[0]),this.IsItemVoucher){for(this.setInitialData(),r=0;r<this.accountService.singleresult.InventoryDetails.length;r++){let e=new o.eK;e.InventoryDetails=new d.F8;var s=this.accountService.singleresult.InventoryDetails[r];e.InventoryDetails=Object.assign(Object.assign({},this.inventoryService.result.filter(e=>e.UIDN==s.IId)[0]),{VoucherInvDetPkId:s.UIDN}),e.DrAmt=this.isVTSales||this.isVTDebitNote||this.isVTDeliveryNote||this.isVTSalesOrder?s.CrAmt:s.DrAmt,this.VoucherIndex+=r,e.Index=this.VoucherIndex,e.TabIndex=this.VoucherIndex+21,e.UN=e.InventoryDetails.UN,e.rate=s.Rt,e.actqty=s.ActQty,e.InventoryId=s.IId,e.Disc=s.Dis,e.VoucherInvDetPkId=s.UIDN,e.TaxLedger=new Array,e.godownsdetails=new Array;for(var a=0;a<this.accountService.singleresult.InventoryDetails[r].GodownDet.length;a++)this.accountService.singleresult.InventoryDetails[r].GodownDet[a].GodM=this.godownService.result.filter(e=>e.UIDN==this.accountService.singleresult.InventoryDetails[r].GodownDet[a].GId)[0],this.accountService.singleresult.InventoryDetails[r].GodownDet[a].operationType=2,this.accountService.singleresult.InventoryDetails[r].GodownDet[a].index=a+1,this.GodownIndex=a+1,this.BindBatchDetails(this.accountService.singleresult.InventoryDetails[r].GodownDet[a].GodM,this.accountService.singleresult.InventoryDetails[r].GodownDet[a].IId),e.godownsdetails.push(this.accountService.singleresult.InventoryDetails[r].GodownDet[a]);this.tableVouchers.push(e)}this.TaxLedgercommon=[];for(var c=0;c<this.accountService.singleresult.VDet.length;c++)if((p=this.accountService.singleresult.VDet[c]).IsROff)this.roundoffledger=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0],this.RoundOFFTotal=p.DrAmt>0?parseFloat(p.DrAmt.toString()).toFixed(2)+" Dr":parseFloat(p.DrAmt.toString()).toFixed(2)+" Cr";else if(this.IsDuplicate&&(p.challan=[]),m.LId==p.LId)this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0],0==this.LedgerIdforReport&&(this.companyLedgerService.singleresult.challan=p.challan);else if(0==p.isMainled&&0==p.IsTax&&1==p.IsSP){this.PurchaseLedger=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0];let e=new o.eK;this.tableVoucherForInvnetory.push(e)}else if(0==p.isMainled&&0==p.IsTax&&null==p.IsSP){let e=new o.eK;e.LedDet=new l.dJ,this.LedgerInventoryIndex+=1,1==this.LedgerInventoryIndex&&(this.tableVoucherForInvnetory=[]),e.Index=this.LedgerInventoryIndex,e.InventoryTabIndex=this.LedgerInventoryIndex+501,e.Index=c,e.PK_Id=p.PK_Id,e.VoucherMaster_PK_Id=p.VoucherMaster_PK_Id,e.LedDet.UIDN=p.LId,e.LId=p.LId,e.LedDet.LN=p.L_Name,e.LedDet.PI=p.L_PId,e.LedDet.Cat=p.L_Cat,e.LedDet.ancestor=p.L_anc,e.challan=p.challan,e.TaxLedgerId=p.TaxLedgerId,e.InventoryId=p.InventoryId,e.rate=p.UnitCost,e.TTA=p.TTA,e.TCN=p.TCN,e.DrAmt=this.isVTSales||this.isVTDebitNote||this.isVTDeliveryNote||this.isVTSalesOrder?p.CrAmt:p.DrAmt,this.tableVoucherForInvnetory.push(e)}else if(1==p.IsTax){let e;e=null==p.LId?null:this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0];let i=new o.eK;i.PK_Id=p.PK_Id,i.VoucherMaster_PK_Id=p.VoucherMaster_PK_Id,i.challan=p.challan,i.TaxLedgerId=p.TaxLedgerId,i.InventoryId=p.InventoryId,i.TCN=p.TCN;let n=this.DebitOrCreditByCategory(m.L_Cat,!0);if(null!=e)if(i.TaxLedger=null===(t=this.companyLedgerService.result.filter(e=>e.UIDN==p.TaxLedgerId))||void 0===t?void 0:t.map(e=>Object.assign(Object.assign({},e),{VoucherInvDetPkId:p.VoucherInvDetPkId})),null!=i.TaxLedger&&null!=i.TaxLedger&&i.TaxLedger.length>0)for(let t=0;t<i.TaxLedger.length;t++)if(-1!=(f=this.tableVoucherForInvnetory.findIndex(e=>e.LId==p.TaxLedgerId))){let e=this.DebitOrCreditByCategory(m.L_Cat,!0);if(i.TaxLedger=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId),null!=i.TaxLedger&&null!=i.TaxLedger&&i.TaxLedger.length>0){for(let t=0;t<i.TaxLedger.length;t++)if(i.TaxLedger[t].IsInclusive){let n=this.accountService.singleresult.VDet.filter(e=>e.LId==i.TaxLedger[t].UIDN)[0];i.DrAmt="DEBIT"==e?p.DrAmt+n.DrAmt:p.CrAmt+n.CrAmt}}else"DEBIT"==e?(i.DrAmt=p.DrAmt,0==i.DrAmt&&(i.DrAmt=-1*p.CrAmt)):(i.DrAmt=p.CrAmt,0==i.DrAmt&&(i.DrAmt=-1*p.DrAmt));i.TaxRate=p.TaxRate,i.TCN=p.TCN,this.tableVoucherForInvnetory[f].TaxLedger||(this.tableVoucherForInvnetory[f].TaxLedger=[]),this.tableVoucherForInvnetory[f].TaxLedger.push(i.TaxLedger[0])}else{if(i.TaxLedger[t].IsInclusive){let e=this.accountService.singleresult.VDet.filter(e=>e.LId==i.TaxLedger[t].UIDN)[0];i.DrAmt="DEBIT"==n?p.DrAmt+e.DrAmt:p.CrAmt+e.CrAmt}if(0==i.InventoryId||null==i.InventoryId)if(i.TaxLedger[t].TR=p.TaxRate,4==i.TaxLedger[t].IsTDSGst&&this.isTCSApplExists)this.SelectedTCSledger=null==i?void 0:i.TaxLedger[t];else{let e=this.TaxLedgercommon.concat(i.TaxLedger[t]?i.TaxLedger[t]:[]);this.TaxLedgercommon=e}}else"DEBIT"==n?(i.DrAmt=p.DrAmt,0==i.DrAmt&&(i.DrAmt=-1*p.CrAmt)):(i.DrAmt=p.CrAmt,0==i.DrAmt&&(i.DrAmt=-1*p.DrAmt));i.TaxRate=p.TaxRate,i.VoucherInvDetPkId=p.VoucherInvDetPkId,this.tableVouchersforedit.push(i)}for(r=0;r<this.tableVouchers.length;r++){var u=this.tableVouchersforedit.filter(e=>e.InventoryId==this.tableVouchers[r].InventoryId&&(e.VoucherInvDetPkId==this.tableVouchers[r].VoucherInvDetPkId||!e.VoucherInvDetPkId));if(null!=u&&null!=u&&u.length>0)for(a=0;a<u.length;a++)if(null!=u[a].TaxLedger&&null!=u[a].TaxLedger){const e=u[a].TaxLedger[0];if(e){const t=Object.assign(Object.assign({},e),{InventoryIndex:this.tableVouchers[r].Index});this.tableVouchers[r].TaxLedger.push(t)}}}if(0==this.LedgerInventoryIndex&&(this.tableVoucherForInvnetory=[],this.IsItemVoucher)){var h=new o.eK;h.InventoryTabIndex=h.Index+501,this.tableVoucherForInvnetory.push(h)}}else{if(this.VoucherType==l.$f.Purchase||this.isParentVTPurchase||this.VoucherType==l.$f.Sales||this.isParentVTSales)this.accountService.singleresult.VDet=this.accountService.singleresult.VDet.sort((e,t)=>e.isMainled===t.isMainled?0:e.isMainled?-1:1);else if(this.VoucherType==l.$f.Receipt||this.isParentVTReceipt||this.VoucherType==l.$f.Journal||this.isParentVTJournal){var g=this.accountService.singleresult.VDet.filter(e=>1==e.isMainled);g=g.concat(this.accountService.singleresult.VDet.filter(e=>0==e.isMainled)),this.accountService.singleresult.VDet=g}for(c=0;c<this.accountService.singleresult.VDet.length;c++){var p;if((p=this.accountService.singleresult.VDet[c]).IsROff)this.roundoffledger=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0],this.RoundOFFTotal=p.DrAmt>0?parseFloat(p.DrAmt.toString()).toFixed(2)+" Dr":parseFloat(p.DrAmt.toString()).toFixed(2)+" Cr";else if(this.IsDuplicate&&(p.challan=[]),m.LId==p.LId)this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0],0==this.LedgerIdforReport&&(this.companyLedgerService.singleresult.challan=p.challan);else if(this.IsCRDR){let e,t=new o.eK;t.LedDet=new l.dJ,null==p.LId?e=null:(e=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0],t.LedDet.isTL=e.isTL),this.VoucherIndex+=c,t.Index=this.VoucherIndex,t.TabIndex=this.VoucherIndex+21,t.Index=c,t.PK_Id=p.PK_Id,t.VoucherMaster_PK_Id=p.VoucherMaster_PK_Id,t.LedDet.UIDN=p.LId,t.LId=p.LId,t.LedDet.LN=p.L_Name,t.LedDet.PI=p.L_PId,t.LedDet.Cat=p.L_Cat,t.LedDet.ancestor=p.L_anc,t.challan=p.challan,t.TaxLedgerId=p.TaxLedgerId,t.InventoryId=p.InventoryId,t.TT=p.TT,t.TTA=p.TTA,t.TCN=p.TCN,t.IsTCSAppl=p.IsTCSAppl,t.TaxLedger=new Array;let i=this.DebitOrCreditByCategory(m.L_Cat,!0);if(null!=e){if(this.IsItemVoucher||(t.TaxLedger=this.companyLedgerService.result.filter(e=>e.UIDN==p.TaxLedgerId)),null!=t.TaxLedger&&null!=t.TaxLedger&&t.TaxLedger.length>0)for(let e=0;e<t.TaxLedger.length;e++)if(t.TaxLedger[e].IsInclusive){let n=this.accountService.singleresult.VDet.filter(i=>i.LId==t.TaxLedger[e].UIDN)[0];t.DrAmt="DEBIT"==i?p.DrAmt+n.DrAmt:p.CrAmt+n.CrAmt}else"DEBIT"==i?(t.DrAmt=p.DrAmt,0==t.DrAmt&&(t.DrAmt=-1*p.CrAmt)):(t.DrAmt=p.CrAmt,0==t.DrAmt&&(t.DrAmt=-1*p.DrAmt));this.VoucherType==l.$f.Purchase||this.isParentVTPurchase||this.VoucherType==l.$f.Sales||this.isParentVTSales||this.VoucherType==l.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==l.$f.Journal||this.isParentVTJournal||this.VoucherType==l.$f.Receipt||this.isParentVTReceipt||this.VoucherType==l.$f.ReceiptNote||this.isParentVTReceiptNote||this.VoucherType==l.$f.CreditNote||this.isParentVTCreditNote||this.VoucherType==l.$f.Payment||this.isParentVTPayment||this.VoucherType==l.$f.Contra||this.isParentVTContra||this.VoucherType==l.$f.SalesOrder||this.isParentVTSalesOrder||this.VoucherType==l.$f.PurchaseOrder||this.isParentVTPurchaseOrder?this.getNumeric(p.CrAmt)>0?(t.CRDR="Cr",t.CrAmt=this.getNumeric(p.CrAmt),t.DrAmt=0):(t.CRDR="Dr",t.DrAmt=this.getNumeric(p.DrAmt),t.CrAmt=0):this.getNumeric(p.CrAmt)>0?(t.CRDR="Dr",t.DrAmt=this.getNumeric(p.CrAmt),t.CrAmt=0):(t.CRDR="Cr",t.CrAmt=this.getNumeric(p.DrAmt),t.DrAmt=0),t.LedDet.IsBank=e.IsBank}t.TaxRate=p.TaxRate,this.tableVouchers.push(t)}else if(0==p.IsTax){let e,t=new o.eK;t.LedDet=new l.dJ,null==p.LId?e=null:(e=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0],null!=e&&(t.LedDet.isTL=e.isTL)),this.VoucherIndex+=c,t.Index=this.VoucherIndex,t.TabIndex=this.VoucherIndex+21,t.Index=c,t.PK_Id=p.PK_Id,t.VoucherMaster_PK_Id=p.VoucherMaster_PK_Id,t.LedDet.UIDN=p.LId,t.LId=p.LId,t.LedDet.LN=p.L_Name,t.LedDet.PI=p.L_PId,t.LedDet.Cat=p.L_Cat,t.LedDet.ancestor=p.L_anc,t.challan=p.challan,t.TaxLedgerId=p.TaxLedgerId,t.InventoryId=p.InventoryId,t.TCN=p.TCN,t.TaxLedger=new Array;let i=null;if(i=this.DebitOrCreditByCategory(this.IsCRDR?p.L_Cat:m.L_Cat,!0),null!=e){if(null!=t.TaxLedger&&null!=t.TaxLedger&&t.TaxLedger.length>0)for(let e=0;e<t.TaxLedger.length;e++)if(t.TaxLedger[e].IsInclusive){let n=this.accountService.singleresult.VDet.filter(i=>i.LId==t.TaxLedger[e].UIDN)[0];t.DrAmt="DEBIT"==i?p.DrAmt+n.DrAmt:p.CrAmt+n.CrAmt}else"DEBIT"==i?(t.DrAmt=p.DrAmt,0==t.DrAmt&&(t.DrAmt=-1*p.CrAmt)):(t.DrAmt=p.CrAmt,0==t.DrAmt&&(t.DrAmt=-1*p.DrAmt));else"DEBIT"==i?(t.DrAmt=p.DrAmt,0==t.DrAmt&&(t.DrAmt=-1*p.CrAmt)):(t.DrAmt=p.CrAmt,0==t.DrAmt&&(t.DrAmt=-1*p.DrAmt));t.LedDet.IsBank=e.IsBank}t.TaxRate=p.TaxRate,this.tableVouchers.push(t)}else if(1==p.IsTax){var f;if(-1!=(f=this.tableVouchers.findIndex(e=>e.LId==p.TaxLedgerId))){let e=new o.eK,t=this.DebitOrCreditByCategory(m.L_Cat,!0);if(e.TaxLedger=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId),null!=e.TaxLedger&&null!=e.TaxLedger&&e.TaxLedger.length>0){for(let i=0;i<e.TaxLedger.length;i++)if(e.TaxLedger[i].IsInclusive){let n=this.accountService.singleresult.VDet.filter(t=>t.LId==e.TaxLedger[i].UIDN)[0];e.DrAmt="DEBIT"==t?p.DrAmt+n.DrAmt:p.CrAmt+n.CrAmt}}else"DEBIT"==t?(e.DrAmt=p.DrAmt,0==e.DrAmt&&(e.DrAmt=-1*p.CrAmt)):(e.DrAmt=p.CrAmt,0==e.DrAmt&&(e.DrAmt=-1*p.DrAmt));e.TaxRate=p.TaxRate,e.TCN=p.TCN,this.tableVouchers[f].TaxLedger.push(e.TaxLedger[0])}else{let e,t=new o.eK;t.LedDet=new l.dJ,null==p.LId?e=null:(e=this.companyLedgerService.result.filter(e=>e.UIDN==p.LId)[0],t.LedDet.isTL=e.isTL),this.VoucherIndex+=c,t.Index=this.VoucherIndex,t.TabIndex=this.VoucherIndex+21,t.Index=c,t.PK_Id=p.PK_Id,t.VoucherMaster_PK_Id=p.VoucherMaster_PK_Id,t.LedDet.UIDN=p.LId,t.LId=p.LId,t.LedDet.LN=p.L_Name,t.LedDet.PI=p.L_PId,t.LedDet.Cat=p.L_Cat,t.LedDet.ancestor=p.L_anc,t.challan=p.challan,t.TaxLedgerId=p.TaxLedgerId,t.InventoryId=p.InventoryId,t.TCN=p.TCN,t.TaxLedger=new Array;let i=null;i=this.DebitOrCreditByCategory(this.IsCRDR?p.L_Cat:m.L_Cat,!0),null!=e&&("DEBIT"==i?(t.DrAmt=p.DrAmt,0==t.DrAmt&&(t.DrAmt=-1*p.CrAmt)):(t.DrAmt=p.CrAmt,0==t.DrAmt&&(t.DrAmt=-1*p.DrAmt))),t.LedDet.IsBank=e.IsBank,t.TaxRate=p.TaxRate,t.TCN=p.TCN,this.tableVouchers.push(t)}}}}this.finalcalculation()}},()=>{this.alertService.showError("Error","There is some error while getting voucher. Please try again!"),this.router.navigate(["/transactions/daybook"])})}resetVariables(){this.Totalroundoff=0,this.IsRoundOff=!1,this.IsItemVoucher=!1,null!=this.bankModal&&(this.bankModal.hide(),this.showBankpopup=!1),null!=this.statAdjustmentModal&&(this.statAdjustmentModal.hide(),this.showstatAdjustmentnpopup=!1),null!=this.challanModal&&(this.challanModal.hide(),this.showChallanpopup=!1),null!=this._inventoryModal&&(this._inventoryModal.hide(),this.isInventorypopupopen=!1),null!=this.BatchModal&&this.BatchModal.hide(),null!=this.BatchModalM&&this.BatchModalM.hide(),null!=this.JournalStatAdjustmentModal&&this.JournalStatAdjustmentModal.hide(),null!=this.RefModal&&(this.RefModal.hide(),this.showReferencepopup=!1),null!=this.RefModalM&&(this.RefModalM.hide(),this.showReferencepopup=!1),this.companyLedgerService.singleresult=null,this.FromLedger=[],this.ToLedger=[],this.InventoryLedger=[],this.ToInventory=[],this.TaxLedger=[],this.AccountText="",this.AccountInventoryText="",this.TaxAdjustment="",this.GSTAdditionalDetails="",this.tableVouchers=[],this.tableVouchersforedit=[],this.taxcommonledgerDetails=[],this.taxledgerDetails=[],this.tableChallan=[],this.VoucherId=0,this.IsDuplicate=!1,this.curChallan=[],this.curReference=[],this.allagainstRefList=[],this.LedagainstRefList=[],this.godownPopupDetails=[],this.siteService.singleresult=null,this.structureService.singleresult=null,this.CostCategoryservice.singleresult=null,this.accountService.singleresult=new o.VN,this.bankDetails=[],this.accountService.singleresult.VDt=new Date,this.MobileTotal="0.0 Dr",this.TotalTax="0.0 Dr",this.MobileTotalTax="0.0 Dr",this.Total="0.0 Dr",this.GrandTotal="0.0 Dr",this.GrandCRTotal="0.0 Dr",this.RoundOFFTotal="0.0 Dr",this.JournalstatAdjustmentIndex=null,this.TaxRate=null,this.TotalAmount=null,this.formattedNumber=null,this.IsCRDR=!1,this.IsShowLedger=!1,this.taxxxledger=null,this.VoucherIndex=0,this.LedgerInventoryIndex=0,this.TopurchaseTaxLedger=[],this.ToInventoryTaxLedger=[],this.RoundLedger=[],this.TCSLedger=[],this.TaxLedgercommon=[],this.roundoffledger=null,this.SelectedTCSledger=null,this.tableVoucherForInvnetory=[],this.gstdetails=[],this.tableVoucherReceiptDelivery=[],this.curGodown=[],this.InventoryRate=0,this.GodownIndex=0,this.ReferendeIndex=0,this.InventorycurrentIndex=0,this.gstlabel=null,this.natureOfAdjustmentlabel=null,this.additionalDetailslabel=null,this.BatchMaster=null,this.IsStatAdjust=!1}setInitialData(){let e=this.VoucherTypeList.findIndex(e=>e.NA==this.accountService.singleresult.VT);-1!=e&&(this.ParentNAmeOfVT=this.VoucherTypeList[e].PN),this.resultVT=this.accountService.singleresult.VT.toLowerCase(),this.parentNameVT=this.ParentNAmeOfVT.toLowerCase(),this.isVTJournal=this.resultVT==l.$f.Journal.toLowerCase(),this.isVTDebitNote=this.resultVT==l.$f.DebitNote.toLowerCase(),this.isVTSales=this.resultVT==l.$f.Sales.toLowerCase(),this.isVTDeliveryNote=this.resultVT==l.$f.DeliveryNote.toLowerCase(),this.isVTSalesOrder=this.resultVT==l.$f.SalesOrder.toLowerCase(),this.isVTCreditNote=this.resultVT==l.$f.CreditNote.toLowerCase(),this.isVTPurchase=this.resultVT==l.$f.Purchase.toLowerCase(),this.isVTReceiptNote=this.resultVT==l.$f.ReceiptNote.toLowerCase(),this.isVTPurchaseOrder=this.resultVT==l.$f.PurchaseOrder.toLowerCase(),this.isVTReceipt=this.resultVT==l.$f.Receipt.toLowerCase(),this.isVTContra=this.resultVT==l.$f.Contra.toLowerCase(),this.isVTPayment=this.resultVT==l.$f.Payment.toLowerCase(),this.isParentVTJournal=this.parentNameVT==l.$f.Journal.toLowerCase(),this.isParentVTDebitNote=this.parentNameVT==l.$f.DebitNote.toLowerCase(),this.isParentVTSales=this.parentNameVT==l.$f.Sales.toLowerCase(),this.isParentVTDeliveryNote=this.parentNameVT==l.$f.DeliveryNote.toLowerCase(),this.isParentVTSalesOrder=this.parentNameVT==l.$f.SalesOrder.toLowerCase(),this.isParentVTCreditNote=this.parentNameVT==l.$f.CreditNote.toLowerCase(),this.isParentVTPurchase=this.parentNameVT==l.$f.Purchase.toLowerCase(),this.isParentVTReceiptNote=this.parentNameVT==l.$f.ReceiptNote.toLowerCase(),this.isParentVTPurchaseOrder=this.parentNameVT==l.$f.PurchaseOrder.toLowerCase(),this.isParentVTReceipt=this.parentNameVT==l.$f.Receipt.toLowerCase(),this.isParentVTContra=this.parentNameVT==l.$f.Contra.toLowerCase(),this.isParentVTPayment=this.parentNameVT==l.$f.Payment.toLowerCase(),this.AccountText="",this.vouchertypeclass=this.accountService.singleresult.VT.toLowerCase().replace(/\s/g,""),this.isVTPurchase||this.isVTDebitNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTDebitNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.IsItemVoucher?(this.AccountText="Party A/c Name",this.AccountInventoryText="Purchase Ledger"):this.AccountText="Party Name":this.isVTSales||this.isVTCreditNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder?this.IsItemVoucher?(this.AccountText="Party A/c Name",this.AccountInventoryText="Sales Ledger"):this.AccountText="Customer":this.isVTReceipt||this.isParentVTReceipt?this.AccountText="Receipt In Account":this.isVTPayment||this.isParentVTPayment?this.AccountText="Payment From":this.isVTJournal||this.isParentVTJournal?this.AccountText="Deposit To":(this.isVTContra||this.isParentVTContra)&&(this.AccountText="Deposit In"),this.getFromLedger(),this.getToLedger(),this.getTaxLedger(),this.getInventory(),this.getInventoryLedger(),this.TransactionredirectOnCancel&&this.filterService.hideQuickFilter(!1,!1,this.accountService.singleresult.VT,!1)}getFromLedger(){this.isVTSales||this.isVTCreditNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder?this.FromLedger=this.companyLedgerService.result.filter(e=>(1==e.IsBank||1==e.IsCash||1==e.IsSD)&&0==e.IsGrp&&1==e.St):this.isVTPurchase||this.isVTDebitNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTDebitNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.FromLedger=this.companyLedgerService.result.filter(e=>(1==e.IsBank||1==e.IsCash||1==e.IsSC)&&0==e.IsGrp&&1==e.St):this.isVTPayment||this.isVTReceipt||this.isVTContra||this.isParentVTPayment||this.isParentVTReceipt||this.isParentVTContra?this.FromLedger=this.companyLedgerService.result.filter(e=>(1==e.IsBank||1==e.IsCash)&&0==e.IsGrp&&1==e.St):(this.isVTJournal||this.isParentVTJournal)&&(this.FromLedger=this.companyLedgerService.result.filter(e=>0==e.IsGrp&&1==e.St))}changeItem(){var e;this.tableVouchers=[],this.httpfunction.IsMobileview()?this.setInitialData():((e=new o.eK).TabIndex=e.Index+21,this.tableVouchers.push(e),this.IsCRDR&&!this.IsItemVoucher&&(this.VoucherType.toLowerCase()==l.$f.Contra.toLowerCase()||this.isParentVTContra||this.VoucherType.toLowerCase()==l.$f.Purchase.toLowerCase()||this.isParentVTPurchase||this.VoucherType.toLowerCase()==l.$f.CreditNote.toLowerCase()||this.isParentVTCreditNote||this.VoucherType.toLowerCase()==l.$f.PurchaseOrder.toLowerCase()||this.isParentVTPurchaseOrder||this.VoucherType.toLowerCase()==l.$f.Receipt.toLowerCase()||this.isParentVTReceipt||this.VoucherType.toLowerCase()==l.$f.ReceiptNote.toLowerCase()||this.isParentVTReceiptNote?this.tableVouchers[0].CRDR="Cr":(this.VoucherType.toLowerCase()==l.$f.Payment.toLowerCase()||this.isParentVTPayment||this.VoucherType.toLowerCase()==l.$f.DebitNote.toLowerCase()||this.isParentVTDebitNote||this.VoucherType.toLowerCase()==l.$f.Journal.toLowerCase()||this.isParentVTJournal||this.VoucherType.toLowerCase()==l.$f.Sales.toLowerCase()||this.isParentVTSales||this.VoucherType.toLowerCase()==l.$f.SalesOrder.toLowerCase()||this.isParentVTSalesOrder||this.VoucherType.toLowerCase()==l.$f.DeliveryNote.toLowerCase()||this.isParentVTDeliveryNote)&&(this.tableVouchers[0].CRDR="Dr")),this.setInitialData(),this.tableVoucherForInvnetory=[],this.IsItemVoucher&&((e=new o.eK).InventoryTabIndex=e.Index+501,this.tableVoucherForInvnetory.push(e)))}capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}getToLedger(){this.isVTPurchase||this.isVTDebitNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTDebitNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?(this.ToLedger=this.companyLedgerService.result.filter(e=>1==e.IsPU&&0==e.IsGrp&&1==e.St),this.IsShowLedger&&(this.ToLedger=this.companyLedgerService.result.filter(e=>0==e.IsGrp&&1==e.St))):this.isVTSales||this.isVTCreditNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder?(this.ToLedger=this.companyLedgerService.result.filter(e=>1==e.IsSL&&0==e.IsGrp&&1==e.St),this.IsShowLedger&&(this.ToLedger=this.companyLedgerService.result.filter(e=>0==e.IsGrp&&1==e.St))):this.isVTPayment||this.isVTReceipt||this.isVTJournal||this.isParentVTPayment||this.isParentVTReceipt||this.isParentVTJournal?this.ToLedger=this.companyLedgerService.result.filter(e=>0==e.IsGrp&&1==e.St):(this.isVTContra||this.isParentVTContra)&&(this.ToLedger=this.companyLedgerService.result.filter(e=>(1==e.IsBank||1==e.IsCash)&&0==e.IsGrp&&1==e.St))}getRoundLedger(){this.RoundLedger=this.companyLedgerService.result.filter(e=>1==e.IsROff&&0==e.IsGrp&&1==e.St)}getTCSLedger(){this.TCSLedger=this.companyLedgerService.result.filter(e=>1==e.isTL&&0==e.IsGrp&&4==e.IsTDSGst&&1==e.St)}getTaxLedger(){this.TaxLedger=this.companyLedgerService.result.filter(e=>1==e.isTL&&0==e.IsGrp&&1==e.St)}getInventoryLedger(){this.accountService.singleresult.VT.toLowerCase()==l.$f.Sales.toLowerCase()||this.isParentVTSales||this.accountService.singleresult.VT.toLowerCase()==l.$f.DebitNote.toLowerCase()||this.isParentVTDebitNote||this.accountService.singleresult.VT.toLowerCase()==l.$f.SalesOrder.toLowerCase()||this.isParentVTSalesOrder?this.InventoryLedger=this.companyLedgerService.result.filter(e=>!((e.IsBank||e.IsCash||e.IsSD||e.IsSC||e.IsPU||e.isTL||e.IsROff||"Profit & Loss A/c"==e.LN||null!=e.State)&&1!=e.IsSL||0!=e.IsGrp||1!=e.St)):(this.accountService.singleresult.VT.toLowerCase()==l.$f.Purchase.toLowerCase()||this.isParentVTPurchase||this.accountService.singleresult.VT.toLowerCase()==l.$f.CreditNote.toLowerCase()||this.isParentVTCreditNote||this.accountService.singleresult.VT.toLowerCase()==l.$f.PurchaseOrder.toLowerCase()||this.isParentVTPurchaseOrder)&&(this.InventoryLedger=this.companyLedgerService.result.filter(e=>!((e.IsBank||e.IsCash||e.IsSD||e.IsSC||e.IsPU||e.isTL||e.IsROff||"Profit & Loss A/c"==e.LN||null!=e.State)&&1!=e.IsPU||0!=e.IsGrp||1!=e.St)))}getInventory(){this.ToInventory=this.inventoryService.result.filter(e=>1==e.St)}getinventorytaxledger(e,t){this.gstdetails=[],null!=e?(this.accountService.showMessage=!1,this.accountService.GetAllGSTDetails(e.UIDN).subscribe(i=>{this.gstdetails=i.data,null!=this.gstdetails?this.IsPurchaseTaxAvailable||(this.isVTPurchase||this.isVTCreditNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTCreditNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.ToInventoryTaxLedger=this.gstdetails.filter(t=>t.IId==e.UIDN&&1==t.ISPS):(this.isVTSales||this.isVTDebitNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&(this.ToInventoryTaxLedger=this.gstdetails.filter(t=>t.IId==e.UIDN&&2==t.ISPS))):this.ToInventoryTaxLedger=[],this.BindInventoryDetails(t)})):(this.ToInventoryTaxLedger=[],this.BindInventoryDetails(t))}onImageAdd(e){this.accountService.singleresult.UploadImages=[];for(let t=0;t<e.length;t++){let i=new a.Q;i.VoucherMaster_PK_Id=e[t].VoucherMaster_PK_Id,i.PK_Id=e[t].PK_Id,i.name=e[t].name,i.operationType=e[t].operationType,i.src=e[t].src,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.accountService.userid,i.modifyBy=this.accountService.userid,i.CompanyId=this.accountService.getCompanyId,i.SignupId=this.accountService.getSignupId,i.FileLength=null==e[t].PK_Id?e[t].size:e[t].FileLength,this.accountService.singleresult.UploadImages.push(i)}}isNumeric(e){return null!=e&&/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(e.toString())}getNumeric(e){return this.isNumeric(e)?(e=parseFloat(e),parseFloat(e.toFixed(2))):parseFloat("0")}getPositiveNumeric(e){let t=this.getNumeric(e);return t<0?-1*t:t}adddNewItemVoucherAccount(){if(this.httpfunction.IsMobileview())this.modalLedgerIndex=-1,this.modalDrAmt=null,this.modalLedger=null,this.modalRate=null,this.addItemModalVoucher.show();else{let e=this.tableVoucherForInvnetory.length-1;if(null!=this.tableVouchers[e].LedDet&&null!=this.tableVouchers[e].LedDet){this.tableVouchers.push(new o.eK),this.VoucherIndex=this.VoucherIndex+1,this.tableVouchers[e+1].Index=this.VoucherIndex,this.tableVouchers[e+1].TabIndex=this.VoucherIndex+21;let t=0;if(this.IsCRDR&&!this.IsItemVoucher)if("Cr"==this.tableVouchers[e].CRDR){for(let e=0;e<this.tableVouchers.length;e++)this.tableVouchers[e].DrAmt>0?t-=this.getNumeric(this.tableVouchers[e].DrAmt):t+=this.getNumeric(this.tableVouchers[e].CrAmt);t<0?(this.tableVouchers[e+1].CRDR="Cr",this.tableVouchers[e+1].CrAmt=-1*t):(this.tableVouchers[e+1].CRDR="Dr",this.tableVouchers[e+1].DrAmt=t)}else{for(let e=0;e<this.tableVouchers.length;e++)this.tableVouchers[e].DrAmt>0?t-=this.getNumeric(this.tableVouchers[e].DrAmt):t+=this.getNumeric(this.tableVouchers[e].CrAmt);t<0?(this.tableVouchers[e+1].CRDR="Cr",this.tableVouchers[e+1].CrAmt=-1*t):(this.tableVouchers[e+1].CRDR="Dr",this.tableVouchers[e+1].DrAmt=t)}}null!=this.tableVouchers[e].InventoryDetails&&null!=this.tableVouchers[e].InventoryDetails&&(this.tableVouchers.push(new o.eK),this.VoucherIndex=this.VoucherIndex+1,this.tableVouchers[e+1].Index=this.VoucherIndex,this.tableVouchers[e+1].TabIndex=this.VoucherIndex+21)}}adddNewTransaction(){if(this.httpfunction.IsMobileview())this.modalLedgerIndex=-1,null!=this.tableVouchers&&(0==this.tableVouchers.length&&null==this.accountService.singleresult.referencemaster||this.tableVouchers.length>0)&&(this.modalDrAmt=null),this.modalCrAmt=null,this.isVTContra||this.isVTPurchase||this.isVTPurchaseOrder||this.isVTCreditNote||this.isVTReceipt||this.isVTReceiptNote||this.isParentVTContra||this.isParentVTPurchase||this.isParentVTPurchaseOrder||this.isParentVTCreditNote||this.isParentVTReceipt||this.isParentVTReceiptNote?this.modalCrDr="Cr":(this.isVTPayment||this.isVTDebitNote||this.isVTJournal||this.isVTSales||this.isVTSalesOrder||this.isParentVTPayment||this.isParentVTDebitNote||this.isParentVTJournal||this.isParentVTSales||this.isParentVTSalesOrder)&&(this.modalCrDr="Dr"),this.modalQty=null,this.modalRate=null,this.modalDis=null,this.modalLedger=null,this.modalTaxLed=null,this.modalInventory=null,this.godownPopupDetails=null,this.ChangeCrDrMobile(),this.MobileTotal="0.0 Dr",this.MobileTotalTax="0.0 Dr",this.MobileGrandTotal="0.0 Dr",this.addItemModal.show();else{let e=this.tableVouchers.length-1;if(null!=this.tableVouchers[e].LedDet&&null!=this.tableVouchers[e].LedDet){this.tableVouchers.push(new o.eK),this.VoucherIndex=this.VoucherIndex+1,this.tableVouchers[e+1].Index=this.VoucherIndex,this.tableVouchers[e+1].TabIndex=this.VoucherIndex+21;let t=0;if(this.IsCRDR&&!this.IsItemVoucher)if("Cr"==this.tableVouchers[e].CRDR){for(let e=0;e<this.tableVouchers.length;e++)this.tableVouchers[e].DrAmt>0?t-=this.getNumeric(this.tableVouchers[e].DrAmt):t+=this.getNumeric(this.tableVouchers[e].CrAmt);t<0?(this.tableVouchers[e+1].CRDR="Cr",this.tableVouchers[e+1].CrAmt=-1*t):(this.tableVouchers[e+1].CRDR="Dr",this.tableVouchers[e+1].DrAmt=t)}else{for(let e=0;e<this.tableVouchers.length;e++)this.tableVouchers[e].DrAmt>0?t-=this.getNumeric(this.tableVouchers[e].DrAmt):t+=this.getNumeric(this.tableVouchers[e].CrAmt);t<0?(this.tableVouchers[e+1].CRDR="Cr",this.tableVouchers[e+1].CrAmt=-1*t):(this.tableVouchers[e+1].CRDR="Dr",this.tableVouchers[e+1].DrAmt=t)}}null!=this.tableVouchers[e].InventoryDetails&&null!=this.tableVouchers[e].InventoryDetails&&(this.tableVouchers.push(new o.eK),this.VoucherIndex=this.VoucherIndex+1,this.tableVouchers[e+1].Index=this.VoucherIndex,this.tableVouchers[e+1].TabIndex=this.VoucherIndex+21)}}ChangeCrDrMobile(){let e=this.tableVouchers.length-1;if(e>-1){let t=0;if(this.IsCRDR&&!this.IsItemVoucher)if("Cr"==this.tableVouchers[e].CRDR){for(let e=0;e<this.tableVouchers.length;e++)this.tableVouchers[e].DrAmt>0?t-=this.getNumeric(this.tableVouchers[e].DrAmt):t+=this.getNumeric(this.tableVouchers[e].CrAmt);t<0?(this.modalCrDr="Cr",this.modalCrAmt=-1*t):(this.modalCrDr="Dr",this.modalDrAmt=t)}else{for(let e=0;e<this.tableVouchers.length;e++)this.tableVouchers[e].DrAmt>0?t-=this.getNumeric(this.tableVouchers[e].DrAmt):t+=this.getNumeric(this.tableVouchers[e].CrAmt);t<0?(this.modalCrDr="Cr",this.modalCrAmt=-1*t):(this.modalCrDr="Dr",this.modalDrAmt=t)}}}showVouchers(e){this.modalLedgerIndex=e;var t=this.tableVouchers[e];return this.modalLedger=t.LedDet,this.modalDrAmt=t.DrAmt,this.modalCrAmt=t.CrAmt,this.modalTaxLed=t.TaxLedger,this.modalInventory=t.InventoryDetails,this.modalQty=t.actqty,this.modalRate=t.rate,this.modalDis=t.Disc,this.modalCrDr=t.CRDR,this.godownPopupDetails=t.godownsdetails,this.finalcalculateMobile(),this.addItemModal.show(),!0}showItemVouchers(e){this.modalLedgerIndex=e;var t=this.tableVoucherForInvnetory[e];return this.modalLedger=t.LedDet,this.modalRate=t.rate,this.modalDrAmt=t.DrAmt,this.modalInventory=t.InventoryDetails,this.addItemModalVoucher.show(),!0}adddNewLedgerTransaction(){{let e=this.tableVoucherForInvnetory.length-1;null!=this.tableVoucherForInvnetory[e].LedDet&&null!=this.tableVoucherForInvnetory[e].LedDet&&(this.tableVoucherForInvnetory.push(new o.eK),this.LedgerInventoryIndex=this.LedgerInventoryIndex+1,this.tableVoucherForInvnetory[e+1].Index=this.LedgerInventoryIndex,this.tableVoucherForInvnetory[e+1].InventoryTabIndex=this.LedgerInventoryIndex+501)}}addItemfromModal(e){if(this.fitemItem.valid){let i=this.tableVouchers.length-1;var t=new o.eK;if(this.modalLedgerIndex>=0&&(i=this.modalLedgerIndex,t=this.tableVouchers[i]),t.LedDet=this.modalLedger,t.DrAmt=this.modalDrAmt,t.CrAmt=this.modalCrAmt,t.InventoryDetails=this.modalInventory,t.godownsdetails=this.godownPopupDetails,t.actqty=this.modalQty,t.rate=this.modalRate,t.Disc=this.modalDis,t.CRDR=this.modalCrDr,t.TabIndex=t.Index+21,t.TaxLedger=this.modalTaxLed,e||this.addItemModal.hide(),this.modalLedgerIndex<0){let e=this.tableVouchers.concat(t);this.tableVouchers=e}setTimeout(()=>{this.clearItemModel(),e&&this.ChangeCrDrMobile(),this.finalcalculation()},400),this.finalcalculateMobile()}}clearItemModel(){this.modalLedgerIndex=-1,this.modalLedger=null,this.modalRate=null,this.modalQty=null,this.modalTaxLed=null,this.modalInventory=null,this.modalDis=null,this.modalDrAmt=null,this.modalCrAmt=null}addItemVouchersfromModal(e){if(this.fitemVou.valid){let i=this.tableVoucherForInvnetory.length-1;var t=new o.eK;if(this.modalLedgerIndex>=0&&(i=this.modalLedgerIndex,t=this.tableVoucherForInvnetory[i]),t.LedDet=this.modalLedger,t.DrAmt=this.modalDrAmt,t.rate=this.modalRate,t.TabIndex=t.Index+21,this.modalLedgerIndex<0){let e=this.tableVoucherForInvnetory.concat(t);this.tableVoucherForInvnetory=e}null!=this.addItemModalVoucher&&null!=this.addItemModalVoucher&&(e?(this.modalLedgerIndex=-1,this.modalLedger=null,this.modalRate=null,this.modalDrAmt=null):this.addItemModalVoucher.hide())}setTimeout(()=>{this.finalcalculation()},400)}onFocusKey(e){}onFocusInventoryKey(e){}deleteLedger(e){if(this.IsCRDR&&e>=0||!this.IsCRDR){if(1!=this.tableVouchers.length||this.httpfunction.IsMobileview())null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult&&(null!=this.companyLedgerService.singleresult.challan&&null!=this.companyLedgerService.singleresult.challan&&(t=this.companyLedgerService.singleresult.challan.findIndex(t=>t.ChId==this.tableVouchers[e].ChallanId))>=0&&this.companyLedgerService.singleresult.challan.splice(t,1),null!=this.companyLedgerService.singleresult.vouchers&&null!=this.companyLedgerService.singleresult.vouchers&&(t=this.companyLedgerService.singleresult.vouchers.findIndex(t=>t.UIDN==this.tableVouchers[e].ReceiptDeliveryId))>=0&&this.companyLedgerService.singleresult.vouchers.splice(t,1)),this.httpfunction.IsMobileview()?this.httpfunction.confirm().then(t=>{t&&this.tableVouchers.splice(e,1)}):this.tableVouchers.splice(e,1);else{var t;if((t=this.companyLedgerService.singleresult.challan.findIndex(t=>t.ChId==this.tableVouchers[e].ChallanId))>=0&&this.companyLedgerService.singleresult.challan.splice(t,1),null!=this.companyLedgerService.singleresult.vouchers&&null!=this.companyLedgerService.singleresult.vouchers){var i=this.companyLedgerService.singleresult.vouchers.findIndex(t=>t.UIDN==this.tableVouchers[e].ReceiptDeliveryId);i>=0&&this.companyLedgerService.singleresult.vouchers.splice(i,1)}this.tableVouchers[e].LedDet=null,this.tableVouchers[e].DrAmt=0,this.tableVouchers[e].actqty=0,this.tableVouchers[e].TaxTotal=0,this.tableVouchers[e].rate=0,this.tableVouchers[e].TaxLedger=null,this.tableVouchers[e].InventoryDetails=null}this.finalcalculation()}}deleteInventoryLedger(e){1!=this.tableVoucherForInvnetory.length||this.httpfunction.IsMobileview()?this.httpfunction.IsMobileview()?this.httpfunction.confirm().then(t=>{t&&this.tableVoucherForInvnetory.splice(e,1)}):this.tableVoucherForInvnetory.splice(e,1):(this.tableVoucherForInvnetory[e].LedDet=null,this.tableVoucherForInvnetory[e].DrAmt=0,this.tableVoucherForInvnetory[e].actqty=0,this.tableVoucherForInvnetory[e].TaxTotal=0,this.tableVoucherForInvnetory[e].rate=0,this.tableVoucherForInvnetory[e].TaxLedger=null,this.tableVoucherForInvnetory[e].InventoryDetails=null),this.finalcalculation()}BindInventoryDetails(e){if(this.curBatchedger=null,this.httpfunction.IsMobileview()){if(null==this.modalInventory||null==this.modalInventory)return void this.alertService.showInfo("Error","Please select ledger to Inventory");this.UpdateTaxLedger(e),this.curBatchedger=this.modalInventory,this.curInventoryNumber=e,this.isVTPurchase||this.isVTCreditNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTCreditNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.modalRate=this.curBatchedger.Rt<0?-1*this.curBatchedger.Rt:this.curBatchedger.Rt:(this.isVTSales||this.isVTDebitNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&(this.modalRate=this.curBatchedger.SlRt<0?-1*this.curBatchedger.SlRt:this.curBatchedger.SlRt),this.modalUnit=this.curBatchedger.UN,setTimeout(()=>{},500)}else if(e>-1){if(null==this.tableVouchers[e].InventoryDetails||null==this.tableVouchers[e].InventoryDetails)return void this.alertService.showInfo("Error","Please select ledger to Inventory");this.UpdateTaxLedger(e),this.curBatchedger=this.tableVouchers[e].InventoryDetails,this.curInventoryNumber=e,this.isVTPurchase||this.isVTCreditNote||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTPurchase||this.isParentVTCreditNote||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder?this.tableVouchers[e].rate=this.curBatchedger.Rt<0?-1*this.curBatchedger.Rt:this.curBatchedger.Rt:(this.isVTSales||this.isVTDebitNote||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&(this.tableVouchers[e].rate=this.curBatchedger.SlRt<0?-1*this.curBatchedger.SlRt:this.curBatchedger.SlRt),this.tableVouchers[e].UN=this.curBatchedger.UN,setTimeout(()=>{},500)}this.calculateAmount(),this.finalcalculation()}UpdateTaxLedger(e){if(this.httpfunction.IsMobileview()?this.modalTaxLed=new Array:this.tableVouchers[e].TaxLedger=new Array,null!=this.TopurchaseTaxLedger&&null!=this.TopurchaseTaxLedger&&this.TopurchaseTaxLedger.length>0)for(var t=0;t<this.TopurchaseTaxLedger.length;t++){var i=this.companyLedgerService.result.filter(e=>e.UIDN==this.TopurchaseTaxLedger[t].TLId)[0];this.TaxLedgercommon.push(i)}if(null!=this.ToInventoryTaxLedger&&null!=this.ToInventoryTaxLedger&&this.ToInventoryTaxLedger.length>0&&!this.IsPurchaseTaxAvailable)for(t=0;t<this.ToInventoryTaxLedger.length;t++)i=this.companyLedgerService.result.filter(e=>e.UIDN==this.ToInventoryTaxLedger[t].TLId)[0],this.httpfunction.IsMobileview()?this.modalTaxLed.push(i):this.tableVouchers[e].TaxLedger.push(i)}BindInventoryIndex(e){this.curInventoryNumber=e}openReferencepopup(e,t){if(this.curReferenceedger=null,this.curReference=[],-1==e)if(this.httpfunction.IsMobileview())if(this.isVTContra||this.IsItemVoucher||this.isVTPurchase||this.isVTSales||this.isVTDebitNote||this.isVTCreditNote||this.isVTDeliveryNote||!this.isVTReceiptNote||this.isParentVTContra||this.isParentVTPurchase||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTReceiptNote){if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else{if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else if(e>-1)if(this.httpfunction.IsMobileview())if(this.isVTContra||this.IsItemVoucher||this.isVTPurchase||this.isVTSales||this.isVTDebitNote||this.isVTCreditNote||this.isVTDeliveryNote||!this.isVTReceiptNote||this.isParentVTContra||this.isParentVTPurchase||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTReceiptNote){if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else{if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.tableVouchers[e].LedDet||null==this.tableVouchers[e].LedDet)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.tableVouchers[e].LedDet.UIDN,this.IsSundryDebtorsledgerSelected=1==this.tableVouchers[e].LedDet.IsSD}if(null!=this.accountService.singleresult.referencemaster&&this.accountService.singleresult.referencemaster.length>0&&(this.httpfunction.IsMobileview()?e>-1&&(this.curReference=JSON.parse(JSON.stringify(this.accountService.singleresult.referencemaster.filter(t=>t.L_Id==this.curReferenceedger&&t.Index==e)))):this.curReference=JSON.parse(JSON.stringify(this.accountService.singleresult.referencemaster.filter(e=>e.L_Id==this.curReferenceedger)))),this.EnterAmountVoucher=0,e>-1)this.EnterAmountVoucher="Cr"==(i=this.tableVouchers[e]).CRDR?i.CrAmt:i.DrAmt,this.EnterAmountVoucher<0&&(this.EnterAmountVoucher=-1*this.EnterAmountVoucher);else for(let r=0;r<this.tableVouchers.length;r++){const e=this.tableVouchers[r];null!=e.DrAmt&&null!=e.DrAmt&&(this.EnterAmountVoucher+="Cr"==e.CRDR?e.CrAmt:Math.abs(e.DrAmt))}if(null==this.EnterAmountVoucher&&(this.EnterAmountVoucher=0),!(null!=this.curReference&&this.curReference.length>0)&&(this.addNewreference(),e>-1&&!this.httpfunction.IsMobileview())){var i=this.tableVouchers[e],n=this.curReference.filter(e=>e.Index==this.ReferendeIndex)[0];"Cr"==i.CRDR?(n.AmtType="Cr",n.Cr=i.CrAmt,n.Balance=i.CrAmt,n.Dr=0):(n.AmtType="Dr",n.Dr=i.DrAmt,n.Balance=i.DrAmt,n.Cr=0)}0==this.allagainstRefList.filter(e=>e.L_Id==this.curReferenceedger&&e.VoucherMaster_PK_Id!=this.VoucherId).length&&(this.accountService.filterArg=new p.Jw,this.accountService.filterArg.LedgerId=this.curReferenceedger,this.accountService.filterArg.voucherMasterId=this.VoucherId,this.accountService.GetLedgerReferance().subscribe(e=>{this.allagainstRefList=this.allagainstRefList.concat(e.m_Item1),this.setcurrentreference()})),this.PopupReferendeIndex=t,this.modalReferenceIndex=e,this.showReferencepopup=!0,this.httpfunction.IsMobileview()?this.RefModalM.show():this.RefModal.show(),this.OnReferenceTotalAmount()}opengodownepopup(e){if(this.curbatchleedger=null,this.curGodown=[],this.httpfunction.IsMobileview()){if(null==this.modalInventory||null==this.modalInventory)return void this.alertService.showInfo("Error","Please select invenotry to godown");this.curbatchleedger=this.modalInventory.UIDN,this.InventoryRate=this.modalRate}else{if(-1==e){if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curbatchleedger=this.companyLedgerService.singleresult.UIDN}else if(e>-1)if(this.httpfunction.IsMobileview())if(this.isVTContra||this.IsItemVoucher||this.isVTPurchase||this.isVTSales||this.isVTDebitNote||this.isVTCreditNote||this.isVTDeliveryNote||!this.isVTReceiptNote||this.isParentVTContra||this.isParentVTPurchase||this.isParentVTSales||this.isParentVTDebitNote||this.isParentVTCreditNote||this.isParentVTDeliveryNote||this.isParentVTReceiptNote){if(null==this.companyLedgerService.singleresult)return void this.alertService.showInfo("Error","Please select ledger to add/against reference");this.curReferenceedger=this.companyLedgerService.singleresult.UIDN}else{if(null==this.modalLedger||null==this.modalLedger)return void this.alertService.showInfo("Error","Please select invenotry to godown");this.curReferenceedger=this.modalLedger.UIDN}else{if(null==this.tableVouchers[e].InventoryDetails||null==this.tableVouchers[e].InventoryDetails)return void this.alertService.showInfo("Error","Please select invenotry to godown");this.curbatchleedger=this.tableVouchers[e].InventoryDetails.UIDN}this.InventoryRate=this.tableVouchers[e].rate}this.httpfunction.IsMobileview()?null!=this.godownPopupDetails&&this.godownPopupDetails.length>0&&e>-1?(this.curGodown=JSON.parse(JSON.stringify(this.godownPopupDetails.filter(t=>t.IId==this.curbatchleedger&&t.index==e))),null!=this.curGodown&&this.curGodown.length>0||this.addNewgodowndetails(this.InventoryRate)):this.addNewgodowndetails(this.InventoryRate):null!=this.tableVouchers[e].godownsdetails&&this.tableVouchers[e].godownsdetails.length>0?(this.curGodown=JSON.parse(JSON.stringify(this.tableVouchers[e].godownsdetails.filter(e=>e.IId==this.curbatchleedger))),null!=this.curGodown&&this.curGodown.length>0||this.addNewgodowndetails(this.InventoryRate)):this.addNewgodowndetails(this.InventoryRate),this.GodownIndex=this.GodownIndex+1,this.showInventorypopup=!0,this.InventorycurrentIndex=e,this.httpfunction.IsMobileview()?this.BatchModalM.show():this.BatchModal.show(),setTimeout(()=>{},600)}onReferenceAmountChange(e){if("AgainstRef"==e.Ref_Type&&this.isNumeric(e.Balance)){var t=this.LedagainstRefList.filter(t=>t.UIDN==e.Agnst_Ref_Id);t.length>0&&(e.Agnst_VoucherMst_Id=t[0].VoucherMaster_PK_Id,e.Balance>t[0].Balance&&(e.Balance=t[0].Balance))}else"NewRef"==e.Ref_Type&&(e.Balance<e.Dr-e.OrgBalance||e.Balance<e.Cr-e.OrgBalance)&&(this.alertService.showError("Error","You can not reduce amount which is already paid as against reference"),e.Balance=e.Dr>0?e.Dr:e.Cr);if(this.OnReferenceTotalAmount(),this.isNumeric(this.EnterAmountVoucher)&&this.EnterAmountVoucher>0){var i=this.EnterAmountVoucher-this.TotalReferenceAmount;if(i>0)this.addNewreference(),this.curReference.filter(e=>e.Index==this.ReferendeIndex)[0].Balance=i,this.OnReferenceTotalAmount();else if(i<0){var n=this.curReference[this.curReference.length-1];n.Balance>-1*i?n.Balance-=-1*i:this.curReference.splice(this.curReference.length-1,1),this.OnReferenceTotalAmount()}}}OnReferenceTotalAmount(){this.TotalReferenceAmount=this.curReference.filter(e=>e.Balance>0).filter(e=>"Cr"===e.AmtType&&1!=e.operationType).reduce((e,t)=>e+t.Balance,0)-this.curReference.filter(e=>e.Balance>0).filter(e=>"Dr"===e.AmtType&&1!=e.operationType).reduce((e,t)=>e+t.Balance,0),this.TotalReferenceAmount<0&&(this.TotalReferenceAmount=-1*this.TotalReferenceAmount),null==this.TotalReferenceAmount&&(this.TotalReferenceAmount=0)}onAgainstRefChange(e,t,i){null!=t.Agnst_Ref_Id&&this.curReference.filter(t=>1!=t.operationType&&t.Agnst_Ref_Id==e.UIDN).length>1?(this.alertService.showError("Error","This reference is already in use as against reference. Please select another reference"),setTimeout(()=>{t.Agnst_Ref_Id=null,t.OrgBalance=0,t.Agnst_VoucherMst_Id=null},250)):this.onReferenceAmountChange(t),this.OnReferenceTotalAmount(),null!=this.OnRefMethodpop?this.setAgainstReferenceArray(this.OnRefMethodpop):this.setAgainstReferenceArray()}getreference(e){if(null!=e)return null!=e&&null!=this.accountService.singleresult&&null!=this.accountService.singleresult.referencemaster?this.accountService.singleresult.referencemaster.filter(t=>t.L_Id==e.UIDN&&1!=t.operationType):null}getgodownDetailsMobile(e,t){return null!=e&&null!=this.tableVouchers[t]&&null!=this.tableVouchers[t].godownsdetails?this.tableVouchers[t].godownsdetails.filter(t=>t.IId==e.UIDN&&1!=t.operationType):null}getgodownDetails(e,t){return this.httpfunction.IsMobileview()?null!=e&&null!=this.modalInventory&&null!=this.godownPopupDetails?this.godownPopupDetails.filter(t=>t.IId==e.UIDN&&1!=t.operationType):null:null!=e&&null!=this.tableVouchers[t]&&null!=this.tableVouchers[t].godownsdetails?this.tableVouchers[t].godownsdetails.filter(t=>t.IId==e.UIDN&&1!=t.operationType):null}calculateAmountGrid(e){if(null!=this.curGodown[e]&&null!=this.curGodown[e]){var t=null;(t=this.curGodown[e]).Amt=this.getNumeric(t.Qty*t.Rt),t.Amt<0&&(t.Amt=-1*t.Amt)}}addNewreference(){let e=new T.eS;var t=this.curReference.filter(e=>e.Index==this.ReferendeIndex);e.Ref_Type=t.length>0?t[0].Ref_Type:u.l.NewRef,e.L_Id=this.curReferenceedger,e.AmtType=this.isVTSales||this.isParentVTSales||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTDeliveryNote||this.isParentVTDeliveryNote||this.isVTPayment||this.isParentVTPayment?"Dr":this.isVTPurchase||this.isParentVTPurchase||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTReceiptNote||this.isParentVTReceiptNote||this.isVTJournal||this.isParentVTJournal||this.isVTReceipt||this.isParentVTReceipt?"Cr":"Dr",e.operationType=0,this.ReferendeIndex=this.ReferendeIndex+1,e.Index=this.ReferendeIndex,e.DueDate=moment(new Date).format("YYYY-MM-DD"),this.curReference.push(e)}addNewgodowndetails(e){if(this.httpfunction.IsMobileview()){let t=new d.ZL;t.IId=this.curbatchleedger,this.isVTSales||this.isParentVTSales||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTDeliveryNote||this.isParentVTDeliveryNote?t.AmtType="Dr":(this.isVTPurchase||this.isParentVTPurchase||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTReceiptNote||this.isParentVTReceiptNote)&&(t.AmtType="Cr"),t.MFGDt=new Date,t.operationType=0,t.Rt=e,this.GodownIndex=this.GodownIndex+1,t.index=this.GodownIndex,t.GodM=null,this.curGodown.push(t)}else{let t=new d.ZL;t.IId=this.curbatchleedger,this.isVTSales||this.isParentVTSales||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTDeliveryNote||this.isParentVTDeliveryNote?t.AmtType="Dr":(this.isVTPurchase||this.isParentVTPurchase||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTReceiptNote||this.isParentVTReceiptNote)&&(t.AmtType="Cr"),t.MFGDt=new Date,t.operationType=0,1==this.curGodown.length&&(this.InventoryRate=this.curGodown[0].Rt,e=this.InventoryRate),t.Rt=e,this.GodownIndex=this.GodownIndex+1,t.index=this.GodownIndex,t.GodM=null,this.curGodown.push(t)}}FocusReferenceOperationType(e){null!=e&&null!=e&&(this.focusedLedger=e.UIDN)}updateReferenceOperationType(e){if(null!=this.focusedLedger&&null!=this.focusedLedger){var t=this.accountService.singleresult.referencemaster.filter(e=>e.L_Id==this.focusedLedger);if(t.length>0)for(let i=0;i<t.length;i++)-1!=(e=this.accountService.singleresult.referencemaster.findIndex(e=>e.UIDN==t[i].UIDN))&&(this.accountService.singleresult.referencemaster[e].operationType=1)}}RemoveReference(e){var t=this.curReference.findIndex(t=>t.Index==e);if(this.httpfunction.IsMobileview())if(0==this.curReference[t].operationType){var i=this.accountService.singleresult.referencemaster.findIndex(e=>e.Index==this.modalReferenceIndex);this.accountService.singleresult.referencemaster.splice(i,1),this.curReference.splice(t,1)}else"NewRef"==this.curReference[t].Ref_Type&&this.curReference[t].Balance>this.curReference[t].OrgBalance?this.alertService.showError("Error","This reference already have against reference. Please delete against reference first"):(i=this.accountService.singleresult.referencemaster.findIndex(e=>e.Index==this.modalReferenceIndex),this.accountService.singleresult.referencemaster[i].operationType=1,this.curReference[t].operationType=1);else 0==this.curReference[t].operationType?this.curReference.splice(t,1):"NewRef"==this.curReference[t].Ref_Type&&this.curReference[t].Balance>this.curReference[t].OrgBalance?this.alertService.showError("Error","This reference already have against reference. Please delete against reference first"):this.curReference[t].operationType=1;this.calculateAmount(),this.finalcalculation(),this.OnReferenceTotalAmount()}RemovegodownDetails(e){var t=this.curGodown.findIndex(t=>t.index==e);if(this.httpfunction.IsMobileview()){let n=0,r=0,o=0;if(0==this.curGodown[t].operationType){var i=this.godownPopupDetails.findIndex(e=>e.index==t);this.godownPopupDetails.splice(i,1)}else this.curGodown[t].operationType=1,i=this.godownPopupDetails.findIndex(t=>t.index==e),this.godownPopupDetails.splice(i,1);this.showInventorypopup=!1,this.BatchModalM.hide();for(let e=0;e<this.godownPopupDetails.length;e++)o+=this.getNumeric(this.godownPopupDetails[e].Qty),r=this.getNumeric(this.godownPopupDetails[e].Rt),n+=this.getNumeric(this.godownPopupDetails[e].Amt);this.modalRate=r,this.modalQty=o,this.modalDrAmt=n}else 0==this.curGodown[t].operationType?this.curGodown.splice(t,1):this.curGodown[t].operationType=1;this.calculateAmount(),this.finalcalculation()}BindBatchDetails(e,t){null!=e?(this.accountService.showMessage=!1,this.accountService.GetAllBatchDetails(e.UIDN,t).subscribe(e=>{this.BatchMaster=e.data})):this.BatchMaster=null}getreferenceforpopup(){return this.curReference.filter(e=>1!=e.operationType)}getgodowndetailsforpopup(){return this.curGodown.filter(e=>1!=e.operationType)}FillBatchName(e,t){e.UIDN>0&&(this.curGodown[t].BTNa=e.BN)}getAgainstRef(e){var t=[];for(let i=0;i<this.LedagainstRefList.length;i++){const n=this.LedagainstRefList[i];0==this.curReference.filter(e=>1!=e.operationType).filter(t=>t.Agnst_Ref_Id==n.UIDN&&t.Agnst_Ref_Id!=e).length&&t.push(n)}return t}Savereference(){var e=[];if(this.httpfunction.IsMobileview()){if(null!=this.accountService.singleresult.referencemaster&&this.accountService.singleresult.referencemaster.length>0)if(-1==this.modalReferenceIndex||-1==this.PopupReferendeIndex){var t=this.accountService.singleresult.referencemaster.filter(e=>e.L_Id==this.curReferenceedger);let e=this.curReference.concat(t||[]);this.curReference=e}else if(this.modalReferenceIndex>-1){var i=this.accountService.singleresult.referencemaster.findIndex(e=>e.Index==this.modalReferenceIndex);this.accountService.singleresult.referencemaster[i]=this.curReference[0],this.curReference=this.accountService.singleresult.referencemaster.filter(e=>void 0!==e)}if(this.curReference.length>0){let t=this.curReference.length;null!=this.accountService.singleresult.referencemaster&&this.accountService.singleresult.referencemaster.length>0&&(-1==this.modalReferenceIndex||-1==this.PopupReferendeIndex)&&(e=this.accountService.singleresult.referencemaster.filter(e=>e.L_Id!=this.curReferenceedger));for(let i=0;i<t;i++)"Dr"==this.curReference[i].AmtType?(this.curReference[i].Dr=this.getNumeric(this.curReference[i].Balance),this.curReference[i].Cr=0):(this.curReference[i].Cr=this.getNumeric(this.curReference[i].Balance),this.curReference[i].Dr=0),e.push(this.curReference[i]);this.modalDrAmt=this.TotalAmount,this.accountService.singleresult.referencemaster=e}else e=this.accountService.singleresult.referencemaster.filter(e=>e.L_Id!=this.curReferenceedger),this.accountService.singleresult.referencemaster=e}else{if(this.isNumeric(this.EnterAmountVoucher)&&this.EnterAmountVoucher>0&&this.TotalReferenceAmount!=this.EnterAmountVoucher)return void this.alertService.showError("Error","Reference amount must match voucher amount.");if(this.curReference.length>0){let t=this.curReference.length;null!=this.accountService.singleresult.referencemaster&&this.accountService.singleresult.referencemaster.length>0&&(e=this.accountService.singleresult.referencemaster.filter(e=>e.L_Id!=this.curReferenceedger));for(let i=0;i<t;i++)"Dr"==this.curReference[i].AmtType?(this.curReference[i].Dr=this.getNumeric(this.curReference[i].Balance),this.curReference[i].Cr=0):(this.curReference[i].Cr=this.getNumeric(this.curReference[i].Balance),this.curReference[i].Dr=0),e.push(this.curReference[i]);this.accountService.singleresult.referencemaster=e}else e=this.accountService.singleresult.referencemaster.filter(e=>e.L_Id!=this.curReferenceedger),this.accountService.singleresult.referencemaster=e}this.showReferencepopup=!1,this.httpfunction.IsMobileview()?this.RefModalM.hide():this.RefModal.hide(),this.calculateAmount(),this.finalcalculation(),this.finalcalculateMobile(),this.httpfunction.IsMobileview()||setTimeout(()=>{},200)}SaveinventoryGodownsDetails(e){var t=[];if(this.httpfunction.IsMobileview())if(this.curGodown.length>0){let n=this.curGodown.length;null!=this.godownPopupDetails&&this.godownPopupDetails.length>0&&(t=this.godownPopupDetails.filter(e=>e.IId!=this.curbatchleedger));let r=0,o=0,s=0;if(e>0){var i=this.godownPopupDetails.findIndex(t=>t.index==e);for(let e=0;e<n;e++)this.godownPopupDetails[i].Rt=this.curGodown[e].Rt,this.godownPopupDetails[i].Qty=this.curGodown[e].Qty,this.godownPopupDetails[i].Amt=this.curGodown[e].Amt,this.godownPopupDetails[i].AmtType=this.curGodown[e].AmtType,this.godownPopupDetails[i].BTId=this.curGodown[e].BTId,this.godownPopupDetails[i].BTNa=this.curGodown[e].BTNa,this.godownPopupDetails[i].GId=this.curGodown[e].GId,this.godownPopupDetails[i].GN=this.curGodown[e].GN,this.godownPopupDetails[i].IId=this.curGodown[e].IId,this.godownPopupDetails[i].MFGDt=this.curGodown[e].MFGDt}for(let e=0;e<n;e++)this.curGodown[e].Amt=this.getNumeric(this.curGodown[e].Amt),t.push(this.curGodown[e]);if(null==this.godownPopupDetails&&(this.godownPopupDetails=[]),-1==e){let e=this.godownPopupDetails.concat(t||[]);this.godownPopupDetails=e}for(let e=0;e<this.godownPopupDetails.length;e++)s+=this.getNumeric(this.godownPopupDetails[e].Qty),o=this.getNumeric(this.godownPopupDetails[e].Rt),r+=this.getNumeric(this.godownPopupDetails[e].Amt);this.modalRate=o,this.modalQty=s,this.modalDrAmt=r}else t=this.tableVouchers[e].godownsdetails.filter(e=>e.IId!=this.curbatchleedger),this.tableVouchers[e].godownsdetails=t;else if(this.curGodown.length>0){let i=this.curGodown.length;null!=this.tableVouchers[e].godownsdetails&&this.tableVouchers[e].godownsdetails.length>0&&(t=this.tableVouchers[e].godownsdetails.filter(e=>e.IId!=this.curbatchleedger));let n=0,r=0,o=0;for(let e=0;e<i;e++)o+=this.getNumeric(this.curGodown[e].Qty),r=this.getNumeric(this.curGodown[e].Rt),n+=this.getNumeric(this.curGodown[e].Amt),this.curGodown[e].Amt=this.getNumeric(this.curGodown[e].Amt),t.push(this.curGodown[e]);this.tableVouchers[e].godownsdetails=t,this.tableVouchers[e].rate=r,this.tableVouchers[e].actqty=o,this.tableVouchers[e].DrAmt=n}else t=this.tableVouchers[e].godownsdetails.filter(e=>e.IId!=this.curbatchleedger),this.tableVouchers[e].godownsdetails=t;this.showInventorypopup=!1,this.httpfunction.IsMobileview()?this.BatchModalM.hide():this.BatchModal.hide(),this.calculateAmount(),this.finaltaxcalculate(),this.finalcalculation(),this.finalcalculateMobile(),setTimeout(()=>{},200)}calculateAmount(){if(null==this.accountService.singleresult.referencemaster||null==this.accountService.singleresult.referencemaster||this.IsItemVoucher){var e=0;if(this.httpfunction.IsMobileview())e=this.modalDis,this.modalDrAmt=this.getNumeric(this.modalQty*this.modalRate),null!=e&&(this.modalDrAmt=this.getNumeric(this.modalDrAmt-this.modalDrAmt*e/100)),this.modalDrAmt<0&&(this.modalDrAmt=-1*this.modalDrAmt);else{var t=null;null!=(t=null!=this.tableVouchers&&this.tableVouchers.filter(e=>null!=e.InventoryDetails).length>0?this.tableVouchers[this.curInventoryNumber]:this.companyLedgerService.singleresult)&&null!=t&&(e=t.Disc,t.DrAmt=this.getNumeric(t.actqty*t.rate),null!=e&&(t.DrAmt=this.getNumeric(t.DrAmt-t.DrAmt*e/100)),t.DrAmt<0&&(t.DrAmt=-1*t.DrAmt))}}else{let e=null;if(this.httpfunction.IsMobileview())if(null!=this.modalLedger&&null!=this.modalLedger){e=this.modalLedger;var i=this.accountService.singleresult.referencemaster.filter(e=>e.L_Id==this.modalLedger.UIDN&&1!=e.operationType)}else e=this.companyLedgerService.singleresult,i=this.accountService.singleresult.referencemaster.filter(t=>t.L_Id==e.UIDN&&1!=t.operationType);else null!=this.tableVouchers&&this.tableVouchers.filter(e=>null!=e.LedDet&&e.LedDet.UIDN==this.curReferenceedger).length>0?(e=this.tableVouchers.filter(e=>e.LedDet.UIDN==this.curReferenceedger)[0],i=this.accountService.singleresult.referencemaster.filter(t=>t.L_Id==e.LedDet.UIDN&&1!=t.operationType)):(e=this.companyLedgerService.singleresult,i=this.accountService.singleresult.referencemaster.filter(t=>t.L_Id==e.UIDN&&1!=t.operationType));var n=0,r=0;for(let t=0;t<i.length;t++)r+=i[t].Dr,n+=i[t].Cr;this.IsCRDR?this.httpfunction.IsMobileview()?"Cr"==this.modalCrDr?(this.modalCrAmt=r-n,this.modalCrAmt<0&&(this.modalCrAmt=-1*this.modalCrAmt)):"Dr"==this.modalCrDr&&(this.modalDrAmt=r-n,this.modalDrAmt<0&&(this.modalDrAmt=-1*this.modalDrAmt)):"Cr"==e.CRDR?(e.CrAmt=r-n,e.CrAmt<0&&(e.CrAmt=-1*e.CrAmt)):"Dr"==e.CRDR&&(e.DrAmt=r-n,e.DrAmt<0&&(e.DrAmt=-1*e.DrAmt)):(e.DrAmt=r-n,e.DrAmt<0&&(e.DrAmt=-1*e.DrAmt),this.httpfunction.IsMobileview()&&(this.modalDrAmt=e.DrAmt)),this.httpfunction.IsMobileview()?null!=this.tableVouchers&&this.tableVouchers.filter(e=>null!=e.LedDet&&e.LedDet.UIDN==this.curReferenceedger).length>0||((this.isVTDebitNote||this.isParentVTDebitNote||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTSales||this.isParentVTSales||this.isVTPurchase||this.isParentVTPurchase||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder)&&this.tableVouchers.length>0&&null!=this.tableVouchers&&(this.tableVouchers[0].DrAmt=e.DrAmt),this.modalDrAmt=e.DrAmt,this.modalDrAmt<0&&(this.modalDrAmt=-1*e.DrAmt)):null!=this.tableVouchers&&this.tableVouchers.filter(e=>null!=e.LedDet&&e.LedDet.UIDN==this.curReferenceedger).length>0||(this.tableVouchers[0].DrAmt=e.DrAmt)}}setcurrentreference(){this.LedagainstRefList=JSON.parse(JSON.stringify(this.allagainstRefList.filter(e=>e.L_Id==this.curReferenceedger&&e.VoucherMaster_PK_Id!=this.VoucherId)));for(let e=0;e<this.LedagainstRefList.length;e++){const t=this.LedagainstRefList[e];t.Balance<0&&(t.Balance=-1*t.Balance),t.OrgBalance=t.Balance}this.setAgainstReferenceArray()}setAgainstReferenceArray(e){for(let t=0;t<this.curReference.length;t++){const i=this.curReference[t];let n=[],r=[],o=[],s=[],l=[];for(let e=0;e<this.LedagainstRefList.length;e++){const t=this.LedagainstRefList[e];0==this.curReference.filter(e=>1!=e.operationType).filter(e=>e.Agnst_Ref_Id==t.UIDN&&e.Agnst_Ref_Id!=i.Agnst_Ref_Id).length&&n.push(t)}this.LedagainstRefList.sort((e,t)=>{const i=new Date(e.DueDate),n=new Date(t.DueDate);return i.getTime()-n.getTime()}),r.push(this.LedagainstRefList.filter(e=>"Sales"===e.VT&&e.Ref_Tag.toLowerCase().includes("ocr_"))),o.push(this.LedagainstRefList.filter(e=>"Sales"===e.VT&&e.Ref_Tag.toLowerCase().includes("loan_"))),l.push(this.LedagainstRefList.filter(e=>"Journal"===e.VT&&(e.Ref_Tag.toLowerCase().includes("loan_gst_")||e.Ref_Tag.toLowerCase().includes("ocr_gst_")))),s.push(this.LedagainstRefList.filter(e=>!("Journal"!==e.VT||e.Ref_Tag.toLowerCase().includes("loan_gst_")||e.Ref_Tag.toLowerCase().includes("ocr_gst_")||e.Ref_Tag.toLowerCase().includes("loan_")||e.Ref_Tag.toLowerCase().includes("ocr_")))),i.againstRefList=null==(e=this.OnRefMethodpop)?n:"AgreementOCR"===e?r[0]:"AgreementLOAN"===e?o[0]:"OCR"===e?s[0]:"GST"===e?l[0]:n}}openChallanpopup(e){if(this.httpfunction.IsMobileview()?(this.showChallanpopup=!0,this.challanModalM.show()):(this.showChallanpopup=!0,this.challanModal.show()),null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult)this.httpfunction.IsMobileview()?this.alertService.showError("Error","Please select ledger to add challans"):this.alertService.showInfo("Error","Please select ledger to add challans");else if(this.curAddLedger=e,this.CompanyIdforReport>0&&(this.challanService.reportCompanyId=this.CompanyIdforReport),this.tableChallan.filter(e=>e.LI==this.companyLedgerService.singleresult.UIDN).length>0){let e=this.tableChallan.filter(e=>e.LI==this.companyLedgerService.singleresult.UIDN);this.curChallan=JSON.parse(JSON.stringify(e)),this.challanService.isGetSubscribe=!0,this.challanService.GetAllLedgerChallans(),this.httpfunction.IsMobileview()?this.challanModalM.show():this.challanModal.show(),this.showChallanpopup=!0}else this.challanService.filterArg=new g.yz,this.challanService.filterArg.LedgerId=this.companyLedgerService.singleresult.UIDN,this.challanService.filterArg.VoucherId=this.VoucherId,this.challanService.pageWithoutLoad=0,this.challanService.filterArg.VoucherType=this.accountService.singleresult.VT,(this.isVTPurchase||this.isParentVTPurchase||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTSales||this.isParentVTSales||this.isVTCreditNote||this.isParentVTCreditNote||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTPurchaseOrder||this.isParentVTPurchaseOrder)&&(this.challanService.isGetSubscribe=!0,this.challanService.GetAllLedgerChallans())}openReceiptDeliverypopup(e){null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult?this.httpfunction.IsMobileview()?this.alertService.showError("Error","Please select ledger to add challans"):this.alertService.showInfo("Error","Please select ledger to add challans"):(this.curAddLedger=e,this.CompanyIdforReport>0&&(this.ReportServices.reportCompanyId=this.CompanyIdforReport),this.tableVoucherReceiptDelivery.filter(e=>1==e.billSelected).length>0?(this.ReportServices.isGetSubscribe=!0,this.ReportServices.GetAllReceiptDeliveryVoucher(),this.showReceiptDeliverynpopup=!0,this.ReceiptDeliveryModal.show()):this.BindReceiptData())}BindReceiptData(){this.ReportServices.filterArg=new p.Jw,this.ReportServices.filterArg.LedgerId=this.companyLedgerService.singleresult.UIDN,this.ReportServices.filterArg.VoucherId=this.VoucherId,this.ReportServices.pageWithoutLoad=0,this.ReportServices.isGetSubscribe=!0,this.ReportServices.GetAllReceiptDeliveryVoucher()}calculateCurrentChallan(e){let t=this.companyLedgerService.singleresult;var i=[];null!=t&&null!=t.challan&&null!=t.challan&&(i=t.challan);for(var n=0;n<e.length;n++)e[n].Ht=e[n].TtlAmt,e[n].billSelected=!1,i.filter(t=>t.ChlnId==e[n].ChlnId).length>0&&(e[n].billSelected=!0);return e.sort(function(e){return e.billSelected?-1:1})}onChallanCheckedChange(e,t){let i=e.object;for(var n=0;n<this.curChallan.length;n++)n==t&&(this.curChallan[n].billSelected=i.checked)}selectChallan(){if(this.curChallan.length>0){this.tableChallan=this.tableChallan.filter(e=>e.LedId!=this.curChallan[0].LedId);let l=JSON.parse(JSON.stringify(this.curChallan)),a=this.companyLedgerService.singleresult;for(var e=this.tableVouchers.length-1;e>=0;--e)null!=this.tableVouchers[e].ChallanId&&null!=this.tableVouchers[e].ChallanId&&0!=this.tableVouchers[e].ChallanId&&this.tableVouchers.splice(e,1);let c=[];for(var t=0;t<l.length;t++)if(l[t].billSelected){var i=new o.qk;if(i.Amt=l[t].TtlAmt,i.ChId=l[t].ChlnId,i.ChNo=l[t].CN,c.push(i),this.IsItemVoucher){for(var n=0;n<this.tableVouchers.length;n++)null==this.tableVouchers[n].InventoryDetails&&null==this.tableVouchers[n].InventoryDetails&&this.tableVouchers.splice(n,1);let e=new o.eK;if(this.VoucherIndex+=t,e.InventoryDetails=new d.F8,e.InventoryDetails=this.inventoryService.result.filter(e=>e.UIDN==l[t].InvId)[0],e.Index=this.VoucherIndex,e.DrAmt=l[t].TtlAmt,e.rate=l[t].InvRt,e.actqty=l[t].InvQty,e.InventoryId=l[t].InvId,e.ChallanId=l[t].ChlnId,e.TaxLedger=new Array,l[t].GSTDetss&&Array.isArray(l[t].GSTDetss)&&(l[t].GSTDetss=l[t].GSTDetss.filter(t=>t.IId===e.InventoryId)))for(let n=0;n<l[t].GSTDetss.length;n++){var r=this.companyLedgerService.result.filter(e=>e.UIDN==l[t].GSTDetss[n].TLId)[0];let i=e.TaxLedger.concat(r||[]);e.TaxLedger=i}let i=this.tableVouchers.concat(e||[]);this.tableVouchers=i}}if(a.challan=c,0==this.tableVouchers.length&&!this.httpfunction.IsMobileview()){var s=new o.eK;s.TabIndex=s.Index+21,this.tableVouchers.push(s)}this.tableChallan=this.tableChallan.concat(JSON.parse(JSON.stringify(l))),this.showChallanpopup=!1,this.httpfunction.IsMobileview()?this.challanModalM.hide():this.challanModal.hide(),this.finalcalculation()}else this.showChallanpopup=!1,this.httpfunction.IsMobileview()?this.challanModalM.hide():this.challanModal.hide(),this.finalcalculation()}selectReceiptDelivery(){if(this.curReceiptDelivery.length>0){this.tableVoucherReceiptDelivery=this.tableVoucherReceiptDelivery.filter(e=>e.LI!=this.curReceiptDelivery[0].LI);let a=JSON.parse(JSON.stringify(this.curReceiptDelivery)),c=this.companyLedgerService.singleresult;for(var e=this.tableVouchers.length-1;e>=0;--e)null!=this.tableVouchers[e].ReceiptDeliveryId&&null!=this.tableVouchers[e].ReceiptDeliveryId&&0!=this.tableVouchers[e].ReceiptDeliveryId&&this.tableVouchers.splice(e,1);let u=[];this.TaxLedgercommon=[];for(var t=0;t<a.length;t++)if(a[t].billSelected){var i=new o.VN;if(i.UIDN=a[t].UIDN,i.BNO=a[t].BNO,i.VNO=a[t].VNO,i.TotalAmt=a[t].Amt,u.push(i),this.IsItemVoucher&&!this.curReceiptDelivery[t].IsUpdate){for(var n=0;n<this.tableVouchers.length;n++)null==this.tableVouchers[n].InventoryDetails&&null==this.tableVouchers[n].InventoryDetails&&this.tableVouchers.splice(n,1);for(var r=0;r<a[t].InventoryDetails.length;r++){let i=new o.eK;for(i.InventoryDetails=new d.F8,i.InventoryDetails=this.inventoryService.result.filter(e=>e.UIDN==a[t].InventoryDetails[r].IId)[0],i.DrAmt=this.isVTSales||this.isParentVTSales||this.isVTSalesOrder||this.isParentVTSalesOrder||this.isVTDebitNote||this.isParentVTDebitNote?a[t].InventoryDetails[r].CrAmt:a[t].InventoryDetails[r].DrAmt,this.VoucherIndex+=r,i.Index=this.VoucherIndex,i.TabIndex=this.VoucherIndex+21,i.UN=this.inventoryService.result.filter(e=>e.UIDN==a[t].InventoryDetails[r].IId)[0].UN,i.rate=a[t].InventoryDetails[r].Rt,i.Disc=a[t].InventoryDetails[r].Dis,i.actqty=a[t].InventoryDetails[r].ActQty,i.InventoryId=a[t].InventoryDetails[r].IId,i.ReceiptDeliveryId=a[t].UIDN,i.TCN=this.natureoftransaction,i.godownsdetails=new Array,e=0;e<a[t].InventoryDetails[r].GodownDet.length;e++)a[t].InventoryDetails[r].GodownDet[e].GodM=this.godownService.result.filter(i=>i.UIDN==a[t].InventoryDetails[r].GodownDet[e].GId)[0],this.BindBatchDetails(a[t].InventoryDetails[r].GodownDet[e].GodM,a[t].InventoryDetails[r].GodownDet[e].IId),i.godownsdetails.push(a[t].InventoryDetails[r].GodownDet[e]);i.TaxLedger=new Array;for(let e=0;e<a[t].VDet.length;e++)if(0==a[t].VDet[e].TaxLedgerId&&0==a[t].VDet[e].IsTax&&0==a[t].VDet[e].isMainled)this.PurchaseLedger=this.companyLedgerService.result.filter(i=>i.UIDN==a[t].VDet[e].LId)[0];else if(0!=a[t].VDet[e].TaxLedgerId&&1==a[t].VDet[e].IsTax&&a[t].VDet[e].InventoryId>0){var s=this.companyLedgerService.result.filter(i=>i.UIDN==a[t].VDet[e].TaxLedgerId)[0];let n=i.TaxLedger.concat(s||[]);i.TaxLedger=n}else if(0!=a[t].VDet[e].TaxLedgerId&&1==a[t].VDet[e].IsTax){s=this.companyLedgerService.result.filter(i=>i.UIDN==a[t].VDet[e].TaxLedgerId)[0];let i=this.TaxLedgercommon.concat(s||[]);this.TaxLedgercommon=i}let n=this.tableVouchers.concat(i||[]);this.tableVouchers=n}}}if(c.vouchers=u,0==this.tableVouchers.length){var l=new o.eK;l.TabIndex=l.Index+21,this.tableVouchers.push(l)}this.tableVoucherReceiptDelivery=this.tableVoucherReceiptDelivery.concat(JSON.parse(JSON.stringify(a))),this.httpfunction.IsMobileview()||(this.showReceiptDeliverynpopup=!1,this.ReceiptDeliveryModal.hide()),this.finalcalculation()}else this.httpfunction.IsMobileview()||(this.showReceiptDeliverynpopup=!1,this.ReceiptDeliveryModal.hide()),this.finalcalculation()}AddBankdetails(){let e=!1;var t=this.bankDetails;for(let n=0;n<t.length;n++){let r=t[n],o=r.Led_Cr>0?r.Led_Cr:r.Led_Dr;if(this.IsCRDR&&!this.IsItemVoucher)var i=this.accountService.singleresult.VDet.filter(e=>e.LId==r.BLId);else i=this.accountService.singleresult.VDet.filter(e=>e.LId==r.BLId);let s=0;for(let e=0;e<i.length;e++)if(s+=i[e].CrAmt>0?null==r.InclusiveAmount&&null==r.InclusiveAmount?this.getNumeric(i[e].CrAmt):this.getNumeric(i[e].CrAmt)-r.InclusiveAmount:null==r.InclusiveAmount&&null==r.InclusiveAmount?this.getNumeric(i[e].DrAmt):this.getNumeric(i[e].DrAmt)-r.InclusiveAmount,null!=i[e].TaxLedger&&null!=i[e].TaxLedger)for(let t=0;t<i[e].TaxLedger.length;t++){let n=null,r=null;r=i[e].TaxLedger[t],n=this.accountService.singleresult.VDet.filter(t=>t.LId==r.UIDN&&t.TaxLedgerId==i[e].LId&&1==t.IsTax)[0],i[e].CrAmt>0?n.isInclusive?s-=this.getNumeric(n.CrAmt):s+=this.getNumeric(n.CrAmt):n.isInclusive?s-=this.getNumeric(n.DrAmt):s+=this.getNumeric(n.DrAmt)}if(o!=s){e=!0;break}}e?this.alertService.showError("Error","Bank amount is not matched with the voucher amount. Please enter proper amount"):(this.accountService.singleresult.bankDetails=this.bankDetails,this.finalSave())}onSubmit(){this.form.valid&&(null==this.VoucherType&&(this.VoucherType=this.accountService.singleresult.VT),this.formvalid(0))}goback(){"Ledger"==this.PageType||"Group"==this.PageType||"Monthly Summary"==this.PageType||"Outstanding Recevable"==this.PageType||"Outstanding Payable"==this.PageType||"Finalize"==this.PageType||"Restorevoucher"==this.PageType?this.onCancel():this.location.back()}formvalid(e){if(this.IsvalidDate()){if(this.form.valid){if(this.IsItemVoucher)var t=this.tableVouchers.filter(e=>null!=e.InventoryDetails&&null!=e.InventoryDetails&&null!=e.DrAmt&&null!=e.DrAmt&&null!=e.rate&&null!=e.rate);else t=this.tableVouchers.filter(e=>null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt);t.length>0?(this.AddUpdateVoucher(e),this.router.url.toLowerCase().indexOf("outstandingrecivable")>=0&&this.filterService.changeFilterWithbottomfilter(!0,!0,"Outstanding Recevable"),this.router.url.toLowerCase().indexOf("outstandingpayble")>=0&&this.filterService.changeFilterWithbottomfilter(!0,!0,"Outstanding Payable")):this.httpfunction.IsMobileview()?this.alertService.showError("Info","Please enter proper detail in account."):this.alertService.showInfo("Info","Please enter proper detail in account.")}}else this.httpfunction.IsMobileview()?this.alertService.showError("Info","Please enter proper detail in account."):this.alertService.showInfo("Info","Please enter proper detail in account.")}backUrl(){this.router.navigate(["reports/purchasegst"])}onCancel(){this.filterService.changeFilterWithbottomfilter(!0,!0,"Account List"),1==this.TransactionredirectOnCancel?this.location.back():(this.TransactionredirectAction.emit(null),this.router.url.toLowerCase().indexOf("outstandingrecivable")>=0&&this.filterService.changeFilterWithbottomfilter(!0,!0,"Outstanding Recevable"),this.router.url.toLowerCase().indexOf("outstandingpayble")>=0&&this.filterService.changeFilterWithbottomfilter(!0,!0,"Outstanding Payable"))}AddUpdateVoucher(e){var t=null;if(this.IsItemVoucher){t=this.tableVouchers.filter("Purchase"!=this.accountService.singleresult.VT&&"Receipt Note"!=this.accountService.singleresult.VT||!this.IsItemVoucher?e=>null!=e.InventoryDetails&&null!=e.InventoryDetails&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt&&null!=e.rate&&null!=e.rate:e=>null!=e.InventoryDetails&&null!=e.InventoryDetails&&null!=e.DrAmt&&null!=e.DrAmt&&null!=e.rate&&null!=e.rate);for(let e=0;e<this.tableVoucherForInvnetory.filter(e=>null!=e.LedDet&&null!=e.LedDet).length;e++)t=t.concat(this.tableVoucherForInvnetory[e]?this.tableVoucherForInvnetory[e]:[])}else t=this.tableVouchers.filter(e=>null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt),this.IsCRDR&&(t=this.tableVouchers.filter(e=>null!=e.LedDet&&null!=e.LedDet&&null!=e.DrAmt&&null!=e.DrAmt&&0!=e.DrAmt||null!=e.CrAmt&&null!=e.CrAmt&&0!=e.CrAmt));1==this.IsDuplicate&&(this.accountService.singleresult.UIDN=0,this.accountService.singleresult.IsDuplicate=!0),this.accountService.singleresult.TA=this.TaxAdjustment,this.accountService.singleresult.GAD=this.GSTAdditionalDetails,this.accountService.singleresult.RecptDet=this.ReceiptDetails,this.accountService.singleresult.NewTrackingNo=this.NewTrackingNumber,this.accountService.singleresult.VDet=[],this.accountService.singleresult.InventoryDetails=[],this.accountService.singleresult.IsCRDRET=this.IsCRDR;var i=new o.eK,n=new o.eK;if(!this.IsCRDR||this.IsItemVoucher){if(n.LId=this.companyLedgerService.singleresult.UIDN,n.L_Name=this.companyLedgerService.singleresult.LN,n.L_PId=this.companyLedgerService.singleresult.PI,n.L_Cat=this.companyLedgerService.singleresult.Cat,n.L_anc=this.companyLedgerService.singleresult.ancestor,n.challan=this.companyLedgerService.singleresult.challan,null!=this.companyLedgerService.singleresult.vouchers||null!=this.companyLedgerService.singleresult.vouchers){this.accountService.singleresult.RDId="";for(let e=0;e<this.companyLedgerService.singleresult.vouchers.length;e++)this.accountService.singleresult.RDId=this.companyLedgerService.singleresult.vouchers[e].UIDN+","+this.accountService.singleresult.RDId}n.TaxLedgerId=0,n.TaxRate=0,n.InventoryId=0,n.Quantity=0,n.UnitCost=0,n.IsTax=!1,n.isMainled=!0,n.IsBank=this.companyLedgerService.singleresult.IsBank}let r=!0;if(this.IsItemVoucher){this.taxcommonledgerDetails=[],i.isMainled=!1,i.LId=this.PurchaseLedger.UIDN,i.L_Name=this.PurchaseLedger.LN,i.L_PId=this.PurchaseLedger.PI,i.L_Cat=this.PurchaseLedger.Cat,i.L_anc=this.PurchaseLedger.ancestor,i.CrAmt=0,i.IsBank=this.PurchaseLedger.IsBank,i.TCN=this.natureoftransaction,"DEBIT"==this.DebitOrCreditByCategory(this.companyLedgerService.singleresult.Cat,!0)?(i.CrAmt=0,i.DrAmt=0):(i.DrAmt=0,i.CrAmt=0),i.InventoryId=0,i.Quantity=0,i.UnitCost=0,i.IsSP=!0,i.IsTax=!1;let e=0,n=0;for(let l=0;l<t.length;l++){if(null!=t[l].LedDet){let e=this.GenerateTableLedger(t[l],!1);if(null==e){r=!1;break}this.accountService.singleresult.VDet.push(e[0])}if(e+=t[l].DrAmt,null!=t[l].TaxLedger&&null!=t[l].TaxLedger){this.taxxxledger=this.GenerateTableLedger(t[l],!0);for(let e=0;e<t[l].TaxLedger.length;e++)t[l].TaxLedger[e].IsInclusive&&(this.taxxxledger.DrAmt>0?i.DrAmt=i.DrAmt-t[l].TaxLedger[e].DrAmt:i.CrAmt=i.CrAmt-t[l].TaxLedger[e].CrAmt);if(null!=this.taxxxledger&&null!=this.taxxxledger)for(let e=0;e<this.taxxxledger.length;e++)this.accountService.singleresult.VDet.push(this.taxxxledger[e])}if(null!=t[l].InventoryDetails&&null!=t[l].InventoryDetails){var s=new o.S4;if(s.ActQty=t[l].actqty,s.BillQty=t[l].actqty,s.Rt=t[l].rate,s.Cat=t[l].InventoryDetails.Cat,this.isVTSales||this.isParentVTSales||this.isVTDebitNote||this.isParentVTDebitNote||this.isVTDeliveryNote||this.isParentVTDeliveryNote||this.isVTSalesOrder||this.isParentVTSalesOrder?(s.DrAmt=null==t[l].CrAmt?0:t[l].CrAmt,s.CrAmt=null==t[l].DrAmt?0:t[l].DrAmt):(s.CrAmt=null==t[l].CrAmt?0:t[l].CrAmt,s.DrAmt=null==t[l].DrAmt?0:t[l].DrAmt),s.IId=t[l].InventoryDetails.UIDN,s.Name=t[l].InventoryDetails.InvN,s.Dis=t[l].Disc,s.RDVId=t[l].ReceiptDeliveryId,s.CId=t[l].ChallanId,s.OrderIndex=t[l].Index,s.VoucherInvDetPkId=t[l].VoucherInvDetPkId,s.GodownDet=new Array,null!=t[l].godownsdetails&&null!=t[l].godownsdetails)for(let e=0;e<t[l].godownsdetails.length;e++){var a=new d.ZL;a.LID=0,a.IId=t[l].godownsdetails[e].IId,a.GId=t[l].godownsdetails[e].GodM.UIDN,a.BTNa=t[l].godownsdetails[e].BTNa,a.BTId=t[l].godownsdetails[e].BTId,a.MFGDt=t[l].godownsdetails[e].MFGDt,a.Qty=t[l].godownsdetails[e].Qty,a.Rt=t[l].godownsdetails[e].Rt,a.Amt=t[l].godownsdetails[e].Amt,s.GodownDet.push(a)}this.accountService.singleresult.InventoryDetails.push(s)}}if(null!=this.TaxLedgercommon&&null!=this.TaxLedgercommon&&this.TaxLedgercommon.length>0){for(let t=0;t<this.TaxLedgercommon.length;t++){var c=new o.eK;c.DrAmt=e,c.TaxLedger=new Array,c.TaxLedger.push(this.TaxLedgercommon[t]),this.taxcommonledgerDetails.push(c)}for(let e=0;e<this.taxcommonledgerDetails.length;e++)if(this.taxxxledger=this.GenerateTableLedger(this.taxcommonledgerDetails[e],!0),null!=this.taxxxledger&&null!=this.taxxxledger)for(let t=0;t<this.taxxxledger.length;t++)n+=this.taxxxledger[t].DrAmt,this.accountService.singleresult.VDet.push(this.taxxxledger[t])}if(null!=this.SelectedTCSledger&&null!=this.SelectedTCSledger){var u=new o.eK;u.DrAmt=e+n,u.TaxLedger=new Array,u.TaxLedger.push(this.SelectedTCSledger),this.TCSledgerDetails.push(u);for(let e=0;e<this.TCSledgerDetails.length;e++)if(this.TCStaxxxledger=this.GenerateTableLedger(this.TCSledgerDetails[e],!0),null!=this.TCStaxxxledger&&null!=this.TCStaxxxledger)for(let t=0;t<this.TCStaxxxledger.length;t++)this.accountService.singleresult.VDet.push(this.TCStaxxxledger[t])}}else{let e=!1;for(let i=0;i<t.length;i++){let n=this.GenerateTableLedger(t[i],!1);if(!e&&this.IsCRDR&&(this.VoucherType==l.$f.Purchase||this.isParentVTPurchase||this.VoucherType==l.$f.CreditNote||this.isParentVTCreditNote?n[0].CrAmt>0&&(n[0].isMainled=!0,e=!0):this.VoucherType==l.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==l.$f.Sales||this.isParentVTSales||this.VoucherType==l.$f.SalesOrder||this.isParentVTSalesOrder||this.VoucherType==l.$f.Receipt||this.isParentVTReceipt||this.VoucherType==l.$f.Journal||this.isParentVTJournal?n[0].DrAmt>0&&(n[0].isMainled=!0,e=!0):this.VoucherType==l.$f.Payment||this.isParentVTPayment?n[0].CrAmt>0&&i==t.length-1&&(n[0].isMainled=!0,e=!0):this.VoucherType==l.$f.Contra||this.isParentVTContra?n[0].DrAmt>0&&i==t.length-1&&(n[0].isMainled=!0,e=!0):(n[0].isMainled=!0,e=!0)),null!=t[i].TaxLedger&&null!=t[i].TaxLedger&&(this.taxxxledger=this.GenerateTableLedger(t[i],!0),null!=n[0].TaxLedger))for(let e=0;e<n[0].TaxLedger.length;e++)n[0].TaxLedger[e].IsInclusive&&(n[0].DrAmt>0?n[0].DrAmt=n[0].DrAmt-this.getNumeric(n[0].DrAmt*n[0].TaxLedger[e].TR/100):n[0].CrAmt=n[0].CrAmt-this.getNumeric(n[0].CrAmt*n[0].TaxLedger[e].TR/100));if(null!=t[i].TaxLedger&&null!=t[i].TaxLedger&&null!=this.taxxxledger&&null!=this.taxxxledger)for(let e=0;e<this.taxxxledger.length;e++)this.taxxxledger[e].TaxLedgerId=n[0].LId,this.accountService.singleresult.VDet.push(this.taxxxledger[e]);if(null==n){r=!1;break}this.accountService.singleresult.VDet.push(n[0])}var h=this.accountService.singleresult.VDet.find(e=>1==e.isMainled);if(null==h&&null==h){e=!1;for(let t=0;t<this.accountService.singleresult.VDet.length;t++)if(!e&&this.IsCRDR&&(this.VoucherType==l.$f.Purchase||this.isParentVTPurchase||this.VoucherType==l.$f.CreditNote||this.isParentVTCreditNote?this.accountService.singleresult.VDet[0].CrAmt>0&&(this.accountService.singleresult.VDet[0].isMainled=!0,e=!0):this.VoucherType==l.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==l.$f.Sales||this.isParentVTSales||this.VoucherType==l.$f.Receipt||this.isParentVTReceipt||this.VoucherType==l.$f.Journal||this.isParentVTJournal?this.accountService.singleresult.VDet[0].DrAmt>0&&(this.accountService.singleresult.VDet[0].isMainled=!0,e=!0):this.VoucherType==l.$f.Payment||this.isParentVTPayment?this.accountService.singleresult.VDet[0].CrAmt>0&&(this.accountService.singleresult.VDet[0].isMainled=!0,e=!0):this.VoucherType==l.$f.Contra||this.isParentVTContra?this.accountService.singleresult.VDet[0].DrAmt>0&&(this.accountService.singleresult.VDet[0].isMainled=!0,e=!0):(this.accountService.singleresult.VDet[0].isMainled=!0,e=!0)),null==this.accountService.singleresult.VDet){r=!1;break}}0==t.length&&(r=!1)}if(this.accountService.getCompanyData.ISDA&&null!=this.roundoffledger&&this.IsItemVoucher){var g=new o.eK;-1==this.RoundOFFTotal.search("Dr")?"debit note"==this.accountService.singleresult.VT.toLowerCase()?(g.DrAmt=0,g.CrAmt=parseFloat(this.RoundOFFTotal.replace("Cr",""))):(g.DrAmt=parseFloat(this.RoundOFFTotal.replace("Cr","")),g.CrAmt=0):"debit note"==this.accountService.singleresult.VT.toLowerCase()?(g.DrAmt=parseFloat(this.RoundOFFTotal.replace("Dr","")),g.CrAmt=0):(g.DrAmt=0,g.CrAmt=parseFloat(this.RoundOFFTotal.replace("Dr",""))),(0!=g.CrAmt||0!=g.DrAmt)&&(g.LId=this.roundoffledger.UIDN,g.L_Name=this.roundoffledger.LN,g.L_PId=this.roundoffledger.PI,g.L_Cat=this.roundoffledger.Cat,g.L_anc=this.roundoffledger.ancestor,g.challan=this.roundoffledger.challan,g.TaxLedgerId=0,g.TaxRate=0,g.InventoryId=0,g.Quantity=0,g.UnitCost=0,g.IsTax=!1,g.isMainled=!1,g.IsROff=!0,g.IsBank=this.roundoffledger.IsBank,this.accountService.singleresult.VDet.push(g))}if(r){let t=0,r=0,o=0,s=0;if(!this.IsCRDR||this.IsItemVoucher)if("DEBIT"==this.DebitOrCreditByCategory(this.companyLedgerService.singleresult.Cat,!1)){for(let e=0;e<this.accountService.singleresult.VDet.length;e++)t+=parseFloat(this.accountService.singleresult.VDet[e].CrAmt.toFixed(2)),t-=parseFloat(this.accountService.singleresult.VDet[e].DrAmt.toFixed(2));for(let e=0;e<this.accountService.singleresult.InventoryDetails.length;e++)t+=parseFloat(this.accountService.singleresult.InventoryDetails[e].CrAmt.toFixed(2)),t-=parseFloat(this.accountService.singleresult.InventoryDetails[e].DrAmt.toFixed(2)),o+=parseFloat(this.accountService.singleresult.InventoryDetails[e].CrAmt.toFixed(2)),o-=parseFloat(this.accountService.singleresult.InventoryDetails[e].DrAmt.toFixed(2));t=parseFloat(t.toFixed(2)),t>0?(n.CrAmt=0,n.DrAmt=t):(n.DrAmt=0,n.CrAmt=-1*t),i.DrAmt=0,i.CrAmt=o}else{for(let e=0;e<this.accountService.singleresult.VDet.length;e++)r+=parseFloat(this.accountService.singleresult.VDet[e].DrAmt.toFixed(2)),r-=parseFloat(this.accountService.singleresult.VDet[e].CrAmt.toFixed(2));for(let e=0;e<this.accountService.singleresult.InventoryDetails.length;e++)r+=parseFloat(this.accountService.singleresult.InventoryDetails[e].DrAmt.toFixed(2)),r-=parseFloat(this.accountService.singleresult.InventoryDetails[e].CrAmt.toFixed(2)),s+=parseFloat(this.accountService.singleresult.InventoryDetails[e].DrAmt.toFixed(2)),s-=parseFloat(this.accountService.singleresult.InventoryDetails[e].CrAmt.toFixed(2));r=parseFloat(r.toFixed(2)),t>0?(n.DrAmt=0,n.CrAmt=r):(n.CrAmt=0,n.DrAmt=-1*r),i.CrAmt=0,i.DrAmt=s}(!this.IsCRDR||this.IsItemVoucher)&&this.accountService.singleresult.VDet.push(n),this.IsItemVoucher&&(this.accountService.singleresult.IsItVou=!0,this.accountService.singleresult.VDet.push(i)),null!=this.siteService.singleresult&&null!=this.siteService.singleresult&&(this.accountService.singleresult.STID=this.siteService.singleresult.UIDN),null!=this.CostCategoryservice.singleresult&&null!=this.CostCategoryservice.singleresult&&(this.accountService.singleresult.CCI=this.CostCategoryservice.singleresult.UIDN),null!=this.siteStrSingle&&null!=this.siteStrSingle&&(this.accountService.singleresult.StStrI=this.siteStrSingle.UIDN);for(let e=0;e<this.accountService.singleresult.VDet.length;e++)parseFloat(this.accountService.singleresult.VDet[e].DrAmt.toFixed(2))<0?(this.accountService.singleresult.VDet[e].CrAmt=-1*parseFloat(this.accountService.singleresult.VDet[e].DrAmt.toFixed(2)),this.accountService.singleresult.VDet[e].DrAmt=0):parseFloat(this.accountService.singleresult.VDet[e].CrAmt.toFixed(2))<0&&(this.accountService.singleresult.VDet[e].DrAmt=-1*parseFloat(this.accountService.singleresult.VDet[e].CrAmt.toFixed(2)),this.accountService.singleresult.VDet[e].CrAmt=0);t=0,r=0;for(let e=0;e<this.accountService.singleresult.VDet.length;e++)r+=parseFloat(this.accountService.singleresult.VDet[e].DrAmt.toFixed(2)),t+=parseFloat(this.accountService.singleresult.VDet[e].CrAmt.toFixed(2));if(t=parseFloat(t.toFixed(2)),r=parseFloat(r.toFixed(2)),t!=r)this.alertService.showError("Error","Debit and Credit amount is not matched, Please select proper Account.");else{let t=!1,i=!1;if(null!=n.challan&&null!=n.challan&&n.challan.length>0){let e=0;for(var p=0;p<n.challan.length;p++)e+=n.challan[p].Amt;(n.DrAmt>0&&n.DrAmt<e||n.CrAmt>0&&n.CrAmt<e)&&(i=!0)}let r=!1;if((!this.IsCRDR||this.IsItemVoucher)&&null!=this.companyLedgerService.singleresult.vouchers&&null!=this.companyLedgerService.singleresult.vouchers&&this.companyLedgerService.singleresult.vouchers.length>0){let e=0;for(p=0;p<this.companyLedgerService.singleresult.vouchers.length;p++)e+=this.companyLedgerService.singleresult.vouchers[p].TotalAmt;(n.DrAmt>0&&n.DrAmt!=e||n.CrAmt>0&&n.CrAmt!=e)&&(r=!0)}t?this.alertService.showError("Error","Please enter proper debit or credit amount for reference."):i?this.alertService.showError("Error","Total amount not less than Challan amount must be equal or Greater than that."):(0!=e?(this.accountService.singleresult.St=6,this.accountService.singleresult.RedirectURL=this.el.nativeElement.baseURI+"payment/or/",this.accountService.singleresult.ActionId=e):this.accountService.singleresult.ActionId=0,this.AddBankdetails())}}else this.alertService.showError("Error","Please enter proper debit or credit amount for reference.")}finalSave(){this.accountService.singleresult.CI=this.CompanyIdforReport>0?this.CompanyIdforReport.toString():this.accountService.getCompanyId,this.accountService.singleresult.SI=this.accountService.getSignupId;let e=this.httpfunction.getStorage("_roledata");e&&"null"!=e&&null!=e&&JSON.parse(this.httpfunction.getStorage("_roledata"));let t=JSON.parse(this.httpfunction.getStorage("_company"));null!=t.CL&&null!=t&&t.CL.length>0&&(this.accountService.singleresult.logoname=t.CL[0].name),2==this.accountService.singleresult.ActionId?(this.accountService.singleresult.CampaignCode="EC",this.accountService.showMessage=!1,this.VoucherEmail()):3==this.accountService.singleresult.ActionId?(this.accountService.singleresult.CampaignCode="SC",this.accountService.showMessage=!1,this.VoucherEmail()):4==this.accountService.singleresult.ActionId?(this.accountService.singleresult.CampaignCode="EC",this.accountService.showMessage=!1,this.VoucherEmail()):5==this.accountService.singleresult.ActionId?(this.IsShareLink=1,this.AddVoucher()):this.AddVoucher()}VoucherEmail(){this.IsHideEmail=!0,this.accountService.SendSMSEmail(this.accountService.singleresult).subscribe(e=>{2==this.accountService.singleresult.ActionId?(this.Email=this.companyLedgerService.singleresult.Eml,this.demandhtml=e.data,this.httpfunction.IsMobileview()?this._modelEmailM.show():this._modelEmail.show()):3==this.accountService.singleresult.ActionId?(this.Mobile=this.companyLedgerService.singleresult.CNO,this.SMSDescription=e.data,this._modalSMS.show()):4==this.accountService.singleresult.ActionId&&(this.IsHideEmail=!1,this.accountService.singleresult.ActionId=1,this.IsShareLink=2,this.demandhtml=e.data,this.httpfunction.IsMobileview()?this._modelEmailM.show():this._modelEmail.show())})}AddVoucher(){this.accountService.singleresult.EmailId=this.Email,this.accountService.singleresult.MobileNo=this.Mobile,this.accountService.waitforMessage=!0,(this.accountService.singleresult.VT.toLowerCase()!=l.$f.Contra.toLowerCase()||this.isParentVTContra&&this.accountService.singleresult.VT.toLowerCase()!=l.$f.Payment.toLowerCase()||this.isParentVTPayment)&&(this.accountService.singleresult.VDet=this.accountService.singleresult.VDet.sort((e,t)=>e.isMainled===t.isMainled?0:e.isMainled?-1:1)),0==this.IsShareLink?this.accountService.messagebutton=["Go Back","Print & Go Back","Add New voucher","Print & Add New voucher"]:1==this.IsShareLink?this.accountService.messagebutton=["Copy URL"]:(this.accountService.waitforMessage=!1,this.accountService.isPopUpMessage=!1),null==this.accountService.singleresult.UIDN||null==this.accountService.singleresult.UIDN||0==this.accountService.singleresult.UIDN?this.accountService.add(this.accountService.singleresult).subscribe(e=>{null!=this._modelEmail&&this._modelEmail.hide(),null!=this._modelEmailM&&this._modelEmailM.hide(),null!=this._modelEmail&&this._modalSMS.hide();let t=(e.data?e.data:null).data;t.UsrName=this.httpfunction.getStorage("_un");let i=JSON.parse(JSON.stringify(this.siteService.singleresult)),n=JSON.parse(JSON.stringify(this.companyLedgerService.singleresult));e.answer.indexOf("Print")>=0&&this.GeneratePdf(t);let r=this.accountService.singleresult.VT;this.resetVariables();var s=new o.eK;s.TabIndex=s.Index+21,this.tableVouchers.push(s),this.TransactionredirectOnCancel?e.answer.indexOf("Back")>=0||this.httpfunction.IsMobileview()?this.router.navigate(["/transactions/daybook"]):(this.accountService.singleresult.VT=r,this.setInitialData(),this.siteService.singleresult=i,this.companyLedgerService.singleresult=n,this.router.navigate(["/transactions/account/"+r])):e.answer.indexOf("Back")>=0?(t.isHide=!0,this.TransactionredirectAction.emit(t)):(t.isHide=!!this.accountService.IsMobileview,this.TransactionredirectAction.emit(t),this.accountService.singleresult.VT=r,this.setInitialData(),this.siteService.singleresult=i,n.challan=null,this.Total="0.0 Dr",this.TotalTax="0.0 Dr",this.GrandTotal="0.0 Dr",this.GrandCRTotal="0.0 Dr",this.RoundOFFTotal="0.0 Dr",this.companyLedgerService.singleresult=n)},()=>{}):this.accountService.edit(this.accountService.singleresult).subscribe(e=>{let t=(e.data?e.data:null).data;t.UsrName=this.httpfunction.getStorage("_un");let i=JSON.parse(JSON.stringify(this.siteService.singleresult)),n=JSON.parse(JSON.stringify(this.companyLedgerService.singleresult));e.answer.indexOf("Print")>=0&&this.GeneratePdf(t);let r=this.accountService.singleresult.VT;this.resetVariables();var s=new o.eK;s.TabIndex=s.Index+21,this.tableVouchers.push(s),this.TransactionredirectOnCancel?e.answer.indexOf("Back")>=0||this.httpfunction.IsMobileview()?this.router.navigate(["/transactions/daybook"]):(this.accountService.singleresult.VT=r,this.setInitialData(),this.siteService.singleresult=i,this.companyLedgerService.singleresult=n,this.router.navigate(["/transactions/account/"+r])):e.answer.indexOf("Back")>=0?(t.isHide=!0,this.TransactionredirectAction.emit(t)):(t.isHide=!!this.accountService.IsMobileview,this.TransactionredirectAction.emit(t),this.accountService.singleresult.VT=r,this.setInitialData(),this.siteService.singleresult=i,n.challan=null,this.Total="0.0 Dr",this.TotalTax="0.0 Dr",this.GrandTotal="0.0 Dr",this.GrandCRTotal="0.0 Dr",this.RoundOFFTotal="0.0 Dr",this.companyLedgerService.singleresult=n)},()=>{})}copyInputMessage(e){let t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}GeneratePdf(e){this.httpfunction.IsMobileview()?this.accountService.GenerateReceipt(e.UIDN,!0):this.accountService.GenerateReceipt(e.UIDN)}GenerateTableLedger(e,t){if(0==t){this.taxledgerDetails=[];var i=new o.eK;i.isMainled=!1,i.LId=e.LedDet.UIDN,i.L_Name=e.LedDet.LN,i.L_PId=e.LedDet.PI,i.L_Cat=e.LedDet.Cat,i.L_anc=e.LedDet.ancestor,this.IsCRDR&&!this.IsItemVoucher?(i.CrAmt=e.DrAmt,i.DrAmt=e.CrAmt):i.CrAmt=e.DrAmt,i.deletedreference=e.deletedreference,i.TT=e.TT,i.TTA=e.TTA,i.challan=e.challan,i.IsBank=e.LedDet.IsBank,i.TCN=e.TCN;let t=null;return t=this.DebitOrCreditByCategory(this.IsCRDR&&!this.IsItemVoucher?e.LedDet.Cat:this.companyLedgerService.singleresult.Cat,!0),this.IsCRDR&&!this.IsItemVoucher?this.VoucherType==l.$f.Purchase||this.isParentVTPurchase||this.VoucherType==l.$f.Sales||this.isParentVTSales||this.VoucherType==l.$f.Contra||this.isParentVTContra||this.VoucherType==l.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==l.$f.CreditNote||this.isParentVTCreditNote||this.VoucherType==l.$f.SalesOrder||this.isParentVTSalesOrder||this.VoucherType==l.$f.PurchaseOrder||this.isParentVTPurchaseOrder||this.VoucherType==l.$f.Receipt||this.isParentVTReceipt||this.VoucherType==l.$f.Journal||this.isParentVTJournal||this.VoucherType==l.$f.Payment||this.isParentVTPayment?this.getNumeric(e.CrAmt)>0?(i.CrAmt=this.getNumeric(e.CrAmt),i.DrAmt=0):(i.DrAmt=this.getNumeric(e.DrAmt),i.CrAmt=0):this.getNumeric(e.CrAmt)>0?(i.DrAmt=this.getNumeric(e.CrAmt),i.CrAmt=0):(i.CrAmt=this.getNumeric(e.DrAmt),i.DrAmt=0):"DEBIT"==t?(i.CrAmt=0,i.DrAmt=this.getNumeric(e.DrAmt),this.getNumeric(e.DrAmt)<0&&(i.CrAmt=-1*this.getNumeric(e.DrAmt),i.DrAmt=0)):(i.DrAmt=0,i.CrAmt=this.getNumeric(e.DrAmt),this.getNumeric(e.DrAmt)<0&&(i.DrAmt=-1*this.getNumeric(e.DrAmt),i.CrAmt=0)),i.InventoryId=0,i.Quantity=0,i.UnitCost=this.IsItemVoucher?e.rate:0,i.IsTax=!1,null!=e.TaxLedger&&null!=e.TaxLedger&&e.TaxLedger.length>0?(i.TaxLedger=e.TaxLedger,i.TaxLedgerId=e.TaxLedger[0].UIDN,i.TaxRate=e.TaxLedger[0].TR):(i.TaxLedgerId=0,i.TaxRate=0),this.taxledgerDetails.push(i),this.taxledgerDetails}if(this.taxledgerDetails=[],null!=e.TaxLedger&&null!=e.TaxLedger){for(let t=0;t<e.TaxLedger.length;t++){let i=null;i=this.DebitOrCreditByCategory(this.IsCRDR&&!this.IsItemVoucher?e.TaxLedger[t].Cat:this.companyLedgerService.singleresult.Cat,!0);var n=new o.eK;n.isMainled=!1,n.IsTax=!0,n.LId=e.TaxLedger[t].UIDN,n.L_Name=e.TaxLedger[t].LN,n.L_PId=e.TaxLedger[t].PI,n.L_Cat=e.TaxLedger[t].Cat,n.L_anc=e.TaxLedger[t].ancestor,n.TaxLedgerId=null!=e.LedDet?e.LedDet.UIDN:e.TaxLedger[t].UIDN,n.TaxRate=e.TaxLedger[t].TR,n.isInclusive=e.TaxLedger[t].IsInclusive,null!=e.InventoryDetails&&null!=e.InventoryDetails&&(n.InventoryId=e.InventoryDetails.UIDN),n.InventoryIndex=e.TaxLedger[t].InventoryIndex,"DEBIT"==i?(n.DrAmt=parseFloat((e.DrAmt*e.TaxLedger[t].TR/100).toFixed(2)),n.CrAmt=0):(n.CrAmt=parseFloat((e.DrAmt*e.TaxLedger[t].TR/100).toFixed(2)),n.DrAmt=0),this.taxledgerDetails.push(Object.assign(Object.assign({},n),{VoucherInvDetPkId:e.TaxLedger[t].VoucherInvDetPkId?e.TaxLedger[t].VoucherInvDetPkId:null}))}return this.taxledgerDetails}return null}DebitOrCreditByCategory(e,t){let i="";if((this.isVTJournal||this.isParentVTJournal)&&t)return"CREDIT";if((this.isVTJournal||this.isParentVTJournal)&&!t)return"DEBIT";if((this.isVTDebitNote||this.isVTSales||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTDebitNote||this.isParentVTSales||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&!t)return"DEBIT";if((this.isVTDebitNote||this.isVTSales||this.isVTDeliveryNote||this.isVTSalesOrder||this.isParentVTDebitNote||this.isParentVTSales||this.isParentVTDeliveryNote||this.isParentVTSalesOrder)&&t)return"CREDIT";if((this.isVTCreditNote||this.isVTPurchase||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTCreditNote||this.isParentVTPurchase||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder)&&!t)return"CREDIT";if((this.isVTCreditNote||this.isVTPurchase||this.isVTReceiptNote||this.isVTPurchaseOrder||this.isParentVTCreditNote||this.isParentVTPurchase||this.isParentVTReceiptNote||this.isParentVTPurchaseOrder)&&t)return"DEBIT";i=this.isVTReceipt||this.isVTContra||this.isParentVTReceipt||this.isParentVTContra?"Increase":"Decrease",t&&(i="Decrease"==i?"Increase":"Decrease");var n="";if("Increase"==i)switch(e){case"Assets":case"Expenses":n="DEBIT";break;case"Liability":case"Income":n="CREDIT"}else switch(e){case"Assets":case"Expenses":n="CREDIT";break;case"Liability":case"Income":n="DEBIT"}return n}openLedgerPopup(e,t,i){return this.curAddLedger=t,this.curAddLedgerLoc=i,e.close(),this.showCompanyLedgerpopup=!0,!0}popupAction(e){this.showCompanyLedgerpopup=!1,null!=e&&(this.companyLedgerService.result.unshift(e),this.getFromLedger(),this.getToLedger(),this.getTaxLedger(),this.getInventory(),this.getInventoryLedger(),-1==this.curAddLedger?this.FromLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.companyLedgerService.singleresult=e):-4==this.curAddLedger?this.ToLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(null==this.modalTaxLed&&null==this.modalTaxLed&&(this.modalTaxLed=new Array),this.modalTaxLed.push(e)):-5==this.curAddLedger?this.TaxLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(0==this.TaxLedgercommon.length&&(this.TaxLedgercommon=new Array),this.TaxLedgercommon.push(e)):-6==this.curAddLedger?this.ToLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.modalLedger=e):1==this.curAddLedgerLoc?this.ToLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.tableVouchers[this.curAddLedger].LedDet=e):2==this.curAddLedgerLoc?this.httpfunction.IsMobileview()?(null==this.modalTaxLed&&null==this.modalTaxLed&&(this.modalTaxLed=new Array),this.modalTaxLed.push(e)):(null==this.tableVouchers[this.curAddLedger].TaxLedger&&null==this.tableVouchers[this.curAddLedger].TaxLedger&&(this.tableVouchers[this.curAddLedger].TaxLedger=new Array),this.tableVouchers[this.curAddLedger].TaxLedger.push(e)):3==this.curAddLedgerLoc?this.FromLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.tableVouchers[this.curAddLedger].LedDet=e):4==this.curAddLedgerLoc?this.ToLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.tableVoucherForInvnetory[this.curAddLedger].LedDet=e):-3==this.curAddLedgerLoc?this.ToLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.modalLedger=e):-4==this.curAddLedgerLoc&&this.TaxLedger.filter(t=>t.UIDN==e.UIDN).length>0&&this.modalTaxLed.push(e))}InventoryAdded(e){if(null!=e)if(this.getInventory(),this.httpfunction.IsMobileview()){if(this.modalInventory=e,this.accountService.singleresult.VT==l.$f.Purchase||this.isParentVTPurchase||this.accountService.singleresult.VT==l.$f.CreditNote||this.isParentVTCreditNote||this.accountService.singleresult.VT==l.$f.ReceiptNote||this.isParentVTReceiptNote||this.accountService.singleresult.VT==l.$f.PurchaseOrder||this.isParentVTPurchaseOrder)var t=e.GSTDets.filter(t=>t.IId==e.UIDN&&1==t.ISPS);else(this.accountService.singleresult.VT==l.$f.Sales||this.isParentVTSales||this.accountService.singleresult.VT==l.$f.DebitNote||this.isParentVTDebitNote||this.accountService.singleresult.VT==l.$f.DeliveryNote||this.isParentVTDeliveryNote||this.accountService.singleresult.VT==l.$f.SalesOrder||this.isParentVTSalesOrder)&&(t=e.GSTDets.filter(t=>t.IId==e.UIDN&&2==t.ISPS));null==this.modalTaxLed&&null==this.modalTaxLed&&(this.modalTaxLed=new Array);for(let e=0;e<t.length;e++){var i=this.companyLedgerService.result.filter(i=>i.UIDN==t[e].TLId)[0];let n=this.modalTaxLed.concat(i||[]);this.modalTaxLed=n}this.modalUnit=e.UN,this.modalRate=e.Rt}else{this.tableVouchers[this.curInvenotry].TaxLedger=new Array,this.tableVouchers[this.curInvenotry].InventoryDetails=e,this.accountService.singleresult.VT==l.$f.Purchase||this.isParentVTPurchase||this.accountService.singleresult.VT==l.$f.CreditNote||this.isParentVTCreditNote||this.accountService.singleresult.VT==l.$f.ReceiptNote||this.isParentVTReceiptNote||this.accountService.singleresult.VT==l.$f.PurchaseOrder||this.isParentVTPurchaseOrder?t=e.GSTDets.filter(t=>t.IId==e.UIDN&&1==t.ISPS):(this.accountService.singleresult.VT==l.$f.Sales||this.isParentVTSales||this.accountService.singleresult.VT==l.$f.DebitNote||this.isParentVTDebitNote||this.accountService.singleresult.VT==l.$f.DeliveryNote||this.isParentVTDeliveryNote||this.accountService.singleresult.VT==l.$f.SalesOrder||this.isParentVTSalesOrder)&&(t=e.GSTDets.filter(t=>t.IId==e.UIDN&&2==t.ISPS));for(let e=0;e<t.length;e++){i=this.companyLedgerService.result.filter(i=>i.UIDN==t[e].TLId)[0];let n=this.tableVouchers[this.curInvenotry].TaxLedger.concat(i||[]);this.tableVouchers[this.curInvenotry].TaxLedger=n}this.tableVouchers[this.curInvenotry].UN=e.UN,this.tableVouchers[this.curInvenotry].rate=e.Rt}this.isInventorypopupopen=!1}reportLedgerAdded(e){if(null!=e)if(this.companyLedgerService.GetAlldatafordaybook(!0),-1==this.curAddLedger)this.FromLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.companyLedgerService.singleresult=e);else if(-2==this.curAddLedger)this.ToLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.PurchaseLedger.singleresult=e);else if(-3==this.curAddLedger)this.ToLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.modalLedger=e);else if(-4==this.curAddLedger){if(this.TaxLedger.filter(t=>t.UIDN==e.UIDN).length>0){null==this.modalTaxLed&&null==this.modalTaxLed&&(this.modalTaxLed=new Array);for(let t=0;t<this.modalTaxLed.length;t++)if(this.modalTaxLed[t].UIDN=e.UIDN){this.modalTaxLed.splice(t,1);let i=this.modalTaxLed.concat(this.modalTaxLed?e:[]);this.modalTaxLed=i}}}else if(1==this.curAddLedgerLoc)this.ToLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.tableVouchers[this.curAddLedger].LedDet=e);else if(4==this.curAddLedgerLoc)this.InventoryLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.tableVoucherForInvnetory[this.curAddLedger].LedDet=e);else if(2==this.curAddLedgerLoc&&this.TaxLedger.filter(t=>t.UIDN==e.UIDN).length>0){null==this.tableVouchers[this.curAddLedger].TaxLedger&&null==this.tableVouchers[this.curAddLedger].TaxLedger&&(this.tableVouchers[this.curAddLedger].TaxLedger=new Array);for(let t=0;t<this.tableVouchers.length;t++)for(let i=0;i<this.tableVouchers[t].TaxLedger.length;i++)if(this.tableVouchers[t].TaxLedger[i].UIDN=e.UIDN){this.tableVouchers[t].TaxLedger.splice(i,1);let n=this.tableVouchers[t].TaxLedger.concat(this.tableVouchers[t].TaxLedger?e:[]);this.tableVouchers[t].TaxLedger=n}}this.isLedgerpopupopen=!1,this.finalcalculation()}openCostCenterPopup(e){return e.close(),this.isCostCenterpopupopen=!0,!0}openGodownMasterPopup(e){return e.close(),this.isGodownMasterpopupopen=!0,this.httpfunction.IsMobileview()?this.BatchModalM.hide():this.BatchModal.hide(),!0}CostCenterAdded(e){null!=e&&(this.CostCategoryservice.result=this.CostCategoryservice.result.concat(e),this.CostCategoryservice.singleresult=e),this.isCostCenterpopupopen=!1}GodownMasterAdded(e){null!=e&&(this.godownService.result=JSON.parse(JSON.stringify(this.godownService.result)),this.godownService.singleresult=e),this.isGodownMasterpopupopen=!1,this.httpfunction.IsMobileview()?this.BatchModalM.show():this.BatchModal.show()}openLedgerPopupforedit(e,t,i,n){return this.curAddLedgerLoc=n,this.curAddLedger=i,this.ledgerIdVal=t.toString(),e.close(),this.isLedgerpopupopen=!0,!0}openInventoryPopup(e,t){return this.curInvenotry=t,this.InventoryIdVal="0",e.close(),this.isInventorypopupopen=!0,!0}openInventoryPopupforedit(e){return this.InventoryIdVal=e.toString(),this.isInventorypopupopen=!0,!0}IsvalidDate(){if(null!=this.accountService.singleresult.VDt&&null!=this.accountService.singleresult.VDt){var e=this.httpfunction.getCompanyvariale();return!(moment(e.StDt).format("YYYY-MM-DD")>moment(this.accountService.singleresult.VDt).format("YYYY-MM-DD")&&(this.alertService.showError("Error","Voucher date must be greater than a company creation date: "+moment(this.companyLedgerService.getCompanyData.StDt).format("YYYY-MM-DD")+"."),1))}return!0}SelectPaymentMode(e){3==e?(this.IspayAddOnPayment=!0,this.IsSignupMaintenancePayment=!1):(this.IspayAddOnPayment=!1,this.IsSignupMaintenancePayment=!0)}getaddonplanDetails(e){this.addonPlanService.GetAddOnPurchasedPlan(this.accountService.getSignupId,e=1==e?"FB":"IC").subscribe(e=>{null!=e&&(this.addonPlanService.result=e)})}changecrdrEvent(e,t){this.httpfunction.IsMobileview()?"Cr"==e?this.modalDrAmt=null:this.modalCrAmt=null:(this.tableVouchers[t].LedDet=new l.dJ,"Cr"==e?this.tableVouchers[t].DrAmt=null:this.tableVouchers[t].CrAmt=null)}calculateaddplan(e){null!=e&&(this.tableVouchers[0].DrAmt=e.PPrc,this.accountService.singleresult.AddOnPlanId=e.UIDN,this.accountService.singleresult.AddOnPlanName=e.PlanName,this.finalcalculation())}JournalStatAdjustmentPopupHide(){this.tableVouchers[this.JournalstatAdjustmentIndex].TT=this.TaxRate,this.tableVouchers[this.JournalstatAdjustmentIndex].TTA=this.TotalAmount,this.JournalStatAdjustmentModal.hide(),this.showJournalTax=!1}JournalStatAdjustmentPopup(e){(this.accountService.singleresult.VT==l.$f.Journal||this.isParentVTJournal&&"On Account of Advance Receipt"==this.GSTAdditionalDetails&&this.tableVouchers[e].LedDet.isTL&&"Cr"==this.tableVouchers[e].CRDR)&&(this.JournalstatAdjustmentIndex=e,this.TaxRate=this.tableVouchers[e].LedDet.TR,this.JournalStatAdjustmentModal.show(),this.showJournalTax=!0)}BindStateCountry(){(this.VoucherType==l.$f.DebitNote||this.isParentVTDebitNote||this.VoucherType==l.$f.CreditNote||this.isParentVTCreditNote||this.VoucherType==l.$f.Purchase||this.isParentVTPurchase||this.VoucherType==l.$f.Sales||this.isParentVTSales||this.VoucherType==l.$f.ReceiptNote||this.isParentVTReceiptNote||this.VoucherType==l.$f.DeliveryNote||this.isParentVTDeliveryNote||this.VoucherType==l.$f.PurchaseOrder||this.isParentVTPurchaseOrder||this.VoucherType==l.$f.SalesOrder||this.isParentVTSalesOrder)&&(null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult?(this.accountService.singleresult.CO=null==this.companyLedgerService.singleresult.Country?JSON.parse(this.httpfunction.getStorage("_company")).Ctr:this.companyLedgerService.singleresult.Country,this.accountService.singleresult.STA=null==this.companyLedgerService.singleresult.State?JSON.parse(this.httpfunction.getStorage("_company")).Ste:this.companyLedgerService.singleresult.State):this.IsCRDR&&!this.IsItemVoucher&&(this.accountService.singleresult.CO=null==this.tableVouchers[0].LedDet.Country?JSON.parse(this.httpfunction.getStorage("_company")).Ctr:this.tableVouchers[0].LedDet.Country,this.accountService.singleresult.STA=null==this.tableVouchers[0].LedDet.State?JSON.parse(this.httpfunction.getStorage("_company")).Ste:this.tableVouchers[0].LedDet.State))}resetUrl(){this.isList=!0;let e=this.router.url;this.route.params.subscribe(t=>{null!=t.id&&""!=t.id&&(e=e.replace("/"+t.id,"")),this.location.go(e)})}addurl(e){let t=e,i=this.router.url;i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0),this.route.params.subscribe(e=>{null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),this.location.go(`${i}/${t}`)}),"transactions/account/Contra"==e&&(i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0)),"inventory/inventorylist/Add"==e&&(i=i.substring(0,i.lastIndexOf("/")+0))}OnKeydown(e){null!=this.natureoftransaction&&this.natureoftransaction.length<=0&&"Escape"==(e.key||e.keyCode)&&(this.onCancel(),e.stopPropagation(),e.preventDefault(),document.scrollingElement.scrollTop=this.currentScrollPosition)}NatureOfTransactionsModel(e){this.CurrentNaturTransactionTableIndex=e,this.natureoftransaction=this.tableVouchers[e].TCN}TransactionsModel(e){this.CurrentNaturTransactionTableIndex=e,this.natureoftransaction=this.accountService.singleresult.VDet[e].TCN}RecptDetailsModel(e){"Receipt Note"==this.accountService.singleresult.VT&&this.RecptDetails.show(),this.CurrentNaturTransactionTableIndex=e}closeRecptDetailsModel(){this.RecptDetails.hide()}NewTrackingModels(){this.NewTrackingModel.hide()}onSelectionChange(){this.RecptDetails.hide(),"New Number"===this.ReceiptDetails&&this.NewNumberForTracking()}NewNumberForTracking(){this.RecptDetails.hide(),this.NewTrackingModel.show()}closeNatureOfTransactionsModel(){this.TaxClassificationNature.hide(),this.tableVouchers[this.CurrentNaturTransactionTableIndex].TCN=this.accountService.singleresult.Recpt}ShowConfigurationModal(){this.httpfunction.IsMobileview()?this.ConfigurationModalMobile.show():this.ConfigurationModal.show()}ConfigurationSave(){var e=new p.Jw;e.ShowCostCenter=this.IsShowCostCenter,e.ShowCountryState=this.IsShowCountryState;let t=new f.p;t.CompanyId=this.accountService.getCompanyId,t.SignupId=this.accountService.getSignupId,t.FilterData=e,this.accountService.showMessage=!1,this.accountService.ConfigurationSetting(t).subscribe(e=>{this.httpfunction.setStorage("_VoucherConfiguration",JSON.stringify(e.data));let t=JSON.parse(this.httpfunction.getStorage("_VoucherConfiguration"));null!=t&&null!=t&&(this.ShowCostCenter=t.ISCC,this.ShowCountryState=t.ISCS,this.IsShowCostCenter=t.ISCC,this.IsShowCountryState=t.ISCS)}),this.httpfunction.IsMobileview()?this.ConfigurationModalMobile.hide():this.ConfigurationModal.hide()}OnChangeRefMethod(e){this.setAgainstReferenceArray(),("OnAccount"==e.Ref_Type||"AgainstRef"==e.Ref_Type)&&(e.AmtType="Cr")}OnRefMethod(e){this.OnRefMethodpop=e,this.setAgainstReferenceArray(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.soG),n.Y36(A.Ye),n.Y36(y.i),n.Y36(N.V),n.Y36(M.gz),n.Y36(M.F0),n.Y36(r.B),n.Y36(s.Q),n.Y36(w.P),n.Y36(q.Q),n.Y36(m.l),n.Y36(D.Rq),n.Y36(h.e),n.Y36(f.De),n.Y36(n.SBq),n.Y36(I.m),n.Y36(L.F),n.Y36(b),n.Y36(V.F),n.Y36(Z.r))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-account-addedit"]],viewQuery:function(e,t){if(1&e&&(n.Gf(te,5),n.Gf(ie,5),n.Gf(ne,5),n.Gf(re,5),n.Gf(oe,7),n.Gf(se,7),n.Gf(le,7),n.Gf(ae,5),n.Gf(ce,5),n.Gf(de,5),n.Gf(ue,5),n.Gf(he,7),n.Gf(ge,7),n.Gf(pe,7),n.Gf(fe,7),n.Gf(me,7),n.Gf(Te,7),n.Gf(ve,7),n.Gf(Ie,7),n.Gf(Ze,7),n.Gf(Ae,7),n.Gf(xe,7),n.Gf(Se,7),n.Gf(De,7),n.Gf(Ce,7),n.Gf(be,7),n.Gf(ye,7),n.Gf(Ne,7),n.Gf(Me,7),n.Gf(we,7),n.Gf(qe,7),n.Gf(Le,7),n.Gf(Ve,7)),2&e){let e;n.iGM(e=n.CRH())&&(t.voucherrows=e.first),n.iGM(e=n.CRH())&&(t.v_date=e.first),n.iGM(e=n.CRH())&&(t.refTables=e.first),n.iGM(e=n.CRH())&&(t.Inventoryrows=e.first),n.iGM(e=n.CRH())&&(t._modelEmail=e.first),n.iGM(e=n.CRH())&&(t._modelEmailM=e.first),n.iGM(e=n.CRH())&&(t._modalSMS=e.first),n.iGM(e=n.CRH())&&(t.form=e.first),n.iGM(e=n.CRH())&&(t.fitemVou=e.first),n.iGM(e=n.CRH())&&(t.fitemItem=e.first),n.iGM(e=n.CRH())&&(t.mobilereference=e.first),n.iGM(e=n.CRH())&&(t._CostCenter=e.first),n.iGM(e=n.CRH())&&(t.GodownMaster=e.first),n.iGM(e=n.CRH())&&(t.challanModal=e.first),n.iGM(e=n.CRH())&&(t.challanModalM=e.first),n.iGM(e=n.CRH())&&(t.ReceiptDeliveryModal=e.first),n.iGM(e=n.CRH())&&(t.ReceiptDeliveryAddEditModal=e.first),n.iGM(e=n.CRH())&&(t.chlnaddeditModal=e.first),n.iGM(e=n.CRH())&&(t.statAdjustmentModal=e.first),n.iGM(e=n.CRH())&&(t.TaxClassificationNature=e.first),n.iGM(e=n.CRH())&&(t.RecptDetails=e.first),n.iGM(e=n.CRH())&&(t.NewTrackingModel=e.first),n.iGM(e=n.CRH())&&(t.ConfigurationModal=e.first),n.iGM(e=n.CRH())&&(t.ConfigurationModalMobile=e.first),n.iGM(e=n.CRH())&&(t.bankModal=e.first),n.iGM(e=n.CRH())&&(t.RefModal=e.first),n.iGM(e=n.CRH())&&(t.RefModalM=e.first),n.iGM(e=n.CRH())&&(t.BatchModal=e.first),n.iGM(e=n.CRH())&&(t.BatchModalM=e.first),n.iGM(e=n.CRH())&&(t.JournalStatAdjustmentModal=e.first),n.iGM(e=n.CRH())&&(t.addItemModal=e.first),n.iGM(e=n.CRH())&&(t.addItemModalVoucher=e.first),n.iGM(e=n.CRH())&&(t._inventoryModal=e.first)}},hostBindings:function(e,t){1&e&&n.NdJ("popstate",function(e){return t.onPopState(e)},!1,n.Jf7)},inputs:{startDate:"startDate",TransactionredirectOnCancel:"TransactionredirectOnCancel",VoucherId:"VoucherId",LedgerIdforReport:"LedgerIdforReport",CompanyIdforReport:"CompanyIdforReport",DRAmountforReport:"DRAmountforReport",CRAmountforReport:"CRAmountforReport",IsDuplicate:"IsDuplicate",VoucherType:"VoucherType",IsItemVoucher:"IsItemVoucher"},outputs:{TransactionredirectAction:"TransactionredirectAction"},features:[n._Bn([b,Z.r,I.m,x.a,r.B,h.e,m.l,s.Q])],decls:377,vars:131,consts:[[3,"ngClass"],[1,"card",3,"hidden"],["class","customsearch",4,"ngIf"],["class","customsearchM mobileHeadersize",4,"ngIf"],[1,"card-body","p-2","pb-4"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],[1,"row"],[1,"pl-1","pr-1","voucherno","float-left"],["for","VoucherNo"],["type","text","name","VoucherNo","id","VoucherNo","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"pl-1","pr-1","date","float-left"],["for","vdate"],["type","text","tabindex","1","appDatepicker","","required","","autocomplete","none",1,"form-control","readonlydate",3,"startDate","ngClass","selected","onblur"],["vdate",""],["class","pl-1 pr-1 text-left itemvoucher",4,"ngIf"],["class","pl-1 pr-1 w100 bill float-left",4,"ngIf"],["class","pl-1 pr-1 duedt float-left",4,"ngIf"],["class","pl-1 pr-1 float-left  journalLedger",4,"ngIf"],["class","pl-1 pr-1 float-left journalLedger",4,"ngIf"],["class","pl-1 pr-1 orgI",4,"ngIf"],["class","pl-1 pr-1 float-left col-xs-6 journalSite",4,"ngIf"],["class","pl-1 pr-1 float-left col-xs-6 siteStructure",3,"col-md-6",4,"ngIf"],["class","pl-1 pr-1 float-left cnoteCostCenter contraCostCenter col-xs-6",4,"ngIf"],["class","md-form push-right col-2",4,"ngIf"],["class","pl-1 pr-1 float-left col-xs-6",4,"ngIf"],["class","pl-1 pr-1 cnoteCountry contraCostCenter float-left col-xs-6",4,"ngIf"],["class","pl-1 pr-1 state float-left col-xs-6",4,"ngIf"],["class","pl-1 pr-1 float-left",4,"ngIf"],["class","col-12 pb-2",4,"ngIf"],["class","pl-0 challanvoucher",4,"ngIf"],["class","col-sm-* pt-4",4,"ngIf"],[4,"ngIf"],["class","col-md-12 p-0",4,"ngIf"],[1,"col-sm-*","pr-0","p-0"],["for","Narration"],["tabindex","1001","rows","3","name","Narration","id","Narration",1,"md-textarea","form-control",3,"ngClass","ngModel","ngModelChange"],["Narration","ngModel"],["class","col pr-0 pl-2",4,"ngIf"],["class","col pl-0 pr-0",4,"ngIf"],["class","col-12 pr-0 pl-2",4,"ngIf"],["class","row",4,"ngIf"],["style","background-color: lavender;","class","navbar fixed-bottom navbar-expand-sm navbar-dark",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","addItem",1,"modal","fade","halfview",2,"height","100%","width","100%"],["addItemModal","bs-modal"],["role","document","id","addItem",1,"modal-dialog","modal-lg",2,"height","100%","width","100%"],[1,"modal-content",2,"height","100%","width","100vw"],[1,"modal-header","mb-2"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"padding","0px !important"],["fitemItem","ngForm"],["id","formContainer",1,"row"],["class","md-form col-12 col-sm-6",4,"ngIf"],["class","md-form col col-sm-6",4,"ngIf"],[1,"md-form","col","col-md-6"],["type","number","required","","placeholder","Enter Amount","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","modal_DrAmt","id","modal_DrAmt",1,"form-control",3,"ngClass","disabled","ngModel","change","ngModelChange"],["modal_DrAmt","ngModel"],["class","invalid-feedback",4,"ngIf"],["class","md-form col col-md-6",4,"ngIf"],["id","formbtnContainer",1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight",2,"flex-direction","row"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-primary","waves-effect",3,"click"],["class","nav-item active mr-2",4,"ngIf"],["bsModal","","data-backdrop","false","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modal","fade",2,"height","100%","width","100%"],["RefModalM","bs-modal"],["role","document",1,"container-fluid","p-0",2,"height","100%","background-color","white"],["class","modal-lg","role","document","id","myModalRef",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modalNew","fade",2,"width","1200px"],["RefModal","bs-modal"],["role","document","id","myModalRef",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modalNew","fade"],["BatchModal","bs-modal"],["class","modal-dialog  modal-lg","role","document","id","myModalRef",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modal","fade","bg-white"],["BatchModalM","bs-modal"],["bsModal","","data-backdrop","false","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["challanModalM","bs-modal"],["class","modal-dialog modal-lg","role","document",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade"],["challanModal","bs-modal"],["class","modal-lg","role","document",4,"ngIf"],[3,"isMobilePopup","CompanyIdforReport","redirectOnCancel","redirectAction",4,"ngIf"],[3,"CompanyIdforReport","isMobilePopup","redirectOnCancel","inputLedgerId","redirectAction",4,"ngIf"],[3,"CompanyIdforReport","ChallanredirectOnCancel","ChallanId","ChallanredirectAction",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["SmsModal","bs-modal"],["role","document",1,"modal-dialog","modal-md"],[1,"modal-content",2,"width","400px"],[1,"modal-header"],[2,"margin-left","20px","margin-right","20px",3,"SMSDescription","Mobileinput","onMobilechange"],[1,"modal-footer","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-dark",3,"click"],["EmailModel","bs-modal"],["role","document",1,"modal-dialog","modal-md",2,"max-width","800px","max-height","500px"],[1,"modal-content"],["class","modal-title",4,"ngIf"],[2,"margin-left","20px","margin-right","20px",3,"demandhtml","IsHideEmail","emailinput","onemailchange"],["type","submit","class","btn btn-primary",3,"click",4,"ngIf"],["EmailModelM","bs-modal"],[3,"redirectOnCancelonInventory","isMobilePopup","CompanyIdforReport","InputInventoryId","redirectActiononInventory",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade","halfview"],["ReceiptDeliveryModal","bs-modal"],["TransactionModal","bs-modal"],["class","modal-dialog fullview modal-lg","role","document",4,"ngIf"],[3,"redirectOnCancelonCostCenter","isList","CompanyIdforReport","redirectActiononCostCenter",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","70%"],["StatAdjustmentModal","bs-modal"],["TaxClassificationNature","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],["role","form",3,"ngSubmit"],["frm","ngForm"],[1,"modal-body"],[1,"content"],[1,"form-group","col-md-12"],[1,"md-form","form-group","col-sm-12"],["for","natureofTranService"],["selectOnTab","true","name","natureofTranService","bindLabel","NA","bindValue","NA","placeholder","Select Nature Of Transaction",3,"virtualScroll","ngModel","items","loading","ngModelChange"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-primary"],["type","button",1,"btn","btn-sm","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modal","fade"],["JournalStatAdjustmentModal","bs-modal"],[3,"redirectOnCancelGodownMaster","isList","isMobilePopup","redirectActionGodownMaster",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","addItemModalVoucher",1,"modal","fade","halfview",2,"height","100%","width","100%"],["addItemModalVoucher","bs-modal"],["role","document","id","addItemModalVoucher",1,"modal-dialog","modal-lg",2,"height","100%","width","100%"],[1,"modal-body",2,"padding","0px"],["fitemVou","ngForm"],[1,"md-form","col-12","col-sm-6"],["for","selectacc"],["selectOnTab","true","required","","name","modal_Ledger","id","modal_Ledger","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","ngClass","ngModel","loading","ngModelChange"],["m_ledger","","modal_Ledger","ngModel"],["ng-header-tmp",""],["ng-label-tmp",""],["ng-option-tmp",""],["for","rate__rate"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter Rate","name","rate__rate","required","","id","rate__rate",1,"form-control","myForm",3,"ngClass","ngModel","ngModelChange","change"],["rate","","rate__rate","ngModel"],["for","dramt__dramt"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter Amount","name","dramt__dramt","required","","id","dramt__dramt",1,"form-control",3,"ngClass","ngModel","ngModelChange","change"],["dramt","","dramt__dramt","ngModel"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],["href","javascript:void(0)","title","Delete Ledger","class","btn btn-danger waves-effect",3,"click",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","50%"],["ConfigurationModal","bs-modal"],[1,"pb-3"],[1,"mr-2","pl-3"],[1,"c-switch","c-switch-pill","c-switch-primary","float-right"],["type","checkbox",1,"c-switch-input",3,"checked","change"],[1,"c-switch-slider"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","addConfigurationModalMobile",1,"modal","fade","halfview",2,"height","100%","width","100%"],["ConfigurationModalMobile","bs-modal"],["role","document","id","addConfigurationModalMobile",1,"modal-dialog","modal-lg",2,"height","100%","width","100%"],["RecptDetails","bs-modal"],["name","paytypeRd","id","paytypeRd","placeholder","Select Details",3,"ngModel","ngModelChange","change"],["paytypeRd","ngModel"],["value","End Of List"],["value","New Number"],["value","Not Applicable"],["NewTrackingModel","bs-modal"],["type","number","name","txtNewNm","id","txtNewNm","required","","placeholder","Enter New Number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",3,"ngModel","ngModelChange"],["txtNewNm","ngModel"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"mb-3","PageNameFsize"],["class","mx-5 lastLi",4,"ngIf"],[1,"mx-1"],[1,"md-form","col-sm-6","col-md-3","mt-2","pb-4",3,"click"],[1,"font-weight-bold"],[1,"fas","fa-cog"],[1,"mx-5","lastLi"],[1,"c-switch","c-switch-pill","c-switch-primary","float-right","mb-3"],["type","checkbox","id","customSwitch1",1,"c-switch-input",3,"checked","change"],[1,"mt-1","mb-2","float-right","mr-2","font-weight-bold"],[1,"customsearchM","mobileHeadersize"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],[1,"mb-3","mr-4","LeftLi","text-center","Font16"],[1,"mx-1","lastLi"],[1,"pl-1","pr-1","text-left","itemvoucher"],["for","Ivoucher"],[1,"c-switch","c-switch-pill","c-switch-primary","mr-2","mb-3"],[1,"pl-1","pr-1","w100","bill","float-left"],["for","BillNo"],["type","number","tabindex","2","name","BillNo","id","BillNo","placeholder","Bill No",1,"form-control","mw-50",3,"ngClass","required","ngModel","ngModelChange"],["BillNo","ngModel"],[1,"invalid-feedback"],[1,"pl-1","pr-1","duedt","float-left"],["for","BDueDate"],["type","text","tabindex","3","appDatepicker","","autocomplete","none","required","","name","BDueDate","id","BDueDate","placeholder","Due Date",1,"form-control",3,"ngClass","startDate","selected"],["BDueDate",""],[1,"pl-1","pr-1","float-left","journalLedger"],["for","AccountText"],["selectOnTab","true","dropdownPosition","bottom","required","","name","FLedger","bindLabel","LN",3,"tabIndex","virtualScroll","items","ngClass","ngModel","loading","placeholder","ngModelChange","keyup","change","keydown.Tab"],["led","","FLedger","ngModel"],[1,"form-text","text-muted"],["href","javascript:void(0);",1,"addLeg",3,"click"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["for","AccountInventoryText"],["selectOnTab","true","dropdownPosition","bottom","appendTo","body","required","","name","InveLedger","bindLabel","LN",3,"tabIndex","virtualScroll","items","ngClass","ngModel","loading","placeholder","ngModelChange","change","keydown.Tab","keyup"],["ledger","","InveLedger","ngModel"],[1,"pl-1","pr-1","orgI"],["for","InvoiceNo"],["tabindex","6","type","text","placeholder","Enter Invoice","name","InvoiceNo","id","InvoiceNo",1,"form-control",3,"ngModel","ngModelChange"],[1,"pl-1","pr-1","float-left","col-xs-6","journalSite"],["for"," Site"],["selectOnTab","true","name","Site","accesslevel","Edit","mname","StM","bindLabel","SN","placeholder","Select Site",3,"tabIndex","items","ngModel","loading","change","ngModelChange"],["site",""],[1,"pl-1","pr-1","float-left","col-xs-6","siteStructure"],["for","SiteStructure"],["selectOnTab","true","name","FlatModal","bindLabel","concatenatedString","placeholder","Select Flat",3,"items","ngModel","ngModelChange"],["FlatModal","ngModel"],[1,"pl-1","pr-1","float-left","cnoteCostCenter","contraCostCenter","col-xs-6"],["for","costcenter"],["selectOnTab","true","name","costcenter","bindLabel","NA","placeholder","Cost Center",3,"tabIndex","items","ngModel","loading","ngModelChange"],["costcenter",""],[1,"md-form","push-right","col-2"],["for","paytype"],["name","paytype","id","paytype","placeholder","Select PayMode",3,"tabIndex","ngModel","ngModelChange","change"],["paytype","ngModel"],["value","1"],["value","2"],["value","3"],[1,"pl-1","pr-1","float-left","col-xs-6"],["tabindex","12","type","text","name","ActiveMonth","maxlength","2","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","id","ActiveMonth",1,"form-control",3,"ngModel","ngModelChange"],["for","AddOn"],["name","Addon","id","Addon","placeholder","Select AddOn",3,"tabIndex","ngModel","change","ngModelChange"],["Addon","ngModel"],["for","AddonPlanId"],["selectOnTab","true","name","AddonPlanId","bindLabel","PlanName","placeholder","Select Add On Plan",3,"tabIndex","items","ngModel","loading","ngModelChange","change"],["AddonPlanId",""],[1,"pl-1","pr-1","cnoteCountry","contraCostCenter","float-left","col-xs-6"],["for","country"],[3,"CountryTab","isRequired","countryinput","oncountrychange"],[1,"pl-1","pr-1","state","float-left","col-xs-6"],["for","states"],[3,"StateTab","isRequired","StateInput","onStateChange"],[1,"pl-1","pr-1","float-left"],["for","statAdjust"],[1,"pt-1"],[1,"c-switch","c-switch-pill","c-switch-primary"],["tabindex","17","id","statAdjust","type","checkbox",1,"c-switch-input",3,"checked","change"],[1,"col-12","pb-2"],[1,"pl-0","challanvoucher"],["class","challan float-left ml-1",4,"ngIf"],["class","float-left ml-1",4,"ngIf"],["class","reference float-left ml-1",4,"ngIf"],[1,"challan","float-left","ml-1"],["tabindex","20","href","javascript:void(0)","tooltip","Select Challan","placement","bottom",3,"click"],[1,"float-left","ml-1"],["type","button","tabindex","19","href","javascript:void(0)",1,"btn","btn-outline-primary",3,"click"],[1,"reference","float-left","ml-1"],["tabindex","18","href","javascript:void(0)","tooltip","Select Note","placement","bottom",3,"click"],[1,"col-sm-*","pt-4"],["class","float-left mr-2 ml-2",4,"ngIf"],[1,"float-left","mr-2","ml-2"],["href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)",4,"ngFor","ngForOf"],["href","javascript:void(0)"],[3,"click"],[1,"wrapper","center-block"],["id","accordion","role","tablist","aria-multiselectable","true",1,"panel-group"],[1,"panel","panel-default"],["role","tab","id","headingOne",1,"panel-heading","active"],[1,"panel-title"],["role","button","data-toggle","collapse","data-parent","#accordion","href","#collapseOne","aria-expanded","true","aria-controls","collapseOne",4,"ngIf"],["id","collapseOne","role","tabpanel","aria-labelledby","headingOne",1,"panel-collapse","collapse","in","show"],[1,"panel-body"],[4,"ngFor","ngForOf"],[1,"mb-2"],["type","button","tabindex","500","value","Add Item",1,"btn","btn-primary","btn-sm","lighten-3",3,"click"],["class","row float-right",4,"ngIf"],["role","button","data-toggle","collapse","data-parent","#accordion","href","#collapseOne","aria-expanded","true","aria-controls","collapseOne"],[1,"mb-2","pl-2","pr-2","bg-light"],["class","col pt-1 pl-0 pr-0 text-left font-weight-bold",4,"ngIf"],["class","col pl-0 pr-0 text-dark font-weight-bold",4,"ngIf"],[1,"col-sm-*","h5","pt-1","pl-0","font-weight-bold","text-right","pr-1","text-info"],["class","col-sm-* pt-1 pl-0 pr-0 font-weight-bold",4,"ngIf"],["class","col text-left text-dark pl-0 pt-1 pr-0",4,"ngIf"],["class","col-6 pr-0 pl-0",4,"ngIf"],[1,"col-md-auto","pl-0","pr-0","text-left"],[1,"font-italic","font-weight-light"],["class","text-dark","href","javascript:void(0)",4,"ngFor","ngForOf"],[1,"col","pt-1","pl-0","pr-0","text-left","font-weight-bold"],[1,"p-0","m-0","text-info"],[1,"col","pl-0","pr-0","text-dark","font-weight-bold"],[1,"col-sm-*","pt-1","pl-0","pr-0","font-weight-bold"],[1,"col","text-left","text-dark","pl-0","pt-1","pr-0"],[1,"col-6","pr-0","pl-0"],["class","text-left text-dark",4,"ngFor","ngForOf"],[1,"text-left","text-dark"],["href","javascript:void(0)",1,"text-dark"],[1,"row","float-right"],[1,"col","font-weight-bold","pr-2","pl-0","text-right",2,"font-size","15px"],[1,"m-0"],["role","button","data-toggle","collapse","data-parent","#accordion","href","#collapseTwo","aria-expanded","true","aria-controls","collapseTwo"],["id","collapseTwo","role","tabpanel","aria-labelledby","headingOne",1,"panel-collapse","collapse","in"],["class","col-8 pl-0 pr-0 text-left text-dark font-weight-bold",4,"ngIf"],[1,"col","pl-0","pt-1","pr-0","text-dark","text-center"],[1,"col","h6","pl-0","pt-1","font-weight-bold","text-right","pr-2","text-info"],[1,"col-8","pl-0","pr-0","text-left","text-dark","font-weight-bold"],[1,"p-0","pt-1","m-0","text-info"],[1,"col-md-12","p-0"],[1,"my-custom-scrollbar"],[1,"table","table-bordered","table-account"],["style","width:75px","scope","col",4,"ngIf"],["class","text-left",4,"ngIf"],["class","text-left","scope","col",4,"ngIf"],["class","text-center","scope","col",4,"ngIf"],["scope","col",1,"text-left"],["scope","col","class","text-left",4,"ngIf"],["scope","col",1,"text-center"],["voucherrow",""],["scope","col",2,"width","75px"],[1,"text-left"],["class","text-left",3,"ngClass",4,"ngIf"],["scope","col",1,"text-right"],[1,"text-left",3,"ngClass"],["scope","row",4,"ngIf"],["autofocus","","scope","row","class","text-left",4,"ngIf"],["scope","row","class","text-left",4,"ngIf"],["scope","row",1,"text-left"],["type","number","placeholder","Enter Amount","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"min-width","75px",3,"tabindex","disabled","name","ngModel","id","ngModelChange","change","keydown.Tab"],["dramt",""],["scope","row","class","text-center",4,"ngIf"],["scope","row",1,"text-center",2,"background","white"],["href","javascript:void(0)","title","Delete Ledger","placement","bottom",2,"text-decoration","none",3,"tabindex","click"],[1,"fas","fa-trash","text-danger","mr-1"],["scope","row"],["autofocus","","appendTo","body",2,"width","75px","min-width","75px",3,"tabIndex","name","disabled","id","ngModel","change","ngModelChange"],["value","Cr"],["value","Dr"],["autofocus","","scope","row",1,"text-left"],["dropdownPosition","bottom","bindLabel","LN","placeholder","Select Account","selectOnTab","true","appendTo","body",1,"maxpanel",3,"tabIndex","virtualScroll","items","name","ngModel","loading","ngModelChange","focus","keyup"],["toled",""],[1,"clearfix","text-left","ml-2","font-italic","font-weight-light"],["bindLabel","LN","dropdownPosition","bottom","appendTo","body","selectOnTab","true","bindLabel","LN","placeholder","Select Account",1,"maxpanel",3,"tabIndex","virtualScroll","items","name","ngModel","loading","ngModelChange","keyup"],["dropdownPosition","bottom","appendTo","body","selectOnTab","true","bindLabel","InvN","placeholder","Select Inventory",1,"maxpanel",3,"tabIndex","virtualScroll","items","id","name","ngModel","loading","ngModelChange","keydown.Tab","change","keyup"],["toInv",""],[1,"clearfix","text-left","font-italic","font-weight-light"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Inv","placement","bottom",1,"mr-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"input-group",2,"height","32px"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter QTY","aria-describedby","btnGroupAddon2",1,"form-control",3,"tabindex","disabled","name","ngModel","id","ngModelChange","change"],["actqty",""],["class","input-group-append",4,"ngIf"],[1,"input-group-append"],["id","btnGroupAddon2",1,"input-group-text"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter rate",1,"form-control",3,"tabindex","disabled","name","ngModel","id","ngModelChange","change"],["Vrate",""],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter discount",1,"form-control",3,"tabindex","name","ngModel","id","ngModelChange","change"],["Disc",""],["placeholder","Enter Amount","type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"min-width","75px",3,"tabindex","disabled","name","ngModel","id","ngModelChange","keydown.Tab","change"],["CrAmt",""],["selectOnTab","true","appendTo","body","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",1,"maxpanel",2,"min-width","140px",3,"tabIndex","multiple","items","name","ngModel","loading","ngModelChange","change","keyup"],["toTax",""],["scope","row",1,"text-center"],["href","javascript:void(0)",1,"btn","btn-link",3,"tabindex","click"],["Inventoryrow",""],["type","button","tabindex","1000","value","Add Item",1,"btn","btn-primary","btn-sm","lighten-3",3,"click"],["dropdownPosition","bottom","appendTo","body","bindLabel","LN","placeholder","Select Account","selectOnTab","true",1,"maxpanel",3,"tabIndex","virtualScroll","items","name","ngModel","loading","ngModelChange","keyup"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter rate",1,"form-control",3,"tabindex","name","ngModel","id","ngModelChange","change"],["rate",""],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","placeholder","Enter amount",1,"form-control",3,"tabindex","name","ngModel","id","ngModelChange","change"],[1,"text-center"],["IntoTax",""],[1,"col","pr-0","pl-2"],["for","CompanyLogo"],[1,"input-group"],["tabindex","1002","maxFiles","3","maxSize","2","fileExt","JPG, GIF, PNG, PDF, JPEG",3,"filelist","uploadStatus"],["fileUpload",""],[1,"col","pl-0","pr-0"],[1,"text-right","mr-0","pt-2","pb-2","float-right"],[1,"table"],["class","border-0",4,"ngIf"],[1,"text-right"],[1,"border-0"],["colspan","2",1,"border-0"],["appendTo","body","selectOnTab","true","name","toTaxcommon","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",2,"max-width","160px","min-width","150px",3,"tabIndex","multiple","items","ngModel","loading","ngModelChange","change"],["toTaxcommon",""],[1,"text-right","text-right","pr-0","pb-0"],["class","float-right",4,"ngIf"],[1,"float-right"],["appendTo","body","selectOnTab","true","name","TCSLed","bindLabel","LN","placeholder","Select TCS Ledger",1,"mb-0",2,"width","150px",3,"tabIndex","virtualScroll","ngModel","items","ngClass","loading","ngModelChange","change"],["TCSLed","ngModel"],["appendTo","body","selectOnTab","true","required","","name","Type","bindLabel","LN","placeholder","Select Round Ledger",1,"mb-0",2,"width","150px",3,"tabIndex","virtualScroll","ngModel","items","ngClass","loading","ngModelChange","change"],["Type","ngModel"],[1,"col-12","pr-0","pl-2"],[1,"col-12","p-0"],["for","bankdetails",2,"font-weight","bold"],[1,"table-responsive"],[1,"table","table-account","table-bordered"],[1,"text-center","pt-1"],["type","text",1,"form-control",3,"tabindex","name","ngModel","id","ngModelChange"],["BankName",""],["placeholder","Select Type","appendTo","body",3,"tabIndex","name","ngModel","ngModelChange"],["value","Cheque/DD"],["value","UPI"],["value","Electronic Transfer"],["value","E-Cheque"],["value","Cash"],["value","Other"],["ChkNo",""],["type","text","appDatepicker","",1,"form-control",3,"tabindex","name","position","startDate","index","id","selectedindex"],["ChkDt",""],["type","text","appDatepicker","",1,"form-control",3,"tabindex","name","startDate","index","position","id","selectedindex"],["BRecoDt",""],["bankAmt",""],["id","formbtnContainer",1,"col-sm-12","p-0","text-right"],["tabindex","1021","type","button","value","Cancel",1,"btn","btn-dark","mr-2",3,"click"],["class","btn dropdown-toggle t btn-primary text-white","type","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",4,"ngIf"],[1,"dropdown-menu","dropdown-primary"],["href","javascript:void(0)","mname","ReciptDemand","accesslevel","Add",1,"dropdown-item","btn","btn-link",3,"appRole","SignupId","UserId","clickAllowed"],["class","dropdown-item btn btn-link","mname","ReciptDemand","href","javascript:void(0)","accesslevel","Add",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["tabindex","1020","type","submit","name","btnsubmit","id","btnsubmit","class","btn btn-primary",4,"ngIf"],["type","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle","t","btn-primary","text-white"],["mname","ReciptDemand","href","javascript:void(0)","accesslevel","Add",1,"dropdown-item","btn","btn-link",3,"appRole","SignupId","UserId","clickAllowed"],["tabindex","1020","type","submit","name","btnsubmit","id","btnsubmit",1,"btn","btn-primary"],["btnsubmit",""],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark",2,"background-color","lavender"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight",2,"flex-direction","row","list-style","none"],[1,"nav-item","active","ml-2"],["class","btn dropdown-toggle btn-primary text-white","type","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",4,"ngIf"],[1,"nav-item","active"],["tabindex","1021","type","button","value","Cancel",1,"btn","btn-dark",3,"click"],["type","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle","btn-primary","text-white"],["name","CrDr_modalCrDr","id","CrDr_modalCrDr","appendTo","body",3,"disabled","ngModel","change","ngModelChange"],["for","moda_Ledger"],["selectOnTab","true","required","","name","modal1_Ledger","id","modal1_Ledger","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","ngClass","ngModel","loading","ngModelChange"],["mobileLed","","modal1_Ledger","ngModel"],["for","modal_toInv"],["selectOnTab","true","required","","name","modal_toInv","bindLabel","InvN","placeholder","Select Inventory",3,"virtualScroll","items","ngClass","ngModel","loading","ngModelChange"],["mod_toInv","","modal_toInv","ngModel"],["type","button","href","javascript:void(0)",1,"btn","btn-outline-primary",3,"click"],["for","Actualqty"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","actqty__LedgerInventoryIndex","placeholder","Enter Qty","id","actqty__LedgerInventoryIndex","aria-describedby","btnGroupAddon2",1,"form-control",3,"ngModel","disabled","ngModelChange","change"],[1,"md-form","col","col-sm-6"],["for","Rate"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","Vrate__LedgerInventoryIndex","placeholder","Enter rate","id","Vrate__LedgerInventoryIndex",1,"form-control",3,"disabled","ngModel","ngModelChange","change"],["for","Disc"],["type","number","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","Disc__LedgerInventoryIndex","id","Disc__LedgerInventoryIndex","placeholder","Enter Discount",1,"form-control",3,"ngModel","ngModelChange","change"],["for","tax"],["selectOnTab","true","appendTo","body","name","modal_TaxLed","bindLabel","LN","dropdownPosition","bottom","placeholder","Select Tax Account",3,"virtualScroll","multiple","items","ngModel","loading","ngModelChange","change"],["modal_TaxLed",""],["href","javascript:void(0)",1,"btn","btn-outline-primary",3,"click"],["type","number","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$","name","modal_CrAmt","id","modal_CrAmt",1,"form-control",3,"ngClass","disabled","ngModel","ngModelChange"],["modal_CrAmt","ngModel"],[1,"md-form","col-12","col-sm-6","mt-4","pt-4","text-right"],["href","javascript:void(0)","title","Delete Ledger",1,"btn","btn-danger","waves-effect",3,"click"],["role","document","id","myModalRef",1,"modal-lg"],["MobileReferenceForm","ngForm"],[1,"modal-content",2,"height","100%","width","100vw","border","0px"],[1,"modal-body","p-0","pt-2"],["class","table-responsive refTable",4,"ngIf"],[1,"table-responsive","refTable"],["class","table table-account table-bordered",4,"ngIf"],["type","submit",1,"btn","btn-primary"],["href","javascript:void(0)","title","Cancel",1,"btn","btn-primary","waves-effect",3,"click"],["refTable",""],["class","row",4,"ngFor","ngForOf"],[1,"md-form","col-md-6","col-sm-6"],["for","rafdrp"],["required","","appendTo","body","placeholder","Select Ref Type",3,"name","disabled","ngModel","ngClass","change","ngModelChange"],["RefType","ngModel"],["value","NewRef"],["value","OnAccount"],["value","Advance"],["value","AgainstRef"],["for","RefType"],["for","DueDate"],["colspan","2",4,"ngIf"],["for","Refamt__"],["type","number","required","","placeholder","Enter Amount",1,"accText","form-control",3,"name","ngModel","ngClass","change","ngModelChange"],["Refamt","ngModel"],["for","AmtType"],["placeholder","Select","appendTo","body",3,"name","ngModel","ngModelChange"],["type","text","required","","placeholder","Reference Tag",1,"form-control","accText",3,"ngClass","disabled","name","ngModel","ngModelChange"],["refTag","ngModel"],["type","text","placeholder","Due Date","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",3,"disabled","ngClass","startDate","name","id","selected"],["refdate",""],["colspan","2"],["selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",3,"items","name","ngModel","ngModelChange","change",4,"ngIf"],["selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",3,"items","name","ngModel","ngModelChange","change"],["agReferences",""],["role","document","id","myModalRef"],["frefitem","ngForm"],[1,"text-left","ml-3","radio-container"],[1,"ml-1","text-danger","font-weight-bold","h5"],[1,"radio-options"],[1,"radio-option"],["type","radio","name","TermType","value","AgreementOCR",3,"ngModel","ngModelChange","change"],["for","Agreement"],["type","radio","name","TermType","value","AgreementLOAN",3,"ngModel","ngModelChange","change"],["type","radio","name","TermType","value","GST",3,"ngModel","ngModelChange","change"],["for","GST"],["type","radio","name","TermType","value","OCR",3,"ngModel","ngModelChange","change"],["for","OCR"],[1,"font-weight-bold","text-right","mr-3","text-primary",2,"margin-left","auto"],[1,"modal-body","pt-0"],["type","button",1,"btn","btn-link","p-0","m-0",3,"click"],["for","Total Amount",1,"float-right","text-center"],["class","md-form",4,"ngFor","ngForOf"],[1,"md-form"],["required","","appendTo","body","placeholder","Select Ref Type",2,"min-width","110px",3,"name","ngModel","ngClass","change","ngModelChange"],["type","number","required","","placeholder","Enter Amount",1,"accText","form-control",2,"width","88px",3,"name","ngModel","ngClass","change","ngModelChange"],["placeholder","Select","appendTo","body",2,"min-width","72px",3,"name","ngModel","ngModelChange","change"],[2,"width","45px","padding","5px","padding-left","14px"],["href","javascript:void(0)",2,"text-decoration","none",3,"click"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",3,"disabled","ngClass","startDate","name","id","selected"],["selectOnTab","true","appendTo","body","class","maxpanel","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",3,"items","name","ngModel","ngModelChange","change",4,"ngIf"],["selectOnTab","true","appendTo","body","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",1,"maxpanel",3,"items","name","ngModel","ngModelChange","change"],["role","document","id","myModalRef",1,"modal-dialog","modal-lg"],["frefgodo","ngForm"],[1,"modal-body","my-custom-scrollbar"],["class","table-responsive refTable",3,"max-width",4,"ngIf"],["required","","name","godownType","id","godownType","appendTo","body","bindLabel","GN","placeholder","Select Godown",2,"min-width","180px",3,"items","name","ngModel","loading","ngClass","ngModelChange","change"],["god","","godownType","ngModel"],["required","","appendTo","body","placeholder","Select Batch","bindLabel","BN","bindValue","UIDN",3,"items","name","ngModel","loading","ngClass","ngModelChange","change"],["Batch_Type","ngModel"],["type","text","placeholder","Batch Name","required","",1,"form-control","accText",2,"min-width","130px",3,"disabled","ngClass","name","ngModel","ngModelChange"],["batchTag","ngModel"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",2,"width","115px",3,"startDate","name","id","selected"],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"width","90px",3,"ngClass","ngModel","name","id","ngModelChange","change"],["txtQty","ngModel"],["txtRt","ngModel"],["type","text","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",2,"width","90px",3,"ngClass","ngModel","name","id","ngModelChange"],["txtAmt","ngModel"],[1,"modal-content",2,"border","0px"],[1,"modal-body","p-0"],["class","table-responsive refTable","style","height: 650px;",3,"max-width",4,"ngIf"],[1,"table-responsive","refTable",2,"height","650px"],["class","mb-2",4,"ngFor","ngForOf"],["for","Godown"],["required","","name","godownType","id","godownType","appendTo","body","bindLabel","GN","placeholder","Select Godown",3,"items","name","ngModel","loading","ngClass","ngModelChange","change"],["Godown","","godownType","ngModel"],["for","Batch_Type"],["for","batchTag"],["type","text","placeholder","Batch Name","required","",1,"form-control","accText",3,"disabled","ngClass","name","ngModel","ngModelChange"],["for","MFGDt"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",3,"startDate","name","id","selected"],["for","Qty"],["type","number","placeholder","Enter QTY","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange","change"],["for","Rt"],["type","number","required","","placeholder","Enter rate","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange","change"],["for","txtAmt"],["type","number","placeholder","Enter amount","required","","pattern","^-?\\s*(?:\\d+|\\d*\\.\\d+)?\\s*$",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange"],[1,"modal-body",2,"border","0px"],["class","table-responsive",3,"max-width",4,"ngIf"],["class","p-2",4,"ngIf"],[1,"modal-footer",2,"border","0px"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[2,"min-width","85px"],[3,"dateValue"],[1,"btn","btn-link",3,"click"],[1,"p-2"],["type","button",1,"btn","btn-primary",3,"click"],["role","document",1,"modal-lg"],[1,"modal-body",2,"height","400px","overflow","scroll"],[3,"isMobilePopup","CompanyIdforReport","redirectOnCancel","redirectAction"],[3,"CompanyIdforReport","isMobilePopup","redirectOnCancel","inputLedgerId","redirectAction"],[3,"CompanyIdforReport","ChallanredirectOnCancel","ChallanId","ChallanredirectAction"],[3,"redirectOnCancelonInventory","isMobilePopup","CompanyIdforReport","InputInventoryId","redirectActiononInventory"],[1,"switch"],["role","document",1,"modal-dialog","fullview","modal-lg"],["id","voucherContent",1,"modal-content"],[1,"fas","fa-times","fa-lg",3,"click"],[3,"TransactionredirectOnCancel","IsDuplicate","VoucherType","IsItemVoucher","VoucherId","CompanyIdforReport","TransactionredirectAction"],[3,"redirectOnCancelonCostCenter","isList","CompanyIdforReport","redirectActiononCostCenter"],["selectOnTab","true","appendTo","body","name","DutyTax","bindLabel","Name","placeholder","Types Of Duty/Tax","required","",3,"ngModel","items","ngModelChange"],["DutyTax",""],["selectOnTab","true","appendTo","body","name","natureOfAdjustment","bindLabel","Name","bindValue","Name","placeholder","Types Of Nature Of Adjustment","required","",3,"ngModel","items","change","ngModelChange"],["natureOfAdjustment","ngModel","natureOfAdjustmentselect",""],["selectOnTab","true","appendTo","body","name","additionalDetails","bindLabel","Name","placeholder","Types Of Additional Details","bindValue","Name","required","",3,"items","ngModel","ngModelChange"],["additionalDetails","ngModel","additionalDetailsselect",""],["type","text","pattern","[0-9]*","maxlength","2","name","Rate","id","Rate","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Rate","ngModel"],["type","text","pattern","[0-9]*","name","TaxAmount","id","TaxAmount",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["TaxAmount","ngModel"],["class","invalid-feedback","required","",4,"ngIf"],[3,"hidden"],["required","",1,"invalid-feedback"],[3,"redirectOnCancelGodownMaster","isList","isMobilePopup","redirectActionGodownMaster"]],template:function(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.YNc(2,Ue,13,2,"div",2),n.YNc(3,Re,11,1,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"form",5,6),n.NdJ("ngSubmit",function(){return n.CHM(e),n.MAs(6).form.valid&&t.onSubmit()}),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"label",9),n._uU(10,"VoucherNo"),n.qZA(),n.TgZ(11,"input",10),n.NdJ("ngModelChange",function(e){return t.accountService.singleresult.VNO=e}),n.qZA(),n.qZA(),n.TgZ(12,"div",11),n.TgZ(13,"label",12),n._uU(14,"Date"),n.qZA(),n.TgZ(15,"input",13,14),n.NdJ("selected",function(e){return t.onDateSelect(e)})("onblur",function(){return t.IsvalidDate()}),n.qZA(),n.qZA(),n.YNc(17,Je,7,1,"div",15),n.YNc(18,Ee,7,8,"div",16),n.YNc(19,He,6,5,"div",17),n.YNc(20,We,10,11,"div",18),n.YNc(21,rt,11,11,"div",19),n.YNc(22,ot,4,1,"div",20),n.YNc(23,lt,6,4,"div",21),n.YNc(24,ct,6,4,"div",22),n.YNc(25,ht,7,4,"div",23),n.YNc(26,gt,11,2,"div",24),n.YNc(27,pt,4,1,"div",25),n.YNc(28,ft,9,2,"div",24),n.YNc(29,Tt,6,4,"div",24),n.YNc(30,vt,4,3,"div",26),n.YNc(31,It,4,3,"div",27),n.YNc(32,Zt,7,1,"div",28),n.YNc(33,At,5,2,"div",29),n.YNc(34,yt,4,3,"div",30),n.YNc(35,Jt,4,3,"div",31),n.qZA(),n.YNc(36,kt,2,0,"div",32),n.YNc(37,ni,15,4,"div",32),n.YNc(38,ri,2,0,"div",32),n.YNc(39,li,14,1,"div",32),n.YNc(40,ai,2,0,"div",32),n.TgZ(41,"div",7),n.YNc(42,an,26,14,"div",33),n.YNc(43,Tn,19,2,"div",33),n.TgZ(44,"div",34),n.TgZ(45,"label",35),n._uU(46,"Narration"),n.qZA(),n.TgZ(47,"textarea",36,37),n.NdJ("ngModelChange",function(e){return t.accountService.singleresult.Narr=e}),n.qZA(),n.qZA(),n.YNc(49,vn,6,1,"div",38),n.YNc(50,yn,28,12,"div",39),n.YNc(51,Nn,6,1,"div",40),n._UZ(52,"div",7),n.qZA(),n.YNc(53,Mn,2,0,"div",32),n.YNc(54,_n,26,1,"div",41),n.YNc(55,kn,14,9,"div",41),n.YNc(56,Fn,17,9,"nav",42),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(57,"div",43,44),n.TgZ(59,"div",45),n.TgZ(60,"div",46),n.TgZ(61,"div",47),n.TgZ(62,"h4",48),n._uU(63,"Add Items "),n.qZA(),n.TgZ(64,"button",49),n.NdJ("click",function(){n.CHM(e);const i=n.MAs(58);return t.clearItemModel(),i.hide()}),n.TgZ(65,"span",50),n._uU(66,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(67,"div",51),n.TgZ(68,"form",5,52),n.NdJ("ngSubmit",function(){return n.CHM(e),n.MAs(69).form.valid}),n.TgZ(70,"div",53),n.YNc(71,En,8,2,"div",54),n.YNc(72,jn,10,8,"div",54),n.YNc(73,tr,8,8,"div",54),n.YNc(74,nr,4,1,"div",54),n.YNc(75,rr,9,3,"div",54),n.TgZ(76,"div",7),n.YNc(77,or,6,2,"div",55),n.YNc(78,sr,6,1,"div",55),n.qZA(),n.YNc(79,cr,7,5,"div",54),n.YNc(80,ur,4,1,"div",54),n.TgZ(81,"div",7),n.TgZ(82,"div",56),n.YNc(83,hr,2,0,"label",32),n.YNc(84,gr,2,0,"label",32),n.TgZ(85,"input",57,58),n.NdJ("change",function(){return t.finalcalculateMobile()})("ngModelChange",function(e){return t.modalDrAmt=e}),n.qZA(),n.YNc(87,mr,3,2,"div",59),n.qZA(),n.YNc(88,Zr,7,6,"div",60),n.qZA(),n.qZA(),n.YNc(89,Ar,8,3,"div",32),n.TgZ(90,"nav",61),n.TgZ(91,"ul",62),n.TgZ(92,"li",63),n.TgZ(93,"button",64),n.NdJ("click",function(){return t.addItemfromModal(!1)}),n._uU(94,"Save"),n.qZA(),n.qZA(),n.TgZ(95,"li",63),n.TgZ(96,"button",64),n.NdJ("click",function(){return t.addItemfromModal(!0)}),n._uU(97,"Save & New"),n.qZA(),n.qZA(),n.YNc(98,xr,3,0,"li",65),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(99,"div",66,67),n.TgZ(101,"div",68),n.YNc(102,Pr,12,1,"div",69),n.qZA(),n.qZA(),n.TgZ(103,"div",70,71),n.YNc(105,to,46,7,"div",72),n.qZA(),n.TgZ(106,"div",73,74),n.YNc(108,xo,19,1,"div",75),n.qZA(),n.TgZ(109,"div",76,77),n.YNc(111,Yo,22,2,"div",75),n.qZA(),n.TgZ(112,"div",78,79),n.TgZ(114,"div",68),n.YNc(115,jo,15,3,"div",80),n.qZA(),n.qZA(),n.TgZ(116,"div",81,82),n.YNc(118,es,15,3,"div",83),n.qZA(),n.YNc(119,ts,1,3,"app-companyledger-addedit",84),n.YNc(120,is,1,4,"app-companyledger-addedit",85),n.YNc(121,ns,1,3,"app-challan-addedit",86),n.TgZ(122,"div",87,88),n.TgZ(124,"div",89),n.TgZ(125,"div",90),n.TgZ(126,"div",91),n.TgZ(127,"h4",48),n._uU(128,"Enter Mobile Number "),n.qZA(),n.TgZ(129,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(123).hide()}),n.TgZ(130,"span",50),n._uU(131,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(132,"app-sms",92),n.NdJ("onMobilechange",function(e){return t.Mobile=e}),n.qZA(),n.TgZ(133,"div",93),n.TgZ(134,"button",94),n.NdJ("click",function(){return t.AddVoucher()}),n._uU(135,"Send SMS"),n.qZA(),n.TgZ(136,"button",95),n.NdJ("click",function(){return n.CHM(e),n.MAs(123).hide()}),n._uU(137,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(138,"div",81,96),n.TgZ(140,"div",97),n.TgZ(141,"div",98),n.TgZ(142,"div",91),n.YNc(143,rs,2,0,"h4",99),n.TgZ(144,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(139).hide()}),n.TgZ(145,"span",50),n._uU(146,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(147,"app-email",100),n.NdJ("onemailchange",function(e){return t.Email=e}),n.qZA(),n.TgZ(148,"div",93),n.YNc(149,os,2,0,"button",101),n.YNc(150,ss,2,0,"button",101),n.TgZ(151,"button",95),n.NdJ("click",function(){return n.CHM(e),n.MAs(139).hide()}),n._uU(152,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(153,"div",87,102),n.TgZ(155,"div",97),n.TgZ(156,"div",98),n.TgZ(157,"div",91),n.YNc(158,ls,2,0,"h4",99),n.TgZ(159,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(154).hide()}),n.TgZ(160,"span",50),n._uU(161,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(162,"app-email",100),n.NdJ("onemailchange",function(e){return t.Email=e}),n.qZA(),n.TgZ(163,"div",93),n.YNc(164,as,2,0,"button",101),n.YNc(165,cs,2,0,"button",101),n.TgZ(166,"button",95),n.NdJ("click",function(){return n.CHM(e),n.MAs(154).hide()}),n._uU(167,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(168,ds,1,4,"app-inventory-addedit",103),n.TgZ(169,"div",104,105),n.YNc(171,fs,15,4,"div",80),n.qZA(),n.TgZ(172,"div",87,106),n.YNc(174,ms,8,7,"div",107),n.qZA(),n.YNc(175,Ts,1,3,"app-cost-category",108),n.TgZ(176,"div",109,110),n.YNc(178,Zs,32,9,"div",80),n.qZA(),n.TgZ(179,"div",81,111),n.TgZ(181,"div",112),n.TgZ(182,"form",113,114),n.NdJ("ngSubmit",function(){return n.CHM(e),n.MAs(183).form.valid&&t.closeNatureOfTransactionsModel()}),n.TgZ(184,"div",98),n.TgZ(185,"div",91),n.TgZ(186,"h4",48),n._uU(187,"Tax Classification Details"),n.qZA(),n.TgZ(188,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(180).hide()}),n.TgZ(189,"span",50),n._uU(190,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(191,"div",115),n.TgZ(192,"div",116),n.TgZ(193,"div",117),n.TgZ(194,"div",118),n.TgZ(195,"label",119),n._uU(196,"Classification/Nature"),n.qZA(),n.TgZ(197,"ng-select",120),n.NdJ("ngModelChange",function(e){return t.natureoftransaction=e}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(198,"div",121),n.TgZ(199,"button",122),n._uU(200,"Save Changes"),n.qZA(),n.TgZ(201,"button",123),n.NdJ("click",function(){return n.CHM(e),n.MAs(180).hide()}),n._uU(202,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(203,"div",124,125),n.YNc(205,Ss,25,12,"div",75),n.qZA(),n.YNc(206,Ds,1,3,"app-godown-list",126),n.TgZ(207,"div",127,128),n.TgZ(209,"div",129),n.TgZ(210,"div",46),n.TgZ(211,"div",91),n.TgZ(212,"h4",48),n._uU(213,"Add Item Voucher "),n.qZA(),n.TgZ(214,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(208).hide()}),n.TgZ(215,"span",50),n._uU(216,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(217,"div",130),n.TgZ(218,"form",5,131),n.NdJ("ngSubmit",function(){return n.CHM(e),n.MAs(219).form.valid}),n.TgZ(220,"div",53),n.TgZ(221,"div",132),n.TgZ(222,"label",133),n._uU(223,"Select Account"),n.qZA(),n.TgZ(224,"ng-select",134,135),n.NdJ("ngModelChange",function(e){return t.modalLedger=e}),n.YNc(227,Cs,3,0,"ng-template",136),n.YNc(228,bs,1,1,"ng-template",137),n.YNc(229,ys,4,3,"ng-template",138),n.qZA(),n.YNc(230,Ms,2,1,"div",59),n.qZA(),n.TgZ(231,"div",132),n.TgZ(232,"label",139),n._uU(233,"Rate"),n.qZA(),n.TgZ(234,"input",140,141),n.NdJ("ngModelChange",function(e){return t.modalRate=e})("change",function(){return t.finalcalculation()}),n.qZA(),n.YNc(237,qs,2,1,"div",59),n.qZA(),n.TgZ(238,"div",132),n.TgZ(239,"label",142),n._uU(240,"Amount"),n.qZA(),n.TgZ(241,"input",143,144),n.NdJ("ngModelChange",function(e){return t.modalDrAmt=e})("change",function(){return t.finalcalculation()}),n.qZA(),n.YNc(244,Vs,2,1,"div",59),n.qZA(),n.qZA(),n.TgZ(245,"nav",145),n.TgZ(246,"ul",62),n.TgZ(247,"li",63),n.TgZ(248,"button",64),n.NdJ("click",function(){return t.addItemVouchersfromModal(!1)}),n._uU(249,"Save"),n.qZA(),n.qZA(),n.TgZ(250,"li",63),n.TgZ(251,"button",64),n.NdJ("click",function(){return t.addItemVouchersfromModal(!0)}),n._uU(252,"Save & New"),n.qZA(),n.qZA(),n.TgZ(253,"li",63),n.YNc(254,_s,2,0,"a",146),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(255,"div",147,148),n.TgZ(257,"div",112),n.TgZ(258,"div",98),n.TgZ(259,"div",91),n.TgZ(260,"h4",48),n._uU(261,"Standard Configuration "),n.qZA(),n.TgZ(262,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(256).hide()}),n.TgZ(263,"span",50),n._uU(264,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(265,"div",115),n.TgZ(266,"div",116),n.TgZ(267,"table"),n.TgZ(268,"tr"),n.TgZ(269,"td",149),n.TgZ(270,"strong",150),n._uU(271,"Show Cost Center Details"),n.qZA(),n.qZA(),n.TgZ(272,"td"),n.TgZ(273,"label",151),n.TgZ(274,"input",152),n.NdJ("change",function(){return t.IsShowCostCenter=1!=t.IsShowCostCenter}),n.qZA(),n._UZ(275,"span",153),n.qZA(),n.qZA(),n.qZA(),n.TgZ(276,"tr"),n.TgZ(277,"td",149),n.TgZ(278,"strong",150),n._uU(279,"Allow Separate country/State"),n.qZA(),n.qZA(),n.TgZ(280,"td"),n.TgZ(281,"label",151),n.TgZ(282,"input",152),n.NdJ("change",function(){return t.IsShowCountryState=1!=t.IsShowCountryState}),n.qZA(),n._UZ(283,"span",153),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(284,"div",121),n.TgZ(285,"button",95),n.NdJ("click",function(){return n.CHM(e),n.MAs(256).hide()}),n._uU(286,"Close"),n.qZA(),n.TgZ(287,"button",94),n.NdJ("click",function(){return t.ConfigurationSave()}),n._uU(288,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(289,"div",154,155),n.TgZ(291,"div",156),n.TgZ(292,"div",46),n.TgZ(293,"div",91),n.TgZ(294,"h4",48),n._uU(295,"Standard Configuration "),n.qZA(),n.TgZ(296,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(290).hide()}),n.TgZ(297,"span",50),n._uU(298,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(299,"div",115),n.TgZ(300,"div",116),n.TgZ(301,"table"),n.TgZ(302,"tr"),n.TgZ(303,"td",149),n.TgZ(304,"strong",150),n._uU(305,"Show Cost Center Details"),n.qZA(),n.qZA(),n.TgZ(306,"td"),n.TgZ(307,"label",151),n.TgZ(308,"input",152),n.NdJ("change",function(){return t.IsShowCostCenter=1!=t.IsShowCostCenter}),n.qZA(),n._UZ(309,"span",153),n.qZA(),n.qZA(),n.qZA(),n.TgZ(310,"tr"),n.TgZ(311,"td",149),n.TgZ(312,"strong",150),n._uU(313,"Allow Separate country/State"),n.qZA(),n.qZA(),n.TgZ(314,"td"),n.TgZ(315,"label",151),n.TgZ(316,"input",152),n.NdJ("change",function(){return t.IsShowCountryState=1!=t.IsShowCountryState}),n.qZA(),n._UZ(317,"span",153),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(318,"div",121),n.TgZ(319,"button",95),n.NdJ("click",function(){return n.CHM(e),n.MAs(290).hide()}),n._uU(320,"Close"),n.qZA(),n.TgZ(321,"button",94),n.NdJ("click",function(){return t.ConfigurationSave()}),n._uU(322,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(323,"div",81,157),n.TgZ(325,"div",112),n.TgZ(326,"form",113,114),n.NdJ("ngSubmit",function(){return n.CHM(e),n.MAs(183).form.valid&&t.closeRecptDetailsModel()}),n.TgZ(328,"div",98),n.TgZ(329,"div",91),n.TgZ(330,"h4",48),n._uU(331,"Receipt Details"),n.qZA(),n.TgZ(332,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(324).hide()}),n.TgZ(333,"span",50),n._uU(334,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(335,"div",115),n.TgZ(336,"div",116),n.TgZ(337,"div",117),n.TgZ(338,"div",118),n.TgZ(339,"label",119),n._uU(340,"Receipt Note No.(s)"),n.qZA(),n.TgZ(341,"ng-select",158,159),n.NdJ("ngModelChange",function(e){return t.ReceiptDetails=e})("change",function(){return t.onSelectionChange()}),n.TgZ(343,"ng-option",160),n._uU(344,"End Of List"),n.qZA(),n.TgZ(345,"ng-option",161),n._uU(346,"New Number"),n.qZA(),n.TgZ(347,"ng-option",162),n._uU(348,"Not Applicable"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(349,"div",121),n.TgZ(350,"button",122),n._uU(351,"Save Changes"),n.qZA(),n.TgZ(352,"button",123),n.NdJ("click",function(){return n.CHM(e),n.MAs(324).hide()}),n._uU(353,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(354,"div",81,163),n.TgZ(356,"div",112),n.TgZ(357,"form",113,114),n.NdJ("ngSubmit",function(){return n.CHM(e),n.MAs(183).form.valid&&t.NewTrackingModels()}),n.TgZ(359,"div",98),n.TgZ(360,"div",91),n.TgZ(361,"h4",48),n._uU(362,"New Number"),n.qZA(),n.TgZ(363,"button",49),n.NdJ("click",function(){return n.CHM(e),n.MAs(355).hide()}),n.TgZ(364,"span",50),n._uU(365,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(366,"div",115),n.TgZ(367,"div",116),n.TgZ(368,"div",117),n.TgZ(369,"div",118),n.TgZ(370,"input",164,165),n.NdJ("ngModelChange",function(e){return t.NewTrackingNumber=e}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(372,"div",121),n.TgZ(373,"button",122),n._uU(374,"Save Changes"),n.qZA(),n.TgZ(375,"button",123),n.NdJ("click",function(){return n.CHM(e),n.MAs(355).hide()}),n._uU(376,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(6),i=n.MAs(16),r=n.MAs(48),o=n.MAs(69),s=n.MAs(86),l=n.MAs(219),a=n.MAs(226),c=n.MAs(236),d=n.MAs(243);n.ekj("itemvoucher",t.IsItemVoucher),n.Q6J("ngClass",t.vouchertypeclass),n.xp6(1),n.Udp("display",t.isLedgerpopupopen||t.showCompanyLedgerpopup||t.isCostCenterpopupopen||t.isGodownMasterpopupopen||t.isInventorypopupopen||t.showChallanModal?"none":"block"),n.Q6J("hidden",!t.isList),n.xp6(1),n.Q6J("ngIf",!t.companyLedgerService.IsMobileview),n.xp6(1),n.Q6J("ngIf",t.companyLedgerService.IsMobileview),n.xp6(8),n.Q6J("ngModel",t.accountService.singleresult.VNO),n.xp6(4),n.ekj("invalid-feedback",e.submitted&&i.invalid),n.Q6J("startDate",t.accountService.singleresult.VDt)("ngClass",n.VKq(119,Fe,e.submitted&&i.invalid)),n.xp6(2),n.Q6J("ngIf",("RealEstate"==t.accountService.getCompanyData.Type||"Trading"==t.accountService.getCompanyData.Type||"Manufacturing"==t.accountService.getCompanyData.Type)&&("Debit Note"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT||"Purchase"==t.accountService.singleresult.VT||"Sales"==t.accountService.singleresult.VT)&&t.accountService.IsMobileview),n.xp6(1),n.Q6J("ngIf","Purchase"==t.accountService.singleresult.VT||"Receipt Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf","Purchase"==t.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",!t.IsCRDR||t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf","Debit Note"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf","RealEstate"==t.accountService.getCompanyData.Type||"CRM"==t.accountService.getCompanyData.Type),n.xp6(1),n.Q6J("ngIf","Receipt"==t.accountService.singleresult.VT&&("RealEstate"==t.accountService.getCompanyData.Type||"CRM"==t.accountService.getCompanyData.Type)),n.xp6(1),n.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type&&t.ShowCostCenter),n.xp6(1),n.Q6J("ngIf",t.Ispaymode),n.xp6(1),n.Q6J("ngIf",t.IsSignupMaintenancePayment),n.xp6(1),n.Q6J("ngIf",t.IspayAddOnPayment),n.xp6(1),n.Q6J("ngIf",t.IspayAddOnPayment),n.xp6(1),n.Q6J("ngIf",("Debit Note"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT||"Purchase"==t.accountService.singleresult.VT||"Sales"==t.accountService.singleresult.VT||"Receipt Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT)&&t.ShowCountryState),n.xp6(1),n.Q6J("ngIf",t.ShowCountryState),n.xp6(1),n.Q6J("ngIf","Journal"==t.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",1==t.IsStatAdjust),n.xp6(1),n.Q6J("ngIf",(!t.IsCRDR||t.IsItemVoucher)&&"Purchase"==t.accountService.singleresult.VT||"Sales"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT||"Debit Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"Receipt Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",(!t.IsCRDR||t.IsItemVoucher)&&"Purchase"==t.accountService.singleresult.VT||"Sales"==t.accountService.singleresult.VT||"Credit Note"==t.accountService.singleresult.VT||"Debit Note"==t.accountService.singleresult.VT||"Delivery Note"==t.accountService.singleresult.VT||"Receipt Note"==t.accountService.singleresult.VT||"SalesOrder"==t.accountService.singleresult.VT||"PurchaseOrder"==t.accountService.singleresult.VT),n.xp6(1),n.Q6J("ngIf",t.accountService.IsMobileview),n.xp6(1),n.Q6J("ngIf",t.accountService.IsMobileview),n.xp6(1),n.Q6J("ngIf",t.accountService.IsMobileview),n.xp6(1),n.Q6J("ngIf",t.accountService.IsMobileview&&t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",t.accountService.IsMobileview&&t.IsItemVoucher),n.xp6(2),n.Q6J("ngIf",!t.accountService.IsMobileview),n.xp6(1),n.Q6J("ngIf",!t.accountService.IsMobileview&&t.IsItemVoucher),n.xp6(4),n.Q6J("ngClass",n.VKq(121,Fe,e.submitted&&r.invalid))("ngModel",t.accountService.singleresult.Narr),n.xp6(2),n.Q6J("ngIf",!t.companyLedgerService.IsMobileview),n.xp6(1),n.Q6J("ngIf",!t.IsCRDR||t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",t.companyLedgerService.IsMobileview),n.xp6(2),n.Q6J("ngIf",t.accountService.IsMobileview),n.xp6(1),n.Q6J("ngIf",null!=t.bankDetails&&t.bankDetails.length>0),n.xp6(1),n.Q6J("ngIf",!t.accountService.isMobile),n.xp6(1),n.Q6J("ngIf",t.accountService.isMobile),n.xp6(15),n.Q6J("ngIf",t.IsCRDR&&!t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",t.IsItemVoucher),n.xp6(2),n.Q6J("ngIf",t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!t.IsCRDR||t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf","Contra"!=t.accountService.singleresult.VT&&!t.IsItemVoucher&&"Purchase"!=t.accountService.singleresult.VT&&"Sales"!=t.accountService.singleresult.VT&&"Debit Note"!=t.accountService.singleresult.VT&&"Credit Note"!=t.accountService.singleresult.VT&&"Delivery Note"!=t.accountService.singleresult.VT&&"Receipt Note"!=t.accountService.singleresult.VT),n.xp6(3),n.Q6J("ngIf",!t.IsCRDR||t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",t.IsCRDR&&!t.IsItemVoucher),n.xp6(1),n.Q6J("ngClass",n.VKq(123,Fe,o.submitted&&s.invalid))("disabled",-1!=t.modalLedgerIndex&&null!=t.godownPopupDetails&&null!=t.godownPopupDetails&&t.godownPopupDetails.length>0||t.IsCRDR&&"Cr"==t.modalCrDr)("ngModel",t.modalDrAmt),n.xp6(2),n.Q6J("ngIf",o.submitted&&s.invalid),n.xp6(1),n.Q6J("ngIf",t.IsCRDR&&!t.IsItemVoucher),n.xp6(1),n.Q6J("ngIf",!t.IsCRDR&&null!=t.modalLedger&&null!=t.modalLedger||t.IsItemVoucher),n.xp6(9),n.Q6J("ngIf",t.modalLedgerIndex>=0),n.xp6(4),n.Q6J("ngIf",t.showReferencepopup),n.xp6(3),n.Q6J("ngIf",t.showReferencepopup),n.xp6(3),n.Q6J("ngIf",t.showInventorypopup),n.xp6(3),n.Q6J("ngIf",t.showInventorypopup),n.xp6(4),n.Q6J("ngIf",t.showChallanpopup),n.xp6(3),n.Q6J("ngIf",t.showChallanpopup),n.xp6(1),n.Q6J("ngIf",t.showCompanyLedgerpopup),n.xp6(1),n.Q6J("ngIf",t.isLedgerpopupopen),n.xp6(1),n.Q6J("ngIf",t.showChallanModal),n.xp6(11),n.Q6J("SMSDescription",t.SMSDescription)("Mobileinput",t.Mobile),n.xp6(11),n.Q6J("ngIf",1==t.IsHideEmail),n.xp6(4),n.Q6J("demandhtml",t.demandhtml)("IsHideEmail",t.IsHideEmail)("emailinput",t.Email),n.xp6(2),n.Q6J("ngIf",1==t.IsHideEmail),n.xp6(1),n.Q6J("ngIf",0==t.IsHideEmail),n.xp6(8),n.Q6J("ngIf",1==t.IsHideEmail),n.xp6(4),n.Q6J("demandhtml",t.demandhtml)("IsHideEmail",t.IsHideEmail)("emailinput",t.Email),n.xp6(2),n.Q6J("ngIf",1==t.IsHideEmail),n.xp6(1),n.Q6J("ngIf",0==t.IsHideEmail),n.xp6(3),n.Q6J("ngIf",t.isInventorypopupopen),n.xp6(3),n.Q6J("ngIf",t.showReceiptDeliverynpopup),n.xp6(3),n.Q6J("ngIf",t.showReceiptDeliveryModal),n.xp6(1),n.Q6J("ngIf",t.isCostCenterpopupopen),n.xp6(3),n.Q6J("ngIf",t.showstatAdjustmentnpopup),n.xp6(19),n.Q6J("virtualScroll",!0)("ngModel",t.natureoftransaction)("items",t.transactiontype)("loading",t.natureofTranService.loading),n.xp6(8),n.Q6J("ngIf",t.showJournalTax),n.xp6(1),n.Q6J("ngIf",t.isGodownMasterpopupopen),n.xp6(18),n.Q6J("virtualScroll",!0)("items",t.ToLedger)("ngClass",n.VKq(125,Fe,l.submitted&&a.invalid))("ngModel",t.modalLedger)("loading",t.companyLedgerService.loading),n.xp6(6),n.Q6J("ngIf",l.submitted&&a.invalid),n.xp6(4),n.Q6J("ngClass",n.VKq(127,Fe,l.submitted&&c.invalid))("ngModel",t.modalRate),n.xp6(3),n.Q6J("ngIf",l.submitted&&c.invalid),n.xp6(4),n.Q6J("ngClass",n.VKq(129,Fe,l.submitted&&d.invalid))("ngModel",t.modalDrAmt),n.xp6(3),n.Q6J("ngIf",l.submitted&&d.invalid),n.xp6(10),n.Q6J("ngIf",t.modalLedgerIndex>=0),n.xp6(20),n.Q6J("checked",1==t.IsShowCostCenter),n.xp6(8),n.Q6J("checked",1==t.IsShowCountryState),n.xp6(26),n.Q6J("checked",1==t.IsShowCostCenter),n.xp6(8),n.Q6J("checked",1==t.IsShowCountryState),n.xp6(25),n.Q6J("ngModel",t.ReceiptDetails),n.xp6(29),n.Q6J("ngModel",t.NewTrackingNumber)}},directives:[A.mk,A.O5,_._Y,_.JL,_.F,U.u,_.Fj,_.JJ,_.On,R.x,J.q,k.oB,_.wV,_.Q7,_.c5,P.X,O.R,Q.w9,Q.A3,Q.bb,Q.Z2,Q.xv,F.gu,E.g,_.nD,Y.X,G.a,H.i9,A.sg,B.Y,_._,$.a,j.k,K.N,z.q,e,W.d,X.L],pipes:[ee.s],styles:['@charset "UTF-8";.column[_ngcontent-%COMP%]{float:left;width:50%;padding:10px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-clip:padding-box;outline:0;background-color:#fff;border-color:#00001533}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:auto;margin:0!important;pointer-events:none}@media only screen and (min-device-width: 320px) and (max-device-width: 480px){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (min-width: 321px){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (max-width: 320px){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){.md-textarea[_ngcontent-%COMP%]{width:auto!important}}@media only screen and (-webkit-min-device-pixel-ratio: 1.5),only screen and (min-device-pixel-ratio: 1.5){.md-textarea[_ngcontent-%COMP%]{width:160px!important}}.ng-dropdown-panel[_ngcontent-%COMP%]   .maxpanel[_ngcontent-%COMP%]{min-width:275px!important}body[_ngcontent-%COMP%]{padding:50px;background:#fff}.wrapper[_ngcontent-%COMP%]{width:70%}@media (max-width: 992px){.wrapper[_ngcontent-%COMP%]{width:100%}}.panel-heading[_ngcontent-%COMP%]{padding:0;border:0}.a[_ngcontent-%COMP%]{text-decoration:none;color:gray!important}body[_ngcontent-%COMP%]{color:#6a6c6f;background-color:#f1f3f6;margin-top:30px}.container[_ngcontent-%COMP%]{max-width:960px}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:#e4e5e7;padding:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 15px;color:currentcolor;background-color:#e6e6fa}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:relative;top:1px;display:inline-block;font-family:"Glyphicons Halflings";font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;float:right;transition:transform .25s linear;-webkit-transition:-webkit-transform .25s linear}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]   a[aria-expanded=true][_ngcontent-%COMP%]:after{content:"\\2212";transform:rotate(180deg)}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]   a[aria-expanded=false][_ngcontent-%COMP%]:after{content:"+";transform:rotate(90deg)}.accordion-option[_ngcontent-%COMP%]{width:100%;float:left;clear:both;margin:15px 0}.accordion-option[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:bold;float:left;padding:0;margin:0}.accordion-option[_ngcontent-%COMP%]   .toggle-accordion[_ngcontent-%COMP%]{float:right;font-size:16px;color:#6a6c6f}.accordion-option[_ngcontent-%COMP%]   .toggle-accordion[_ngcontent-%COMP%]:before{content:"Expand All"}.accordion-option[_ngcontent-%COMP%]   .toggle-accordion.active[_ngcontent-%COMP%]:before{content:"Collapse All"}.dropup[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:auto;left:54%;bottom:100%;margin-top:0;margin-bottom:.125rem}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-select-bottom[_ngcontent-%COMP%]{min-width:450px!important}.radio-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.radio-options[_ngcontent-%COMP%]{display:flex}.radio-option[_ngcontent-%COMP%]{margin-right:20px;display:flex;align-items:center}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:5px;margin-bottom:.5rem}']}),e})()},86410:function(e,t,i){i.d(t,{C:function(){return pn}});var n=i(64762),r=i(33018),o=i(84659),s=i(78980),l=i(66203),a=i(65978),c=i(58679),d=i(32364),u=i(18454),h=i(82316),g=i(49457),p=i(27541),f=i(24498),m=i(65178),T=i(44667),v=i(92859),I=i(10578),Z=i(12868),A=i(38583),x=i(89401),S=i(89525),D=i(16767),C=i(80762),b=i(43647),y=i(3679),N=i(66496),M=i(3001),w=i(6642),q=i(41768),L=i(91113),V=i(25575),_=i(48429),U=i(87520),R=i(21974),J=i(37919),k=i(65452),P=i(28879),O=i(3359),Q=i(53321),F=i(14868);const E=["Ledgerdb"],Y=["ITable"],G=["RefModal"],H=["LedgerModal"],B=["LedchangeModal"],j=["EmailModel"],K=["MessageModal"],z=["PayModal"],W=["ExportModal"],X=["LedgerHistoryModal"],ee=["SearchModal"],te=["search"],ie=["DatechangeModal"],ne=["ionInfinitescroll"],re=["ionvscroll"],oe=["startdate"];function se(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",175),r.TgZ(1,"ng-select",176,177),r.NdJ("scrollToEnd",function(){return r.CHM(e),r.oxw(3).companyService.ScrollDown()})("ngModelChange",function(t){return r.CHM(e),r.oxw(3).selectedCompany=t})("change",function(){r.CHM(e);const t=r.MAs(2),i=r.oxw(3);return i.SelectCompany(t.value),i.FilterData(0)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("virtualScroll",!0)("items",e.companyService.result)("ngModel",e.selectedCompany)("clearable",!1)}}function le(e,t){1&e&&r._uU(0),2&e&&r.hij(" ",t.item.LN," ")}function ae(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a"),r._uU(1),r.qZA(),r.TgZ(2,"a",178),r.NdJ("click",function(){const t=r.CHM(e).item;return r.oxw(3).openLedgerPopup(t.UIDN)}),r._UZ(3,"i",179),r.qZA(),r.TgZ(4,"a",180),r.TgZ(5,"i",181),r.NdJ("click",function(){const t=r.CHM(e).item;return r.oxw(3).OpenLedgerHistoryPopUp(t.UIDN)}),r.qZA(),r.qZA()}if(2&e){const e=t.item,i=r.oxw(3);r.xp6(1),r.Oqu(e.LN),r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function ce(e,t){1&e&&(r.TgZ(0,"ng-option",182),r._uU(1," Contra"),r.qZA())}function de(e,t){1&e&&(r.TgZ(0,"ng-option",183),r._uU(1," Purchase"),r.qZA())}function ue(e,t){1&e&&(r.TgZ(0,"ng-option",184),r._uU(1," Receipt"),r.qZA())}function he(e,t){1&e&&(r.TgZ(0,"ng-option",185),r._uU(1," Payment"),r.qZA())}function ge(e,t){1&e&&(r.TgZ(0,"ng-option",186),r._uU(1," Purchase Order"),r.qZA())}function pe(e,t){1&e&&(r.TgZ(0,"ng-option",187),r._uU(1,"Credit Note"),r.qZA())}function fe(e,t){1&e&&(r.TgZ(0,"ng-option",188),r._uU(1,"Debit Note"),r.qZA())}function me(e,t){1&e&&(r.TgZ(0,"ng-option",189),r._uU(1,"Sales Order"),r.qZA())}function Te(e,t){1&e&&(r.TgZ(0,"ng-option",190),r._uU(1,"Receipt Note"),r.qZA())}function ve(e,t){1&e&&(r.TgZ(0,"ng-option",191),r._uU(1,"Delivery Note"),r.qZA())}function Ie(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",207),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).openTransaction("Contra","",!1,0,!1,!1)}),r._uU(1," Contra "),r.TgZ(2,"span",196),r._uU(3,"(F4)"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Ze(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",208),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).openTransaction("Purchase","",!1,0,!1,!1)}),r._uU(1," Purchase "),r.TgZ(2,"span",196),r._uU(3,"(F9)"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Ae(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",209),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).openTransaction("Receipt","",!1,0,!1,!1)}),r._uU(1," Receipt "),r.TgZ(2,"span",196),r._uU(3,"(F6)"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function xe(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",203),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).openTransaction("Payment","",!1,0,!1,!1)}),r._uU(1," Payment "),r.TgZ(2,"span",196),r._uU(3,"(F10)"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Se(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",208),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).openTransaction("PurchaseOrder","",!1,0,!1,!1)}),r._uU(1," Purchase Order "),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function De(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",210),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).openTransaction("Credit Note","",!1,0,!1,!1)}),r._uU(1," Credit Note "),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Ce(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",211),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).openTransaction("Debit Note","",!1,0,!1,!1)}),r._uU(1," Debit Note "),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function be(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",212),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).FinalizeVoucher()}),r._uU(1," Finalize Vouchers "),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function ye(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",203),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).ChangeLedger()}),r._uU(1," Change Ledger "),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Ne(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",203),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(5).ChangeReference()}),r._uU(1," Change Reference "),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Me(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.YNc(1,Ie,4,2,"a",194),r.TgZ(2,"a",195),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(4).openTransaction("Journal","",!1,0,!1,!1)}),r._uU(3," Journal "),r.TgZ(4,"span",196),r._uU(5,"(F7)"),r.qZA(),r.qZA(),r.TgZ(6,"a",197),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(4).openTransaction("Sales","",!1,0,!1,!1)}),r._uU(7," Sales "),r.TgZ(8,"span",196),r._uU(9,"(F8)"),r.qZA(),r.qZA(),r.YNc(10,Ze,4,2,"a",198),r.YNc(11,Ae,4,2,"a",199),r.YNc(12,xe,4,2,"a",200),r.YNc(13,Se,2,2,"a",198),r.YNc(14,De,2,2,"a",201),r.YNc(15,Ce,2,2,"a",202),r.TgZ(16,"a",203),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(4).Datechangepopup()}),r._uU(17," Change Date "),r.qZA(),r.TgZ(18,"a",204),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(4).MultipleVoucherDelete()}),r._uU(19," Multiple Delete "),r.qZA(),r.YNc(20,be,2,2,"a",205),r.YNc(21,ye,2,2,"a",200),r.YNc(22,Ne,2,2,"a",200),r.TgZ(23,"a",206),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(4).ExportTallyXML()}),r._uU(24," XML Export "),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(4);r.xp6(1),r.Q6J("ngIf","CRM"!=e.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(4),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(4),r.Q6J("ngIf","CRM"!=e.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=e.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=e.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=e.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=e.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=e.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(2),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(2),r.Q6J("ngIf","Finalize"==e.PageType),r.xp6(1),r.Q6J("ngIf",e.IsLedgerChange),r.xp6(1),r.Q6J("ngIf",e.IsLedgerChange),r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function we(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",213),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(4).ResVoucher()}),r._uU(1," Restore Vouchers "),r.qZA()}if(2&e){const e=r.oxw(4);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function qe(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",213),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(4).PermanentDeleteVoucher()}),r._uU(1," Permanant Delete "),r.qZA()}if(2&e){const e=r.oxw(4);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Le(e,t){if(1&e&&(r.TgZ(0,"div",192),r.YNc(1,Me,25,20,"ng-container",117),r.YNc(2,we,2,2,"a",193),r.YNc(3,qe,2,2,"a",193),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf","Restorevoucher"!=e.PageType),r.xp6(1),r.Q6J("ngIf","Restorevoucher"==e.PageType),r.xp6(1),r.Q6J("ngIf","Restorevoucher"==e.PageType)}}const Ve=function(e){return{"is-invalid":e}};function _e(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",145),r.TgZ(1,"ul",146),r.TgZ(2,"li",147),r.TgZ(3,"button",148),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).goback()}),r._UZ(4,"i",149),r.qZA(),r.qZA(),r.YNc(5,se,3,4,"li",150),r.TgZ(6,"li",151),r.TgZ(7,"input",66,67),r.NdJ("selected",function(t){return r.CHM(e),r.oxw(2).startdateSelect(t)}),r.qZA(),r.qZA(),r.TgZ(9,"li"),r.TgZ(10,"input",69,70),r.NdJ("selected",function(t){return r.CHM(e),r.oxw(2).enddateSelect(t)}),r.qZA(),r.qZA(),r.TgZ(12,"li",152),r.TgZ(13,"ng-select",153,154),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).companyLedgerService.singleresult=t}),r.YNc(15,le,1,1,"ng-template",29),r.YNc(16,ae,6,3,"ng-template",30),r.qZA(),r.qZA(),r.TgZ(17,"li",155),r.TgZ(18,"button",156),r.NdJ("click",function(){r.CHM(e);const t=r.MAs(29),i=r.oxw(2);return t.form.valid&&i.FilterData(0)}),r._UZ(19,"span",157),r.TgZ(20,"span",158),r._uU(21,"Search"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(22,"li",159),r.TgZ(23,"button",160),r._UZ(24,"span",161),r.TgZ(25,"span",158),r._uU(26,"Filter"),r.qZA(),r.qZA(),r.TgZ(27,"div",162),r.NdJ("click",function(e){return e.stopPropagation()}),r.TgZ(28,"form",60,61),r.NdJ("ngSubmit",function(){r.CHM(e);const t=r.MAs(29),i=r.oxw(2);return t.form.valid&&i.FilterData(0)}),r.TgZ(30,"div",62),r.TgZ(31,"div",163),r.TgZ(32,"label",80),r._uU(33," Range"),r.qZA(),r.TgZ(34,"div",81),r.TgZ(35,"ng-select",164,83),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).amounttype=t}),r.TgZ(37,"ng-option",84),r._uU(38,"Greaterthan"),r.qZA(),r.TgZ(39,"ng-option",85),r._uU(40,"Lessthan"),r.qZA(),r.TgZ(41,"ng-option",86),r._uU(42,"EqualTo "),r.qZA(),r.TgZ(43,"ng-option",87),r._uU(44,"NotEqualTo"),r.qZA(),r.qZA(),r.TgZ(45,"input",165,89),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).amountvall=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(47,"div",163),r.TgZ(48,"label",91),r._uU(49," Instrument No "),r.qZA(),r.TgZ(50,"input",92,93),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).instrumentno=t}),r.qZA(),r.qZA(),r.TgZ(52,"div",166),r.TgZ(53,"label",94),r._uU(54," Instrument Date "),r.qZA(),r.TgZ(55,"input",95,67),r.NdJ("selected",function(t){return r.CHM(e),r.oxw(2).ondybkdateSelect(t)}),r.qZA(),r.qZA(),r.TgZ(57,"div",163),r.TgZ(58,"label",96),r._uU(59," Narration "),r.qZA(),r.TgZ(60,"input",97,98),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).nurration=t}),r.qZA(),r.qZA(),r.TgZ(62,"div",163),r.TgZ(63,"label",99),r._uU(64," Voucher No "),r.qZA(),r.TgZ(65,"input",100,101),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).VoucherNum=t}),r.qZA(),r.qZA(),r.TgZ(67,"div",163),r.TgZ(68,"label",103),r._uU(69," Voucher"),r.qZA(),r.TgZ(70,"ng-select",104,105),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).voucherType=t}),r.YNc(72,ce,2,0,"ng-option",106),r.TgZ(73,"ng-option",107),r._uU(74,"Journal"),r.qZA(),r.TgZ(75,"ng-option",108),r._uU(76," Sales"),r.qZA(),r.YNc(77,de,2,0,"ng-option",109),r.YNc(78,ue,2,0,"ng-option",110),r.YNc(79,he,2,0,"ng-option",111),r.YNc(80,ge,2,0,"ng-option",112),r.YNc(81,pe,2,0,"ng-option",113),r.YNc(82,fe,2,0,"ng-option",114),r.YNc(83,me,2,0,"ng-option",167),r.YNc(84,Te,2,0,"ng-option",115),r.YNc(85,ve,2,0,"ng-option",116),r.qZA(),r.qZA(),r.TgZ(86,"div",168),r.TgZ(87,"div",169),r.TgZ(88,"button",170),r.NdJ("click",function(t){r.CHM(e);const i=r.oxw(2);return i.ClearFilter(),i.clearfilterandloadnewdata(),i.toggleDropdown(t)}),r._uU(89," Clear Filter "),r.qZA(),r.TgZ(90,"button",171),r.NdJ("click",function(t){return r.CHM(e),r.oxw(2).toggleDropdown(t)}),r._UZ(91,"i",123),r._uU(92,"Search "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(93,"div",159),r.TgZ(94,"button",172),r._UZ(95,"span",173),r.TgZ(96,"span",158),r._uU(97,"Voucher"),r.qZA(),r.qZA(),r.YNc(98,Le,4,3,"div",174),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(14),t=r.oxw(2);r.xp6(5),r.Q6J("ngIf",t.isInterCompany),r.xp6(2),r.Q6J("startDate",t.StartDate),r.xp6(3),r.Q6J("startDate",t.EndDate),r.xp6(3),r.Q6J("virtualScroll",!0)("items",t.allLedgers)("required","Group"==t.PageType||"Ledger"==t.PageType)("ngClass",r.VKq(28,Ve,e.invalid))("ngModel",t.companyLedgerService.singleresult)("loading",t.companyLedgerService.loading),r.xp6(22),r.Q6J("ngModel",t.amounttype),r.xp6(10),r.Q6J("ngModel",t.amountvall),r.xp6(5),r.Q6J("ngModel",t.instrumentno),r.xp6(5),r.Q6J("startDate",t.instrumentdate),r.xp6(5),r.Q6J("ngModel",t.nurration),r.xp6(5),r.Q6J("ngModel",t.VoucherNum),r.xp6(5),r.Q6J("multiple",!0)("ngModel",t.voucherType),r.xp6(2),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(5),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(13),r.Q6J("ngIf",!t.accountService.IsMobileview)}}function Ue(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Ledger Report"),r.qZA(),r.qZA())}function Re(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Group Report"),r.qZA(),r.qZA())}function Je(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Finalize Report"),r.qZA(),r.qZA())}function ke(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Restore Voucher"),r.qZA(),r.qZA())}function Pe(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Monthly Summary"),r.qZA(),r.qZA())}function Oe(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Daybook"),r.qZA(),r.qZA())}function Qe(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",214),r.TgZ(1,"ul",146),r.TgZ(2,"li",215),r.TgZ(3,"ion-icon",216),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).goback()}),r.qZA(),r.qZA(),r.TgZ(4,"li",215),r.TgZ(5,"ion-icon",217),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).advSearchM()}),r.qZA(),r.qZA(),r.TgZ(6,"li",218),r.TgZ(7,"div",219),r.YNc(8,Ue,3,0,"span",117),r.YNc(9,Re,3,0,"span",117),r.YNc(10,Je,3,0,"span",117),r.YNc(11,ke,3,0,"span",117),r.YNc(12,Pe,3,0,"span",117),r.YNc(13,Oe,3,0,"span",117),r.qZA(),r.qZA(),r.TgZ(14,"li",220),r.TgZ(15,"ion-icon",221),r.NdJ("click",function(t){return r.CHM(e),r.oxw(2).sortPopover(t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(8),r.Q6J("ngIf","Ledger"==e.PageType),r.xp6(1),r.Q6J("ngIf","Group"==e.PageType),r.xp6(1),r.Q6J("ngIf","Finalize"==e.PageType),r.xp6(1),r.Q6J("ngIf","Restorevoucher"==e.PageType),r.xp6(1),r.Q6J("ngIf","Monthly Summary"==e.PageType),r.xp6(1),r.Q6J("ngIf","Daybook"==e.PageType)}}function Fe(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Ledger Report"),r.qZA(),r.qZA())}function Ee(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Group Report"),r.qZA(),r.qZA())}function Ye(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Finalize Report"),r.qZA(),r.qZA())}function Ge(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Restore Voucher"),r.qZA(),r.qZA())}function He(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Monthly Summary"),r.qZA(),r.qZA())}function Be(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Daybook"),r.qZA(),r.qZA())}function $e(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",230),r.TgZ(1,"div",235),r.TgZ(2,"a",236),r.NdJ("click",function(){return r.CHM(e),r.oxw(4).OutstandingCall()}),r._uU(3,"Bill Wise"),r.qZA(),r.qZA(),r.qZA()}}function je(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",230),r.TgZ(1,"label",73),r.TgZ(2,"input",74),r.NdJ("change",function(){r.CHM(e);const t=r.oxw(4);return t.IsShowReference=1!=t.IsShowReference,t.changeData()}),r.qZA(),r._UZ(3,"span",75),r.qZA(),r.TgZ(4,"span",231),r._uU(5,"Show References"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(4);r.xp6(2),r.Q6J("checked",1==e.IsShowReference)}}function Ke(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",237),r.TgZ(1,"label",73),r.TgZ(2,"input",238),r.NdJ("change",function(){r.CHM(e);const t=r.oxw(4);return t.IsFinalize=1!=t.IsFinalize,t.FilterData(0)}),r.qZA(),r._UZ(3,"span",75),r.qZA(),r.TgZ(4,"span",231),r._uU(5,"Show Finalize"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(4);r.xp6(2),r.Q6J("checked",1==e.IsFinalize)}}function ze(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",227),r.TgZ(1,"div",14),r.TgZ(2,"div",228),r.YNc(3,Fe,3,0,"span",117),r.YNc(4,Ee,3,0,"span",117),r.YNc(5,Ye,3,0,"span",117),r.YNc(6,Ge,3,0,"span",117),r.YNc(7,He,3,0,"span",117),r.YNc(8,Be,3,0,"span",117),r.qZA(),r.YNc(9,$e,4,0,"div",229),r.TgZ(10,"div",230),r.TgZ(11,"label",73),r.TgZ(12,"input",74),r.NdJ("change",function(){r.CHM(e);const t=r.oxw(3);return t.IsShowDetails=1!=t.IsShowDetails,t.changeData()}),r.qZA(),r._UZ(13,"span",75),r.qZA(),r.TgZ(14,"span",231),r._uU(15,"Show Details"),r.qZA(),r.qZA(),r.YNc(16,je,6,1,"div",229),r.YNc(17,Ke,6,1,"div",232),r.TgZ(18,"div",233),r.TgZ(19,"div",234),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(3),r.Q6J("ngIf","Ledger"==e.PageType),r.xp6(1),r.Q6J("ngIf","Group"==e.PageType),r.xp6(1),r.Q6J("ngIf","Finalize"==e.PageType),r.xp6(1),r.Q6J("ngIf","Restorevoucher"==e.PageType),r.xp6(1),r.Q6J("ngIf","Monthly Summary"==e.PageType),r.xp6(1),r.Q6J("ngIf","Daybook"==e.PageType),r.xp6(1),r.Q6J("ngIf",e.IsLedgerChange),r.xp6(3),r.Q6J("checked",1==e.IsShowDetails),r.xp6(4),r.Q6J("ngIf",e.IsLedgerChange),r.xp6(1),r.Q6J("ngIf","Finalize"==e.PageType),r.xp6(3),r.Oqu(e.accountService.currentShowing)}}function We(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1,"Action"),r.qZA())}function Xe(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",241),r.TgZ(1,"input",255),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Ick=t}),r.qZA(),r._UZ(2,"label",256),r.qZA()}if(2&e){const e=r.oxw(2),t=e.index,i=e.$implicit;r.xp6(1),r.MGl("id","item_",t,""),r.Q6J("checked",i.Ick)("ngModel",i.Ick),r.xp6(1),r.MGl("for","item_",t,"")}}function et(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",257),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(4).openTransaction(t.VT,t.UIDN,t.BookingId,t.BkStatus,!1,t.IsFZ)}),r._uU(1),r.qZA()}if(2&e){const e=r.oxw(2).$implicit,t=r.oxw(4);r.s9C("mname",e.VT),r.Q6J("SignupId",t.SignupId)("UserId",t.UserId),r.xp6(1),r.hij(" ",e.VNO," ")}}function tt(e,t){if(1&e&&(r.TgZ(0,"span"),r._UZ(1,"dateformatter",258),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.s9C("dateValue",e.VDt)}}function it(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",e.VT,"")}}function nt(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," (as per Details)"),r.qZA())}function rt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.L_Name,"")}}function ot(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.Narration," ")}}function st(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.Narration," ")}}function lt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.Narr)}}function at(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("Bill No-- ",e.BNO,"")}}function ct(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("Cost Center-- ",e.CCN,"")}}function dt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("Order Invoice No-- ",e.OINo,"")}}function ut(e,t){if(1&e&&(r.TgZ(0,"a",260),r._uU(1),r.qZA()),2&e){const e=t.index;r.s9C("href",t.$implicit.src,r.LSH),r.xp6(1),r.hij(" image",e+1," ")}}function ht(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,ut,2,2,"a",259),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",e.UploadImages)}}function gt(e,t){if(1&e&&(r.ynx(0),r._UZ(1,"br"),r._uU(2),r.BQk()),2&e){const e=t.$implicit,i=t.index;r.xp6(2),r.HOy(" Ref ",i+1," - ",e.Ref_Type," -",e.Ref_Tag," - ",e.Dr>0?e.Dr+" Dr":e.Cr+" Cr"," ")}}function pt(e,t){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,gt,3,4,"ng-container",250),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",e.referencemaster)}}function ft(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",272),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(4).$implicit;return r.oxw(4).deleteVoucher(t.UIDN)}),r._UZ(1,"i",273),r.qZA()}if(2&e){const e=r.oxw(4).$implicit,t=r.oxw(4);r.s9C("mname",e.VT),r.Q6J("SignupId",t.SignupId)("UserId",t.UserId)}}function mt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",274),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(4).$implicit;return r.oxw(4).accountService.delete(t.UIDN)}),r._UZ(1,"i",273),r.qZA()}if(2&e){const e=r.oxw(8);r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Tt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",262),r.TgZ(1,"a",263),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(4).OnHide(t.UIDN)}),r._UZ(2,"i",264),r.qZA(),r.TgZ(3,"a",265),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(4).openTransaction(t.VT,t.UIDN,t.BookingId,t.BkStatus,!0,!1)}),r._UZ(4,"i",266),r.qZA(),r.TgZ(5,"a",267),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(4).fileprint(t.UIDN)}),r._UZ(6,"i",268),r.qZA(),r.TgZ(7,"a",267),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(4).OpenEmailPopup(t)}),r._UZ(8,"i",269),r.qZA(),r.YNc(9,ft,2,3,"a",270),r.YNc(10,mt,2,2,"a",271),r.qZA()}if(2&e){const e=r.oxw(3).$implicit,t=r.oxw(4);r.xp6(3),r.s9C("mname",e.VT),r.Q6J("SignupId",t.SignupId)("UserId",t.UserId),r.xp6(6),r.Q6J("ngIf",null==e.IsFZ||0==e.IsFZ),r.xp6(1),r.Q6J("ngIf",1==e.IsFZ)}}function vt(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,Tt,11,5,"div",261),r.qZA()),2&e){const e=r.oxw(),t=e.index,i=e.$implicit;r.xp6(1),r.Q6J("ngIf",0==t&&"0"!=i.LId)}}function It(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"tr",251),r.NdJ("keydown.enter",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(4).openTransaction(t.VT,t.UIDN,t.BookingId,t.BkStatus,!1,t.IsFZ)})("keydown.arrowdown",function(){const t=r.CHM(e).index,i=r.oxw().index;return r.oxw(4).accountService.arrowDownEvent(t+i+151)})("keydown.arrowup",function(){const t=r.CHM(e).index,i=r.oxw().index;return r.oxw(4).accountService.arrowUpEvent(t+i+149)}),r.TgZ(2,"td"),r.YNc(3,Xe,3,4,"div",252),r.qZA(),r.TgZ(4,"td"),r.YNc(5,et,2,4,"a",253),r.qZA(),r.TgZ(6,"td"),r.YNc(7,tt,2,1,"span",117),r.qZA(),r.TgZ(8,"td"),r.YNc(9,it,2,1,"span",117),r.qZA(),r.TgZ(10,"td"),r.YNc(11,nt,2,0,"span",117),r.YNc(12,rt,2,1,"span",117),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.ALo(17,"indianCurrency"),r.YNc(18,ot,2,1,"span",117),r.qZA(),r.TgZ(19,"td"),r._uU(20),r.ALo(21,"indianCurrency"),r.YNc(22,st,2,1,"span",117),r.qZA(),r.TgZ(23,"td"),r.YNc(24,lt,2,1,"span",117),r.YNc(25,at,2,1,"span",117),r.YNc(26,ct,2,1,"span",117),r.YNc(27,dt,2,1,"span",117),r.YNc(28,ht,2,1,"div",117),r.YNc(29,pt,2,1,"span",117),r.qZA(),r.TgZ(30,"td",254),r._uU(31),r.qZA(),r.YNc(32,vt,2,1,"td",117),r.qZA(),r.BQk()}if(2&e){const e=t.$implicit,i=t.index,n=r.oxw(),o=n.$implicit,s=n.index,l=r.oxw(4);r.xp6(1),r.ekj("negative",1==o.IsFZ),r.s9C("tabindex",i+s+150),r.xp6(2),r.Q6J("ngIf",0==i&&"0"!=e.LId),r.xp6(2),r.Q6J("ngIf",0==i),r.xp6(2),r.Q6J("ngIf",0==i&&"0"!=e.LId),r.xp6(2),r.Q6J("ngIf",0==i),r.xp6(2),r.Q6J("ngIf",0==i&&e.LId>0&&l.IsShowDetails&&null!=l.companyLedgerService.singleresult&&null!=l.companyLedgerService.singleresult),r.xp6(1),r.Q6J("ngIf",e.LId<=0||!(0==i&&l.IsShowDetails&&null!=l.companyLedgerService.singleresult&&null!=l.companyLedgerService.singleresult)),r.xp6(2),r.Oqu(o.UsrName),r.xp6(2),r.hij(" ",r.lcZ(17,22,e.DrAmt)," "),r.xp6(2),r.Q6J("ngIf","Receipt Note"==o.VT),r.xp6(2),r.hij(" ",r.lcZ(21,24,e.CrAmt)," "),r.xp6(2),r.Q6J("ngIf","Delivery Note"==o.VT),r.xp6(2),r.Q6J("ngIf",0==i),r.xp6(1),r.Q6J("ngIf",0==i&&null!=o.BNO),r.xp6(1),r.Q6J("ngIf",0==i&&null!=o.CCN),r.xp6(1),r.Q6J("ngIf",0==i&&null!=o.OINo),r.xp6(1),r.Q6J("ngIf",null!=o.UploadImages&&o.UploadImages.length>0),r.xp6(1),r.Q6J("ngIf",0==i&&l.IsShowReference),r.xp6(2),r.Oqu(e.Email),r.xp6(1),r.Q6J("ngIf","Restorevoucher"!=l.PageType)}}function Zt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",e.DrAmt,"")}}function At(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",e.CrAmt,"")}}function xt(e,t){1&e&&(r.TgZ(0,"span",280),r._uU(1," Inst. No "),r.qZA())}function St(e,t){1&e&&(r.TgZ(0,"span",279),r._uU(1," check date "),r.qZA())}function Dt(e,t){1&e&&(r.TgZ(0,"span",279),r._uU(1," Rec. Date "),r.qZA())}function Ct(e,t){if(1&e&&(r.TgZ(0,"div",276),r.YNc(1,xt,2,0,"span",277),r._uU(2),r.YNc(3,St,2,0,"span",278),r._UZ(4,"dateformatter",258),r.TgZ(5,"span",279),r._uU(6,"Amount"),r.qZA(),r._uU(7),r.YNc(8,Dt,2,0,"span",278),r._UZ(9,"dateformatter",258),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf",""!=e.ChkNo&&null!=e.ChkNo),r.xp6(1),r.hij("",e.ChkNo," "),r.xp6(1),r.Q6J("ngIf",""!=e.ChkDt&&null!=e.ChkDt),r.xp6(1),r.s9C("dateValue",e.ChkDt),r.xp6(3),r.hij("",e.Led_Dr>0?e.Led_Dr:e.Led_Cr," "),r.xp6(1),r.Q6J("ngIf",""!=e.BRecoDt&&null!=e.BRecoDt),r.xp6(1),r.s9C("dateValue",e.BRecoDt)}}function bt(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,Ct,10,7,"div",275),r.qZA()),2&e){const e=t.$implicit,i=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",e.LId==i.LId||e.BLId==i.LId)}}function yt(e,t){if(1&e&&(r.TgZ(0,"tr"),r._UZ(1,"td"),r._UZ(2,"td"),r._UZ(3,"td"),r._UZ(4,"td"),r.TgZ(5,"td"),r._uU(6),r.qZA(),r._UZ(7,"td"),r.TgZ(8,"td"),r.YNc(9,Zt,2,1,"span",117),r.qZA(),r.TgZ(10,"td"),r.YNc(11,At,2,1,"span",117),r.qZA(),r.TgZ(12,"td"),r.YNc(13,bt,2,1,"div",250),r.qZA(),r._UZ(14,"td"),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw().$implicit;r.xp6(6),r.hij("",e.L_Name," "),r.xp6(3),r.Q6J("ngIf","Delivery Note"!=t.VT),r.xp6(2),r.Q6J("ngIf","Delivery Note"!=t.VT),r.xp6(2),r.Q6J("ngForOf",t.bankDetails)}}function Nt(e,t){if(1&e&&(r.TgZ(0,"tr",282),r._uU(1,"\n                                    "),r.TgZ(2,"td",283),r._uU(3),r.qZA(),r._uU(4,"\n                                    "),r.TgZ(5,"td",284),r._uU(6),r.qZA(),r._uU(7,"\n                                "),r.qZA()),2&e){const e=t.$implicit;r.xp6(3),r.hij("challan No : ",e.ChNo,""),r.xp6(3),r.hij("Amount : ",e.Amt,"")}}function Mt(e,t){if(1&e&&(r.TgZ(0,"template"),r._uU(1,"\n                                "),r.YNc(2,Nt,8,2,"tr",281),r._uU(3,"\n                            "),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(2),r.Q6J("ngForOf",e.challan)}}function wt(e,t){if(1&e&&(r.ynx(0),r.YNc(1,yt,15,4,"tr",117),r.YNc(2,Mt,4,1,"template",117),r.BQk()),2&e){const e=t.$implicit,i=r.oxw(5);r.xp6(1),r.Q6J("ngIf",1==i.IsShowDetails),r.xp6(1),r.Q6J("ngIf",null!=e.challan&&null!=e.challan&&e.challan.length>0)}}function qt(e,t){if(1&e&&(r.ynx(0),r.YNc(1,It,33,26,"ng-container",250),r.YNc(2,wt,3,2,"ng-container",250),r.BQk()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("ngForOf",e.VDet),r.xp6(1),r.Q6J("ngForOf",e.VDetlist)}}function Lt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"table",239),r.TgZ(1,"thead",240),r.TgZ(2,"tr"),r.TgZ(3,"th"),r.TgZ(4,"div",241),r.TgZ(5,"input",242),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).selectedAll=t})("change",function(t){return r.CHM(e),r.oxw(3).selectAllchange(t)}),r.qZA(),r._UZ(6,"label",243),r.qZA(),r.qZA(),r.TgZ(7,"th",244),r._uU(8,"No."),r.qZA(),r.TgZ(9,"th",245),r._uU(10,"Date"),r.qZA(),r.TgZ(11,"th",246),r._uU(12,"Type"),r.qZA(),r.TgZ(13,"th",247),r._uU(14,"Ledger Name"),r.qZA(),r.TgZ(15,"th",247),r._uU(16,"User Name"),r.qZA(),r.TgZ(17,"th",247),r._uU(18,"Dr Amount"),r.qZA(),r.TgZ(19,"th",247),r._uU(20,"Cr Amount"),r.qZA(),r.TgZ(21,"th"),r._uU(22,"Narration"),r.qZA(),r.YNc(23,We,2,0,"th",117),r.qZA(),r.qZA(),r.TgZ(24,"tbody",248,249),r.YNc(26,qt,3,2,"ng-container",250),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(5),r.Q6J("checked",e.selectedAll)("ngModel",e.selectedAll),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(4),r.Q6J("ngIf","Restorevoucher"!=e.PageType),r.xp6(3),r.Q6J("ngForOf",e.accountService.result)}}function Vt(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Ledger Report"),r.qZA(),r.qZA())}function _t(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Group Report"),r.qZA(),r.qZA())}function Ut(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Finalize Report"),r.qZA(),r.qZA())}function Rt(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Restore Voucher"),r.qZA(),r.qZA())}function Jt(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Monthly Summary"),r.qZA(),r.qZA())}function kt(e,t){1&e&&(r.TgZ(0,"span"),r.TgZ(1,"strong"),r._uU(2,"Daybook"),r.qZA(),r.qZA())}function Pt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",230),r.TgZ(1,"div",235),r.TgZ(2,"a",236),r.NdJ("click",function(){return r.CHM(e),r.oxw(5).OutstandingCall()}),r._uU(3,"Bill Wise"),r.qZA(),r.qZA(),r.qZA()}}function Ot(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",230),r.TgZ(1,"label",73),r.TgZ(2,"input",74),r.NdJ("change",function(){r.CHM(e);const t=r.oxw(5);return t.IsShowReference=1!=t.IsShowReference,t.changeData()}),r.qZA(),r._UZ(3,"span",75),r.qZA(),r.TgZ(4,"span",231),r._uU(5,"Show References"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5);r.xp6(2),r.Q6J("checked",1==e.IsShowReference)}}function Qt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",237),r.TgZ(1,"label",73),r.TgZ(2,"input",238),r.NdJ("change",function(){r.CHM(e);const t=r.oxw(5);return t.IsFinalize=1!=t.IsFinalize,t.FilterData(0)}),r.qZA(),r._UZ(3,"span",75),r.qZA(),r.TgZ(4,"span",231),r._uU(5,"Show Finalize"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5);r.xp6(2),r.Q6J("checked",1==e.IsFinalize)}}function Ft(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",227),r.TgZ(1,"div",14),r.TgZ(2,"div",228),r.YNc(3,Vt,3,0,"span",117),r.YNc(4,_t,3,0,"span",117),r.YNc(5,Ut,3,0,"span",117),r.YNc(6,Rt,3,0,"span",117),r.YNc(7,Jt,3,0,"span",117),r.YNc(8,kt,3,0,"span",117),r.qZA(),r.YNc(9,Pt,4,0,"div",229),r.TgZ(10,"div",230),r.TgZ(11,"label",73),r.TgZ(12,"input",74),r.NdJ("change",function(){r.CHM(e);const t=r.oxw(4);return t.IsShowDetails=1!=t.IsShowDetails}),r.qZA(),r._UZ(13,"span",75),r.qZA(),r.TgZ(14,"span",231),r._uU(15,"Show Details"),r.qZA(),r.qZA(),r.YNc(16,Ot,6,1,"div",229),r.YNc(17,Qt,6,1,"div",232),r.TgZ(18,"div",233),r.TgZ(19,"div",234),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(4);r.xp6(3),r.Q6J("ngIf","Ledger"==e.PageType),r.xp6(1),r.Q6J("ngIf","Group"==e.PageType),r.xp6(1),r.Q6J("ngIf","Finalize"==e.PageType),r.xp6(1),r.Q6J("ngIf","Restorevoucher"==e.PageType),r.xp6(1),r.Q6J("ngIf","Monthly Summary"==e.PageType),r.xp6(1),r.Q6J("ngIf","Daybook"==e.PageType),r.xp6(1),r.Q6J("ngIf",e.IsLedgerChange),r.xp6(3),r.Q6J("checked",1==e.IsShowDetails),r.xp6(4),r.Q6J("ngIf",e.IsLedgerChange),r.xp6(1),r.Q6J("ngIf","Finalize"==e.PageType),r.xp6(3),r.Oqu(e.accountService.currentShowing)}}function Et(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1,"Actions"),r.qZA())}function Yt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",285),r.YNc(1,Ft,21,11,"div",223),r.TgZ(2,"table",286),r.TgZ(3,"thead",240),r.TgZ(4,"tr"),r.TgZ(5,"th"),r.TgZ(6,"div",241),r.TgZ(7,"input",242),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).selectedAll=t})("change",function(t){return r.CHM(e),r.oxw(3).selectAllchange(t)}),r.qZA(),r._UZ(8,"label",243),r.qZA(),r.qZA(),r.TgZ(9,"th",244),r._uU(10,"No."),r.qZA(),r.TgZ(11,"th",245),r._uU(12,"Date"),r.qZA(),r.TgZ(13,"th",246),r._uU(14,"Type"),r.qZA(),r.TgZ(15,"th",247),r._uU(16,"Ledger Name"),r.qZA(),r.TgZ(17,"th",247),r._uU(18,"User Name"),r.qZA(),r.TgZ(19,"th",247),r._uU(20,"Dr Amount"),r.qZA(),r.TgZ(21,"th",247),r._uU(22,"Cr Amount"),r.qZA(),r.TgZ(23,"th"),r._uU(24,"Narration"),r.qZA(),r.YNc(25,Et,2,0,"th",117),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",0==(e.accountService.isMobile||e.accountService.IsMobileview)),r.xp6(6),r.Q6J("checked",e.selectedAll)("ngModel",e.selectedAll),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(2),r.Q6J("dirsort",e.accountService),r.xp6(4),r.Q6J("ngIf","Restorevoucher"!=e.PageType)}}function Gt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",222),r.YNc(1,ze,21,11,"div",223),r.TgZ(2,"div",224),r.NdJ("scrolled",function(t){return r.CHM(e),r.oxw(2).onScroll(t)}),r.YNc(3,Lt,27,11,"table",225),r.qZA(),r.YNc(4,Yt,26,11,"div",226),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",0==(e.accountService.isMobile||e.accountService.IsMobileview)),r.xp6(1),r.Q6J("scrollWindow",!0),r.xp6(1),r.Q6J("ngIf",e.accountService.result.length>0),r.xp6(1),r.Q6J("ngIf",e.accountService.result.length>0)}}function Ht(e,t){if(1&e&&(r.TgZ(0,"span",304),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).$implicit;r.xp6(1),r.hij(" ",e.VT," ")}}function Bt(e,t){if(1&e&&(r.TgZ(0,"span"),r._UZ(1,"dateformatter",258),r.qZA()),2&e){const e=r.oxw(3).$implicit;r.xp6(1),r.s9C("dateValue",e.VDt)}}function $t(e,t){if(1&e&&(r.TgZ(0,"a",260),r._uU(1),r.qZA()),2&e){const e=t.index;r.s9C("href",t.$implicit.src,r.LSH),r.xp6(1),r.hij(" image",e+1," ")}}function jt(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,$t,2,2,"a",259),r.qZA()),2&e){const e=r.oxw(3).$implicit;r.xp6(1),r.Q6J("ngForOf",e.UploadImages)}}function Kt(e,t){if(1&e&&(r.TgZ(0,"div",276),r.TgZ(1,"span",306),r._uU(2,"challan No:"),r.qZA(),r._uU(3),r._UZ(4,"br"),r.TgZ(5,"span"),r.TgZ(6,"span",306),r._uU(7,"Amount:"),r.qZA(),r._uU(8),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(3),r.hij(" ",e.ChNo," "),r.xp6(5),r.hij(" ",e.Amt,"")}}function zt(e,t){if(1&e&&(r.TgZ(0,"ion-col"),r.YNc(1,Kt,9,2,"div",305),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",e.challan)}}function Wt(e,t){if(1&e&&(r.TgZ(0,"div",276),r.TgZ(1,"span",306),r._uU(2),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.hij("",e.RType," :"),r.xp6(2),r.AsE(" ",e.DrAmount>0?e.DrAmount:e.CrAmount," ",e.DrAmount>0?" Dr":" Cr"," ")}}function Xt(e,t){if(1&e&&(r.TgZ(0,"ion-col"),r.YNc(1,Wt,5,3,"div",305),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",e.reference)}}function ei(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col"),r.TgZ(3,"div",299),r.TgZ(4,"h5"),r._uU(5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"ion-col",300),r.TgZ(7,"h5"),r._uU(8),r.ALo(9,"indianCurrency"),r.ALo(10,"indianCurrency"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"ion-row"),r.TgZ(12,"ion-col"),r.YNc(13,Ht,2,1,"span",301),r.qZA(),r.TgZ(14,"ion-col"),r.TgZ(15,"span"),r._uU(16),r.qZA(),r.qZA(),r.TgZ(17,"ion-col"),r.TgZ(18,"span"),r._uU(19),r.qZA(),r.qZA(),r.TgZ(20,"ion-col",302),r.YNc(21,Bt,2,1,"span",117),r.qZA(),r.qZA(),r.TgZ(22,"ion-row"),r.TgZ(23,"ion-col",303),r._uU(24),r.YNc(25,jt,2,1,"div",117),r.qZA(),r.qZA(),r.TgZ(26,"ion-row"),r.YNc(27,zt,2,1,"ion-col",117),r.qZA(),r.TgZ(28,"ion-row"),r.YNc(29,Xt,2,1,"ion-col",117),r.qZA(),r.BQk()),2&e){const e=r.oxw().$implicit,t=r.oxw().$implicit;r.xp6(5),r.Oqu(e.L_Name),r.xp6(3),r.hij(" ",e.DrAmt>0?r.lcZ(9,10,e.DrAmt)+" Dr":r.lcZ(10,12,e.CrAmt)+" Cr",""),r.xp6(5),r.Q6J("ngIf","0"!=e.LId),r.xp6(3),r.hij(" ",t.UsrName,""),r.xp6(3),r.hij(" ",t.VNO,""),r.xp6(2),r.Q6J("ngIf","0"!=e.LId),r.xp6(3),r.hij(" ",t.Narr," "),r.xp6(1),r.Q6J("ngIf",null!=t.UploadImages&&t.UploadImages.length>0),r.xp6(2),r.Q6J("ngIf",null!=e.challan&&null!=e.challan),r.xp6(2),r.Q6J("ngIf",null!=e.reference&&null!=e.reference)}}function ti(e,t){if(1&e&&(r.TgZ(0,"ion-col",300),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",e.DrAmt," ")}}function ii(e,t){if(1&e&&(r.TgZ(0,"ion-col",300),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",e.CrAmt," ")}}function ni(e,t){1&e&&(r.TgZ(0,"span",280),r._uU(1," Inst. No: "),r.qZA())}function ri(e,t){1&e&&(r.TgZ(0,"span",279),r._uU(1," Cheque Date: "),r.qZA())}function oi(e,t){1&e&&(r.TgZ(0,"span",279),r._uU(1," Rec. Date: "),r.qZA())}function si(e,t){if(1&e&&(r.TgZ(0,"ion-row",312),r.YNc(1,ni,2,0,"span",277),r._uU(2),r.YNc(3,ri,2,0,"span",278),r._UZ(4,"dateformatter",258),r.TgZ(5,"span",279),r._uU(6,"Amount :"),r.qZA(),r._uU(7),r.YNc(8,oi,2,0,"span",278),r._UZ(9,"dateformatter",258),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf",""!=e.ChkNo&&null!=e.ChkNo),r.xp6(1),r.hij("",e.ChkNo," "),r.xp6(1),r.Q6J("ngIf",""!=e.ChkDt&&null!=e.ChkDt),r.xp6(1),r.s9C("dateValue",e.ChkDt),r.xp6(3),r.hij(" ",e.Led_Dr>0?e.Led_Dr:e.Led_Cr," "),r.xp6(1),r.Q6J("ngIf",""!=e.BRecoDt&&null!=e.BRecoDt),r.xp6(1),r.s9C("dateValue",e.BRecoDt)}}function li(e,t){if(1&e&&(r.ynx(0),r.YNc(1,si,10,7,"ion-row",311),r.BQk()),2&e){const e=t.$implicit,i=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",e.LId==i.LId||e.BLId==i.LId)}}function ai(e,t){if(1&e&&(r.TgZ(0,"ion-card",307),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col",308),r._uU(3),r.qZA(),r.YNc(4,ti,2,1,"ion-col",309),r.YNc(5,ii,2,1,"ion-col",310),r.qZA(),r.YNc(6,li,2,1,"ng-container",250),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw().$implicit;r.xp6(3),r.hij(" ",e.L_Name," "),r.xp6(1),r.Q6J("ngIf","Receipt Note"!=t.VT&&"Delivery Note"!=t.VT&&0!=e.DrAmt),r.xp6(1),r.Q6J("ngIf","Receipt Note"!=t.VT&&"Delivery Note"!=t.VT&&0!=e.CrAmt),r.xp6(1),r.Q6J("ngForOf",t.bankDetails)}}function ci(e,t){if(1&e&&(r.ynx(0),r.YNc(1,ei,30,14,"ng-container",117),r.YNc(2,ai,7,4,"ion-card",298),r.BQk()),2&e){const e=t.$implicit,i=r.oxw(4);r.xp6(1),r.Q6J("ngIf",e.IsVdet),r.xp6(1),r.Q6J("ngIf",!e.IsVdet&&i.IsShowDetails)}}function di(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ion-row",313),r.TgZ(1,"ion-col",314),r.TgZ(2,"ion-card-content",315),r.TgZ(3,"a",316),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(3).accountService.delete(t.UIDN)}),r._UZ(4,"ion-icon",317),r.qZA(),r.TgZ(5,"a",318),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(3).openTransaction(t.VT,t.UIDN,t.BookingId,t.BkStatus,!1,t.IsFZ)}),r._UZ(6,"ion-icon",319),r.qZA(),r.TgZ(7,"a",320),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(3).openTransaction(t.VT,t.UIDN,t.BookingId,t.BkStatus,!0,!1)}),r._UZ(8,"ion-icon",321),r.qZA(),r.TgZ(9,"a",322),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(3).OnHide(t.UIDN)}),r._UZ(10,"ion-icon",323),r.qZA(),r.TgZ(11,"a",322),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(3).OpenEmailPopup(t)}),r._UZ(12,"ion-icon",324),r.qZA(),r.TgZ(13,"a",325),r.NdJ("clickAllowed",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(3).SharingVoucher(t.UIDN)}),r._UZ(14,"ion-icon",326),r.qZA(),r.TgZ(15,"a",322),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(3).fileprint(t.UIDN)}),r._UZ(16,"ion-icon",327),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(3),r.s9C("mname",e.VT),r.Q6J("SignupId",t.SignupId)("UserId",t.UserId),r.xp6(2),r.s9C("mname",e.VT),r.Q6J("SignupId",t.SignupId)("UserId",t.UserId),r.xp6(2),r.s9C("mname",e.VT),r.Q6J("SignupId",t.SignupId)("UserId",t.UserId),r.xp6(6),r.s9C("mname",e.VT),r.Q6J("SignupId",t.SignupId)("UserId",t.UserId)}}function ui(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ion-card",296),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return t.Ick=!t.Ick}),r.YNc(1,ci,3,2,"ng-container",250),r.YNc(2,di,17,12,"ion-row",297),r.qZA()}if(2&e){const e=t.$implicit,i=r.oxw(3);r.ekj("rowselected",e.Ick)("negative",1==e.IsFZ),r.xp6(1),r.Q6J("ngForOf",e.VMobDet),r.xp6(1),r.Q6J("ngIf","Restorevoucher"!=i.PageType)}}function hi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",287),r.TgZ(1,"ion-content"),r.TgZ(2,"ion-refresher",288),r.NdJ("ionRefresh",function(t){return r.CHM(e),r.oxw(2).doRefresh(t)}),r._UZ(3,"ion-refresher-content",289),r.qZA(),r.TgZ(4,"ion-virtual-scroll",290,291),r.YNc(6,ui,3,6,"ion-card",292),r.qZA(),r.TgZ(7,"ion-infinite-scroll",293,294),r.NdJ("ionInfinite",function(t){return r.CHM(e),r.oxw(2).onScroll(t)}),r._UZ(9,"ion-infinite-scroll-content",295),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Udp("height",e.accountService.mobileContainer),r.xp6(4),r.Q6J("items",e.accountService.result),r.xp6(5),r.s9C("loadingText",e.accountService.nextloading)}}function gi(e,t){1&e&&(r.TgZ(0,"ion-card",329),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col"),r._UZ(3,"ion-skeleton-text",330),r.qZA(),r.TgZ(4,"ion-col",331),r._UZ(5,"ion-skeleton-text",330),r.qZA(),r.qZA(),r.TgZ(6,"ion-row"),r.TgZ(7,"ion-col"),r._UZ(8,"ion-skeleton-text",330),r.qZA(),r.TgZ(9,"ion-col"),r._UZ(10,"ion-skeleton-text",330),r.qZA(),r.TgZ(11,"ion-col"),r._UZ(12,"ion-skeleton-text",330),r.qZA(),r.TgZ(13,"ion-col",332),r._UZ(14,"ion-skeleton-text",330),r.qZA(),r.qZA(),r.TgZ(15,"ion-row"),r.TgZ(16,"ion-col",333),r._UZ(17,"ion-skeleton-text",334),r.qZA(),r.qZA(),r.TgZ(18,"ion-row"),r.TgZ(19,"ion-col"),r._UZ(20,"ion-skeleton-text",335),r.qZA(),r.qZA(),r.TgZ(21,"ion-row"),r.TgZ(22,"ion-col"),r._UZ(23,"ion-skeleton-text",330),r.qZA(),r.qZA(),r.TgZ(24,"ion-row"),r.TgZ(25,"ion-col",336),r._UZ(26,"ion-skeleton-text",330),r.qZA(),r.qZA(),r.qZA())}function pi(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,gi,27,0,"ion-card",328),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",e.accountService.noImageRepeat)}}function fi(e,t){1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td",338),r._UZ(2,"ion-skeleton-text",339),r.qZA(),r.TgZ(3,"td",340),r._UZ(4,"ion-skeleton-text",334),r.qZA(),r.TgZ(5,"td",340),r._UZ(6,"ion-skeleton-text",334),r.qZA(),r.TgZ(7,"td",341),r._UZ(8,"ion-skeleton-text",334),r.qZA(),r.TgZ(9,"td",342),r._UZ(10,"ion-skeleton-text",334),r.qZA(),r.TgZ(11,"td",343),r._UZ(12,"ion-skeleton-text",334),r.qZA(),r.TgZ(13,"td",343),r._UZ(14,"ion-skeleton-text",334),r.qZA(),r.TgZ(15,"td",343),r._UZ(16,"ion-skeleton-text",334),r.qZA(),r.TgZ(17,"td",344),r._UZ(18,"ion-skeleton-text",334),r.qZA(),r.TgZ(19,"td",343),r._UZ(20,"ion-skeleton-text",334),r.qZA(),r.qZA())}function mi(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"table",337),r.TgZ(2,"thead",240),r.TgZ(3,"tr"),r.TgZ(4,"th",338),r._UZ(5,"ion-skeleton-text",339),r.qZA(),r.TgZ(6,"th",340),r._UZ(7,"ion-skeleton-text",334),r.qZA(),r.TgZ(8,"th",340),r._UZ(9,"ion-skeleton-text",334),r.qZA(),r.TgZ(10,"th",341),r._UZ(11,"ion-skeleton-text",334),r.qZA(),r.TgZ(12,"th",342),r._UZ(13,"ion-skeleton-text",334),r.qZA(),r.TgZ(14,"th",343),r._UZ(15,"ion-skeleton-text",334),r.qZA(),r.TgZ(16,"th",343),r._UZ(17,"ion-skeleton-text",334),r.qZA(),r.TgZ(18,"th",343),r._UZ(19,"ion-skeleton-text",334),r.qZA(),r.TgZ(20,"th"),r._UZ(21,"ion-skeleton-text",334),r.qZA(),r.TgZ(22,"th",343),r._UZ(23,"ion-skeleton-text",334),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"tbody",248),r.YNc(25,fi,21,0,"tr",250),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(25),r.Q6J("ngForOf",e.accountService.noImageRepeat)}}function Ti(e,t){1&e&&(r.TgZ(0,"div"),r._UZ(1,"div",346),r._UZ(2,"br"),r.TgZ(3,"div",347),r._uU(4," No records available for this duration or search criteria. "),r._UZ(5,"br"),r._uU(6," Please select proper search criteria or select proper ledger or group to see the transactions. "),r._UZ(7,"br"),r._UZ(8,"br"),r.qZA(),r.qZA())}function vi(e,t){if(1&e&&(r.TgZ(0,"div",345),r._UZ(1,"br"),r._UZ(2,"br"),r.YNc(3,Ti,9,0,"div",117),r._UZ(4,"br"),r._UZ(5,"br"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(3),r.Q6J("ngIf",e.noDataImage)}}function Ii(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",129),r.YNc(1,_e,99,30,"div",130),r.YNc(2,Qe,16,6,"div",131),r.YNc(3,Gt,5,4,"div",132),r.YNc(4,hi,10,4,"div",133),r.YNc(5,pi,2,1,"div",117),r.YNc(6,mi,26,1,"div",117),r.YNc(7,vi,6,1,"div",134),r.TgZ(8,"div",135),r.TgZ(9,"div",136),r.TgZ(10,"button",137),r.NdJ("click",function(){return r.CHM(e),r.oxw().generatePDF(1)}),r._UZ(11,"i",138),r.qZA(),r.TgZ(12,"button",139),r.NdJ("click",function(){return r.CHM(e),r.oxw().generatePDF(2)}),r._UZ(13,"i",140),r.qZA(),r.TgZ(14,"button",141),r.NdJ("click",function(){return r.CHM(e),r.oxw().exportExcel()}),r._UZ(15,"i",142),r.qZA(),r.TgZ(16,"button",143),r._UZ(17,"i",144),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.Udp("display",e.isLedgerpopupopen||e.isLedgerHistorypopupopen||e.showTransactionModal?"none":"block"),r.xp6(1),r.Q6J("ngIf",!e.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",e.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",!e.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",e.accountService.result.length>0&&e.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.accountService.result.length&&!e.noDataImage&&e.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.accountService.result.length&&!e.noDataImage&&!e.accountService.IsMobileview),r.xp6(1),r.Q6J("ngIf",0==e.accountService.result.length)}}function Zi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"app-account-addedit",348),r.NdJ("TransactionredirectAction",function(t){return r.CHM(e),r.oxw().onTransactionSubmit(t)}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("TransactionredirectOnCancel",e.voucherPage)("IsDuplicate",e.Duplicate)("VoucherType",e.VoucherType)("IsItemVoucher",e.IsItemVoucher)("VoucherId",e.VoucherId)("CompanyIdforReport",e.CompanyIdforReport)}}function Ai(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Date is required"),r.qZA())}function xi(e,t){if(1&e&&(r.TgZ(0,"div",349),r.YNc(1,Ai,2,0,"div",117),r.qZA()),2&e){r.oxw();const e=r.MAs(21);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Si(e,t){1&e&&r._uU(0),2&e&&r.hij(" ",t.item.LN," ")}function Di(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a"),r._uU(1),r.qZA(),r.TgZ(2,"a",178),r.NdJ("click",function(){const t=r.CHM(e).item;return r.oxw().openLedgerPopup(t.UIDN)}),r._UZ(3,"i",179),r.qZA()}if(2&e){const e=t.item,i=r.oxw();r.xp6(1),r.Oqu(e.LN),r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ci(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"app-companyledger-addedit",350),r.NdJ("redirectAction",function(t){return r.CHM(e),r.oxw().reportLedgerAdded(t)}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("redirectOnCancel",!1)("inputLedgerId",e.ledgerIdVal)}}function bi(e,t){if(1&e&&r._UZ(0,"app-ledgerhistory",351),2&e){const e=r.oxw();r.Q6J("LedgId",e._LedgerId)("IsCallasPopup",!0)}}function yi(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Email is required"),r.qZA())}function Ni(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Email must be a valid email address"),r.qZA())}function Mi(e,t){if(1&e&&(r.TgZ(0,"div",349),r.YNc(1,yi,2,0,"div",117),r.YNc(2,Ni,2,0,"div",117),r.qZA()),2&e){r.oxw();const e=r.MAs(73);r.xp6(1),r.Q6J("ngIf",e.errors.required),r.xp6(1),r.Q6J("ngIf",e.errors.email)}}function wi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",76),r.TgZ(1,"label",352),r._uU(2," Select Company"),r.qZA(),r.TgZ(3,"ng-select",176,177),r.NdJ("scrollToEnd",function(){return r.CHM(e),r.oxw().companyService.ScrollDown()})("ngModelChange",function(t){return r.CHM(e),r.oxw().selectedCompany=t})("change",function(){r.CHM(e);const t=r.MAs(4),i=r.oxw();return i.SelectCompany(t.value),i.FilterData(0)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Q6J("virtualScroll",!0)("items",e.companyService.result)("ngModel",e.selectedCompany)("clearable",!1)}}function qi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",64),r.TgZ(1,"div",235),r.TgZ(2,"h4",353),r.TgZ(3,"a",236),r.NdJ("click",function(){return r.CHM(e),r.oxw().OutstandingCall()}),r._uU(4,"Bill Wise"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function Li(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",64),r.TgZ(1,"label",354),r._uU(2," Show Finalize"),r.qZA(),r._UZ(3,"br"),r.TgZ(4,"label",73),r.TgZ(5,"input",238),r.NdJ("change",function(){r.CHM(e);const t=r.oxw();return t.IsFinalize=1!=t.IsFinalize,t.FilterData(0)}),r.qZA(),r._UZ(6,"span",75),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(5),r.Q6J("checked",1==e.IsFinalize)}}function Vi(e,t){1&e&&r._uU(0),2&e&&r.hij(" ",t.item.LN," ")}function _i(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a"),r._uU(1),r.qZA(),r.TgZ(2,"a",178),r.NdJ("click",function(){const t=r.CHM(e).item;return r.oxw().openLedgerPopup(t.UIDN)}),r._UZ(3,"i",179),r.qZA(),r.TgZ(4,"a",180),r.TgZ(5,"i",181),r.NdJ("click",function(){const t=r.CHM(e).item;return r.oxw().OpenLedgerHistoryPopUp(t.UIDN)}),r.qZA(),r.qZA()}if(2&e){const e=t.item,i=r.oxw();r.xp6(1),r.Oqu(e.LN),r.xp6(1),r.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Ui(e,t){1&e&&(r.TgZ(0,"ng-option",182),r._uU(1," Contra"),r.qZA())}function Ri(e,t){1&e&&(r.TgZ(0,"ng-option",183),r._uU(1," Purchase"),r.qZA())}function Ji(e,t){1&e&&(r.TgZ(0,"ng-option",184),r._uU(1," Receipt"),r.qZA())}function ki(e,t){1&e&&(r.TgZ(0,"ng-option",185),r._uU(1," Payment"),r.qZA())}function Pi(e,t){1&e&&(r.TgZ(0,"ng-option",186),r._uU(1," Purchase Order"),r.qZA())}function Oi(e,t){1&e&&(r.TgZ(0,"ng-option",187),r._uU(1,"Credit Note"),r.qZA())}function Qi(e,t){1&e&&(r.TgZ(0,"ng-option",188),r._uU(1,"Debit Note"),r.qZA())}function Fi(e,t){1&e&&(r.TgZ(0,"ng-option",190),r._uU(1," Receipt Note"),r.qZA())}function Ei(e,t){1&e&&(r.TgZ(0,"ng-option",191),r._uU(1," Delivery Note"),r.qZA())}function Yi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",64),r.TgZ(1,"button",357),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(2).FinalizeVoucher()}),r._uU(2," Finalize Vouchers "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Gi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",64),r.TgZ(1,"button",355),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(2).ChangeLedger()}),r._uU(2," Change Ledger "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Hi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",64),r.TgZ(1,"button",355),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw(2).ChangeReference()}),r._uU(2," Change Reference "),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function Bi(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",64),r.TgZ(2,"button",355),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw().Datechangepopup()}),r._uU(3," Change Date "),r.qZA(),r.qZA(),r.TgZ(4,"div",64),r.TgZ(5,"button",356),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw().MultipleVoucherDelete()}),r._uU(6," Multiple Delete "),r.qZA(),r.qZA(),r.YNc(7,Yi,3,2,"div",71),r.YNc(8,Gi,3,2,"div",71),r.YNc(9,Hi,3,2,"div",71),r.BQk()}if(2&e){const e=r.oxw();r.xp6(2),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(3),r.Q6J("SignupId",e.SignupId)("UserId",e.UserId),r.xp6(2),r.Q6J("ngIf","Finalize"==e.PageType),r.xp6(1),r.Q6J("ngIf",e.IsLedgerChange),r.xp6(1),r.Q6J("ngIf",e.IsLedgerChange)}}function $i(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",358),r.NdJ("clickAllowed",function(){return r.CHM(e),r.oxw().ResVoucher()}),r._uU(1," Restore Vouchers "),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("SignupId",e.SignupId)("UserId",e.UserId)}}function ji(e,t){if(1&e&&(r.TgZ(0,"ng-option",381),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e),r.xp6(1),r.hij(" ",e," ")}}function Ki(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Ref. type is required"),r.qZA())}function zi(e,t){if(1&e&&(r.TgZ(0,"div",349),r.YNc(1,Ki,2,0,"div",117),r.qZA()),2&e){r.oxw();const e=r.MAs(7);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function Wi(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"required"),r.qZA())}function Xi(e,t){if(1&e&&(r.TgZ(0,"div",349),r.YNc(1,Wi,2,0,"div",117),r.qZA()),2&e){r.oxw();const e=r.MAs(2);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function en(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"input",382,383),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Ref_Tag=t}),r.qZA(),r.YNc(3,Xi,2,1,"div",19),r.qZA()}if(2&e){const e=r.MAs(2),t=r.oxw(2),i=t.$implicit,n=t.index,o=r.oxw().index;r.oxw(2);const s=r.MAs(2);r.xp6(1),r.Q6J("ngClass",r.VKq(6,Ve,s.submitted&&e.invalid))("disabled","OnAccount"==i.Ref_Type)("id","refTag"+o+"_"+n)("name","refTag"+o+"_"+n)("ngModel",i.Ref_Tag),r.xp6(2),r.Q6J("ngIf",s.submitted&&e.invalid)}}function tn(e,t){if(1&e&&(r._uU(0),r.TgZ(1,"b"),r._uU(2,"Balance"),r.qZA(),r._uU(3)),2&e){const e=t.item;r.lnq(" ",e.Ref_Tag," - ",e.Dr>0?e.Dr:e.Cr," ",e.Dr>0?"Dr":"Cr"," - "),r.xp6(3),r.AsE(" -",e.OrgBalance>0?e.OrgBalance:-1*e.OrgBalance," ",e.OrgBalance>0?"Dr":"Cr"," ")}}function nn(e,t){if(1&e&&(r._uU(0),r.TgZ(1,"b"),r._uU(2,"Balance"),r.qZA(),r._uU(3)),2&e){const e=t.item;r.hij(" ",e.Ref_Tag," - "),r.xp6(3),r.AsE(" - ",e.OrgBalance>0?e.OrgBalance:-1*e.OrgBalance," ",e.OrgBalance>0?"Dr":"Cr"," ")}}function rn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"ng-select",384,385),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Agnst_Ref_Id=t})("change",function(t){r.CHM(e);const i=r.MAs(2),n=r.oxw(2).index,o=r.oxw().index;return r.oxw(3).onAgainstRefChange(o,n,t,i,null)}),r.YNc(3,tn,4,5,"ng-template",29),r.YNc(4,nn,4,3,"ng-template",30),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(2),t=r.oxw(2),i=t.index,n=t.$implicit,o=r.oxw().index;r.oxw(2);const s=r.MAs(2),l=r.oxw();r.xp6(1),r.Q6J("items",l.LedagainstRefList)("id","agReferences"+o+"_"+i)("name","agReferences"+o+"_"+i)("ngModel",n.Agnst_Ref_Id)("ngClass",r.VKq(5,Ve,s.submitted&&e.invalid))}}function on(e,t){1&e&&(r.TgZ(0,"div",349),r.TgZ(1,"div"),r._uU(2,"Your Adjust Amount is greater"),r.qZA(),r.qZA())}function sn(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"required"),r.qZA())}function ln(e,t){if(1&e&&(r.TgZ(0,"div",349),r.YNc(1,sn,2,0,"div",117),r.qZA()),2&e){r.oxw();const e=r.MAs(17);r.xp6(1),r.Q6J("ngIf",e.errors.required)}}function an(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",386),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).index,i=r.oxw().index;return r.oxw(3).deleteMultiReferenceVoucher(i,t)}),r._UZ(1,"i",273),r.qZA()}}function cn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",371),r.TgZ(1,"td",372),r._uU(2),r.qZA(),r.TgZ(3,"td",372),r._uU(4),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"ng-select",373,374),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Ref_Type=t})("change",function(t){r.CHM(e);const i=r.oxw().index,n=r.oxw().index;return r.oxw(3).UpdateVoucherReference(n,i,t)}),r.YNc(8,ji,2,2,"ng-option",375),r.qZA(),r.YNc(9,zi,2,1,"div",19),r.qZA(),r.YNc(10,en,4,8,"td",117),r.YNc(11,rn,5,7,"td",117),r.TgZ(12,"td"),r.TgZ(13,"input",376,377),r.NdJ("selected",function(t){return r.CHM(e),r.oxw().$implicit.DueDate=t}),r.qZA(),r.qZA(),r.TgZ(15,"td"),r.TgZ(16,"input",378,379),r.NdJ("ngModelChange",function(t){r.CHM(e);const i=r.oxw().$implicit;return i.Dr>0?i.Dr:i.Cr=t})("input",function(){r.CHM(e);const t=r.MAs(17),i=r.oxw().index,n=r.oxw().index;return r.oxw(3).onAgainstRefChange(n,i,null,null,t)}),r.qZA(),r.YNc(18,on,3,0,"div",19),r.YNc(19,ln,2,1,"div",19),r.qZA(),r.TgZ(20,"td",372),r._uU(21),r.qZA(),r.TgZ(22,"td"),r.YNc(23,an,2,0,"a",380),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(7),t=r.MAs(14),i=r.MAs(17),n=r.oxw(),o=n.$implicit,s=n.index,l=r.oxw().index;r.oxw(2);const a=r.MAs(2),c=r.oxw();r.xp6(2),r.hij(" ",o.VNO,""),r.xp6(2),r.hij(" ",o.VT,""),r.xp6(2),r.Q6J("id","RefType_"+l+"_"+s)("name","RefType_"+l+"_"+s)("ngModel",o.Ref_Type)("ngClass",r.VKq(23,Ve,a.submitted&&e.invalid)),r.xp6(2),r.Q6J("ngForOf",c.filterOptions(l)),r.xp6(1),r.Q6J("ngIf",a.submitted&&e.invalid),r.xp6(1),r.Q6J("ngIf","AgainstRef"!=o.Ref_Type),r.xp6(1),r.Q6J("ngIf","AgainstRef"==o.Ref_Type),r.xp6(2),r.Q6J("disabled","AgainstRef"==o.Ref_Type||"OnAccount"==o.Ref_Type)("ngClass",r.VKq(25,Ve,a.submitted&&t.invalid))("startDate",o.DueDate)("name","refdate"+l+"_"+s)("id","refdate"+l+"_"+s),r.xp6(3),r.Q6J("disabled","OnAccount"==o.Ref_Type)("name","Refamt"+l+"_"+s)("ngModel",o.Dr>0?o.Dr:o.Cr)("ngClass",r.VKq(27,Ve,a.submitted&&i.invalid||o.IsAmountGreater)),r.xp6(2),r.Q6J("ngIf",o.IsAmountGreater),r.xp6(1),r.Q6J("ngIf",a.submitted&&i.invalid),r.xp6(2),r.hij(" ",o.Dr>0?"Dr":"Cr"," "),r.xp6(2),r.Q6J("ngIf","OnAccount"!=o.Ref_Type)}}function dn(e,t){if(1&e&&(r.ynx(0),r.YNc(1,cn,24,29,"tr",370),r.BQk()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("ngIf",1!=e.operationType)}}function un(e,t){if(1&e&&(r.TgZ(0,"ng-Container"),r.TgZ(1,"table",368,369),r.TgZ(3,"thead"),r.TgZ(4,"tr"),r.TgZ(5,"th"),r._uU(6,"Voucher No"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"Voucher Type"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Ref. Method"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Ref. Tag"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Due Date"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Amount"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Dr/Cr"),r.qZA(),r.TgZ(19,"th"),r._uU(20,"Action"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"tbody"),r.YNc(22,dn,2,1,"ng-container",250),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(22),r.Q6J("ngForOf",e)}}function hn(e,t){if(1&e&&(r.TgZ(0,"div",366),r.YNc(1,un,23,1,"ng-Container",367),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",e.referenceGroups)("ngForTrackBy",e.indexTracker)}}function gn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",359),r.TgZ(1,"form",360,361),r.NdJ("ngSubmit",function(){r.CHM(e);const t=r.MAs(2),i=r.oxw();return t.form.valid&&!i.referenceAmountError&&i.Savereference()}),r.TgZ(3,"div",5),r.TgZ(4,"div",6),r.TgZ(5,"h4",7),r._uU(6,"Add/Edit Reference "),r.qZA(),r.TgZ(7,"button",8),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(),i=r.MAs(262);return t.showReferencepopup=!1,i.hide()}),r.TgZ(8,"span",9),r._uU(9,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"div",362),r.YNc(11,hn,2,2,"div",363),r.qZA(),r.TgZ(12,"div",20),r.TgZ(13,"button",364),r._uU(14,"Save Changes"),r.qZA(),r.TgZ(15,"button",365),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(),i=r.MAs(262);return t.showReferencepopup=!1,i.hide()}),r._uU(16,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(11),r.Q6J("ngIf",!e.accountService.IsMobileview)}}let pn=(()=>{class e{constructor(e,t,i,n,r,o,s,a,c,d,h,g,f,m,T){this.accountService=e,this.route=t,this.actionSheetCtrl=i,this.companyService=n,this._config=r,this.popoverController=o,this.page=s,this.router=a,this.companyLedgerService=c,this.location=d,this.alertService=h,this.filterService=g,this.history=f,this.ReportServices=m,this.el=T,this.CompanyId=0,this.isInterCompany=!1,this.showLedegrHistoryModal=!1,this.scrollTarget="",this.Accselector=[],this.isList=!0,this.popupwindow="",this.voucherSelector=[],this.curReference=[],this.allagainstRefList=[],this.LedagainstRefList=[],this.httpfunction=new p.r,this.IsTapped=!1,this.showReferencepopup=!1,this.Description="",this.voucherPage=!1,this.bookingvoucher=!1,this.AddOnCode="",this.IsShowDetails=!1,this.IsShowReference=!1,this.IsFinalize=!1,this.Ismodalopen=!1,this.isLedgerpopupopen=!1,this.isSearchWindow=!1,this.isLedgerHistorypopupopen=!1,this.noDataImage=!1,this.IsLedgerChange=!1,this.isNativeApp=!1,this.selectedAll=!1,this.isBack=!1,this.IsHideVoucher=!1,this._LedgerId=0,this.value=0,this.CompanyIdforReport=0,this.ExportColumn=[],this.isMainWindow=!0,this.curLedID=0,this.status={isOpen:!1},this.voucherId=0,this.currentScrollPosition=0,this.AllowedEmail=!0,this.selectedRowIndex=0,this.referenceAmountError=!1,this.isScrollEnabled=!0,this.allLedgers=[],this.VoucherType="",this.IsItemVoucher=!1,this.VoucherId=0,this.Duplicate=!1,this.PageType="",this.showTransactionModal=!1,this.isBusy=!0,this.sortarray=[{order:this.accountService.sortorder,column:"VoucherNo",title:"By Voucher No"},{order:this.accountService.sortorder,column:"VoucherDate",title:"By Voucher Date"},{order:this.accountService.sortorder,column:"VoucherType",title:"By Voucher Type"}],this.SignupId=this.accountService.getSignupId,this.UserId=this.accountService.GetUserId,this.accountService.singleresult=new u.VN,this.accountService.sortorder=!1,(this.history.currentUrl.indexOf("profitloss")>=0||this.history.currentUrl.indexOf("trialbalance")>=0||this.history.getPreviousUrl().indexOf("profitloss")>=0||this.history.getPreviousUrl().indexOf("trialbalance")>=0||this.history.currentUrl.indexOf("balancesheet")>=0||this.history.getPreviousUrl().indexOf("balancesheet")>=0)&&(this.isBack=!0),this.httpfunction.IsMobileview()?this.isMainWindow?(this.StartDate=this.accountService.getStartFinancialdate,this.EndDate=this.accountService.getEndFinancialdate):this.isInterCompany?(this.scrollElement=document.getElementById(this.scrollTarget),this.vscrollElement=document.getElementById(this.scrollTarget)):(this.scrollElement=document.getElementById("daybookContent"),this.vscrollElement=document.getElementById("daybookContent")):this.isMainWindow?(this.StartDate=this.accountService.getStartFinancialdate,this.EndDate=this.accountService.getEndFinancialdate,this.vscrollElement=window,this.scrollElement=null):this.isInterCompany?(this.scrollElement=document.getElementById(this.scrollTarget),this.vscrollElement=document.getElementById(this.scrollTarget)):(this.scrollElement=document.getElementById("daybookContent"),this.vscrollElement=document.getElementById("daybookContent")),this.isMainWindow&&this.route.params.subscribe(e=>{this.isMainWindow&&(null!=e.ledgerid&&"undefined"!=e.ledgerid?(this.curLedID=parseInt(e.ledgerid),this.companyLedgerService.singleresult=new l.dJ,this.companyLedgerService.singleresult.UIDN=this.curLedID):this.companyLedgerService.singleresult=null)}),this.accountService.ExportColumn=[{title:"V.NO.",dataKey:"VNO",size:25},{title:"Date",dataKey:"VDt",size:65},{title:"Type",dataKey:"VT",size:35},{title:"Ledger Name",dataKey:"L_Name",size:137},{title:"User Name",dataKey:"UsrName",size:60},{title:"DrAmount",dataKey:"DrAmt",size:55},{title:"CrAmount",dataKey:"CrAmt",size:55},{title:"Balance",dataKey:"Balance",size:25},{title:"Narration",dataKey:"Narr",size:220}]}set monthyear(e){this._monthyear=e,(null==this.companyLedgerService.singleresult||null==this.companyLedgerService.singleresult)&&(this.companyLedgerService.singleresult=new l.dJ,this.companyLedgerService.singleresult.UIDN=this.curLedID),this.vscrollElement.scrollTop=0,this.FilterData(0)}get monthyear(){return this._monthyear}set scrollElement(e){this._scrollElement=e}onPopState(e){this.isList||(this.isList=!this.isList),this.isLedgerpopupopen&&(this.isLedgerpopupopen=!this.isLedgerpopupopen),this.isLedgerHistorypopupopen&&(this.isLedgerHistorypopupopen=!this.isLedgerHistorypopupopen),this.showTransactionModal&&(this.showTransactionModal=!this.showTransactionModal)}get scrollElement(){return null!=document.getElementById("daybookContent")?document.getElementById("daybookContent"):null}set vscrollElement(e){this._vscrollElement=e}get vscrollElement(){return null!=document.getElementById("daybookContent")?document.getElementById("daybookContent"):this.isInterCompany?this._vscrollElement:window}doRefresh(e){this.filterService.updatedata(!0,"Daybook"),this.accountService.refreshEvent=e.target,this.FilterData(0)}ngOnInit(){if(setTimeout(()=>{this.accountService.arrowDownEvent(150)},800),this.SignupId=this.accountService.getSignupId,this.UserId=this.accountService.GetUserId,this.PageType=this.router.url.toLowerCase().indexOf("ledger")>=0?"Ledger":this.router.url.toLowerCase().indexOf("group")>=0?"Group":this.router.url.toLowerCase().indexOf("finalize")>=0?"Finalize":this.router.url.toLowerCase().indexOf("restorevoucher")>=0?"Restorevoucher":this.router.url.toLowerCase().indexOf("monthlysummary")>=0?"Monthly Summary":"Daybook",this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this)),this.accountService.ExportName="Ledger"==this.PageType?"Ledger_Report":"Group"==this.PageType?"Group_Report":"Finalize"==this.PageType?"Finalize_Report":"Restorevoucher"==this.PageType?"Restore_Voucher":"Monthly Summary"==this.PageType?"Monthly_Summary":"Daybook",this.companyLedgerService.isGetSubscribe=!0,this.companyLedgerService.refreshEvent=null,0==this.isInterCompany&&(this.companyLedgerService.GetAlldatafordaybook(!0),this.subscription=this.companyLedgerService.resultObs.subscribe(()=>{this.companyLedgerService.arrowDownEvent(this.companyLedgerService.selectedRowIndex),1==this.isBusy&&(this.isBusy=!1),this.allLedgers=this.companyLedgerService.result.filter(e=>0==e.IsGrp&&1==e.St).map(e=>e.LN),"Ledger"==this.PageType?(this.allLedgers=this.companyLedgerService.result.filter(e=>0==e.IsGrp&&1==e.St),this.curLedID>0&&(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(e=>e.UIDN==this.curLedID)[0])):"Group"==this.PageType?(this.allLedgers=this.companyLedgerService.result.filter(e=>1==e.IsGrp&&1==e.St),this.curLedID>0&&(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(e=>e.UIDN==this.curLedID)[0])):("Finalize"==this.PageType||"Restorevoucher"==this.PageType||"Monthly Summary"==this.PageType||"Daybook"==this.PageType)&&(this.allLedgers=this.companyLedgerService.result.filter(e=>0==e.IsGrp&&1==e.St),this.curLedID>0&&(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(e=>e.UIDN==this.curLedID)[0])),null!=this.accountService.refreshEvent&&(this.accountService.refreshEvent.complete(),this.accountService.refreshEvent=null)})),null!=this._LedgerHistoryModal){let e=this;this._LedgerHistoryModal.onEsc=function(){e._LedgerHistoryModal.hide(),document.scrollingElement.scrollTop=e.currentScrollPosition,this._LedgerId=0}}"Daybook"==this.PageType||"Finalize"==this.PageType||"Restorevoucher"==this.PageType?(this.dataPreserve(),this.httpfunction.IsMobileview()||(window.scrollTo(0,0),this.isScrollEnabled=!0)):("Ledger"==this.PageType||"Group"==this.PageType||"Monthly Summary"==this.PageType)&&(this.dataPreserve(),0==this.accountService.result.length&&(this.noDataImage=!0)),this.Refsubscription=this.ReportServices.resultObs.subscribe(()=>{this.allagainstRefList=this.allagainstRefList.concat(this.ReportServices.result),this.setcurrentreference()}),this.accountService.isGetSubscribe=!0,this.AccountlistSubscription=this.accountService.resultObs.subscribe(()=>{this.accountService.arrowDownEvent(150);for(let e=0;e<this.accountService.result.length;e++){for(let t=0;t<this.accountService.result[e].VDet.length;t++)this.accountService.result[e].VDet[t].IsVdet=!0;if(this.accountService.result[e].VMobDet=this.accountService.result[e].VDet,null!=this.accountService.result[e].VDetlist&&null!=this.accountService.result[e].VDetlist){for(let i=0;i<this.accountService.result[e].VDetlist.length;i++)this.accountService.result[e].VDetlist[i].IsVdet=!1;let t=this.accountService.result[e].VMobDet.concat(this.accountService.result[e].VDetlist?this.accountService.result[e].VDetlist:[]);this.accountService.result[e].VMobDet=t}}1==this.isBusy&&(this.isBusy=!1),0==this.accountService.result.length&&(this.noDataImage=!0)})}dataPreserve(){if(""!=this.httpfunction.getStorage("_filterData")){let t=JSON.parse(this.httpfunction.getStorage("_filterData"));if(null!=t&&null!=t){var e=t.find(e=>"Daybook"==e.Module);null!=e||null!=e?(null!=e.SearchFilter[0].LedgerId&&0!=e.SearchFilter[0].LedgerId&&(this.companyLedgerService.singleresult=this.companyLedgerService.result.filter(t=>t.UIDN==e.SearchFilter[0].LedgerId)[0]),null!=e.SearchFilter[0].VoucherType&&0!=e.SearchFilter[0].VoucherType&&(this.voucherType=e.SearchFilter[0].VoucherType),null!=e.SearchFilter[0].VoucherNo&&0!=e.SearchFilter[0].VoucherNo&&(this.VoucherNum=e.SearchFilter[0].VoucherNo),null!=e.SearchFilter[0].Rangevar&&0!=e.SearchFilter[0].Rangevar&&(this.amounttype=e.SearchFilter[0].Rangevar),null!=e.SearchFilter[0].EnterRange&&0!=e.SearchFilter[0].EnterRange&&(this.amountvall=e.SearchFilter[0].EnterRange),null!=e.SearchFilter[0].InstrumentDate&&0!=e.SearchFilter[0].InstrumentDate&&(this.instrumentdate=e.SearchFilter[0].InstrumentDate),null!=e.SearchFilter[0].InstrumentNo&&0!=e.SearchFilter[0].InstrumentNo&&(this.instrumentno=e.SearchFilter[0].InstrumentNo),null!=e.SearchFilter[0].nurration&&0!=e.SearchFilter[0].nurration&&(this.nurration=e.SearchFilter[0].nurration),null!=e.SearchFilter[0].PageType&&0!=e.SearchFilter[0].PageType&&(this.PageType=e.SearchFilter[0].PageType),null!=e.SearchFilter[0].ShowRefernce&&0!=e.SearchFilter[0].ShowRefernce&&(this.IsShowReference=e.SearchFilter[0].ShowRefernce),null!=e.SearchFilter[0].ShowDetails&&0!=e.SearchFilter[0].ShowDetails&&(this.IsShowDetails=e.SearchFilter[0].ShowDetails),this.FilterData(0)):"Ledger"!=this.PageType&&this.FilterData(0)}else this.FilterData(0)}else this.FilterData(0)}onSelect(e,t){if("Vtype"==t){this.voucherType=new Array;for(let t=0;t<e.selected.length;t++)this.voucherType.push(e.selected[t].name)}else"Account"==t&&(this.companyLedgerService.singleresult=e.selected)}SelectCompany(e){this.compCompanyId!=e.UIDN&&(this.compCompanyId=e.UIDN,this.companyLedgerService.singleresult=null,this.companyLedgerService.GetOtherCompanyData(this.compCompanyId),null==this.subscription&&(this.subscription=this.companyLedgerService.resultObs.subscribe(()=>{this.allLedgers=this.companyLedgerService.result.filter(e=>0==e.IsGrp&&1==e.St),this.companyLedgerService.singleresult=this.curLedID>0?this.companyLedgerService.result.filter(e=>e.UIDN==this.curLedID)[0]:null})))}ChangeLedger(){this._chngeLedger.show(),event.stopPropagation(),event.preventDefault()}selectAllchange(e){this.accountService.result.forEach(function(t){t.Ick=e.target.checked})}onDateSelect(e){this.changedate=e}closeDatechangeModal(){this._DatechangeModal.hide()}Datechangepopup(){this.accountService.result.filter(e=>1==e.Ick).length>0?(this.Ismodalopen=!0,this._SearchModal.hide(),this._DatechangeModal.show(),event.stopPropagation(),event.preventDefault()):this.alertService.showError("Error","Please select atleast one record")}closedateModal(){this.Ismodalopen=!1}ChangeBulkdate(){var e=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN);if(this.Ismodalopen=!1,e.length>0){if(this.IsvalidDate()){let t=moment(this.changedate).format("YYYY-MM-DD");this.accountService.editbulkdate(t,e,this.accountService.getCompanyId).subscribe(()=>{this.closeDatechangeModal();let e=new Date(this.changedate);this.accountService.result.forEach(function(t){1==t.Ick&&(t.VDt=e,t.Ick=!1)})})}}else this.alertService.showError("Error","Please select atleast one record")}Button1callback(e){this.changedate=e}IsvalidDate(){return!(moment(this.companyLedgerService.getCompanyData.StDt).format("YYYY-MM-DD")>moment(this.changedate).format("YYYY-MM-DD")&&(this.alertService.showError("Error","Voucher date must be greater than a company creation date: "+moment(this.companyLedgerService.getCompanyData.StDt).format("YYYY-MM-DD")+"."),1))}MultipleVoucherDelete(){if(-1!=this.accountService.result.findIndex(e=>1==e.Ick&&null!=e.BkStatus))this.alertService.showError("Error","Please cancel Booked flat/shop first, Inorder to proceed this delete");else{var e=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN);e.length>0?this.alertService.showconfirm("Confirm","Are you sure you want to delete this record",["Yes","No"],null).subscribe(t=>{null!=t&&"Yes"==t.answer&&this.accountService.MultipleVoucherdelete(e).subscribe(()=>{this.FilterData(0)})}):this.alertService.showError("Error","Please select atleast one record")}this._SearchModal.hide()}setcurrentreference(){this.LedagainstRefList=JSON.parse(JSON.stringify(this.allagainstRefList.filter(e=>e.L_Id==this.companyLedgerService.singleresult.UIDN)));for(let t=0;t<this.LedagainstRefList.length;t++){const i=this.LedagainstRefList[t];i.Balance<0&&(i.Balance=-1*i.Balance),i.OrgBalance=i.Balance;var e=this.getreferenceforpopup().filter(e=>e.Agnst_VoucherMst_Id==i.voucherMasterId&&e.Agnst_Ref_Id==i.UIDN);null!=e&&null!=e&&e.length>0&&(i.OrgBalance+=e[0].Dr>0?e[0].Dr:e[0].Cr,e[0].OrgBalance=i.OrgBalance)}}deleteMultiReferenceVoucher(e,t){if(null!=t){if(this.referenceGroups[e][t].operationType=1,this.referenceGroups[e][t].Agnst_Ref_Id>0){let i=0;i=this.referenceGroups[e][t].Dr>0?this.referenceGroups[e][t].Dr:this.referenceGroups[e][t].Cr;const n=this.LedagainstRefList.findIndex(i=>i.UIDN===this.referenceGroups[e][t].Agnst_Ref_Id);if(-1!==n){let e=this.LedagainstRefList[n].OrgBalance;this.LedagainstRefList[n].OrgBalance=e<0?e-i:e+i}}let n=this.referenceGroups[e].findIndex(e=>"OnAccount"===e.Ref_Type&&1!=e.operationType);if(-1!=n)this.referenceGroups[e][n].Cr=this.referenceGroups[e][n].Cr+this.referenceGroups[e][t].Cr,this.referenceGroups[e][n].Balance=this.referenceGroups[e][n].Balance+this.referenceGroups[e][t].Balance;else{var i=Object.assign({},this.referenceGroups[e][t]);i.operationType=0,i.Dr=0,i.UIDN=0,i.Agnst_Ref_Id=null,i.Agnst_VoucherMst_Id=null,i.Ref_Tag=null,i.Ref_Type=m.lW.OnAccount,this.referenceGroups[e].splice(this.referenceGroups[e].length+1,0,i)}}}onAgainstRefChange(e,t,i,n,r){var o=null,s=null;if(n&&(o=n.model),r&&(s=r.model),(null!=s||!0===this.referenceGroups[e][t].IsAmountGreater)&&null==this.referenceGroups[e][t].Cr&&(this.referenceGroups[e][t].Cr=0,0==s))return;if(void 0===i||null!=o){let n=0;n=this.referenceGroups[e][t].Dr>0?this.referenceGroups[e][t].Dr:this.referenceGroups[e][t].Cr;let r=null!=o?o:this.referenceGroups[e][t].Agnst_Ref_Id;const s=this.LedagainstRefList.findIndex(e=>e.UIDN===r);if(-1!==s){let e=this.LedagainstRefList[s].OrgBalance;this.LedagainstRefList[s].OrgBalance=e<0?e-n:e+n}if(void 0===i)return}if(null==i){const n=this.LedagainstRefList.findIndex(i=>i.UIDN==this.referenceGroups[e][t].Agnst_Ref_Id);-1!=n&&(i=this.LedagainstRefList[n])}else this.referenceGroups[e][t].Agnst_VoucherMst_Id=i.VoucherMaster_PK_Id;var l=i.OrgBalance;i.OrgBalance<0&&(l*=-1);const a=this.referenceGroups.map((i,n)=>i.filter((i,r)=>i.Agnst_Ref_Id===this.referenceGroups[e][t].Agnst_Ref_Id&&(n!==e||r!==t)&&1!=i.operationType)).reduce((e,t)=>e.concat(t),[]).reduce((e,t)=>e+t.Cr,0),c=i.Dr-a;if(null!=s){if(c<this.referenceGroups[e][t].Cr)return this.referenceGroups[e][t].IsAmountGreater=!0,void this.IsAnyWrongAmount();if(this.referenceGroups[e][t].IsAmountGreater=!1,l+this.referenceGroups[e][t].Cr==c)return void this.IsAnyWrongAmount()}if(this.referenceGroups[e][t].Dr>0)if(this.referenceGroups[e][t].Dr>l){if(i.orgBalance=0,null==s){var d=this.referenceGroups[e][t].Dr-l;this.referenceGroups[e][t].Dr=l,this.referenceGroups[e][t].Ref_Tag=i.Ref_Tag}(u=Object.assign({},this.referenceGroups[e][t])).operationType=0,u.Dr=d,u.Cr=0,u.UIDN=0,u.Agnst_Ref_Id=null,u.Agnst_VoucherMst_Id=null,u.Ref_Tag=null,u.Ref_Type=m.lW.OnAccount,this.referenceGroups[e].splice(t+1,0,u)}else i.orgBalance=i.OrgBalance<0?-1*(i.orgBalance-this.referenceGroups[e][t].Dr):i.orgBalance-this.referenceGroups[e][t].Dr;else if(this.referenceGroups[e][t].Cr>l){i.orgBalance=0,d=0;let n=this.referenceGroups[e].findIndex(i=>"OnAccount"==i.Ref_Type&&i.VNO==this.referenceGroups[e][t].VNO);if(null==s)d=this.referenceGroups[e][t].Cr-l,this.referenceGroups[e][t].Cr=l,this.referenceGroups[e][t].Ref_Tag=i.Ref_Tag;else{let i=s>this.referenceGroups[e][t].Cr?s-this.referenceGroups[e][t].Cr:this.referenceGroups[e][t].Cr-s;d=s>this.referenceGroups[e][t].Cr?this.referenceGroups[e][n].Cr+i:this.referenceGroups[e][n].Cr-i}-1!=n?s?this.referenceGroups[e][n].Cr=d:(this.referenceGroups[e][t].Balance=-1*l,this.referenceGroups[e][n].Cr=this.referenceGroups[e][n].Cr+d,this.referenceGroups[e][n].Balance=this.referenceGroups[e][n].Cr+-1*d):((u=Object.assign({},this.referenceGroups[e][t])).operationType=0,u.Cr=d,u.Dr=0,u.UIDN=0,u.Agnst_Ref_Id=null,u.Agnst_VoucherMst_Id=null,u.Ref_Tag=null,u.Ref_Type=m.lW.OnAccount,this.referenceGroups[e].splice(t+1,0,u))}else if(this.referenceGroups[e][t].Cr<=l){if(this.referenceGroups[e][t].Ref_Tag=i.Ref_Tag,this.referenceGroups[e][t].Cr<l||null!=s){let i=l-this.referenceGroups[e][t].Cr,n=this.referenceGroups[e].findIndex(i=>"OnAccount"==i.Ref_Type&&i.VNO==this.referenceGroups[e][t].VNO);if(null!=s){let i;var u;i=0!=s&&0==this.referenceGroups[e][t].Cr?c-l:s-this.referenceGroups[e][t].Cr,-1!=n?this.referenceGroups[e][n].Cr=this.referenceGroups[e][n].Cr+i:((u=Object.assign({},this.referenceGroups[e][t])).operationType=0,u.Cr=i,u.Dr=0,u.UIDN=0,u.Agnst_Ref_Id=null,u.Agnst_VoucherMst_Id=null,u.Ref_Tag=null,u.Ref_Type=m.lW.OnAccount,this.referenceGroups[e].splice(t+1,0,u))}else null!=this.referenceGroups[e][n]&&-1!=n&&(this.referenceGroups[e][n].Cr>i?(this.referenceGroups[e][t].Cr=this.referenceGroups[e][t].Cr+i,this.referenceGroups[e][t].Balance=this.referenceGroups[e][t].Balance+-1*i,this.referenceGroups[e][n].Cr=this.referenceGroups[e][n].Cr-i,this.referenceGroups[e][n].Balance=this.referenceGroups[e][n].Balance- -1*i):(this.referenceGroups[e][t].Cr=this.referenceGroups[e][t].Cr+this.referenceGroups[e][n].Cr,this.referenceGroups[e][t].Balance=this.referenceGroups[e][t].Balance+this.referenceGroups[e][n].Balance,this.referenceGroups[e][n].Cr=0,this.referenceGroups[e][n].Balance=0))}}else i.orgBalance=i.OrgBalance<0?-1*(i.orgBalance-this.referenceGroups[e][t].Cr):i.orgBalance-this.referenceGroups[e][t].Cr;if(i){const i=this.referenceGroups[e][t].Agnst_Ref_Id;if(i){const n=this.LedagainstRefList.findIndex(e=>e.UIDN===i);let r=0;if(r=this.referenceGroups[e][t].Dr>0?this.referenceGroups[e][t].Dr:this.referenceGroups[e][t].Cr,-1!==n){let e=this.LedagainstRefList[n].OrgBalance;if(null!=s){let t;t=s>c&&0==r?e-c:s-r,this.LedagainstRefList[n].OrgBalance=e<s?e-t:e+t}else this.LedagainstRefList[n].OrgBalance=e>0?e-r:e+r}}}this.LedagainstRefList.filter(e=>e.UIDN==i.UIDN).orgBalance=i.orgBalance}IsAnyWrongAmount(){var e=this.referenceGroups.map((e,t)=>e.filter((e,t)=>!0===e.IsAmountGreater&&1!=e.operationType)).reduce((e,t)=>e.concat(t),[]);this.referenceAmountError=e.length>0}ChangeReference(){if(this.curReference=[],-1!=this.accountService.result.findIndex(e=>1==e.Ick&&null!=e.BkStatus))this.alertService.showError("Error","Please cancel Booked vouchers, Inorder to proceed change Reference");else{0==this.allagainstRefList.filter(e=>e.L_Id==this.companyLedgerService.singleresult.UIDN).length&&(this.allagainstRefList=[],this.ReportServices.filterArg=new a.Jw,this.ReportServices.filterArg.LedgerId=this.companyLedgerService.singleresult.UIDN,this.ReportServices.filterArg.voucherMasterId=this.VoucherId,this.ReportServices.filterArg.chkNarration=!0,this.ReportServices.isGetSubscribe=!0,this.ReportServices.GetAgainstRefDetail());var e=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN);if(e.length>0){for(let i=0;i<e.length;i++){var t=this.accountService.result.map(e=>e.referencemaster).filter(function(e){return null!=e}).filter(t=>t.some(t=>t.VoucherMaster_PK_Id===e[i]));if(null!=t&&null!=t)for(let e=0;e<t.length;e++){let i=this.curReference.concat(t[e]?t[e]:[]);this.curReference=i}}this.referenceGroups=[],this.referenceGroups=this.getreferencegroupforpopup(),this.showReferencepopup=!0,this.RefModal.show()}else this.alertService.showError("Error","Please select atleast one record")}this._SearchModal.hide()}getagainstReference(){return this.LedagainstRefList.filter(e=>0!=e.orgBalance)}getreferenceforpopup(){return this.curReference}getreferencegroupforpopup(){return Object.values(this.curReference.reduce((e,t)=>{const i=t.VNO;return e[i]||(e[i]=[]),e[i].push(t),e},{}))}indexTracker(e,t){return e}UpdateVoucherReference(e,t,i){"AgainstRef"==i?this.referenceGroups[e][t].Ref_Tag=null:"OnAccount"==i?(this.referenceGroups[e][t].Ref_Tag=null,this.referenceGroups[e][t].Agnst_Ref_Id=null,this.referenceGroups[e][t].Agnst_VoucherMst_Id=null):(this.referenceGroups[e][t].Agnst_Ref_Id=null,this.referenceGroups[e][t].Agnst_VoucherMst_Id=null)}Savereference(){this.referenceGroups.length>0&&(this.curReference=this.referenceGroups.reduce((e,t)=>e.concat(t),[]),this.accountService.UpdateVoucherReference(this.curReference).subscribe(()=>{},()=>{})),this.showReferencepopup=!1,this.RefModal.hide()}FinalizeVoucher(){var e=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN);e.length>0?this.alertService.showconfirm("Confirm","Are you sure you want to finilize this record",["Yes","No"],null).subscribe(t=>{null!=t&&"Yes"==t.answer&&this.accountService.FinalizeVoucher(e).subscribe(()=>{this.FilterData(0)})}):this.alertService.showError("Error","Please select atleast one record"),this._SearchModal.hide()}ResVoucher(){var e=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN);e.length>0?this.alertService.showconfirm("Confirm","Are you sure you want to Restore this record",["Yes","No"],null).subscribe(t=>{null!=t&&"Yes"==t.answer&&this.accountService.RestoreVoucher(e).subscribe(()=>{this.FilterData(0)})}):this.alertService.showError("Error","Please select atleast one record")}PermanentDeleteVoucher(){var e=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN);e.length>0?this.alertService.showconfirm("Confirm","Are you sure you want to Permanent Delete this record?",["Yes","No"],null).subscribe(t=>{null!=t&&"Yes"==t.answer&&this.accountService.PermanentVoucherdelete(e).subscribe(()=>{this.FilterData(0)})}):this.alertService.showError("Error","Please select atleast one record"),this._SearchModal.hide()}HideEntry(){this.accountService.result.filter(e=>1==e.Ick).length>0?0==this.hasVerticalScroll()&&this.accountService.ScrollDown():this.alertService.showError("Error","Please select atleast one record")}onSwipe(){this.IsTapped=!0}ClearFilter(){this.voucherSelector=[],this.amounttype=null,this.amountvall=null,this.voucherType=[],this.instrumentno="",this.instrumentdate=null,this.nurration="",this.VoucherNum="",this.LedgerNativeId=null,this.AmttypeNative=null,this.IsShowDetails=!1,this.IsShowReference=!1,this.httpfunction.IsMobileview()&&(this.companyLedgerService.singleresult=null),this.FilterData(0)}clearfilterandloadnewdata(){this.ClearFilter(),this.FilterData(0)}toggleDropdown(e){$("#adv-search").dropdown("hide")}ondybkdateSelect(e){this.instrumentdate=e}fileprint(e){this.accountService.isPrint=!0,this.accountService.isShare=!1,this.accountService.ExportType=d.tM.PRINT,this.accountService.GenerateReceipt(e)}SharingVoucher(e){this.accountService.isShare=!0,this.accountService.isPrint=!1,this.accountService.GenerateReceipt(e,!0)}SendEmail(e){let t=new h.Q;t.VoucherMaster_PK_Id=this.voucherId,t.CompanyMaster_PK_Id=this.EmailPopupLedId,t.name=this.httpfunction.IsMobileview()?this.Ledgeremail:e.value.email,t.CompanyId=this.accountService.getCompanyId,t.SignupId=this.accountService.getSignupId,this.accountService.showMessage=!1,this.accountService.EmailReceipt(t).subscribe(e=>{null==e.data||null==e.data?(this.AddOnCode="ec",this.Description="You dont have any Email credit. Please purchase Email Plans before creating Email templates.",this._modelEmail.hide(),this._modalPay.show()):(this.alertService.showSuccess("Success","Record added successfully"),this._modalPay.hide(),this._modelEmail.hide())})}Changeledgerdetails(e){var t=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN),i=this.companyLedgerService.singleresult.UIDN,n=e.UIDN;if(t.length>0){var r=new a.Jw;r.LedgerId=n,r.UserId=t,r.ActionId=i,r.LastOpbalance=0;let e=new d.p;e.CompanyId=this.accountService.getCompanyId,e.SignupId=this.accountService.getSignupId,e.FilterData=r,this.accountService.UpdateVoucherLedger(e).subscribe(()=>{this._chngeLedger.hide(),this.Chnageledger=null,this.FilterData(0)})}else this.alertService.showError("Error","Please select atleast one record For Update Ledger..")}OpenEmailPopup(e){let t=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN);0==t.length||1==t.length?(this.voucherId=e.UIDN,this.EmailPopupLedId=e.VDet[0].LId,this.Ledgeremail=e.VDet[0].Email,this._modelEmail.show()):this.alertService.showError("Error","Please select only one record For Sending Mail..")}ngOnDestroy(){0==this.bookingvoucher&&this.filterService.RemoveFillLocalData("Daybook"),null!=this.subscription&&this.subscription.unsubscribe(),null!=this.AccountlistSubscription&&this.AccountlistSubscription.unsubscribe(),null!=this.Refsubscription&&this.Refsubscription.unsubscribe()}OnKeydown(e,t){var i=this.accountService.result.filter(e=>1==e.Ick).map(e=>e.UIDN),n=e.key||e.keyCode;if(("Backspace"==n&&e.altKey||"Escape"==n)&&(setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.accountService.arrowDownEvent(this.accountService.selectedRowIndex)},150),this.goback()),"h"==n&&e.ctrlKey)i.length>0?this.accountService.HideShowVoucher(i,"true").subscribe(()=>{this.IsHideVoucher=!1,this.FilterData(0)}):this.alertService.showError("Error","Please select atleast one record"),e.stopPropagation(),e.preventDefault();else if("B"==n&&e.ctrlKey&&e.shiftKey)i.length>0?this.accountService.HideShowVoucher(i,"false").subscribe(()=>{this.IsHideVoucher=!1,this.FilterData(0)}):this.alertService.showError("Error","Please select atleast one record"),e.stopPropagation(),e.preventDefault();else if("m"==n&&e.ctrlKey)this.IsHideVoucher=!0,this.FilterData(0),e.stopPropagation(),e.preventDefault();else if("F1"==n&&e.altKey)this.IsShowDetails=!this.IsShowDetails,e.stopPropagation(),e.preventDefault();else if("F2"==n&&e.altKey)this.v_date.nativeElement.focus(),e.stopPropagation(),e.preventDefault();else if("F4"==n||"F10"==n||"F6"==n||"F7"==n||"F8"==n||"F9"==n){this.ontransactionModelHide();let t="";"F4"==n?t="Contra":"F10"==n?t="Payment":"F6"==n?t="Receipt":"F7"==n?t="Journal":"F8"==n?t="Sales":"F9"==n&&(t="Purchase");let i=!0,r=this.httpfunction.getStorage("_roledata");r&&"null"!=r&&null!=r&&(i=JSON.parse(this.httpfunction.getStorage("_roledata"))[t][1],0==i&&(this.alertService.showInfo("Error","You do not have sufficient rights to perform this action. Please contact administrator."),e.stopPropagation(),e.preventDefault())),i&&this.openTransaction(t,"","","",!1,!1),e.stopPropagation(),e.preventDefault()}"s"==n&&e.altKey&&this.generatePDF(2),"p"==n&&e.altKey&&this.generatePDF(1),"e"==n&&e.altKey&&e.ctrlKey&&this.exportExcel()}deleteVoucherKey(e,t){"g"==(e.key||e.keyCode)&&e.altKey&&this.deleteVoucher(this.accountService.result[t].UIDN)}OnHide(e){this.httpfunction.IsMobileview()?this.accountService.result=this.accountService.result.filter(t=>t.UIDN!=e):(this.accountService.result=this.accountService.result.filter(t=>t.UIDN!=e),0==this.hasVerticalScroll()&&this.accountService.ScrollDown())}hasVerticalScroll(){return!!this.httpfunction.IsMobileview()||(window.innerHeight?document.body.offsetHeight>window.innerHeight:document.documentElement.scrollHeight>document.documentElement.offsetHeight||document.body.scrollHeight>document.body.offsetHeight)}ontransactionModelHide(){this.showTransactionModal=!1,document.scrollingElement.scrollTop=this.currentScrollPosition}goback(){this.location.back()}gobackpopup(){this.location.back()}startdateSelect(e){this.StartDate=e,this.isMainWindow&&(this.accountService.getStartFinancialdate=this.StartDate)}enddateSelect(e){this.EndDate=e,this.isMainWindow&&(this.accountService.getEndFinancialdate=this.EndDate)}FilterData(e){var t=new Date(new Date(this.StartDate).toDateString());if(new Date(new Date(this.EndDate).toDateString())<t)return this.httpfunction.IsMobileview()?this.alertService.showError("error","end date should be greater than start date"):this.alertService.showWarning("Warning","end date should be greater than start date"),!1;this.httpfunction.scrolltop();var i=0,n=!1;null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult.UIDN&&(this.Accselector=this.allLedgers.filter(e=>e.UIDN==this.companyLedgerService.singleresult.UIDN),i=this.companyLedgerService.singleresult.UIDN,n=this.companyLedgerService.singleresult.IsGrp),this.isMainWindow&&(this.accountService.getStartFinancialdate=this.StartDate,this.accountService.getEndFinancialdate=this.EndDate),this.voucherType=null==this.voucherType||null!=this.voucherType&&0==this.voucherType.length?null:JSON.parse(JSON.stringify(this.voucherType));var r=new a.Jw;return"Finalize"==this.PageType&&(r.IsFinalize=this.IsFinalize),"Restorevoucher"==this.PageType&&(r.IsVoucherrestore=!0),r.LedgerId=i,r.Isgroup=n,r.LastOpbalance=e,r.amountvall=this.amountvall,r.amounttype=this.amounttype,r.voucherType=this.voucherType,r.instrumentno=this.instrumentno,r.instrumentdate=this.instrumentdate,r.nurration=this.nurration,r.voucherno=this.VoucherNum,r.IsHideVoucher=this.IsHideVoucher,r.FilterLedger=this.FltLedgerName,r.PageType=this.PageType,this.isInterCompany&&(r.CompanyId=this.compCompanyId),r.startTime=new Date(this.StartDate).toDateString(),r.endTime=new Date(this.EndDate).toDateString(),this.accountService.filterArg=r,this.accountService.page=0,this.IsLedgerChange=!1,null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult.UIDN&&(this.IsLedgerChange=!0),this.httpfunction.IsMobileview()||this.filterService.fillLocalData([{LedgerId:i,PageType:this.PageType,VoucherType:this.voucherType,VoucherNo:this.VoucherNum,Rangevar:this.amounttype,EnterRange:this.amountvall,InstrumentDate:this.instrumentdate,InstrumentNo:this.instrumentno,nurration:this.nurration,ShowRefernce:this.IsShowReference,ShowDetails:this.IsShowDetails}],"Daybook"),this.IsHideVoucher=!1,!1}changeData(){this.httpfunction.IsMobileview()||this.filterService.fillLocalData([{LedgerId:this.companyLedgerService.singleresult.UIDN,PageType:this.PageType,VoucherType:this.voucherType,VoucherNo:this.VoucherNum,Rangevar:this.amounttype,EnterRange:this.amountvall,InstrumentDate:this.instrumentdate,InstrumentNo:this.instrumentno,nurration:this.nurration,ShowRefernce:this.IsShowReference,ShowDetails:this.IsShowDetails}],"Daybook")}onScroll(e){if(!this.showTransactionModal&&this.accountService.result.length>0){let t=this.accountService.result[this.accountService.result.length-1].VDet;this.accountService.filterArg.LastOpbalance=t[t.length-1].Balance,null!=this.infiniteScroll&&(this.accountService.mobileinfinitescroll=this.infiniteScroll,this.accountService.mobilevirtualscroll=this.virtualScroll,this.accountService.refreshEvent=e.target),this.accountService.ScrollDown()}}generatePDF(e){"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||this.accountService.PDFFiles().subscribe(t=>{let i=new Array;var n=[],r=[];for(let e=0;e<this.accountService.ExportColumn.length;e++)n.push({text:this.accountService.ExportColumn[e].title,style:"tableHeader"}),r.push(null==this.accountService.ExportColumn[e].size?"auto":this.accountService.ExportColumn[e].size);i.push(n);for(let e=0;e<t.length;e++){const n=t[e];for(let e=0;e<n.VDet.length;e++){const t=n.VDet[e];var o=[];if(o.push(null!=n.VNO||null!=n.VNO?n.VNO:""),null!=n.VDt||null!=n.VDt?"01-Jan-0001"==moment(n.VDt).format("DD-MMM-YYYY")?o.push(""):o.push(moment(n.VDt).format("DD-MMM-YYYY")):o.push(""),o.push(null!=n.VT||null!=n.VT?n.VT:""),o.push(t.L_Name),o.push(n.UsrName),o.push(t.DrAmt),o.push(t.CrAmt),o.push(t.Balance),o.push(null==n.Narr?"":n.Narr),i.push(o),this.IsShowDetails)if(null!=n.VDetlist){if(n.VDetlist.length>0)for(let e=0;e<n.VDetlist.length;e++){if((s=[]).push(""),s.push(""),s.push(""),s.push(n.VDetlist[e].L_Name),s.push(""),s.push(n.VDetlist[e].DrAmt),s.push(n.VDetlist[e].CrAmt),s.push(""),null!=n.bankDetails)if(n.bankDetails.length>0){let e="";for(let t=0;t<n.bankDetails.length;t++)e+=('" check date '+moment(n.bankDetails[t].ChkDt).format("DD-MMM-YYYY")+" Amount "+n.bankDetails[t].Led_Dr+" Rec. Date "+moment(n.bankDetails[t].BRecoDt).format("DD-MMM-YYYY")+'" ,').slice(0,-1)+",",e.split(",");s.push(e.split(","))}else s.push("");else s.push("");i.push(s)}}else if(null!=n.VDet&&n.VDet.length>0)for(let e=0;e<n.VDet.length;e++){var s;if((s=[]).push(""),s.push(""),s.push(""),s.push(n.VDet[e].L_Name),s.push(""),s.push(n.VDet[e].DrAmt),s.push(n.VDet[e].CrAmt),s.push(""),null!=n.bankDetails)if(n.bankDetails.length>0){let e="";for(let t=0;t<n.bankDetails.length;t++)e+=('" check date '+moment(n.bankDetails[t].ChkDt).format("DD-MMM-YYYY")+" Amount "+n.bankDetails[t].Led_Dr+" Rec. Date "+moment(n.bankDetails[t].BRecoDt).format("DD-MMM-YYYY")+'" ,').slice(0,-1)+",",e.split(",");s.push(e.split(","))}else s.push("");else s.push("");i.push(s)}}}let l="All";null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult.UIDN&&(l=this.companyLedgerService.singleresult.LN);var a="Company: "+this.accountService.getCompanyData.CN+" Period : "+moment(this.StartDate).format("DD MMM YYYY")+" To : "+moment(this.EndDate).format("DD MMM YYYY")+" Ledger : "+l+" Printed on : "+moment(new Date).format("DD MMM YYYY hh:mm:ss");this.accountService.GeneratePDF(e,a,this.accountService.ExportName,r,i,"A3")})}ExportTallyXML(){"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||(this._chkVoucherNo=!1,this._chkNarration=!1,this._chkBillwise=!1,this._chkBankDetails=!1,this.OnExportSubmit(),this._SearchModal.hide())}OnCancel(){this._ExportModal.hide()}OnExportSubmit(){var e=new a.Jw;e.chkVoucherNo=this._chkVoucherNo,e.chkNarration=this._chkNarration,e.chkBillwise=this._chkBillwise,e.chkBankDetails=this._chkBankDetails;var t=0,i=!1;null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult.UIDN&&(t=this.companyLedgerService.singleresult.UIDN,i=this.companyLedgerService.singleresult.IsGrp),this.voucherType=null==this.voucherType||null!=this.voucherType&&0==this.voucherType.length?null:JSON.parse(JSON.stringify(this.voucherType));let n=new d.p;n.FilterData=e,n.CompanyId=this.accountService.getCompanyId,n.SignupId=this.accountService.getSignupId,e.startTime=new Date(this.StartDate).toDateString(),e.endTime=new Date(this.EndDate).toDateString(),e.LedgerId=t,e.Isgroup=i,e.LastOpbalance=0,e.amountvall=this.amountvall,e.amounttype=this.amounttype,e.voucherType=this.voucherType,e.instrumentno=this.instrumentno,e.instrumentdate=this.instrumentdate,e.nurration=this.nurration,e.voucherno=this.VoucherNum,e.IsHideVoucher=this.IsHideVoucher,e.FilterLedger=this.FltLedgerName,this.accountService.ExportVoucher(n).subscribe(e=>{var t=new Date,i=new Blob([e.data],{type:"text/xml"});(0,g.saveAs)(i,"VoucherExport_"+t.toISOString()+".xml")})}ExportToTally(){"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||this.accountService.ExportForTally().subscribe(e=>{let t="";var i=[{title:"Date",format:"DD-MMM-YYYY"},{title:"Particulars"},{title:""},{title:""},{title:""},{title:""},{title:"Vch Type"},{title:"Vch No"},{title:"Debit Amount"},{title:"Credit Amount"},{title:"Master Id"},{title:"Lable"}];let n="";for(let a=0;a<i.length;a++)n+='"'+i[a].title+'",';n=n.slice(0,-1),t+=n+"\r\n";for(let a=0;a<e.length;a++){let i=e[a];for(let e=0;e<i.VDet.length;e++){let n="";const r=i.VDet[e];null!=i.VDt?"01-Jan-0001"==moment(i.VDt).format("DD-MMM-YYYY")?n+='"  ",':n+='"'+moment(i.VDt).format("DD-MMM-YYYY")+'" ,':n+='"  ",',n+=null!=r.L_Name?'"'+r.L_Name.split('"').join("")+'" ,':'"  ",',n+='"  ",',n+='"  ",',n+='"  ",',n+='"  ",',n+=null!=i.VT?'"'+i.VT+'" ,':'"  ",',n+=null!=i.VNO?'"'+i.VNO+'" ,':'"  ",',n+=null!=r.DrAmt?'"'+r.DrAmt+'" ,':'"  ",',n+=null!=r.CrAmt?'"'+r.CrAmt+'" ,':'"  ",',n+=null!=i.UIDN?'"'+i.UIDN+'" ,':'"  ",',n+='"LEDGER NAME" ,',n=n.slice(0,-1),t+=n+"\r\n"}if(null!=i.referencemaster&&i.referencemaster.length>0)for(let e=0;e<i.referencemaster.length;e++){let n="";var r=i.referencemaster[e];n+='"  ",',n+=null!=r.Ref_Type?'"'+r.Ref_Type+'" ,':'"  ",',n+=null!=r.Ref_Tag?'"'+r.Ref_Tag+'" ,':'"  ",',n+='"  ",',r.Dr>0?(n+='"'+r.Dr+'" ,',n+='"DR",'):(n+='"'+r.Cr+'" ,',n+='"CR",'),n+='"  ",',n+='"  ",',n+='"  ",',n+='"  ",',n+=null!=i.UIDN?'"'+i.UIDN+'" ,':'"  ",',n+='"BILL REF" ,',n=n.slice(0,-1),t+=n+"\r\n"}if(null!=i.bankDetails&&i.bankDetails.length>0){let e="";e+='"  ",',e+='"  ",',e+=null!=i.bankDetails[0].TType?'"'+i.bankDetails[0].TType.split('"').join("")+'" ,':'"  ",',e+=null!=i.bankDetails[0].ChkNo?'"'+i.bankDetails[0].ChkNo.split('"').join("")+'" ,':'"  ",',null!=i.bankDetails[0].ChkDt?"01-Jan-0001"==moment(i.bankDetails[0].ChkDt).format("DD-MMM-YYYY")?e+='"  ",':e+='"'+moment(i.bankDetails[0].ChkDt).format("DD-MMM-YYYY")+'" ,':e+='"  ",',e+=i.bankDetails[0].Led_Dr>0?'"'+i.bankDetails[0].Led_Dr+' DR" ,':'"'+i.bankDetails[0].Led_Cr+' CR" ,',null!=i.bankDetails[0].BRecoDt?"01-Jan-0001"==moment(i.bankDetails[0].BRecoDt).format("DD-MMM-YYYY")?e+='"  ",':e+='"'+moment(i.bankDetails[0].BRecoDt).format("DD-MMM-YYYY")+'" ,':e+='"  ",',e+='"  ",',e+='"  ",',e+='"  ",',e+=null!=i.UIDN?'"'+i.UIDN+'" ,':'"  ",',e+='"BANK DETAILS" ,',e=e.slice(0,-1),t+=e+"\r\n"}}var o=new Date,s=this.accountService.ExportName+"_"+o.toISOString()+".csv";if(this.isNativeApp)this.accountService.isShare=!1,this.accountService.isPrint=!1,this.accountService.savebase64AsPDF("",s,btoa(t),"text/csv",d.tM.EXCEL);else{var l=new Blob([t],{type:"text/csv;charset=utf-8"});(0,g.saveAs)(l,s)}},()=>{})}ExportTo(){"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||this.accountService.ExportExcel().subscribe(e=>{let t="";var i=[{title:"Vouchernumber",dataKey:"VNO"},{title:"Date",dataKey:"VDt",format:"DD-MMM-YYYY"},{title:"Vocher Type",dataKey:"VT"},{title:"Ledger Code",dataKey:"L_Name"},{title:"Ledger Amount Dr",dataKey:"DrAmt"},{title:"Ledger Amount Cr",dataKey:"CrAmt"},{title:"Narration",dataKey:"Narr"},{title:"Instrument No",dataKey:"L_Name"},{title:"Instrument Date",dataKey:"L_Name",format:"DD-MMM-YYYY"},{title:"Transaction type",dataKey:"L_Name"},{title:"Bank Info",dataKey:"L_Name"}];let n="";for(let l=0;l<i.length;l++)n+='"'+i[l].title+'",';n=n.slice(0,-1),t+=n+"\r\n";for(let l=0;l<e.length;l++){let i=e[l];for(let e=0;e<i.VDet.length;e++){let n="";const r=i.VDet[e];n+=null!=i.VNO?'"'+i.VNO+'" ,':'"  ",',null!=i.VDt?"01-Jan-0001"==moment(i.VDt).format("DD-MMM-YYYY")?n+='"  ",':n+='"'+moment(i.VDt).format("DD-MMM-YYYY")+'" ,':n+='"  ",',n+=null!=i.VT?'"'+i.VT+'" ,':'"  ",',n+=null!=r.L_Name?'"'+r.L_Name.split('"').join("")+'" ,':'"  ",',n+=null!=r.DrAmt?'"'+r.DrAmt+'" ,':'"  ",',n+=null!=r.CrAmt?'"'+r.CrAmt+'" ,':'"  ",',n+=null!=i.Narr?'"'+i.Narr.split('"').join("")+'" ,':'"  ",',i.bankDetails.length>0&&(n+=null!=i.bankDetails[0].ChkNo?'"'+i.bankDetails[0].ChkNo.split('"').join("")+'" ,':'"  ",',null!=i.bankDetails[0].ChkDt?"01-Jan-0001"==moment(i.bankDetails[0].ChkDt).format("DD-MMM-YYYY")?n+='"  ",':n+='"'+moment(i.bankDetails[0].ChkDt).format("DD-MMM-YYYY")+'" ,':n+='"  ",',n+=null!=i.bankDetails[0].TType?'"'+i.bankDetails[0].TType.split('"').join("")+'" ,':'"  ",',n+=null!=i.bankDetails[0].BankName?'"'+i.bankDetails[0].BankName.split('"').join("")+'" ,':'"  ",'),n=n.slice(0,-1),t+=n+"\r\n"}}var r=new Date,o=this.accountService.ExportName+"_"+r.toISOString()+".csv";if(this.isNativeApp)this.accountService.isShare=!1,this.accountService.isPrint=!1,this.accountService.savebase64AsPDF("",o,btoa(t),"text/csv",d.tM.EXCEL);else{var s=new Blob([t],{type:"text/csv;charset=utf-8"});(0,g.saveAs)(s,o)}},()=>{})}exportExcel(){"Daybook"!=this.PageType&&(null==this.accountService.filterArg||null==this.accountService.filterArg.LedgerId||null==this.accountService.filterArg.LedgerId||0==this.accountService.filterArg.LedgerId.length)||this.accountService.PDFFiles().subscribe(e=>{let t="";var i=[{title:"Voucher NO.",dataKey:"VNO"},{title:"Date",dataKey:"VDt",format:"DD-MMM-YYYY"},{title:"Type",dataKey:"VT"},{title:"Ledger Name",dataKey:"L_Name"},{title:"User Name",dataKey:"UsrName"},{title:"Dr Amount",dataKey:"DrAmt"},{title:"Cr Amount",dataKey:"CrAmt"},{title:"Balance",dataKey:"Balance"},{title:"Narration",dataKey:"Narr"}];let n="",r="All";null!=this.companyLedgerService.singleresult&&null!=this.companyLedgerService.singleresult.UIDN&&(r=this.companyLedgerService.singleresult.LN),n="Company: "+this.accountService.getCompanyData.CN+" Period : "+moment(this.StartDate).format("DD MMM YYYY")+" To : "+moment(this.EndDate).format("DD MMM YYYY")+" Ledger : "+r+" Printed on : "+moment(new Date).format("DD MMM YYYY hh:mm:ss")+"\r\n";for(let a=0;a<i.length;a++)n+='"'+i[a].title+'",';n=n.slice(0,-1),t+=n+"\r\n";for(let a=0;a<e.length;a++){let i=e[a];for(let e=0;e<i.VDet.length;e++){let n="";const r=i.VDet[e];if(n+=null!=i.VNO?'"'+i.VNO+'" ,':'"  ",',null!=i.VDt?"01-Jan-0001"==moment(i.VDt).format("DD-MMM-YYYY")?n+='"  ",':n+='"'+moment(i.VDt).format("DD-MMM-YYYY")+'" ,':n+='"  ",',n+=null!=i.VT?'"'+i.VT+'" ,':'"  ",',n+=null!=r.L_Name?'"'+r.L_Name.split('"').join("")+'" ,':'"  ",',n+=null!=i.UsrName?'"'+i.UsrName.split('"').join("")+'" ,':'"  ",',n+=null!=r.DrAmt?'"'+r.DrAmt+'" ,':'"  ",',n+=null!=r.CrAmt?'"'+r.CrAmt+'" ,':'"  ",',n+=null!=r.Balance?'"'+r.Balance+'" ,':'"  ",',n+=null!=i.Narr?'"'+i.Narr.split('"').join("")+'" ,':'"  ",',n=n.slice(0,-1),t+=n+"\r\n",this.IsShowDetails)if(null!=i.VDetlist){if(i.VDetlist.length>0)for(let e=0;e<i.VDetlist.length;e++){let n="";if(n+='"" ,',n+='"" ,',n+='"" ,',n+='"'+i.VDetlist[e].L_Name+'" ,',n+='"" ,',n+='"'+i.VDetlist[e].DrAmt+'" ,',n+='"'+i.VDetlist[e].CrAmt+'" ,',n+='"" ,',null!=i.bankDetails)if(i.bankDetails.length>0){let e="";for(let t=0;t<i.bankDetails.length;t++)e+=('" check date '+moment(i.bankDetails[t].ChkDt).format("DD-MMM-YYYY")+" Amount "+i.bankDetails[t].Led_Dr+" Rec. Date "+moment(i.bankDetails[t].BRecoDt).format("DD-MMM-YYYY")+'" ,').slice(0,-1)+"",e.split(",");n+='"'+e+'" ,'}else n+='"" ,';else n+='"" ,';n=n.slice(0,-1),t+=n+"\r\n"}}else if(null!=i.VDet&&i.VDet.length>0)for(let e=0;e<i.VDet.length;e++){let n="";if(n+='"" ,',n+='"" ,',n+='"" ,',n+='"'+i.VDet[e].L_Name+'" ,',n+='"" ,',n+='"'+i.VDet[e].DrAmt+'" ,',n+='"'+i.VDet[e].CrAmt+'" ,',n+='"" ,',null!=i.bankDetails)if(i.bankDetails.length>0){let e="";for(let t=0;t<i.bankDetails.length;t++)e+=('" check date '+moment(i.bankDetails[t].ChkDt).format("DD-MMM-YYYY")+" Amount "+i.bankDetails[t].Led_Dr+" Rec. Date "+moment(i.bankDetails[t].BRecoDt).format("DD-MMM-YYYY")+'" ,').slice(0,-1)+"-";n+='"'+e+'" ,'}else n+='"" ,';else n+='"" ,';n=n.slice(0,-1),t+=n+"\r\n"}}}var o=new Date,s=this.accountService.ExportName+"_"+o.toISOString()+".csv";if(this.httpfunction.isNativeApp)this.accountService.isShare=!1,this.accountService.isPrint=!1,this.accountService.savebase64AsPDF("",s,btoa(t),"text/csv",d.tM.EXCEL);else{var l=new Blob([t],{type:"text/csv;charset=utf-8"});(0,g.saveAs)(l,s)}},()=>{})}openTransaction(e,t,i,n,r,o){if(this.currentScrollPosition=document.scrollingElement.scrollTop,null!=n&&i>0&&null!=i)if(1==o)this.alertService.showconfirm("Confirm","This is Finalize Voucher! Are you sure you want to Edit this record",["Yes","No"],null).subscribe(e=>{if(null!=e&&"Yes"==e.answer){if(this.bookingvoucher=!0,!(null!=n&&null!=n&&n>0))return void this.alertService.showError("Error","voucher Deleted and can not opened..");this.router.navigate(["/marketing/bookingform",i,"Booking"])}});else{if(this.bookingvoucher=!0,!(null!=n&&null!=n&&n>0))return void this.alertService.showError("Error","voucher Deleted and can not opened..");this.router.navigate(["/marketing/bookingform",i,"Booking"])}""==t&&(t=0),1==o?this.alertService.showconfirm("Confirm","This is Finalize Voucher! Are you sure you want to Edit this record",["Yes","No"],null).subscribe(i=>{null!=i&&"Yes"==i.answer&&this.openVoucherpopup(e,t,r)}):this.openVoucherpopup(e,t,r)}openVoucherpopup(e,t,i){this.currentScrollPosition=document.scrollingElement.scrollTop,"Purchaseitem"==e?(this.VoucherType="Purchase",this.IsItemVoucher=!0):"Salesitem"==e?(this.VoucherType="Sales",this.IsItemVoucher=!0):(this.VoucherType=e,this.IsItemVoucher=!1),this.VoucherId=t,this.Duplicate=i,this.showTransactionModal=!0}onTransactionSubmit(e){if((null==e||e.isHide)&&(this.showTransactionModal=!1,setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition,this.accountService.arrowDownEvent(this.accountService.selectedRowIndex)},250)),document.scrollingElement.scrollTop=this.currentScrollPosition,this.updateTransaction(e),this.accountService.IsMobileview&&null!=e){var t=this.accountService.result.findIndex(t=>t.UIDN==e.UIDN);t>-1&&this.virtualScroll.checkRange(t,1)}}preventpopup(e){e.stopPropagation()}change(e){this.status.isOpen=e}openLedgerPopup(e){return this.isList=!1,this.ledgerIdVal=e.toString(),this.isLedgerpopupopen=!0,this._SearchModal.hide(),!0}reportLedgerAdded(e){this.isList=!0,this.addurl("transactions/daybook"),null!=e&&(this.companyLedgerService.GetAlldatafordaybook(!0),this.FilterData(0)),this.isLedgerpopupopen=!1}OpenLedgerHistoryPopUp(e){this.addurl("reports/ledgerhistory"),this.isList=!1,this.currentScrollPosition=document.scrollingElement.scrollTop,this._LedgerId=e,this.showLedegrHistoryModal=!0,this.isLedgerHistorypopupopen=!0,this._SearchModal.hide()}onLedgHistoryHide(){this.addurl("transactions/ledger"),this.isList=!0,this.showLedegrHistoryModal=!1,this.isLedgerHistorypopupopen=!1,document.scrollingElement.scrollTop=this.currentScrollPosition,this._LedgerId=0}addurl(e){let t=e,i=this.router.url;i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0),this.route.params.subscribe(e=>{null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),this.location.go(`${i}/${t}`)}),"transactions/ledgeradd/0/false"==e&&(i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0)),"/transactions/account/Journal/ + voucherid"==e&&(i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0)),"/transactions/account/Purchase/ + voucherid"==e&&(i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0))}updateTransaction(e){if(null!=e){this.isMainWindow&&(this.accountService.getStartFinancialdate=this.StartDate,this.accountService.getEndFinancialdate=this.EndDate);var t=new Array,i=new Array;if(null==this.companyLedgerService.singleresult){if(e.VT==l.$f.DeliveryNote){if(e.InventoryDetails.filter(e=>e.CrAmt>0).Count()>0){var n=new u.eK,r=new u.S4;r=e.InventoryDetails.filter(e=>e.CrAmt>0)[0],n.LId=e.VDet.filter(e=>e.CrAmt>0)[0].LId,n.CrAmt=r.ActQty,n.Narration=e.UN,n.DrAmt=0,n.Balance=0,n.BilledAmount=0,n.IsBillPayed=!1,n.isMainled=!0,n.IsTax=!1,n.L_anc=e.VDet.filter(e=>e.CrAmt>0)[0].L_anc,n.L_Cat=e.VDet.filter(e=>e.CrAmt>0)[0].L_Cat,n.L_Name=r.Name,n.L_PId=e.VDet.filter(e=>e.CrAmt>0)[0].L_PId,n.Quantity=0,n.TaxLedgerId=0,n.TaxRate=e.VDet.filter(e=>e.CrAmt>0)[0].TaxRate,n.UnitCost=0,t.push(n)}}else e.VT==l.$f.ReceiptNote?(n=new u.eK,r=new u.S4,r=e.InventoryDetails.filter(e=>e.DrAmt>0)[0],n.LId=e.VDet.filter(e=>e.DrAmt>0)[0].LId,n.DrAmt=r.ActQty,n.Narration=e.UN,n.CrAmt=0,n.Balance=0,n.BilledAmount=0,n.IsBillPayed=!1,n.isMainled=!0,n.IsTax=!1,n.L_anc=e.VDet.filter(e=>e.DrAmt>0)[0].L_anc,n.L_Cat=e.VDet.filter(e=>e.DrAmt>0)[0].L_Cat,n.L_Name=r.Name,n.L_PId=e.VDet.filter(e=>e.DrAmt>0)[0].L_PId,n.Quantity=0,n.TaxLedgerId=0,n.TaxRate=e.VDet.filter(e=>e.DrAmt>0)[0].TaxRate,n.UnitCost=0,t.push(n)):t.push(e.VT==l.$f.Contra||e.VT==l.$f.Payment||e.VT==l.$f.Receipt||e.VT==l.$f.ReceiptNote?e.VDet.filter(e=>0==e.isMainled).sort((e,t)=>e.IsTax===t.IsTax?0:e.IsTax?1:-1)[0]:e.VDet.filter(e=>1==e.isMainled)[0]);for(let n=0;n<e.VDet.length;n++)t.filter(e=>null!=e).length>0&&null==t.filter(t=>t.PK_Id==e.VDet[n].PK_Id)[0]&&(e.VT==l.$f.ReceiptNote||e.VT==l.$f.DeliveryNote?e.VDet[n].isMainled&&i.push(e.VDet[n]):i.push(e.VDet[n]));i.filter(e=>null!=e).length>0&&(e.VDetlist=i),t.filter(e=>null!=e).length>0&&(e.VDet=t)}else{var o=e.VDet.filter(e=>e.LId==this.companyLedgerService.singleresult.UIDN)[0];if(null==o||o.isMainled){if(e.VDet=e.VDet.filter(e=>e.LId!=this.companyLedgerService.singleresult.UIDN),null!=e.VDet[0]){for(let n=0;n<e.VDet.length;n++)if(0==n){var s=new u.eK;1==e.IsItVou?null==(s=e.VDet.filter(e=>0==e.isMainled&&1==e.IsSP&&0==e.IsTax&&(0==e.IsROff||null==e.IsROff))[0])&&(s=e.VDet.filter(e=>0==e.isMainled&&0==e.IsTax)[0]):s=e.VDet.filter(e=>0==e.isMainled)[0],o.LId=s.LId,o.L_Name=s.L_Name,o.CrAmt=o.CrAmt,o.DrAmt=o.DrAmt,i.push(e.VDet[n]),t.push(o)}else i.push(e.VDet[n]);e.VDetlist=i}}else{var a=e.VDet.filter(e=>1==e.isMainled)[0],c=e.VDet.filter(e=>e.LId==this.companyLedgerService.singleresult.UIDN)[0];1==e.IsItVou&&(this.companyLedgerService.singleresult.IsSL||this.companyLedgerService.singleresult.IsPU)?(c.CrAmt=e.InventoryDetails.map(e=>e.CrAmt).reduce((e,t)=>e+Number(t),0),c.DrAmt=e.InventoryDetails.map(e=>e.DrAmt).reduce((e,t)=>e+Number(t),0)):(c.CrAmt=c.CrAmt,c.DrAmt=c.DrAmt),c.LId=a.LId,c.LId=a.LId,c.L_Name=a.L_Name,t.push(c);for(let n=0;n<e.VDet.length;n++)null==t.filter(t=>t.PK_Id==e.VDet[n].PK_Id)[0]&&(e.VT==l.$f.ReceiptNote||e.VT==l.$f.DeliveryNote?e.VDet[n].isMainled&&i.push(e.VDet[n]):i.push(e.VDet[n]))}e.VDet=t,e.VDetlist=i}for(let t=0;t<e.VDet.length;t++)e.VDet[t].IsVdet=!0;e.VMobDet=e.VDet;for(let t=0;t<e.VDetlist.length;t++)e.VDetlist[t].IsVdet=!1;let h=e.VMobDet.concat(e.VDetlist?e.VDetlist:[]);e.VMobDet=h;let g=new Date(moment(this.StartDate).format("DD MMM YYYY")),p=new Date(moment(this.EndDate).format("DD MMM YYYY")),f=new Date(moment(e.VDt).format("DD MMM YYYY"));if(null!=this.companyLedgerService.singleresult){let i=this.accountService.result.findIndex(e=>-1==e.UIDN),n=this.accountService.result.findIndex(e=>-2==e.UIDN),r=this.accountService.result.findIndex(e=>-3==e.UIDN);if(g.getTime()<=f.getTime()&&p.getTime()>=f.getTime())(d=this.accountService.result.findIndex(t=>t.UIDN==e.UIDN))>=0?(n>=0&&(this.accountService.result[n].VDet[0].DrAmt=this.accountService.result[n].VDet[0].DrAmt-this.accountService.result[d].VDet[0].DrAmt+t[0].DrAmt,this.accountService.result[n].VDet[0].CrAmt=this.accountService.result[n].VDet[0].CrAmt-this.accountService.result[d].VDet[0].CrAmt+t[0].CrAmt),r>=0&&(this.accountService.result[r].VDet[0].DrAmt=this.accountService.result[i].VDet[0].DrAmt+this.accountService.result[n].VDet[0].DrAmt,this.accountService.result[r].VDet[0].CrAmt=this.accountService.result[i].VDet[0].CrAmt+this.accountService.result[n].VDet[0].CrAmt),this.accountService.result[d]=e):(i>=0&&(this.accountService.result[i].VDet[0].DrAmt=this.accountService.result[i].VDet[0].DrAmt+t[0].DrAmt,this.accountService.result[i].VDet[0].CrAmt=this.accountService.result[i].VDet[0].CrAmt+t[0].CrAmt),n>=0&&(this.accountService.result[n].VDet[0].DrAmt=this.accountService.result[n].VDet[0].DrAmt+t[0].DrAmt,this.accountService.result[n].VDet[0].CrAmt=this.accountService.result[n].VDet[0].CrAmt+t[0].CrAmt),r>=0&&(this.accountService.result[r].VDet[0].DrAmt=this.accountService.result[i].VDet[0].DrAmt+this.accountService.result[n].VDet[0].DrAmt,this.accountService.result[r].VDet[0].CrAmt=this.accountService.result[i].VDet[0].CrAmt+this.accountService.result[n].VDet[0].CrAmt),this.accountService.result.push(e),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result)));else if(g.getTime()>=f.getTime()){var d=this.accountService.result.findIndex(t=>t.UIDN==e.UIDN);i>=0&&(this.accountService.result[i].VDet[0].DrAmt=this.accountService.result[i].VDet[0].DrAmt+t[0].DrAmt,this.accountService.result[i].VDet[0].CrAmt=this.accountService.result[i].VDet[0].CrAmt+t[0].CrAmt),n>=0&&(this.accountService.result[n].VDet[0].DrAmt=this.accountService.result[n].VDet[0].DrAmt-this.accountService.result[d].VDet[0].DrAmt,this.accountService.result[n].VDet[0].CrAmt=this.accountService.result[n].VDet[0].CrAmt-this.accountService.result[d].VDet[0].CrAmt),r>=0&&(this.accountService.result[r].VDet[0].DrAmt=this.accountService.result[i].VDet[0].DrAmt+this.accountService.result[n].VDet[0].DrAmt,this.accountService.result[r].VDet[0].CrAmt=this.accountService.result[i].VDet[0].CrAmt+this.accountService.result[n].VDet[0].CrAmt),this.accountService.result.splice(d,1),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result))}else p.getTime()<=f.getTime()&&(d=this.accountService.result.findIndex(t=>t.UIDN==e.UIDN),n>=0&&(this.accountService.result[n].VDet[0].DrAmt=this.accountService.result[n].VDet[0].DrAmt-this.accountService.result[d].VDet[0].DrAmt,this.accountService.result[n].VDet[0].CrAmt=this.accountService.result[n].VDet[0].CrAmt-this.accountService.result[d].VDet[0].CrAmt),r>=0&&(this.accountService.result[r].VDet[0].DrAmt=this.accountService.result[i].VDet[0].DrAmt+this.accountService.result[n].VDet[0].DrAmt,this.accountService.result[r].VDet[0].CrAmt=this.accountService.result[i].VDet[0].CrAmt+this.accountService.result[n].VDet[0].CrAmt),this.accountService.result.splice(d,1),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result)))}else g.getTime()<=f.getTime()&&p.getTime()>=f.getTime()?(d=this.accountService.result.findIndex(t=>t.UIDN==e.UIDN))>=0?this.accountService.result[d]=e:(this.accountService.result.push(e),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result))):(g.getTime()>=f.getTime()||p.getTime()<=f.getTime())&&(d=this.accountService.result.findIndex(t=>t.UIDN==e.UIDN),this.accountService.result.splice(d,1),this.accountService.result=JSON.parse(JSON.stringify(this.accountService.result)))}}sortPopover(e){return(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:f.r,cssClass:"my-custom-class",event:e,translucent:!0,componentProps:{sortArray:this.sortarray,onClick:(e,i)=>{let n=new d.p(e,i);this.accountService.sortdata=n,t.dismiss()}}});return yield t.present()})}advSearchM(){this._SearchModal.show()}deleteVoucher(e){-1!=this.accountService.result.findIndex(t=>t.UIDN==e&&null!=t.BkStatus)?this.alertService.showError("Error","Please cancel Booked flat/shop first, Inorder to proceed this delete"):this.accountService.delete(e)}save(e){var t=this.accountService.result[e];this.openTransaction(t.VT,t.UIDN,"","",!1,!1)}OutstandingCall(){this.bookingvoucher=!0,this.router.navigate(["/reports/outstandingrecivable",this.companyLedgerService.singleresult.UIDN])}filterOptions(e){return this.referenceGroups[e].some(e=>"OnAccount"===e.Ref_Type)?["NewRef","Advance","AgainstRef"]:["NewRef","OnAccount","Advance","AgainstRef"]}prepareFilteredReferenceData(){return this.LedagainstRefList.filter(e=>e.OrgBalance>0)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.B),r.Y36(T.gz),r.Y36(v.BX),r.Y36(I.J),r.Y36(d.De),r.Y36(v.Dh),r.Y36(Z.T3),r.Y36(T.F0),r.Y36(s.Q),r.Y36(A.Ye),r.Y36(x.Rq),r.Y36(S.i),r.Y36(D.q),r.Y36(C.r),r.Y36(r.SBq))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-account-list"]],viewQuery:function(e,t){if(1&e&&(r.Gf(E,7,c.w9),r.Gf(Y,7),r.Gf(G,7),r.Gf(H,7),r.Gf(B,7),r.Gf(j,7),r.Gf(K,7),r.Gf(z,7),r.Gf(W,7),r.Gf(X,7),r.Gf(ee,5),r.Gf(te,7,r.SBq),r.Gf(ie,7),r.Gf(ne,5),r.Gf(re,5),r.Gf(oe,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.serachcontrol=e.first),r.iGM(e=r.CRH())&&(t.ITableRef=e.first),r.iGM(e=r.CRH())&&(t.RefModal=e.first),r.iGM(e=r.CRH())&&(t._modalLedger=e.first),r.iGM(e=r.CRH())&&(t._chngeLedger=e.first),r.iGM(e=r.CRH())&&(t._modelEmail=e.first),r.iGM(e=r.CRH())&&(t._MessageModal=e.first),r.iGM(e=r.CRH())&&(t._modalPay=e.first),r.iGM(e=r.CRH())&&(t._ExportModal=e.first),r.iGM(e=r.CRH())&&(t._LedgerHistoryModal=e.first),r.iGM(e=r.CRH())&&(t._SearchModal=e.first),r.iGM(e=r.CRH())&&(t.searchControl=e.first),r.iGM(e=r.CRH())&&(t._DatechangeModal=e.first),r.iGM(e=r.CRH())&&(t.infiniteScroll=e.first),r.iGM(e=r.CRH())&&(t.virtualScroll=e.first),r.iGM(e=r.CRH())&&(t.v_date=e.first)}},hostBindings:function(e,t){1&e&&r.NdJ("popstate",function(e){return t.onPopState(e)},!1,r.Jf7)},inputs:{buttonclikcdata:["Button1result","buttonclikcdata"],StartDate:"StartDate",EndDate:"EndDate",CompanyId:"CompanyId",isInterCompany:"isInterCompany",scrollTarget:"scrollTarget",isList:"isList",isMainWindow:"isMainWindow",curLedID:"curLedID",monthyear:"monthyear"},features:[r._Bn([s.Q,o.B])],decls:264,vars:55,consts:[["class","card",3,"display",4,"ngIf"],[3,"TransactionredirectOnCancel","IsDuplicate","VoucherType","IsItemVoucher","VoucherId","CompanyIdforReport","TransactionredirectAction",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade",2,"width","90%"],["DatechangeModal","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["novalidate","",3,"ScrollToInvalid","ngSubmit"],["frmDate","ngForm"],[1,"modal-body"],[1,"content"],[1,"row"],[1,"md-form","form-group","col-sm-12"],["for","agrDate"],["type","text","appDatepicker","","placeholder","Please enter New Date","autocomplete","none","required","","name","agrDate","id","agrDate",1,"form-control",3,"startDate","ngClass","selected"],["agrDate",""],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modalNew","fade"],["LedchangeModal","bs-modal"],["novalidate","",3,"ScrollToInvalid"],["for","Bank"],["autofocus","","selectOnTab","true","appendTo","body","name","Ledgerdetails","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","ngModel","loading","ngModelChange"],["Ledgerdetails","ngModel"],["ng-label-tmp",""],["ng-option-tmp",""],["type","button",1,"btn","btn-primary",3,"click"],[3,"redirectOnCancel","inputLedgerId","redirectAction",4,"ngIf"],[3,"LedgId","IsCallasPopup",4,"ngIf"],["EmailModel","bs-modal"],["role","document",1,"modal-dialog","modal-md"],["frmEmail","ngForm"],[1,"form-group","col-md-12"],[1,"form-group","md-form","col-sm-12"],["type","email","ngModel","","required","","name","email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"modal-footer","mt-3",2,"padding-top","187px"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["MessageModal","bs-modal"],["role","document",1,"modal-dialog","modal-md",2,"max-width","313px"],["href","/marketing/addon/ec",1,"btn","btn-link"],[1,"modal-footer","mt-3",2,"padding-top","50px"],["PayModal","bs-modal"],[2,"margin-left","20px","margin-right","20px",3,"Description","AddOnCode"],["ExportModal","bs-modal"],["role","document",1,"modal-dialog","modal-md",2,"max-width","800px","max-height","400px"],[2,"font-weight","bold"],[1,"switch"],["type","checkbox",3,"checked","change"],[1,"lever"],["type","button",1,"btn","btn-primary","waves-effect",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","SearchModal","aria-hidden","true",1,"modal","fade","bg-white",2,"z-index","99999"],["SearchModal","bs-modal"],[1,"container-fluid","p-0","pl-0","pr-0",2,"height","100%","background-color","white"],[1,"modal-content",2,"height","100%"],[3,"ngSubmit"],["f","ngForm"],[1,"row","mt-2"],["class","md-form col-md-12 col-sm-12",4,"ngIf"],[1,"md-form","col-4"],["for","startdate"],["type","text","placeholder","From Date","appDatepicker","","autocomplete","none","name","startdate","id","startdate",1,"form-control","datecontrol",3,"startDate","selected"],["startdate",""],["for","enddate"],["type","text","appDatepicker","","autocomplete","none","name","enddate","id","enddate",1,"form-control","datecontrol",3,"startDate","selected"],["enddate",""],["class","md-form col-4",4,"ngIf"],["for","customSwitch1"],[1,"c-switch","c-switch-pill","c-switch-primary","mb-2"],["type","checkbox","id","customSwitch1",1,"c-switch-input",3,"checked","change"],[1,"c-switch-slider"],[1,"md-form","col-md-12","col-sm-12"],["for","sa"],["autofocus","","selectOnTab","true","name","Ledgerdb1","bindLabel","LN","placeholder","Select Account",3,"virtualScroll","items","required","ngClass","ngModel","loading","ngModelChange"],["Ledgerdb1","ngModel"],["for","Range"],[1,"input-group"],["selectOnTab","true","name","amt","id","amountStatus","placeholder","Select Range",3,"ngModel","ngModelChange"],["amt","ngModel"],["value","Greaterthan"],["value","Lessthan"],["value","EqualTo"],["value","NotEqualTo"],["autofocus","","type","text","placeholder","Enter Range","name","Amountval","id","amttxt",1,"md-form","form-control",3,"ngModel","ngModelChange"],["Amountval","ngModel"],[1,"md-form","col"],["for","instnotxt"],["autofocus","","type","text","placeholder","Enter Instrument No","name","instrumentNo","id","instnotxt",1,"form-control",3,"ngModel","ngModelChange"],["instrumentNo","ngModel"],["for","InstrumentDate"],["type","text","appDatepicker","","placeholder","Enter Instrument Date","autocomplete","none","name","startdate","id","InstrumentDate",1,"form-control",3,"startDate","selected"],["for","narrtxt"],["autofocus","","type","text","placeholder","Enter Narration","name","Narration","id","narrtxt",1,"form-control",3,"ngModel","ngModelChange"],["Nurration","ngModel"],["for","Vouchertxt"],["autofocus","","type","text","placeholder","Enter Voucher No","name","Vouchernumbr","id","Vouchertxt",1,"form-control",3,"ngModel","ngModelChange"],["Vouchernumbr","ngModel"],[1,"md-form","col-8"],["for","Voucher"],["selectOnTab","true","name","vtype","id","amountStatus","placeholder","Select Voucher",3,"multiple","ngModel","ngModelChange"],["vtype","ngModel"],["value","Contra",4,"ngIf"],["value","Journal"],["value","Sales"],["value","Purchase",4,"ngIf"],["value","Receipt",4,"ngIf"],["value","Payment",4,"ngIf"],["value","PurchaseOrder",4,"ngIf"],["value","Credit Note",4,"ngIf"],["value","Debit Note",4,"ngIf"],["value","Receipt Note",4,"ngIf"],["value","Delivery Note",4,"ngIf"],[4,"ngIf"],["type","button","class","btn btn-link m-0 p-0 pl-3","accesslevel","View","mname","DyBk",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],[1,"navbar","fixed-bottom","navbar-expand-sm","navbar-dark","bg-light"],[1,"navbar-nav","ml-auto","d-flex","flex-row-reverse","bd-highlight"],[1,"nav-item","active"],["type","submit",1,"btn","btn-primary","pull-right",3,"click"],[1,"fas","fa-search","mr-2"],[1,"nav-item","active","mr-2"],["type","submit",1,"btn","btn-dark",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalRef","aria-hidden","true",1,"modalNew","fade"],["RefModal","bs-modal"],["class","modal-dialog modal-lg justify-content-center","role","document","id","myModalRef",4,"ngIf"],[1,"card"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],["class","table-responsive","id","tableContainer",4,"ngIf"],["id","tableContainer",3,"height",4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],[1,"add-panel",3,"toggleAction"],["id","add-panel-switch",1,"switch","text-right"],["tooltip","Print",1,"action-button","bottom","option","three","border-0","waves-effect","btn-pink","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-print"],["tooltip","Pdf",1,"action-button","bottom","option","two","border-0","waves-effect","btn-orange","btn-floating",3,"click"],["aria-hidden","true",1,"far","fa-file-pdf"],["tooltip","Export",1,"action-button","bottom","option","one","border-0","waves-effect","btn-default","btn-floating",3,"click"],["aria-hidden","true",1,"fas","fa-download"],[1,"border-0","waves-effect","btn-dark","btn-floating","action-button","plus","bottom"],["aria-hidden","true",1,"fas","fa-ellipsis-v"],[1,"customsearch"],[1,"c-header-nav"],[1,"mb-3"],[1,"c-header-back","pl-0",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],["class","mx-2",4,"ngIf"],[1,"mr-1"],[1,"ml-1","mr-1"],["selectOnTab","true","appendTo","body","name","Ledgerdb","bindLabel","LN","placeholder","Select Account",1,"maxpanel",3,"virtualScroll","items","required","ngClass","ngModel","loading","ngModelChange"],["Ledgerdb","ngModel"],[1,"mb-2"],["type","button",1,"btn","btnSmW","btn-primary",3,"click"],[1,"cil-search","btn-icon","mr-1"],[1,"none"],[1,"mb-2","ml-1"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","id","adv-search","aria-expanded","false",1,"btn","btnSmW","btn-primary","dropdown-toggle"],[1,"cil-filter","mr-1"],["aria-labelledby","dropdownMenuButton","role","menu","aria-labelledby","adv-search",1,"p-2","dropdown-menu",2,"width","82%",3,"click"],[1,"md-form","col-md-6","col-sm-12"],["selectOnTab","true","name","amt","id","amountStatus","placeholder","Select Range",2,"width","120px !important",3,"ngModel","ngModelChange"],["autofocus","","type","text","placeholder","Enter Range","name","Amountval","id","amttxt",1,"md-form","form-control",2,"width","25px",3,"ngModel","ngModelChange"],[1,"mmd-form","col-md-6","col-sm-12"],["value","SalesOrder",4,"ngIf"],[1,"form-group","col-sm-12"],[1,"text-right"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-dark","pull-right",3,"click"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-expanded","false",1,"btn","btnSmW","btn-primary","dropdown-toggle"],[1,"cil-book","mr-1"],["class","dropdown-menu","aria-labelledby","dropdownMenuButton",4,"ngIf"],[1,"mx-2"],["selectOnTab","true","autofocus","","name","selcompany","required","","bindLabel","CN","placeholder","Select Company",3,"virtualScroll","items","ngModel","clearable","scrollToEnd","ngModelChange","change"],["selcompany","ngModel"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",2,"text-decoration","none",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["title","History","placement","bottom",1,"pl-2",2,"text-decoration","none"],[1,"fas","fa-history","text-primary",3,"click"],["value","Contra"],["value","Purchase"],["value","Receipt"],["value","Payment"],["value","PurchaseOrder"],["value","Credit Note"],["value","Debit Note"],["value","SalesOrder"],["value","Receipt Note"],["value","Delivery Note"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","accesslevel","View","mname","DyBk",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","Contra",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["accesslevel","Add","mname","Journal",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],[1,"small","pl-1"],["accesslevel","Add","mname","Sales",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["class","dropdown-item","accesslevel","Add","mname","Purchase",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","Receipt",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","Payment",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","CreditNote",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["class","dropdown-item","accesslevel","Add","mname","DebitNote",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["accesslevel","Add","mname","Payment",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Delete","mname","Payment",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["class","dropdown-item","accesslevel","View","mname","Finalize",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["accesslevel","Add","mname","Payment","mname","Payment",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","Contra",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","Purchase",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","Receipt",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","CreditNote",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","Add","mname","DebitNote",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","View","mname","Finalize",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],["accesslevel","View","mname","DyBk",1,"dropdown-item",3,"appRole","SignupId","UserId","clickAllowed"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],["name","search","href","javascript:void(0)",3,"click"],[1,"ml-1","mr-0","mb-3","ml-3","mt-1","LeftLi","text-center"],[1,"col","Font16","pl-1"],[1,"mr-3"],["name","filter-sharp",1,"pb-2",3,"click"],["id","tableContainer",1,"table-responsive"],["class","card-header p-1","id","formHeader",4,"ngIf"],["infinite-scroll","",3,"scrollWindow","scrolled"],["class","table table-bordered table-striped  p-0",3,"fxHeader",4,"ngIf"],["id","fxheaderDiv","class","table-responsive fxheaderDiv",4,"ngIf"],["id","formHeader",1,"card-header","p-1"],[1,"col","PageNameFsize","pl-1"],["class","mr-4 text-right","style","height:30px",4,"ngIf"],[1,"mr-4","text-right",2,"height","30px"],[1,"mb-2","float-right","ml-2","small","mt-1","font-weight-bold"],["class","text-right pl-0 pr-0","style","height:30px",4,"ngIf"],[1,"pl-3","pr-1"],[1,"text-wrap","text-right","LeftLi"],[1,"col","font-weight-bold","text-center"],[1,"text-primary",3,"click"],[1,"text-right","pl-0","pr-0",2,"height","30px"],["type","checkbox","id","customSwitch2",1,"c-switch-input",3,"checked","change"],[1,"table","table-bordered","table-striped","p-0",3,"fxHeader"],["id","tableContainerHead"],[1,"form-check"],["type","checkbox","id","item_All",1,"form-check-input",3,"checked","ngModel","ngModelChange","change"],["for","item_All",1,"form-check-label"],["sortcolumn","VoucherNo",3,"dirsort"],["sortcolumn","VoucherDate",3,"dirsort"],["sortcolumn","VoucherType",3,"dirsort"],["sortcolumn","",3,"dirsort"],["id","tableContainerbody"],["container",""],[4,"ngFor","ngForOf"],["autofocus","",3,"tabindex","keydown.enter","keydown.arrowdown","keydown.arrowup"],["class","form-check",4,"ngIf"],["class","btn btn-link","href","javascript:void(0)","accesslevel","Edit",3,"appRole","SignupId","UserId","mname","clickAllowed",4,"ngIf"],[2,"display","none"],["type","checkbox",1,"form-check-input",3,"checked","ngModel","id","ngModelChange"],[1,"form-check-label",3,"for"],["href","javascript:void(0)","accesslevel","Edit",1,"btn","btn-link",3,"appRole","SignupId","UserId","mname","clickAllowed"],[3,"dateValue"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],["tabindex","50000",4,"ngIf"],["tabindex","50000"],["href","javascript:void(0)","tabindex","50000",1,"card-link","pr-1",3,"click"],["tooltip","Hide Entry","tabindex","50000",1,"fas","fa-eye-slash"],["href","javascript:void(0)","accesslevel","Add","tabindex","50000",1,"pr-1",3,"appRole","SignupId","UserId","mname","clickAllowed"],["tabindex","50000","tooltip","Make Duplicate",1,"far","fa-copy","text-primary"],["href","javascript:void(0)","tabindex","50000",1,"pr-1",3,"click"],["tooltip","Print","tabindex","50000",1,"fas","fa-print","text-primary"],["tooltip","Email","tabindex","50000",1,"fas","fa-envelope","text-primary"],["tabindex","50000","class","pr-1 text-decoration-none","href","javascript:void(0)","accesslevel","Delete",3,"appRole","SignupId","UserId","mname","clickAllowed",4,"ngIf"],["class","pr-1 text-decoration-none","tabindex","50000","href","javascript:void(0)","accesslevel","Delete","mname","Finalize",3,"appRole","SignupId","UserId","clickAllowed",4,"ngIf"],["tabindex","50000","href","javascript:void(0)","accesslevel","Delete",1,"pr-1","text-decoration-none",3,"appRole","SignupId","UserId","mname","clickAllowed"],["tooltip","Delete","tabindex","50000",1,"fas","fa-trash","text-danger"],["tabindex","50000","href","javascript:void(0)","accesslevel","Delete","mname","Finalize",1,"pr-1","text-decoration-none",3,"appRole","SignupId","UserId","clickAllowed"],["class","small",4,"ngIf"],[1,"small"],["class","font-weight-bold mr-1",4,"ngIf"],["class","font-weight-bold ml-1 mr-1",4,"ngIf"],[1,"font-weight-bold","ml-1","mr-1"],[1,"font-weight-bold","mr-1"],["class","font-italic small",4,"ngFor","ngForOf"],[1,"font-italic","small"],["colspan","2"],["colspan","7",1,"text-left"],["id","fxheaderDiv",1,"table-responsive","fxheaderDiv"],["id","fxheadertable",1,"table","table-bordered","table-striped","bg-white","text-center"],["id","tableContainer"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","bubbles","refreshingText","Refreshing..."],[3,"items"],["ionvscroll",""],[3,"rowselected","negative","click",4,"virtualItem"],["threshold","100px",3,"ionInfinite"],["ionInfinitescroll",""],["loadingSpinner","bubbles",3,"loadingText"],[3,"click"],["class","pr-1",4,"ngIf"],["class","bg-light",4,"ngIf"],[1,"font-weight-bold","text-primary"],["size","4",1,"text-primary","font-weight-bold","text-right"],["class","badge badge-primary small",4,"ngIf"],[1,"small","text-right"],[1,"small","text-left"],[1,"badge","badge-primary","small"],["class","small",4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"bg-light"],[1,"text-dark"],["size","4","class"," text-primary font-weight-bold text-right",4,"ngIf"],["size","4","class","text-primary font-weight-bold text-right",4,"ngIf"],["class","small text-dark",4,"ngIf"],[1,"small","text-dark"],[1,"pr-1"],[1,"pl-0","pr-0"],[1,"text-right","pl-0","pr-2"],["href","javascript:void(0)","accesslevel","Delete",1,"card-link","float-right","ml-3",3,"appRole","SignupId","UserId","mname","clickAllowed"],["name","trash-outline","color","danger"],["href","javascript:void(0)","accesslevel","Edit",1,"card-link","float-right",3,"appRole","SignupId","UserId","mname","clickAllowed"],["name","create-outline","color","primary"],["href","javascript:void(0)","accesslevel","Add",1,"card-link","text-dark","float-right",3,"appRole","SignupId","UserId","mname","clickAllowed"],["name","copy-outline"],["href","javascript:void(0)",1,"card-link","text-dark","float-right",3,"click"],["name","eye-off-outline"],["name","mail-open-outline"],["href","javascript:void(0)","accesslevel","Delete",1,"card-link","text-dark","float-right",3,"appRole","SignupId","UserId","mname","clickAllowed"],["name","share-social-outline"],["name","print-outline"],["class","skCard",4,"ngFor","ngForOf"],[1,"skCard"],["animated","",2,"width","80%"],["size","4",1,"text-primary","font-weight-bold",2,"text-align","-webkit-right"],[1,"small",2,"text-align","-webkit-right"],[2,"text-align","-webkit-right"],["animated","",2,"width","100%"],["animated","",2,"width","50%"],[1,"col-12","mt-1","p-0",2,"text-align","-webkit-right"],[1,"table","table-bordered","table-striped",3,"fxHeader"],[2,"width","10px"],["animated","",2,"width","40%"],[2,"width","20px"],[2,"width","40px"],[2,"width","70px"],[2,"width","50px"],[2,"width","50%"],[1,"col-md-12","pl-0","pr-0"],[1,"mx-auto","noDataImage"],[1,"text-center"],[3,"TransactionredirectOnCancel","IsDuplicate","VoucherType","IsItemVoucher","VoucherId","CompanyIdforReport","TransactionredirectAction"],[1,"invalid-feedback"],[3,"redirectOnCancel","inputLedgerId","redirectAction"],[3,"LedgId","IsCallasPopup"],["for","selcompany"],[1,"mt-3"],["for","customSwitch2"],["type","button","accesslevel","Add","mname","Payment",1,"btn","btn-link","m-0","p-0","pr-3",3,"appRole","SignupId","UserId","clickAllowed"],["type","button","accesslevel","Delete","mname","Payment",1,"btn","btn-link","m-0","p-0","pr-3",3,"appRole","SignupId","UserId","clickAllowed"],["type","button","accesslevel","View","mname","Finalize",1,"btn","btn-link","m-0","p-0","pr-3",3,"appRole","SignupId","UserId","clickAllowed"],["type","button","accesslevel","View","mname","DyBk",1,"btn","btn-link","m-0","p-0","pl-3",3,"appRole","SignupId","UserId","clickAllowed"],["role","document","id","myModalRef",1,"modal-dialog","modal-lg","justify-content-center"],["role","form",3,"ngSubmit"],["frefitem","ngForm"],[1,"modal-body",2,"overflow-y","auto","max-height","300px"],["class","table-responsive refTable",4,"ngIf"],["type","submit",1,"btn","btn-sm","btn-primary"],["type","button",1,"btn","btn-sm","btn-dark",3,"click"],[1,"table-responsive","refTable"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"table","table-account","table-bordered"],["refTable",""],["class","md-form",4,"ngIf"],[1,"md-form"],["disabled",""],["required","","appendTo","body","placeholder","Select Ref Type",2,"width","130px",3,"id","name","ngModel","ngClass","ngModelChange","change"],["RefType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","appDatepicker","","autocomplete","none",1,"form-control","readonlydate",2,"width","85px",3,"disabled","ngClass","startDate","name","id","selected"],["refdate",""],["type","number","required","","placeholder","Enter Amount",1,"accText","form-control",2,"width","130px",3,"disabled","name","ngModel","ngClass","ngModelChange","input"],["Refamt","ngModel"],["class","pr-1 text-decoration-none","href","javascript:void(0)",3,"click",4,"ngIf"],[3,"value"],["type","text","required","","placeholder","Reference Tag",1,"form-control","accText",2,"min-width","130px",3,"ngClass","disabled","id","name","ngModel","ngModelChange"],["refTag","ngModel"],["required","","appendTo","body","selectOnTab","true","bindLabel","SN","placeholder","Select Reference","bindValue","UIDN",2,"min-width","200px",3,"items","id","name","ngModel","ngClass","ngModelChange","change"],["agReferences","ngModel"],["href","javascript:void(0)",1,"pr-1","text-decoration-none",3,"click"]],template:function(e,t){if(1&e){const e=r.EpF();r.YNc(0,Ii,18,9,"div",0),r.YNc(1,Zi,1,6,"app-account-addedit",1),r.TgZ(2,"div",2,3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r.TgZ(7,"h4",7),r._uU(8,"Select Date"),r.qZA(),r.TgZ(9,"button",8),r.NdJ("click",function(){return r.CHM(e),r.MAs(3).hide()}),r.TgZ(10,"span",9),r._uU(11,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"form",10,11),r.NdJ("ngSubmit",function(){return r.CHM(e),r.MAs(13).form.valid&&t.ChangeBulkdate()}),r.TgZ(14,"div",12),r.TgZ(15,"div",13),r.TgZ(16,"div",14),r.TgZ(17,"div",15),r.TgZ(18,"label",16),r._uU(19,"Select Date"),r.qZA(),r.TgZ(20,"input",17,18),r.NdJ("selected",function(e){return t.onDateSelect(e)}),r.qZA(),r.YNc(22,xi,2,1,"div",19),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"div",20),r.TgZ(24,"button",21),r._uU(25,"Save"),r.qZA(),r.TgZ(26,"button",22),r.NdJ("click",function(){return r.CHM(e),r.MAs(3).hide()}),r._uU(27,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div",23,24),r.TgZ(30,"div",4),r.TgZ(31,"div",5),r.TgZ(32,"div",6),r.TgZ(33,"h4",7),r._uU(34,"Change Ledger"),r.qZA(),r.TgZ(35,"button",8),r.NdJ("click",function(){return r.CHM(e),r.MAs(29).hide(),t.Chnageledger=null}),r.TgZ(36,"span",9),r._uU(37,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(38,"form",25),r.TgZ(39,"div",12),r.TgZ(40,"div",13),r.TgZ(41,"div",14),r.TgZ(42,"div",15),r.TgZ(43,"label",26),r._uU(44,"Account"),r.qZA(),r.TgZ(45,"ng-select",27,28),r.NdJ("ngModelChange",function(e){return t.Chnageledger=e}),r.YNc(47,Si,1,1,"ng-template",29),r.YNc(48,Di,4,3,"ng-template",30),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(49,"div",20),r.TgZ(50,"button",31),r.NdJ("click",function(){r.CHM(e);const i=r.MAs(46);return t.Changeledgerdetails(i.value)}),r._uU(51,"Save"),r.qZA(),r.TgZ(52,"button",22),r.NdJ("click",function(){return r.CHM(e),r.MAs(29).hide(),t.Chnageledger=null}),r._uU(53,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(54,Ci,1,2,"app-companyledger-addedit",32),r.YNc(55,bi,1,2,"app-ledgerhistory",33),r.TgZ(56,"div",2,34),r.TgZ(58,"div",35),r.TgZ(59,"div",5),r.TgZ(60,"div",6),r.TgZ(61,"h4",7),r._uU(62,"Send Email "),r.qZA(),r.TgZ(63,"button",8),r.NdJ("click",function(){return r.CHM(e),r.MAs(57).hide()}),r.TgZ(64,"span",9),r._uU(65,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(66,"form",10,36),r.NdJ("ngSubmit",function(){r.CHM(e);const i=r.MAs(67);return i.form.valid&&t.SendEmail(i)}),r.TgZ(68,"div",12),r.TgZ(69,"div",13),r.TgZ(70,"div",37),r.TgZ(71,"div",38),r.TgZ(72,"input",39,40),r.NdJ("ngModelChange",function(e){return t.Ledgeremail=e}),r.qZA(),r.YNc(74,Mi,3,2,"div",19),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(75,"div",41),r.TgZ(76,"button",22),r.NdJ("click",function(){return r.CHM(e),r.MAs(57).hide()}),r._uU(77,"Close"),r.qZA(),r.TgZ(78,"button",21),r._uU(79,"Send Email"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(80,"div",42,43),r.TgZ(82,"div",44),r.TgZ(83,"div",5),r.TgZ(84,"div",6),r.TgZ(85,"h4",7),r._uU(86,"Warning"),r.qZA(),r.TgZ(87,"button",8),r.NdJ("click",function(){return r.CHM(e),r.MAs(81).hide()}),r.TgZ(88,"span",9),r._uU(89,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(90,"div",12),r.TgZ(91,"div",13),r.TgZ(92,"p"),r._uU(93,"You haven't sufficient credit to send email. "),r.qZA(),r.TgZ(94,"p"),r.TgZ(95,"a",45),r._uU(96," Buy Credit "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(97,"div",46),r.TgZ(98,"button",22),r.NdJ("click",function(){return r.CHM(e),r.MAs(81).hide()}),r._uU(99,"Close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(100,"div",42,47),r.TgZ(102,"div",35),r.TgZ(103,"div",5),r.TgZ(104,"div",6),r.TgZ(105,"h4",7),r._uU(106,"Warning"),r.qZA(),r.TgZ(107,"button",8),r.NdJ("click",function(){return r.CHM(e),r.MAs(101).hide()}),r.TgZ(108,"span",9),r._uU(109,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r._UZ(110,"app-paynow",48),r.qZA(),r.qZA(),r.qZA(),r.TgZ(111,"div",42,49),r.TgZ(113,"div",50),r.TgZ(114,"div",5),r.TgZ(115,"div",6),r.TgZ(116,"h4",7),r._uU(117,"Exporting Daybook"),r.qZA(),r.TgZ(118,"button",8),r.NdJ("click",function(){return t.OnCancel()}),r.TgZ(119,"span",9),r._uU(120,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(121,"div",12),r.TgZ(122,"div",13),r.TgZ(123,"label",51),r._uU(124,"Show voucher number also :"),r.qZA(),r.TgZ(125,"div"),r.TgZ(126,"div",52),r.TgZ(127,"label"),r.TgZ(128,"input",53),r.NdJ("change",function(){return t._chkVoucherNo=!("1"==t._chkVoucherNo||1==t._chkVoucherNo)}),r.qZA(),r._UZ(129,"span",54),r.qZA(),r.qZA(),r.qZA(),r.TgZ(130,"label",51),r._uU(131,"Show narrations :"),r.qZA(),r.TgZ(132,"div"),r.TgZ(133,"div",52),r.TgZ(134,"label"),r.TgZ(135,"input",53),r.NdJ("change",function(){return t._chkNarration=!("1"==t._chkNarration||1==t._chkNarration)}),r.qZA(),r._UZ(136,"span",54),r.qZA(),r.qZA(),r.qZA(),r.TgZ(137,"label",51),r._uU(138,"Show bill wise details :"),r.qZA(),r.TgZ(139,"div"),r.TgZ(140,"div",52),r.TgZ(141,"label"),r.TgZ(142,"input",53),r.NdJ("change",function(){return t._chkBillwise=!("1"==t._chkBillwise||1==t._chkBillwise)}),r.qZA(),r._UZ(143,"span",54),r.qZA(),r.qZA(),r.qZA(),r.TgZ(144,"label",51),r._uU(145,"Show Bank Details also :"),r.qZA(),r.TgZ(146,"div"),r.TgZ(147,"div",52),r.TgZ(148,"label"),r.TgZ(149,"input",53),r.NdJ("change",function(){return t._chkBankDetails=!("1"==t._chkBankDetails||1==t._chkBankDetails)}),r.qZA(),r._UZ(150,"span",54),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(151,"div",46),r.TgZ(152,"button",55),r.NdJ("click",function(){return t.OnExportSubmit()}),r._uU(153,"Yes"),r.qZA(),r.TgZ(154,"button",22),r.NdJ("click",function(){return t.OnCancel()}),r._uU(155,"No"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(156,"div",56,57),r.TgZ(158,"div",58),r.TgZ(159,"div",59),r.TgZ(160,"div",6),r.TgZ(161,"h4",7),r._uU(162,"Advance Search "),r.qZA(),r.TgZ(163,"button",8),r.NdJ("click",function(){return t._SearchModal.hide()}),r.TgZ(164,"span",9),r._uU(165,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(166,"form",60,61),r.NdJ("ngSubmit",function(){return r.CHM(e),r.MAs(167).form.valid}),r.TgZ(168,"div",62),r.YNc(169,wi,5,4,"div",63),r.TgZ(170,"div",64),r.TgZ(171,"label",65),r._uU(172," Start Date"),r.qZA(),r.TgZ(173,"input",66,67),r.NdJ("selected",function(e){return t.startdateSelect(e)}),r.qZA(),r.qZA(),r.TgZ(175,"div",64),r.TgZ(176,"label",68),r._uU(177," End Date"),r.qZA(),r.TgZ(178,"input",69,70),r.NdJ("selected",function(e){return t.enddateSelect(e)}),r.qZA(),r.qZA(),r.YNc(180,qi,5,0,"div",71),r.TgZ(181,"div",64),r.TgZ(182,"label",72),r._uU(183," Show Details"),r.qZA(),r._UZ(184,"br"),r.TgZ(185,"label",73),r.TgZ(186,"input",74),r.NdJ("change",function(){return t.IsShowDetails=1!=t.IsShowDetails}),r.qZA(),r._UZ(187,"span",75),r.qZA(),r.qZA(),r.YNc(188,Li,7,1,"div",71),r.TgZ(189,"div",76),r.TgZ(190,"label",77),r._uU(191," Select Account"),r.qZA(),r.TgZ(192,"ng-select",78,79),r.NdJ("ngModelChange",function(e){return t.companyLedgerService.singleresult=e}),r.YNc(194,Vi,1,1,"ng-template",29),r.YNc(195,_i,6,3,"ng-template",30),r.qZA(),r.qZA(),r.TgZ(196,"div",76),r.TgZ(197,"label",80),r._uU(198," Range"),r.qZA(),r.TgZ(199,"div",81),r.TgZ(200,"ng-select",82,83),r.NdJ("ngModelChange",function(e){return t.amounttype=e}),r.TgZ(202,"ng-option",84),r._uU(203,"Greaterthan"),r.qZA(),r.TgZ(204,"ng-option",85),r._uU(205,"Lessthan"),r.qZA(),r.TgZ(206,"ng-option",86),r._uU(207,"EqualTo "),r.qZA(),r.TgZ(208,"ng-option",87),r._uU(209,"NotEqualTo"),r.qZA(),r.qZA(),r.TgZ(210,"input",88,89),r.NdJ("ngModelChange",function(e){return t.amountvall=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(212,"div",90),r.TgZ(213,"label",91),r._uU(214," Instrument No "),r.qZA(),r.TgZ(215,"input",92,93),r.NdJ("ngModelChange",function(e){return t.instrumentno=e}),r.qZA(),r.qZA(),r.TgZ(217,"div",90),r.TgZ(218,"label",94),r._uU(219," Instrument Date "),r.qZA(),r.TgZ(220,"input",95,67),r.NdJ("selected",function(e){return t.ondybkdateSelect(e)}),r.qZA(),r.qZA(),r.TgZ(222,"div",76),r.TgZ(223,"label",96),r._uU(224," Narration "),r.qZA(),r.TgZ(225,"input",97,98),r.NdJ("ngModelChange",function(e){return t.nurration=e}),r.qZA(),r.qZA(),r.TgZ(227,"div",64),r.TgZ(228,"label",99),r._uU(229," Voucher No "),r.qZA(),r.TgZ(230,"input",100,101),r.NdJ("ngModelChange",function(e){return t.VoucherNum=e}),r.qZA(),r.qZA(),r.TgZ(232,"div",102),r.TgZ(233,"label",103),r._uU(234," Voucher"),r.qZA(),r.TgZ(235,"ng-select",104,105),r.NdJ("ngModelChange",function(e){return t.voucherType=e}),r.YNc(237,Ui,2,0,"ng-option",106),r.TgZ(238,"ng-option",107),r._uU(239,"Journal"),r.qZA(),r.TgZ(240,"ng-option",108),r._uU(241," Sales"),r.qZA(),r.YNc(242,Ri,2,0,"ng-option",109),r.YNc(243,Ji,2,0,"ng-option",110),r.YNc(244,ki,2,0,"ng-option",111),r.YNc(245,Pi,2,0,"ng-option",112),r.YNc(246,Oi,2,0,"ng-option",113),r.YNc(247,Qi,2,0,"ng-option",114),r.YNc(248,Fi,2,0,"ng-option",115),r.YNc(249,Ei,2,0,"ng-option",116),r.qZA(),r.qZA(),r.YNc(250,Bi,10,7,"ng-container",117),r.YNc(251,$i,2,2,"button",118),r.TgZ(252,"nav",119),r.TgZ(253,"ul",120),r.TgZ(254,"li",121),r.TgZ(255,"button",122),r.NdJ("click",function(){return t.FilterData(0),t._SearchModal.hide()}),r._UZ(256,"i",123),r._uU(257,"Search "),r.qZA(),r.qZA(),r.TgZ(258,"li",124),r.TgZ(259,"button",125),r.NdJ("click",function(){return t.ClearFilter(),t._SearchModal.hide()}),r._uU(260," Clear Filter "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(261,"div",126,127),r.YNc(263,gn,17,1,"div",128),r.qZA()}if(2&e){const e=r.MAs(13),i=r.MAs(21),n=r.MAs(67),o=r.MAs(73),s=r.MAs(193);r.Q6J("ngIf",t.isList),r.xp6(1),r.Q6J("ngIf",t.showTransactionModal),r.xp6(19),r.Q6J("startDate",t.changedate)("ngClass",r.VKq(51,Ve,e.submitted&&i.invalid)),r.xp6(2),r.Q6J("ngIf",e.submitted&&i.invalid),r.xp6(23),r.Q6J("virtualScroll",!0)("items",t.allLedgers)("ngModel",t.Chnageledger)("loading",t.companyLedgerService.loading),r.xp6(9),r.Q6J("ngIf",t.isLedgerpopupopen),r.xp6(1),r.Q6J("ngIf",t.isLedgerHistorypopupopen),r.xp6(17),r.Q6J("ngModel",t.Ledgeremail),r.xp6(2),r.Q6J("ngIf",n.submitted&&o.invalid),r.xp6(36),r.Q6J("Description",t.Description)("AddOnCode",t.AddOnCode),r.xp6(18),r.Q6J("checked",1==t._chkVoucherNo),r.xp6(7),r.Q6J("checked",1==t._chkNarration),r.xp6(7),r.Q6J("checked",1==t._chkBillwise),r.xp6(7),r.Q6J("checked",1==t._chkBankDetails),r.xp6(20),r.Q6J("ngIf",t.isInterCompany),r.xp6(4),r.Q6J("startDate",t.StartDate),r.xp6(5),r.Q6J("startDate",t.EndDate),r.xp6(2),r.Q6J("ngIf",t.IsLedgerChange),r.xp6(6),r.Q6J("checked",1==t.IsShowDetails),r.xp6(2),r.Q6J("ngIf","Finalize"==t.PageType),r.xp6(4),r.Q6J("virtualScroll",!0)("items",t.allLedgers)("required","Group"==t.PageType||"Ledger"==t.PageType)("ngClass",r.VKq(53,Ve,s.invalid))("ngModel",t.companyLedgerService.singleresult)("loading",t.companyLedgerService.loading),r.xp6(8),r.Q6J("ngModel",t.amounttype),r.xp6(10),r.Q6J("ngModel",t.amountvall),r.xp6(5),r.Q6J("ngModel",t.instrumentno),r.xp6(5),r.Q6J("startDate",t.instrumentdate),r.xp6(5),r.Q6J("ngModel",t.nurration),r.xp6(5),r.Q6J("ngModel",t.VoucherNum),r.xp6(5),r.Q6J("multiple",!0)("ngModel",t.voucherType),r.xp6(2),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(5),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","CRM"!=t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","Trading"==t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","Trading"==t.accountService.getCompanyData.Type),r.xp6(1),r.Q6J("ngIf","Restorevoucher"!=t.PageType),r.xp6(1),r.Q6J("ngIf","Restorevoucher"==t.PageType),r.xp6(12),r.Q6J("ngIf",t.showReferencepopup)}},directives:[A.O5,b.oB,y._Y,y.JL,y.F,N.u,M.q,A.mk,c.w9,y.JJ,y.On,w.x,c.bb,c.Z2,y.Fj,y.Q7,q.V,c.xv,L.e,V.i9,_.g,v.gu,U.R,R.n,y.Wl,J.n,A.sg,k.a,v.W2,v.nJ,v.Wo,v.aJ,v.Rw,v.ju,v.MB,v.PM,v.Nd,v.wI,v.FN,v.CK,P.L,O.k,Q.i,y.wV],pipes:[F.s],styles:[".negative[_ngcontent-%COMP%]{background-color:#eca79d!important}.dropdown-menu[_ngcontent-%COMP%]{height:auto;width:auto}.advFtr[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed!important;transform:none!important}#special[_ngcontent-%COMP%]{max-width:auto!important;max-width:inherit!important}.footer[_ngcontent-%COMP%]{bottom:0;width:100%;height:60px;line-height:60px;background-color:#f5f5f5}@media only screen and (max-width: 1280px){.showTopBtn[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width: 1280px){.showthis[_ngcontent-%COMP%]{display:none!important}}"]}),e})()},82929:function(e,t,i){i.d(t,{N:function(){return ze}});var n=i(33018),r=i(3428),o=i(78980),s=i(42005),l=i(84306),a=i(3784),c=i(59506),d=i(54380),u=i(25039),h=i(2150),g=i(66203),p=i(61362),f=i(82316),m=i(27541),T=i(89525),v=i(39478),I=i(32364),Z=i(34450),A=i(18374),x=i(75075),S=i(44667),D=i(38583),C=i(3679),b=i(66496),y=i(6642),N=i(3001),M=i(58679),w=i(85895),q=i(92859),L=i(48429),V=i(3359),_=i(11489),U=i(13077),R=i(7225);const J=["f"],k=["CpF"],P=["ChallanNo"],O=["LedgerModal"],Q=["TaskModal"],F=["SubTaskModal"],E=["InventoryModal"];function Y(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",87),n.TgZ(1,"ul",88),n.TgZ(2,"li",89),n.TgZ(3,"button",90),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel(null)}),n._UZ(4,"i",91),n.qZA(),n.qZA(),n.TgZ(5,"li",92),n.TgZ(6,"strong"),n._uU(7,"Challan"),n.qZA(),n.TgZ(8,"small"),n._uU(9," Add/Edit"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}function G(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"Save"),n.qZA())}function H(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"Update"),n.qZA())}function B(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",93),n.TgZ(1,"ul",88),n.TgZ(2,"li",94),n.TgZ(3,"ion-icon",95),n.NdJ("click",function(t){return n.CHM(e),n.oxw().goback(t)}),n.qZA(),n.qZA(),n.TgZ(4,"li",96),n.TgZ(5,"strong"),n._uU(6,"Challan"),n.qZA(),n.TgZ(7,"small"),n._uU(8," Add/Edit"),n.qZA(),n.qZA(),n.TgZ(9,"li",97),n.TgZ(10,"a",98),n.NdJ("click",function(t){return n.CHM(e),n.oxw(),n.MAs(6).onSubmit(t)}),n.YNc(11,G,2,0,"span",99),n.YNc(12,H,2,0,"span",99),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(11),n.Q6J("ngIf","add"==e.ChallanId),n.xp6(1),n.Q6J("ngIf",e._sgId>0)}}function $(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Challan No is required"),n.qZA())}function j(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,$,2,0,"div",99),n.TgZ(2,"div",101),n._uU(3,"Challan No should contain only numbers"),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(14);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function K(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Challan Sr No is required"),n.qZA())}function z(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,K,2,0,"div",99),n.TgZ(2,"div",101),n._uU(3,"Challan SrNo should contain only numbers "),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(20);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function W(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Date is required"),n.qZA())}function X(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,W,2,0,"div",99),n.qZA()),2&e){n.oxw();const e=n.MAs(26);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function ee(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",102),n.TgZ(1,"a",103),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(32);return t.openTaskPopup(i)}),n._uU(2," Add New Task "),n.qZA(),n.qZA()}}function te(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",102),n.TgZ(1,"a",103),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(38);return t.opensubTaskPopup(i)}),n._uU(2," Add New SubTask "),n.qZA(),n.qZA()}}function ie(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",102),n.TgZ(1,"a",103),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(4);return n.oxw().openInventoryPopup(t)}),n._uU(2," Add New Inventory "),n.qZA(),n.qZA()}}function ne(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.InvN," ")}function re(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",107),n.NdJ("click",function(){const t=n.CHM(e).item;return n.oxw(2).openInventoryPopupforedit(t.UIDN)}),n._UZ(3,"i",108),n.qZA()}if(2&e){const e=t.item,i=n.oxw(2);n.xp6(1),n.Oqu(e.InvN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function oe(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Inventory selection is required"),n.qZA())}function se(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,oe,2,0,"div",99),n.qZA()),2&e){n.oxw();const e=n.MAs(5);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}const le=function(e){return{"is-invalid":e}};function ae(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",104),n._uU(2,"Inventory"),n.qZA(),n.TgZ(3,"ng-select",105,106),n.NdJ("scrollToEnd",function(){return n.CHM(e),n.oxw().inventoryService.ScrollDown()})("change",function(t){return n.CHM(e),n.oxw().SelectTaxLedger(t)})("ngModelChange",function(t){return n.CHM(e),n.oxw().inventoryService.singleresult=t}),n.YNc(6,ie,3,0,"ng-template",23),n.YNc(7,ne,1,1,"ng-template",33),n.YNc(8,re,4,3,"ng-template",34),n.qZA(),n.YNc(9,se,2,1,"div",13),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("virtualScroll",!0)("items",t.inventoryService.result)("ngClass",n.VKq(6,le,i.submitted&&e.invalid))("ngModel",t.inventoryService.singleresult)("loading",t.inventoryService.loading),n.xp6(6),n.Q6J("ngIf",i.submitted&&e.invalid)}}function ce(e,t){if(1&e&&(n.TgZ(0,"small",102),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.AsE(" Loaded ",e.siteService.result.length," of ",e.siteService.totalItems," ")}}function de(e,t){if(1&e&&(n.TgZ(0,"small",102),n._uU(1),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.AsE(" Loaded ",e.unitService.result.length," of ",e.unitService.totalItems," ")}}function ue(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",109),n._uU(2,"Unit"),n.qZA(),n.TgZ(3,"ng-select",110),n.NdJ("scrollToEnd",function(){return n.CHM(e),n.oxw().unitService.ScrollDown()})("ngModelChange",function(t){return n.CHM(e),n.oxw().unitService.singleresult=t}),n.YNc(4,de,2,2,"ng-template",23),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Q6J("virtualScroll",!0)("items",e.unitService.result)("ngModel",e.unitService.singleresult)("loading",e.unitService.loading)}}function he(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",102),n.TgZ(1,"a",103),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(54);return t.openLedgerPopup(i)}),n._uU(2," Add New Ledger "),n.qZA(),n.qZA()}}function ge(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.LN," ")}function pe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",111),n.NdJ("click",function(){const t=n.CHM(e).item;return n.oxw().openLedgerPopupforedit(t.UIDN)}),n._UZ(3,"i",108),n.qZA()}if(2&e){const e=t.item,i=n.oxw();n.xp6(1),n.Oqu(e.LN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function fe(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Ledger selection is required"),n.qZA())}function me(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,fe,2,0,"div",99),n.qZA()),2&e){n.oxw();const e=n.MAs(53);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Te(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",112),n._uU(2,"Tax Account"),n.qZA(),n.TgZ(3,"ng-select",113,114),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().taxLedger=t}),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(5),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("multiple",!0)("items",t.TaxLedgers)("ngModel",t.taxLedger)("loading",t.ledgerService.loading)("ngClass",n.VKq(6,le,i.submitted&&e.invalid))("virtualScroll",!0)}}function ve(e,t){if(1&e&&(n.TgZ(0,"div",100),n.TgZ(1,"div",101),n._uU(2,"length should contain only numbers"),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function Ie(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",115),n._uU(2,"Length"),n.qZA(),n.TgZ(3,"input",116,117),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().challanService.singleresult.ln=t}),n.qZA(),n.YNc(5,ve,3,1,"div",13),n.qZA()}if(2&e){const e=n.MAs(4),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("ngClass",n.VKq(3,le,i.submitted&&e.invalid))("ngModel",t.challanService.singleresult.ln),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function Ze(e,t){if(1&e&&(n.TgZ(0,"div",100),n.TgZ(1,"div",101),n._uU(2,"Height should contain only numbers"),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function Ae(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",118),n._uU(2,"Height"),n.qZA(),n.TgZ(3,"input",119,120),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().challanService.singleresult.Ht=t}),n.qZA(),n.YNc(5,Ze,3,1,"div",13),n.qZA()}if(2&e){const e=n.MAs(4),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("ngClass",n.VKq(3,le,i.submitted&&e.invalid))("ngModel",t.challanService.singleresult.Ht),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function xe(e,t){if(1&e&&(n.TgZ(0,"div",100),n.TgZ(1,"div",101),n._uU(2,"Width should contain only numbers"),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function Se(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",121),n._uU(2,"Width"),n.qZA(),n.TgZ(3,"input",122,123),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().challanService.singleresult.Wh=t}),n.qZA(),n.YNc(5,xe,3,1,"div",13),n.qZA()}if(2&e){const e=n.MAs(4),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("ngClass",n.VKq(3,le,i.submitted&&e.invalid))("ngModel",t.challanService.singleresult.Wh),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function De(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Rate is required"),n.qZA())}function Ce(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,De,2,0,"div",99),n.TgZ(2,"div",101),n._uU(3,"Rate / Unit should contain only numbers"),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function be(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",124),n._uU(2,"Rate / Unit"),n.qZA(),n.TgZ(3,"input",125,126),n.NdJ("change",function(){return n.CHM(e),n.oxw().CalculateAmt()})("ngModelChange",function(t){return n.CHM(e),n.oxw().challanService.singleresult.UA=t}),n.qZA(),n.YNc(5,Ce,4,2,"div",13),n.qZA()}if(2&e){const e=n.MAs(4),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("ngClass",n.VKq(3,le,i.submitted&&e.invalid))("ngModel",t.challanService.singleresult.UA),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function ye(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Quantity is required"),n.qZA())}function Ne(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,ye,2,0,"div",99),n.TgZ(2,"div",101),n._uU(3,"Quantity should contain only numbers"),n.qZA(),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("ngIf",e.errors.required),n.xp6(1),n.Q6J("hidden",!e.hasError("pattern"))}}function Me(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",127),n._uU(2,"Quantity"),n.qZA(),n.TgZ(3,"input",128,129),n.NdJ("change",function(){return n.CHM(e),n.oxw().CalculateAmt()})("ngModelChange",function(t){return n.CHM(e),n.oxw().challanService.singleresult.Qty=t}),n.qZA(),n.YNc(5,Ne,4,2,"div",13),n.qZA()}if(2&e){const e=n.MAs(4),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("ngClass",n.VKq(3,le,i.submitted&&e.invalid))("ngModel",t.challanService.singleresult.Qty),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function we(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Total Amount is required"),n.qZA())}function qe(e,t){if(1&e&&(n.TgZ(0,"div",100),n.TgZ(1,"div",101),n._uU(2,"Total Amount should contain only numbers "),n.qZA(),n.YNc(3,we,2,0,"div",99),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("hidden",!e.hasError("pattern")),n.xp6(2),n.Q6J("ngIf",e.errors.required)}}function Le(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"label",130),n._uU(2,"Total Amount"),n.qZA(),n.TgZ(3,"input",131,132),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().challanService.singleresult.TA=t}),n.qZA(),n.YNc(5,qe,4,2,"div",13),n.qZA()}if(2&e){const e=n.MAs(4),t=n.oxw(),i=n.MAs(6);n.xp6(3),n.Q6J("ngClass",n.VKq(3,le,i.submitted&&e.invalid))("ngModel",t.challanService.singleresult.TA),n.xp6(2),n.Q6J("ngIf",i.submitted&&e.invalid)}}function Ve(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Vehicle No is required"),n.qZA())}function _e(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,Ve,2,0,"div",99),n.qZA()),2&e){n.oxw();const e=n.MAs(70);n.xp6(1),n.Q6J("ngIf",e.errors.required)}}function Ue(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",102),n.TgZ(1,"a",103),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=n.MAs(84);return t.openInventoryPopup(i)}),n._uU(2," Add New Inventory "),n.qZA(),n.qZA()}}function Re(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.InvN," ")}function Je(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",133),n.NdJ("click",function(){const t=n.CHM(e).item;return n.oxw().openInventoryPopupforedit(t.UIDN)}),n._UZ(3,"i",108),n.qZA()}if(2&e){const e=t.item,i=n.oxw();n.xp6(1),n.Oqu(e.InvN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function ke(e,t){if(1&e&&(n.TgZ(0,"small",102),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.AsE(" Loaded ",e.unitService.result.length," of ",e.unitService.totalItems," ")}}function Pe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"small",102),n.TgZ(1,"a",103),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(4);return n.oxw().openInventoryPopup(t)}),n._uU(2," Add New Inventory "),n.qZA(),n.qZA()}}function Oe(e,t){1&e&&n._uU(0),2&e&&n.hij(" ",t.item.InvN," ")}function Qe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a"),n._uU(1),n.qZA(),n.TgZ(2,"a",133),n.NdJ("click",function(){const t=n.CHM(e).item;return n.oxw(2).openInventoryPopupforedit(t.UIDN)}),n._UZ(3,"i",108),n.qZA()}if(2&e){const e=t.item,i=n.oxw(2);n.xp6(1),n.Oqu(e.InvN),n.xp6(1),n.Q6J("SignupId",i.SignupId)("UserId",i.UserId)}}function Fe(e,t){if(1&e&&(n.TgZ(0,"small",102),n._uU(1),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.AsE(" Loaded ",e.unitService.result.length," of ",e.unitService.totalItems," ")}}function Ee(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n.TgZ(2,"div",134),n.TgZ(3,"ng-select",135,136),n.NdJ("scrollToEnd",function(){return n.CHM(e),n.oxw().inventoryService.ScrollDown()})("ngModelChange",function(t){return n.CHM(e).$implicit.InvId=t}),n.YNc(6,Pe,3,0,"ng-template",23),n.YNc(7,Oe,1,1,"ng-template",33),n.YNc(8,Qe,4,3,"ng-template",34),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"td"),n.TgZ(10,"ng-select",137,138),n.NdJ("scrollToEnd",function(){return n.CHM(e),n.oxw().unitService.ScrollDown()})("ngModelChange",function(t){return n.CHM(e).$implicit.UntId=t}),n.YNc(12,Fe,2,2,"ng-template",23),n.qZA(),n.qZA(),n.TgZ(13,"td"),n.TgZ(14,"ng-select",139,140),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.TaxId=t}),n.qZA(),n.qZA(),n.TgZ(17,"td"),n.TgZ(18,"div",134),n.TgZ(19,"input",141,142),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.InvQty=t})("input",function(){const t=n.CHM(e).$implicit;return n.oxw().calculateTotalAmounts(t)}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"td"),n.TgZ(22,"div",134),n.TgZ(23,"input",141,143),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.InvRt=t})("input",function(){const t=n.CHM(e).$implicit;return n.oxw().calculateTotalAmounts(t)}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(25,"td"),n.TgZ(26,"div",134),n.TgZ(27,"input",144,145),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.TtlAmt=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(29,"td"),n.TgZ(30,"div",134),n.TgZ(31,"input",144,146),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.InvLen=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(33,"td"),n.TgZ(34,"div",134),n.TgZ(35,"input",144,147),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.InvWid=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(37,"td"),n.TgZ(38,"div",134),n.TgZ(39,"input",144,148),n.NdJ("ngModelChange",function(t){return n.CHM(e).$implicit.InvHei=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(41,"td",149),n.TgZ(42,"a",150),n.NdJ("click",function(){const t=n.CHM(e).index;return n.oxw().deleteItem(t)}),n._UZ(43,"i",151),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index,r=n.MAs(5),o=n.MAs(16),s=n.MAs(20),l=n.MAs(24),a=n.MAs(28),c=n.MAs(32),d=n.MAs(36),u=n.MAs(40),h=n.oxw(),g=n.MAs(78),p=n.MAs(6);n.xp6(3),n.MGl("name","Inventorys",i,""),n.MGl("id","Inventorys",i,""),n.Q6J("virtualScroll",!0)("items",h.inventoryService.result)("ngClass",n.VKq(45,le,g.submitted&&r.invalid))("ngModel",e.InvId)("loading",h.inventoryService.loading),n.xp6(7),n.MGl("name","InvUnts",i,""),n.MGl("id","InvUnts",i,""),n.Q6J("virtualScroll",!0)("items",h.unitService.result)("ngModel",e.UntId)("loading",h.unitService.loading),n.xp6(4),n.MGl("name","TaxGroupsss",i,""),n.MGl("id","TaxGroupsss",i,""),n.Q6J("multiple",!0)("items",h.TaxLedgers)("ngModel",e.TaxId)("loading",h.ledgerService.loading)("ngClass",n.VKq(47,le,p.submitted&&o.invalid))("virtualScroll",!0),n.xp6(5),n.MGl("name","VClnInQty",i,""),n.MGl("id","VClnInQty",i,""),n.Q6J("ngClass",n.VKq(49,le,p.submitted&&s.invalid))("ngModel",e.InvQty),n.xp6(4),n.MGl("name","VClnInRt",i,""),n.MGl("id","VClnInRt",i,""),n.Q6J("ngClass",n.VKq(51,le,p.submitted&&l.invalid))("ngModel",e.InvRt),n.xp6(4),n.MGl("name","VClnInAmt",i,""),n.MGl("id","VClnInAmt",i,""),n.Q6J("ngClass",n.VKq(53,le,p.submitted&&a.invalid))("ngModel",e.TtlAmt),n.xp6(4),n.MGl("name","VClnInLen",i,""),n.MGl("id","VClnInLen",i,""),n.Q6J("ngClass",n.VKq(55,le,p.submitted&&c.invalid))("ngModel",e.InvLen),n.xp6(4),n.MGl("name","VClnInWid",i,""),n.MGl("id","VClnInWid",i,""),n.Q6J("ngClass",n.VKq(57,le,p.submitted&&d.invalid))("ngModel",e.InvWid),n.xp6(4),n.MGl("name","VClnInHei",i,""),n.MGl("id","VClnInHei",i,""),n.Q6J("ngClass",n.VKq(59,le,p.submitted&&u.invalid))("ngModel",e.InvHei)}}function Ye(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"Save"),n.qZA())}function Ge(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"Update"),n.qZA())}function He(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",152),n.TgZ(1,"button",153),n.YNc(2,Ye,2,0,"span",99),n.YNc(3,Ge,2,0,"span",99),n.qZA(),n.TgZ(4,"a",154),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancel(null)}),n._uU(5,"Cancel"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(1),n.Q6J("disabled",1==e.challanService.singleresult.IsBd),n.xp6(1),n.Q6J("ngIf","add"==e.ChallanId),n.xp6(1),n.Q6J("ngIf",e._sgId>0)}}function Be(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-companyledger-addedit",155),n.NdJ("redirectAction",function(t){return n.CHM(e),n.oxw().challanLedgerAdded(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("redirectOnCancel",!1)("CompanyIdforReport",e.CompanyIdforReport)("inputLedgerId",e.ledgerIdVal)}}function $e(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-task-addedit",156),n.NdJ("redirectActiononTask",function(t){return n.CHM(e),n.oxw().challanTaskAdded(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("redirectOnCancelonTask",!1)("CompanyIdforReport",e.CompanyIdforReport)}}function je(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-sub-task-addedit",157),n.NdJ("redirectActiononsubTask",function(t){return n.CHM(e),n.oxw().challanSubTaskAdded(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("redirectOnCancelonsubTask",!1)("CompanyIdforReport",e.CompanyIdforReport)}}function Ke(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-inventory-addedit",158),n.NdJ("redirectActiononInventory",function(t){return n.CHM(e),n.oxw().challanInventoryAdded(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("redirectOnCancelonInventory",!1)("CompanyIdforReport",e.CompanyIdforReport)("InputInventoryId",e.InventoryIdVal)}}let ze=(()=>{class e{constructor(e,t,i,r,o,s,a,c,d,u,h,g){this.challanService=e,this.filterService=t,this.unitService=i,this.siteService=r,this._config=o,this.ledgerService=s,this.inventoryService=a,this.taskService=c,this.subtaskService=d,this.route=u,this.location=h,this.router=g,this._sgId=0,this.currentScrollPosition=0,this.istaskpopupopen=!1,this.issubtaskpopupopen=!1,this.isInventorypopupopen=!1,this.isLedgerpopupopen=!1,this.isclosemodel=!1,this.showSortfilter=!1,this.isList=!0,this.popupwindow="",this.ispopup=!1,this.httpfunction=new m.r,this.ChallanredirectOnCancel=!1,this.CompanyIdforReport=0,this.ChallanredirectAction=new n.vpe,this.TaxLedgers=[],this.tableChln=[],this.taxLedger=[],this.taxLedgerOfInv=[],this.isSaveNew=!1,this.challanInventories=[],this.challanInventoriesFields=new l.Bl,this.ChallanLedger=[],this.SignupId=this.challanService.getSignupId,this.UserId=this.challanService.GetUserId,this.taskService.singleresult=null,this.subtaskService.singleresult=null,this.inventoryService.singleresult=null,this.siteService.singleresult=null,this.unitService.singleresult=null,this.ledgerService.singleresult=null,this.route.params.subscribe(e=>{null!=e.id&&""!=e.id&&(this.isclosemodel=!0,this.ChallanId=e.id)}),this.ChallanredirectOnCancel&&this.route.params.subscribe(e=>{null!=e.id&&""!=e.id?"add"==e.id.toLowerCase()?(this._sgId=e.id,this.resetForAdd()):(this.resetForAdd(),this.challanService.getById(e.id).subscribe(e=>{this.setEditData(e)},e=>{this.cancel(null)})):this.router.navigate(["/transactions/challan"])})}set ChallanId(e){this._ChallanId=e}get ChallanId(){return this._ChallanId}onPopState(e){this.isList||(this.isList=!this.isList),this.isInventorypopupopen?this.isInventorypopupopen=!this.isInventorypopupopen:this.issubtaskpopupopen?this.issubtaskpopupopen=!this.issubtaskpopupopen:this.istaskpopupopen?this.istaskpopupopen=!this.istaskpopupopen:this.isLedgerpopupopen&&(this.isLedgerpopupopen=!this.isLedgerpopupopen)}goback(e){0==this.ChallanredirectOnCancel&&this.ChallanredirectAction.emit(e),this.location.back()}ngOnInit(){this.ChallanredirectOnCancel&&setTimeout(()=>{this.filterService.changeFilter(!1,!1,"Challan (Add/Edit)")},200),setTimeout(()=>{null!=this.inputName&&this.inputName.nativeElement.focus()},500),this.SignupId=this.challanService.getSignupId,this.UserId=this.challanService.GetUserId,null!=this._taskModal&&(this._taskModal.onEsc=this.onModalEsc),null!=this._subtaskModal&&(this._subtaskModal.onEsc=this.onModalEsc),null!=this._inventoryModal&&(this._inventoryModal.onEsc=this.onModalEsc),null!=this._modalLedger&&(this._modalLedger.onEsc=this.onModalEsc),this.CompanyIdforReport>0&&(this.ledgerService.reportCompanyId=this.CompanyIdforReport,this.siteService.reportCompanyId=this.CompanyIdforReport,this.subtaskService.reportCompanyId=this.CompanyIdforReport,this.taskService.reportCompanyId=this.CompanyIdforReport,this.unitService.reportCompanyId=this.CompanyIdforReport,this.inventoryService.reportCompanyId=this.CompanyIdforReport),this.ledgerService.isGetSubscribe=!0,this.ledgerService.GetAlldataforChallan(!0),this.subscription=this.ledgerService.resultObs.subscribe(e=>{this.ChallanLedger=this.ledgerService.result.filter(e=>(1==e.IsBank||1==e.IsCash||1==e.IsSC||1==e.IsSD)&&0==e.IsGrp&&1==e.St),this.TaxLedgers=this.ledgerService.result.filter(e=>0==e.IsGrp&&2!=e.St&&1==e.isTL&&(1==e.IsTDSGst||3==e.IsTDSGst))}),this.siteService.isGetSubscribe=!0,0==this.siteService.result.length&&this.siteService.GetAllsitesforschallan(),this.Sitesubscription=this.siteService.resultObs.subscribe(e=>{}),this.subtaskService.isGetSubscribe=!0,0==this.subtaskService.result.length&&this.subtaskService.GetAlldata(),this.SubTsksubscription=this.subtaskService.resultObs.subscribe(e=>{}),this.taskService.isGetSubscribe=!0,0==this.taskService.result.length&&this.taskService.GetAlldata(),this.Tsksubscription=this.taskService.resultObs.subscribe(e=>{}),this.unitService.isGetSubscribe=!0,this.unitService.GetAllunitforchallan(),this.Untsubscription=this.unitService.resultObs.subscribe(e=>{}),this.inventoryService.isGetSubscribe=!0,0==this.inventoryService.result.length&&this.inventoryService.GetAlldata(),this.Invsubscription=this.inventoryService.resultObs.subscribe(e=>{}),null!=this.ChallanId&&null!=this.ChallanId&&(this._sgId=parseInt(this.ChallanId),this.getChallan(this.ChallanId)),this.httpfunction.IsMobileview()||(document.onkeydown=this.OnKeydown.bind(this))}OnKeydown(e){var t=e.key||e.keyCode;("Backspace"==t&&e.altKey||"Escape"==t)&&(setTimeout(()=>{document.scrollingElement.scrollTop=this.currentScrollPosition},150),this.cancel(null))}ngOnDestroy(){null!=this.subscription&&this.subscription.unsubscribe(),null!=this.Sitesubscription&&this.Sitesubscription.unsubscribe(),null!=this.SubTsksubscription&&this.SubTsksubscription.unsubscribe(),null!=this.Tsksubscription&&this.Tsksubscription.unsubscribe(),null!=this.Untsubscription&&this.Untsubscription.unsubscribe(),null!=this.Invsubscription&&this.Invsubscription.unsubscribe()}getChallan(e){0==this.ChallanredirectOnCancel&&("add"==this.ChallanId?this.resetForAdd():(this.resetForAdd(),this.challanService.getById(this.ChallanId).subscribe(e=>{this.setEditData(e)},e=>{this.cancel(null)})))}onModalEsc(e){e.stopPropagation(),e.preventDefault(),this.hide()}resetForAdd(){this.taskService.singleresult=null,this.subtaskService.singleresult=null,this.inventoryService.singleresult=null,this.siteService.singleresult=null,this.unitService.singleresult=null,this.ledgerService.singleresult=null,this.challanService.singleresult=new l.z_,this.challanService.singleresult.St=p.D.Active,this.challanService.singleresult.II=0,this.challanService.singleresult.TI=0,this.challanService.singleresult.LI=0,this.challanService.singleresult.UI=0,this.challanService.singleresult.USI=0,this.challanService.singleresult.SbTI=0,this.challanService.singleresult.StI=0,this.challanService.singleresult.MtD=new Date,this.challanService.singleresult.CI=this.CompanyIdforReport>0?this.CompanyIdforReport:this.challanService.getCompanyId,this.ledgerService.reportCompanyId=this.CompanyIdforReport,this.siteService.reportCompanyId=this.CompanyIdforReport,this.subtaskService.reportCompanyId=this.CompanyIdforReport,this.taskService.reportCompanyId=this.CompanyIdforReport,this.unitService.reportCompanyId=this.CompanyIdforReport,this.inventoryService.reportCompanyId=this.CompanyIdforReport}setEditData(e){this.challanService.singleresult=e,this.challanInventories.push(...this.challanService.singleresult.ChallanInv);for(let i of this.challanInventories)i.TaxId=i.GSTDetss.map(e=>e.TLId);this.challanService.singleresult.TI>0&&(this.taskService.singleresult=new a.C,this.taskService.singleresult.TN=this.challanService.singleresult.TNm,this.taskService.singleresult.UIDN=this.challanService.singleresult.TI),this.challanService.singleresult.SbTI>0&&(this.subtaskService.singleresult=new c.M,this.subtaskService.singleresult.SN=this.challanService.singleresult.SbTNm,this.subtaskService.singleresult.UIDN=this.challanService.singleresult.SbTI),this.inventoryService.singleresult=new d.F8,this.inventoryService.singleresult.InvN=this.challanService.singleresult.InvNm,this.inventoryService.singleresult.UIDN=this.challanService.singleresult.II,this.challanService.singleresult.StI>0&&(this.siteService.singleresult=new u.kJ,this.siteService.singleresult.SN=this.challanService.singleresult.StNm,this.siteService.singleresult.UIDN=this.challanService.singleresult.StI),this.challanService.singleresult.UI>0&&(this.unitService.singleresult=new h.n,this.unitService.singleresult.UN=this.challanService.singleresult.UntNm,this.unitService.singleresult.UIDN=this.challanService.singleresult.UI),this.ledgerService.singleresult=new g.dJ,this.ledgerService.singleresult.LN=this.challanService.singleresult.LdNm,this.ledgerService.singleresult.UIDN=this.challanService.singleresult.LI,this.taxLedger=[];for(let i=0;i<this.challanService.singleresult.GSTDets.length;i++){var t=this.ledgerService.result.filter(e=>e.UIDN==this.challanService.singleresult.GSTDets[i].TLId)[0];let e=this.taxLedger.concat(t||[]);this.taxLedger=e}}openLedgerPopup(e){return e.close(),this.addurl("transactions/ledgeradd/0/false"),this.isLedgerpopupopen=!0,!0}SelectTaxLedger(e){this.taxLedger=[];for(let i=0;i<e.GSTDets.length;i++){var t=this.ledgerService.result.filter(t=>t.UIDN==e.GSTDets[i].TLId)[0];let n=this.taxLedger.concat(t||[]);this.taxLedger=n}}challanLedgerAdded(e){this.isList=!0,this.resetUrl(),null!=e&&(this.ledgerService.result.unshift(e),this.ChallanLedger=this.ledgerService.result.filter(e=>(1==e.IsBank||1==e.IsCash||1==e.IsSC||1==e.IsSD)&&0==e.IsGrp&&1==e.St),this.ChallanLedger.filter(t=>t.UIDN==e.UIDN).length>0&&(this.ledgerService.singleresult=e)),this.isLedgerpopupopen=!1,this.isList=!0,this.resetUrl()}openTaskPopup(e){return e.close(),this.istaskpopupopen=!0,this.addurl("inventory/task/Add"),this.isList=!1,!0}challanTaskAdded(e){this.isList=!0,this.resetUrl(),null!=e&&(this.taskService.result=JSON.parse(JSON.stringify(this.taskService.result)),this.taskService.singleresult=e),this.istaskpopupopen=!1}opensubTaskPopup(e){return e.close(),this.issubtaskpopupopen=!0,this.addurl("inventory/subtask/Add"),this.isList=!1,!0}challanSubTaskAdded(e){this.isList=!0,this.resetUrl(),null!=e&&(this.subtaskService.result=JSON.parse(JSON.stringify(this.subtaskService.result)),this.subtaskService.singleresult=e),this.issubtaskpopupopen=!1}openInventoryPopup(e){return e.close(),this.isInventorypopupopen=!0,this.addurl("inventory/inventorylist/Add"),!0}challanInventoryAdded(e){this.isInventorypopupopen=!1,this.isList=!0,this.resetUrl(),null!=e&&(this.inventoryService.result=this.inventoryService.result.concat(e),this.inventoryService.singleresult=e)}cancel(e){setTimeout(()=>{this.filterService.changeFilter(!0,!0,"Challan List")},200),this.isclosemodel?this.location.back():0==this.ChallanredirectOnCancel&&(this.ChallanredirectAction.emit(e),this.cleardata())}CalculateAmt(){this.challanService.singleresult.TA=this.challanService.singleresult.UA*this.challanService.singleresult.Qty}onSubmitNew(){this.isSaveNew=!0,this.form.onSubmit()}onSubmit(){if(this.form.valid){if(null!=this.taskService.singleresult&&null!=this.taskService.singleresult?(this.challanService.singleresult.TI=this.taskService.singleresult.UIDN,this.challanService.singleresult.TNm=this.taskService.singleresult.TN):(this.challanService.singleresult.TI=0,this.challanService.singleresult.TNm=""),null!=this.subtaskService.singleresult&&null!=this.subtaskService.singleresult?(this.challanService.singleresult.SbTI=this.subtaskService.singleresult.UIDN,this.challanService.singleresult.SbTNm=this.subtaskService.singleresult.SN):(this.challanService.singleresult.SbTI=0,this.challanService.singleresult.SbTNm=""),null!=this.inventoryService.singleresult&&null!=this.inventoryService.singleresult?(this.challanService.singleresult.II=this.inventoryService.singleresult.UIDN,this.challanService.singleresult.InvNm=this.inventoryService.singleresult.InvN):(this.challanService.singleresult.II=0,this.challanService.singleresult.InvNm=""),null!=this.siteService.singleresult&&null!=this.siteService.singleresult?(this.challanService.singleresult.StI=this.siteService.singleresult.UIDN,this.challanService.singleresult.StNm=this.siteService.singleresult.SN):(this.challanService.singleresult.StI=0,this.challanService.singleresult.StNm=""),null!=this.unitService.singleresult&&null!=this.unitService.singleresult?(this.challanService.singleresult.UntNm=this.unitService.singleresult.UN,this.challanService.singleresult.UI=this.unitService.singleresult.UIDN):(this.challanService.singleresult.UntNm="",this.challanService.singleresult.UI=0),null!=this.ledgerService.singleresult&&null!=this.ledgerService.singleresult?(this.challanService.singleresult.LdNm=this.ledgerService.singleresult.LN,this.challanService.singleresult.LI=this.ledgerService.singleresult.UIDN):(this.challanService.singleresult.LdNm="",this.challanService.singleresult.LI=0),null!=this.taxLedger||this.taxLedger.length>0){this.challanService.singleresult.GSTDets=[];for(let e=0;e<this.taxLedger.length;e++){let t=new d.Rk;t.CId=0,t.AppFrom=null==this.taxLedger[e].AppFmDt&&null==this.taxLedger[e].AppFmDt?"2017/07/01":this.taxLedger[e].AppFmDt,t.Des="",t.HSNId=0,t.IsNonGSTGood=!1,t.CalType="On Value",t.Taxblty="Taxable",t.TR=null==this.taxLedger[e].TR?0:this.taxLedger[e].TR,t.CGST=null==this.taxLedger[e].CGST?0:this.taxLedger[e].CGST,t.SGST=null==this.taxLedger[e].SGST?0:this.taxLedger[e].SGST,t.IGST=null==this.taxLedger[e].IGST?0:this.taxLedger[e].IGST,t.CESS=null==this.taxLedger[e].CESS?0:this.taxLedger[e].CESS,t.TLId=this.taxLedger[e].UIDN,t.IsSlabRateCalculation=!1,this.challanService.singleresult.GSTDets.push(t)}}if(null!=this.challanInventories||this.challanInventories.length>0){this.challanService.singleresult.ChallanInv=[];for(let e=0;e<this.challanInventories.length;e++){let t=new l.Bl;t.UIDN=this.challanInventories[e].UIDN,t.InvId=this.challanInventories[e].InvId,t.UntId=this.challanInventories[e].UntId,t.InvQty=this.challanInventories[e].InvQty,t.InvRt=this.challanInventories[e].InvRt,t.TtlAmt=this.challanInventories[e].TtlAmt,t.InvLen=this.challanInventories[e].InvLen,t.InvWid=this.challanInventories[e].InvWid,t.InvHei=this.challanInventories[e].InvHei;for(let i=0;i<this.challanInventories[e].TaxId.length;i++){const n=this.challanInventories[e];let r=new d.Rk;r.AppFrom="2017/07/01",r.CalType="On Value",r.Taxblty="Taxable",r.TLId=n.TaxId[i],r.IId=this.challanInventories[e].InvId,t.GSTDetss.push(r)}this.challanService.singleresult.ChallanInv.push(t)}}null==this.challanService.singleresult.UIDN||0==this.challanService.singleresult.UIDN||null==this.challanService.singleresult.UIDN?this.challanService.add(this.challanService.singleresult).subscribe(e=>{if(this.isSaveNew){this.isSaveNew=!1;var t=new l.z_;t.CN=this.challanService.singleresult.CN,t.SrNo=this.challanService.singleresult.SrNo,t.MtD=this.challanService.singleresult.MtD,null!=this.taskService.singleresult&&(t.TNm=this.taskService.singleresult.TN),null!=this.subtaskService.singleresult&&(t.SbTNm=this.subtaskService.singleresult.SN),null!=this.inventoryService.singleresult&&(t.InvNm=this.inventoryService.singleresult.InvN),null!=this.siteService.singleresult&&(t.StNm=this.siteService.singleresult.SN),null!=this.unitService.singleresult&&(t.UntNm=this.unitService.singleresult.UN),null!=this.ledgerService.singleresult&&(t.LdNm=this.ledgerService.singleresult.LN),null!=this.taxLedger[0]&&(t.LdNmTx=this.taxLedger[0].LN),t.ln=this.challanService.singleresult.ln,t.Ht=this.challanService.singleresult.Ht,t.Wh=this.challanService.singleresult.Wh,t.UA=this.challanService.singleresult.UA,t.Qty=this.challanService.singleresult.Qty,t.TA=this.challanService.singleresult.TA,t.VN=this.challanService.singleresult.VN,t.Narr=this.challanService.singleresult.Narr;let e=this.tableChln.concat(t);this.tableChln=e,this.cleardataSaveNew()}else this.challanService.singleresult.UIDN=e.UIDN,this.cancel(this.challanService.singleresult)},e=>{}):this.challanService.edit(this.challanService.singleresult).subscribe(e=>{this.challanService.singleresult=e,this.cancel(this.challanService.singleresult)},e=>{})}}onChallandateSelect(e){this.challanService.singleresult.MtD=e}onImageAdd(e){this.challanService.singleresult.UpI=[];for(let t=0;t<e.length;t++){let i=new f.Q;i.Challans_PK_Id=e[t].Challans_PK_Id,i.PK_Id=e[t].PK_Id,i.name=e[t].name,i.operationType=e[t].operationType,i.ModifiedDate=new Date,i.CreatedDate=new Date,i.CreatedBy=this.challanService.userid,i.modifyBy=this.challanService.userid,i.CompanyId=this.challanService.getCompanyId,i.SignupId=this.challanService.getSignupId,i.FileLength=null==e[t].PK_Id?e[t].size:e[t].FileLength,i.src=e[t].src,this.challanService.singleresult.UpI.push(i)}}onCheckedChange(e){this.challanService.singleresult.St=e.object.checked}openLedgerPopupforedit(e){return this.ledgerIdVal=e.toString(),this.isLedgerpopupopen=!0,!0}cleardata(){this.siteService.singleresult=null,this.inventoryService.singleresult=null,this.taskService.singleresult=null,this.subtaskService.singleresult=null}cleardataSaveNew(){this.challanService.singleresult.ln=null,this.challanService.singleresult.Ht=null,this.challanService.singleresult.Wh=null,this.challanService.singleresult.UA=null,this.challanService.singleresult.Qty=null,this.challanService.singleresult.TA=null,this.challanService.singleresult.VN=null,this.challanService.singleresult.Narr=null,this.challanService.singleresult.UIDN=0}openInventoryPopupforedit(e){return this.InventoryIdVal=e.toString(),this.isInventorypopupopen=!0,!0}resetUrl(){this.isList=!0;let e=this.router.url;this.route.params.subscribe(t=>{this.isList||null!=t.id&&""!=t.id&&(e=e.replace("/"+t.id,"")),this.location.go(e)})}addurl(e){let t=e,i=this.router.url;i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0),this.route.params.subscribe(e=>{null!=e.id&&""!=e.id&&(i=i.replace("/"+e.id,"")),this.location.go(`${i}/${t}`)}),"inventory/subtask/Add"==e&&(i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0)),"inventory/task/Add"==e&&(i=i.substring(0,i.lastIndexOf("/")+0),i=i.substring(0,i.lastIndexOf("/")+0))}deleteItem(e){this.challanInventories.splice(e,1)}addInventoryItem(e){if(this.challanInventoriesFields.GSTDetss=[],null!==this.taxLedgerOfInv)for(let t=0;t<this.taxLedgerOfInv.length;t++)this.challanInventoriesFields.TaxId.push(this.taxLedgerOfInv[t].UIDN);this.challanInventories.push(this.challanInventoriesFields),this.challanInventoriesFields=new l.Bl,setTimeout(()=>{this.CustFields.reset()},100)}calculateTotalAmount(){this.challanInventoriesFields.TtlAmt=isNaN(this.challanInventoriesFields.InvQty)||isNaN(this.challanInventoriesFields.InvRt)?null:this.challanInventoriesFields.InvQty*this.challanInventoriesFields.InvRt}calculateTotalAmounts(e){e.TtlAmt=isNaN(e.InvQty)||isNaN(e.InvRt)?null:e.InvQty*e.InvRt}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.e),n.Y36(T.i),n.Y36(r._),n.Y36(v.P),n.Y36(I.De),n.Y36(o.Q),n.Y36(Z.V),n.Y36(A.M),n.Y36(x.I),n.Y36(S.gz),n.Y36(D.Ye),n.Y36(S.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-challan-addedit"]],viewQuery:function(e,t){if(1&e&&(n.Gf(J,5),n.Gf(k,7),n.Gf(P,5,n.SBq),n.Gf(O,5),n.Gf(Q,5),n.Gf(F,5),n.Gf(E,5)),2&e){let e;n.iGM(e=n.CRH())&&(t.form=e.first),n.iGM(e=n.CRH())&&(t.CustFields=e.first),n.iGM(e=n.CRH())&&(t.inputName=e.first),n.iGM(e=n.CRH())&&(t._modalLedger=e.first),n.iGM(e=n.CRH())&&(t._taskModal=e.first),n.iGM(e=n.CRH())&&(t._subtaskModal=e.first),n.iGM(e=n.CRH())&&(t._inventoryModal=e.first)}},hostBindings:function(e,t){1&e&&n.NdJ("popstate",function(e){return t.onPopState(e)},!1,n.Jf7)},inputs:{ChallanredirectOnCancel:"ChallanredirectOnCancel",CompanyIdforReport:"CompanyIdforReport",ChallanId:"ChallanId"},outputs:{ChallanredirectAction:"ChallanredirectAction"},features:[n._Bn([o.Q,s.e,r._])],decls:174,vars:102,consts:[[1,"nopadding"],[1,"card",3,"hidden"],["class","customsearch",4,"ngIf"],["class","customsearchM",4,"ngIf"],[1,"mt-2","mb-5"],["name","form","novalidate","",3,"ScrollToInvalid","ngSubmit"],["f","ngForm"],["id","formContainer",1,"row"],[1,"md-form","form-group","col-sm-6","col-md-3"],["for","ChallanNo"],[1,"ml-1","text-danger","font-weight-bold","h5"],["autofocus","","type","text","pattern","[0-9]*","required","","placeholder","Enter Challan No","name","ChallanNo","id","ChallanNo",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["ChallanNo","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","ChallanSrNo"],["autofocus","","type","text","pattern","[0-9]*","placeholder","Enter Challan Sr No","name","ChallanSrNo","id","ChallanSrNo",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["ChallanSrNo","ngModel"],["for","vdate"],["type","text","appDatepicker","","autocomplete","off","required","","name","vdate","id","vdate",1,"form-control",3,"ngClass","startDate","selected"],["vdate",""],["for","Taskselect"],["name","Taskselect","bindLabel","TN","placeholder","Select Task",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["Task",""],["ng-header-tmp",""],["for","SubTask"],["name","SubTask","bindLabel","SN","placeholder","Select Sub Task",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["Stask",""],["class","md-form form-group col-sm-6 col-md-3",4,"ngIf"],["for","Site"],["name","Site","bindLabel","SN","placeholder","Select Site",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["for","Ledger"],["required","","name","Ledger","selectOnTab","true","bindLabel","LN","placeholder","Select Ledger",3,"virtualScroll","ngClass","items","ngModel","loading","ngModelChange"],["Ledger","ngModel","led",""],["ng-label-tmp",""],["ng-option-tmp",""],["for","VehicleNo"],["type","text","placeholder","Enter Vehicle No","name","VehicleNo","id","VehicleNo",1,"form-control",3,"ngModel","ngModelChange"],["VehicleNo","ngModel"],["for","Narration"],["placeholder","Enter Narration","name","Narration","id","Narration",1,"md-textarea","form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-sm-12","col-md-12"],["name","formPaymentSetting","novalidate","",1,"ng-untouched","ng-pristine","ng-invalid",2,"margin-left","0px",3,"ngSubmit"],["CpF","ngForm"],[1,"input-group","row","m-2"],[1,"md-form","col-md-2","col-sm-4",2,"border","1px solid #ccc"],["for","InvItm",1,"mr-2"],["name","Inventoryss","required","","bindLabel","InvN","bindValue","UIDN","placeholder","Select Inventory",3,"virtualScroll","items","ngClass","ngModel","loading","scrollToEnd","ngModelChange"],["Invss","","Inventoryss","ngModel"],["for","InvUnt",1,"mr-2"],["name","InvUnt","bindLabel","UN","bindValue","UIDN","placeholder","Select Unit",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["InvUnt","ngModel"],["selectOnTab","true","name","TaxGroups","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",3,"multiple","items","ngModel","loading","ngClass","virtualScroll","ngModelChange"],["taxled","","TaxGroups","ngModel"],[1,"md-form","col-md-1","col-sm-4",2,"border","1px solid #ccc"],["for","InvQty",1,"mr-2","small"],["type","number","placeholder","Enter Quantity","name","InvQty","id","InvQty",1,"form-control","border",3,"ngClass","ngModel","change","ngModelChange"],["InvQty","ngModel"],["for","InvRt",1,"mr-2","small"],["type","number","placeholder","Enter Rate","name","InvRt","id","InvRt",1,"form-control","border",3,"ngClass","ngModel","change","ngModelChange"],["InvRt","ngModel"],["for","InvAmt",1,"mr-2","small"],["type","number","placeholder","Enter TtlAmt","name","InvAmt","id","InvAmt",1,"form-control","border",3,"ngClass","ngModel","ngModelChange"],["InvAmt","ngModel"],["type","number","placeholder","Enter Length","name","InvLen","id","InvLen",1,"form-control","border",3,"ngClass","ngModel","ngModelChange"],["InvLen","ngModel"],["type","number","placeholder","Enter Width","name","InvWid","id","InvWid",1,"form-control","border",3,"ngClass","ngModel","ngModelChange"],["InvWid","ngModel"],["type","number","placeholder","Enter Height","name","InvHei","id","InvHei",1,"form-control","border",3,"ngClass","ngModel","ngModelChange"],["InvHei","ngModel"],[1,"md-form","col"],["type","submit",1,"btn","btn-primary","font-weight-bold","mt-4"],[1,"col-sm-12","col-md-12","table-responsive","p-2"],[1,"table","table-bordered","col-sm-12","col-md-12"],["colspan","10"],["scope","col",1,"text-left"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"form-group","col-md-6","col-sm-12"],["for","CompanyLogo"],[1,"input-group"],["maxFiles","2","maxSize","5","fileExt","JPG, GIF, PNG, PDF, JPEG",3,"filelist","uploadStatus"],["fileUpload",""],["class","col-sm-12 text-right","id","formbtnContainer",4,"ngIf"],[3,"redirectOnCancel","CompanyIdforReport","inputLedgerId","redirectAction",4,"ngIf"],[3,"redirectOnCancelonTask","CompanyIdforReport","redirectActiononTask",4,"ngIf"],[3,"redirectOnCancelonsubTask","CompanyIdforReport","redirectActiononsubTask",4,"ngIf"],[3,"redirectOnCancelonInventory","CompanyIdforReport","InputInventoryId","redirectActiononInventory",4,"ngIf"],[1,"customsearch"],[1,"c-header-nav"],[1,"mx-2","mb-3"],[1,"c-header-back",3,"click"],[1,"c-icon","c-icon-lg","cil-arrow-left"],[1,"text-center","mb-3","LeftLi"],[1,"customsearchM"],[1,"mr-1","mb-2","ml-2"],["name","chevron-back",3,"click"],[1,"mb-3","mt-1","LeftLi","text-center"],[1,"text-center","mb-2","float-right"],[1,"btn","btn-link",3,"click"],[4,"ngIf"],[1,"invalid-feedback"],[3,"hidden"],[1,"form-text","text-muted"],["href","javascript:void(0);",1,"addLeg",3,"click"],["for","Inventory"],["name","Inventory","bindLabel","InvN","placeholder","Select Inventory",3,"virtualScroll","items","ngClass","ngModel","loading","scrollToEnd","change","ngModelChange"],["Inv","","Inventory","ngModel"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Inv","placement","bottom",1,"pl-1",3,"appRole","SignupId","UserId","click"],[1,"fas","fa-pen","text-primary"],["for","Unit"],["name","Unit","bindLabel","UN","placeholder","Select Unit",3,"virtualScroll","items","ngModel","loading","scrollToEnd","ngModelChange"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Led","placement","bottom",1,"pl-1",3,"appRole","SignupId","UserId","click"],["for","TaxGroup"],["selectOnTab","true","name","TaxGroup","dropdownPosition","bottom","bindLabel","LN","placeholder","Select Tax Account",3,"multiple","items","ngModel","loading","ngClass","virtualScroll","ngModelChange"],["taxled","","TaxGroup","ngModel"],["for","length"],["type","number","maxlength","10","placeholder","Enter length","name","length","id","length",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["length","ngModel"],["for","Height"],["type","number","maxlength","10","placeholder","Enter Height","name","Height","id","Height",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Height","ngModel"],["for","Width"],["type","number","maxlength","10","placeholder","Enter width","name","Width","id","Width",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["Width","ngModel"],["for","Rate"],["type","number","pattern","^[0-9]\\d*(\\.\\d+)?$","maxlength","10","placeholder","Enter Rate / Unit","name","Rate","id","Rate",1,"form-control",3,"ngClass","ngModel","change","ngModelChange"],["Rate","ngModel"],["for","Quantity"],["type","number","pattern","^[0-9]\\d*(\\.\\d+)?$","maxlength","10","placeholder","Enter Quantity","name","Quantity","id","Quantity",1,"form-control",3,"ngClass","ngModel","change","ngModelChange"],["Quantity","ngModel"],["for","TotAmount"],["type","number","pattern","^[0-9]\\d*(\\.\\d+)?$","placeholder","Enter Total Amount","maxlength","10","name","TotAmount","id","TotAmount",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["TotAmount","ngModel"],["href","javascript:void(0)","title","Edit","accesslevel","Edit","mname","Invs","placement","bottom",1,"pl-1",3,"appRole","SignupId","UserId","click"],[1,"md-form"],["required","","bindLabel","InvN","bindValue","UIDN","placeholder","Select Inventory",3,"virtualScroll","items","name","id","ngClass","ngModel","loading","scrollToEnd","ngModelChange"],["Invs","","Inventorys","ngModel"],["bindLabel","UN","bindValue","UIDN","placeholder","Select Unit",3,"virtualScroll","items","name","id","ngModel","loading","scrollToEnd","ngModelChange"],["InvUnts","ngModel"],["selectOnTab","true","dropdownPosition","bottom","bindLabel","LN","bindValue","UIDN","placeholder","Select Tax Account",3,"multiple","items","name","id","ngModel","loading","ngClass","virtualScroll","ngModelChange"],["taxled","","TaxGroupsss","ngModel"],["type","text",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange","input"],["VClnInQty","ngModel"],["VClnInRt","ngModel"],["type","text",1,"form-control",3,"ngClass","ngModel","name","id","ngModelChange"],["VClnInAmt","ngModel"],["VClnInLen","ngModel"],["VClnInWid","ngModel"],["VClnInHei","ngModel"],["scope","row",1,"text-center",2,"background","white"],["href","javascript:void(0)","title","Delete Item","placement","bottom",2,"text-decoration","none",3,"click"],[1,"fas","fa-trash","text-danger","mr-1"],["id","formbtnContainer",1,"col-sm-12","text-right"],["type","submit",1,"btn","btn-primary","mr-2",3,"disabled"],["href","javascript:void(0)",1,"btn","btn-dark",3,"click"],[3,"redirectOnCancel","CompanyIdforReport","inputLedgerId","redirectAction"],[3,"redirectOnCancelonTask","CompanyIdforReport","redirectActiononTask"],[3,"redirectOnCancelonsubTask","CompanyIdforReport","redirectActiononsubTask"],[3,"redirectOnCancelonInventory","CompanyIdforReport","InputInventoryId","redirectActiononInventory"]],template:function(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.YNc(2,Y,10,0,"div",2),n.YNc(3,B,13,2,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"form",5,6),n.NdJ("ngSubmit",function(){return n.CHM(e),n.MAs(6).form.valid&&t.onSubmit()}),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"label",9),n._uU(10,"Challan No."),n.TgZ(11,"span",10),n._uU(12,"*"),n.qZA(),n.qZA(),n.TgZ(13,"input",11,12),n.NdJ("ngModelChange",function(e){return t.challanService.singleresult.CN=e}),n.qZA(),n.YNc(15,j,4,2,"div",13),n.qZA(),n.TgZ(16,"div",8),n.TgZ(17,"label",14),n._uU(18,"Challan Sr. No."),n.qZA(),n.TgZ(19,"input",15,16),n.NdJ("ngModelChange",function(e){return t.challanService.singleresult.SrNo=e}),n.qZA(),n.YNc(21,z,4,2,"div",13),n.qZA(),n.TgZ(22,"div",8),n.TgZ(23,"label",17),n._uU(24,"Challan Date"),n.qZA(),n.TgZ(25,"input",18,19),n.NdJ("selected",function(e){return t.onChallandateSelect(e)}),n.qZA(),n.YNc(27,X,2,1,"div",13),n.qZA(),n.TgZ(28,"div",8),n.TgZ(29,"label",20),n._uU(30,"Task"),n.qZA(),n.TgZ(31,"ng-select",21,22),n.NdJ("scrollToEnd",function(){return t.taskService.ScrollDown()})("ngModelChange",function(e){return t.taskService.singleresult=e}),n.YNc(33,ee,3,0,"ng-template",23),n.qZA(),n.qZA(),n.TgZ(34,"div",8),n.TgZ(35,"label",24),n._uU(36,"Sub Task"),n.qZA(),n.TgZ(37,"ng-select",25,26),n.NdJ("scrollToEnd",function(){return t.subtaskService.ScrollDown()})("ngModelChange",function(e){return t.subtaskService.singleresult=e}),n.YNc(39,te,3,0,"ng-template",23),n.qZA(),n.qZA(),n.YNc(40,ae,10,8,"div",27),n.TgZ(41,"div",8),n.TgZ(42,"label",28),n._uU(43,"Site"),n.qZA(),n.TgZ(44,"ng-select",29),n.NdJ("scrollToEnd",function(){return t.siteService.ScrollDown()})("ngModelChange",function(e){return t.siteService.singleresult=e}),n.YNc(45,ce,2,2,"ng-template",23),n.qZA(),n.qZA(),n.YNc(46,ue,5,4,"div",27),n.TgZ(47,"div",8),n.TgZ(48,"label",30),n._uU(49,"Ledger"),n.TgZ(50,"span",10),n._uU(51,"*"),n.qZA(),n.qZA(),n.TgZ(52,"ng-select",31,32),n.NdJ("ngModelChange",function(e){return t.ledgerService.singleresult=e}),n.YNc(55,he,3,0,"ng-template",23),n.YNc(56,ge,1,1,"ng-template",33),n.YNc(57,pe,4,3,"ng-template",34),n.qZA(),n.YNc(58,me,2,1,"div",13),n.qZA(),n.YNc(59,Te,6,8,"div",27),n.YNc(60,Ie,6,5,"div",27),n.YNc(61,Ae,6,5,"div",27),n.YNc(62,Se,6,5,"div",27),n.YNc(63,be,6,5,"div",27),n.YNc(64,Me,6,5,"div",27),n.YNc(65,Le,6,5,"div",27),n.TgZ(66,"div",8),n.TgZ(67,"label",35),n._uU(68,"Vehicle No"),n.qZA(),n.TgZ(69,"input",36,37),n.NdJ("ngModelChange",function(e){return t.challanService.singleresult.VN=e}),n.qZA(),n.YNc(71,_e,2,1,"div",13),n.qZA(),n.TgZ(72,"div",8),n.TgZ(73,"label",38),n._uU(74,"Narration"),n.qZA(),n.TgZ(75,"textarea",39),n.NdJ("ngModelChange",function(e){return t.challanService.singleresult.Narr=e}),n.qZA(),n.qZA(),n.TgZ(76,"div",40),n.TgZ(77,"form",41,42),n.NdJ("ngSubmit",function(i){return n.CHM(e),n.MAs(78).form.valid&&t.addInventoryItem(i)}),n.TgZ(79,"div",43),n.TgZ(80,"div",44),n.TgZ(81,"label",45),n._uU(82,"Select Item:"),n.qZA(),n.TgZ(83,"ng-select",46,47),n.NdJ("scrollToEnd",function(){return t.inventoryService.ScrollDown()})("ngModelChange",function(e){return t.challanInventoriesFields.InvId=e}),n.YNc(86,Ue,3,0,"ng-template",23),n.YNc(87,Re,1,1,"ng-template",33),n.YNc(88,Je,4,3,"ng-template",34),n.qZA(),n.qZA(),n.TgZ(89,"div",44),n.TgZ(90,"label",48),n._uU(91,"Select Unit:"),n.qZA(),n.TgZ(92,"ng-select",49,50),n.NdJ("scrollToEnd",function(){return t.unitService.ScrollDown()})("ngModelChange",function(e){return t.challanInventoriesFields.UntId=e}),n.YNc(94,ke,2,2,"ng-template",23),n.qZA(),n.qZA(),n.TgZ(95,"div",44),n.TgZ(96,"label",45),n._uU(97,"Select Tax:"),n.qZA(),n.TgZ(98,"ng-select",51,52),n.NdJ("ngModelChange",function(e){return t.taxLedgerOfInv=e}),n.qZA(),n.qZA(),n.TgZ(101,"div",53),n.TgZ(102,"label",54),n._uU(103,"Enter Quantity:"),n.qZA(),n.TgZ(104,"input",55,56),n.NdJ("change",function(){return t.calculateTotalAmount()})("ngModelChange",function(e){return t.challanInventoriesFields.InvQty=e}),n.qZA(),n.qZA(),n.TgZ(106,"div",53),n.TgZ(107,"label",57),n._uU(108,"Enter Rate:"),n.qZA(),n.TgZ(109,"input",58,59),n.NdJ("change",function(){return t.calculateTotalAmount()})("ngModelChange",function(e){return t.challanInventoriesFields.InvRt=e}),n.qZA(),n.qZA(),n.TgZ(111,"div",53),n.TgZ(112,"label",60),n._uU(113,"Enter Amount:"),n.qZA(),n.TgZ(114,"input",61,62),n.NdJ("ngModelChange",function(e){return t.challanInventoriesFields.TtlAmt=e}),n.qZA(),n.qZA(),n.TgZ(116,"div",53),n.TgZ(117,"label",60),n._uU(118,"Enter Length:"),n.qZA(),n.TgZ(119,"input",63,64),n.NdJ("ngModelChange",function(e){return t.challanInventoriesFields.InvLen=e}),n.qZA(),n.qZA(),n.TgZ(121,"div",53),n.TgZ(122,"label",60),n._uU(123,"Enter Width:"),n.qZA(),n.TgZ(124,"input",65,66),n.NdJ("ngModelChange",function(e){return t.challanInventoriesFields.InvWid=e}),n.qZA(),n.qZA(),n.TgZ(126,"div",53),n.TgZ(127,"label",60),n._uU(128,"Enter Height:"),n.qZA(),n.TgZ(129,"input",67,68),n.NdJ("ngModelChange",function(e){return t.challanInventoriesFields.InvHei=e}),n.qZA(),n.qZA(),n.TgZ(131,"div",69),n.TgZ(132,"button",70),n._uU(133," Add More Inventory "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(134,"div",71),n.TgZ(135,"table",72),n.TgZ(136,"thead"),n.TgZ(137,"tr"),n.TgZ(138,"th",73),n._uU(139," INVENTORY LIST "),n.qZA(),n.qZA(),n.TgZ(140,"tr"),n.TgZ(141,"th",74),n._uU(142,"Select Item"),n.qZA(),n.TgZ(143,"th",74),n._uU(144,"Select Unit"),n.qZA(),n.TgZ(145,"th",74),n._uU(146,"Select Tax Ledger"),n.qZA(),n.TgZ(147,"th",75),n._uU(148,"Actual QTY"),n.qZA(),n.TgZ(149,"th",75),n._uU(150,"Rate"),n.qZA(),n.TgZ(151,"th",74),n._uU(152," Amount "),n.qZA(),n.TgZ(153,"th",74),n._uU(154," Length "),n.qZA(),n.TgZ(155,"th",74),n._uU(156," Width "),n.qZA(),n.TgZ(157,"th",74),n._uU(158," Height "),n.qZA(),n.TgZ(159,"th",74),n._uU(160,"Action"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(161,"tbody"),n.YNc(162,Ee,44,61,"tr",76),n.qZA(),n.qZA(),n.qZA(),n.TgZ(163,"div",77),n.TgZ(164,"strong",78),n._uU(165,"Image"),n.qZA(),n.TgZ(166,"div",79),n.TgZ(167,"app-file-upload",80,81),n.NdJ("uploadStatus",function(e){return t.onImageAdd(e)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(169,He,6,3,"div",82),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(170,Be,1,3,"app-companyledger-addedit",83),n.YNc(171,$e,1,2,"app-task-addedit",84),n.YNc(172,je,1,2,"app-sub-task-addedit",85),n.YNc(173,Ke,1,3,"app-inventory-addedit",86)}if(2&e){const e=n.MAs(6),i=n.MAs(14),r=n.MAs(20),o=n.MAs(26),s=n.MAs(53),l=n.MAs(70),a=n.MAs(78),c=n.MAs(85),d=n.MAs(100),u=n.MAs(105),h=n.MAs(110),g=n.MAs(115);n.xp6(1),n.Udp("display",t.isInventorypopupopen||t.issubtaskpopupopen||t.istaskpopupopen||t.isLedgerpopupopen?"none":"block"),n.Q6J("hidden",!t.isList),n.xp6(1),n.Q6J("ngIf",!t.challanService.IsMobileview),n.xp6(1),n.Q6J("ngIf",t.challanService.IsMobileview),n.xp6(10),n.Q6J("ngClass",n.VKq(78,le,e.submitted&&i.invalid))("ngModel",t.challanService.singleresult.CN),n.xp6(2),n.Q6J("ngIf",e.submitted&&i.invalid),n.xp6(4),n.Q6J("ngClass",n.VKq(80,le,e.submitted&&r.invalid))("ngModel",t.challanService.singleresult.SrNo),n.xp6(2),n.Q6J("ngIf",e.submitted&&r.invalid),n.xp6(4),n.Q6J("ngClass",n.VKq(82,le,e.submitted&&o.invalid))("startDate",t.challanService.singleresult.MtD),n.xp6(2),n.Q6J("ngIf",e.submitted&&o.invalid),n.xp6(4),n.Q6J("virtualScroll",!0)("items",t.taskService.result)("ngModel",t.taskService.singleresult)("loading",t.taskService.loading),n.xp6(6),n.Q6J("virtualScroll",!0)("items",t.subtaskService.result)("ngModel",t.subtaskService.singleresult)("loading",t.subtaskService.loading),n.xp6(3),n.Q6J("ngIf",t.challanService.singleresult.LI>0),n.xp6(4),n.Q6J("virtualScroll",!0)("items",t.siteService.result)("ngModel",t.siteService.singleresult)("loading",t.siteService.loading),n.xp6(2),n.Q6J("ngIf",t.challanService.singleresult.UI>0),n.xp6(6),n.Q6J("virtualScroll",!0)("ngClass",n.VKq(84,le,e.submitted&&s.invalid))("items",t.ChallanLedger)("ngModel",t.ledgerService.singleresult)("loading",t.ledgerService.loading),n.xp6(6),n.Q6J("ngIf",e.submitted&&s.invalid),n.xp6(1),n.Q6J("ngIf",t.taxLedger.length>0),n.xp6(1),n.Q6J("ngIf",t.challanService.singleresult.ln>0),n.xp6(1),n.Q6J("ngIf",t.challanService.singleresult.Ht>0),n.xp6(1),n.Q6J("ngIf",t.challanService.singleresult.Wh>0),n.xp6(1),n.Q6J("ngIf",t.challanService.singleresult.UA>0),n.xp6(1),n.Q6J("ngIf",t.challanService.singleresult.Qty>0),n.xp6(1),n.Q6J("ngIf",t.challanService.singleresult.TA>0),n.xp6(4),n.Q6J("ngModel",t.challanService.singleresult.VN),n.xp6(2),n.Q6J("ngIf",e.submitted&&l.invalid),n.xp6(4),n.Q6J("ngModel",t.challanService.singleresult.Narr),n.xp6(8),n.Q6J("virtualScroll",!0)("items",t.inventoryService.result)("ngClass",n.VKq(86,le,a.submitted&&c.invalid))("ngModel",t.challanInventoriesFields.InvId)("loading",t.inventoryService.loading),n.xp6(9),n.Q6J("virtualScroll",!0)("items",t.unitService.result)("ngModel",t.challanInventoriesFields.UntId)("loading",t.unitService.loading),n.xp6(6),n.Q6J("multiple",!0)("items",t.TaxLedgers)("ngModel",t.taxLedgerOfInv)("loading",t.ledgerService.loading)("ngClass",n.VKq(88,le,e.submitted&&d.invalid))("virtualScroll",!0),n.xp6(6),n.Q6J("ngClass",n.VKq(90,le,a.submitted&&u.invalid))("ngModel",t.challanInventoriesFields.InvQty),n.xp6(5),n.Q6J("ngClass",n.VKq(92,le,a.submitted&&h.invalid))("ngModel",t.challanInventoriesFields.InvRt),n.xp6(5),n.Q6J("ngClass",n.VKq(94,le,a.submitted&&g.invalid))("ngModel",t.challanInventoriesFields.TtlAmt),n.xp6(5),n.Q6J("ngClass",n.VKq(96,le,a.submitted&&g.invalid))("ngModel",t.challanInventoriesFields.InvLen),n.xp6(5),n.Q6J("ngClass",n.VKq(98,le,a.submitted&&g.invalid))("ngModel",t.challanInventoriesFields.InvWid),n.xp6(5),n.Q6J("ngClass",n.VKq(100,le,a.submitted&&g.invalid))("ngModel",t.challanInventoriesFields.InvHei),n.xp6(33),n.Q6J("ngForOf",t.challanInventories),n.xp6(5),n.Q6J("filelist",t.challanService.singleresult.UpI),n.xp6(2),n.Q6J("ngIf",!t.challanService.isMobile),n.xp6(1),n.Q6J("ngIf",t.isLedgerpopupopen),n.xp6(1),n.Q6J("ngIf",t.istaskpopupopen),n.xp6(1),n.Q6J("ngIf",t.issubtaskpopupopen),n.xp6(1),n.Q6J("ngIf",t.isInventorypopupopen)}},directives:[D.O5,C._Y,C.JL,C.F,b.u,C.Fj,C.c5,C.Q7,D.mk,C.JJ,C.On,y.x,N.q,M.w9,M.A3,M.bb,M.Z2,C.wV,D.sg,w.Y,q.gu,L.g,C.nD,V.k,_.n,U.A,R.q],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:0}"]}),e})()},42005:function(e,t,i){i.d(t,{e:function(){return d}});var n=i(32364),r=i(78446),o=i(33018),s=i(91841),l=i(89401),a=i(86845),c=i(44667);let d=(()=>{class e extends r.a{constructor(e,t,i,n,r){super(e,t,i,n,r),this._config=t,this.router=r}GetAlldata(){super.GetAlldata(n.fO.Challan_GetAll)}GetAllLedgerChallans(){super.GetAlldata(n.fO.Challan_GetAllOutStanding)}getById(e){return super.getById(e,n.fO.Challan_GetById)}edit(e){return this.showMessage=!0,super.edit(e,n.fO.Challan_Update)}add(e){return this.showMessage=!0,super.add(e,n.fO.Challan_Add)}delete(e){this.showMessage=!0,super.delete(e,n.fO.Challan_Delete)}buldupdate(e){return this.showMessage=!1,this.changeInquirySite(0,e,"",n.fO.Challan_BulkUpdate)}ImportExcel(e){return super.genericPost(e,n.fO.Challan_ImportBySheet)}ImportDatafromGrid(e){return super.changeInquirySite(0,e,"",n.fO.Challan_ImportDatafromGrid)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.eN),o.LFG(n.De),o.LFG(l.Rq),o.LFG(a.D),o.LFG(c.F0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);